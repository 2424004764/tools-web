name = "tool-web"
# type = "typescript"  # 或者 "typescript" 根据你使用的语言类型

# D1 数据库配置 仅用以本地调试，线上走pages绑定的db
[[d1_databases]]
binding = "DB"
database_name = "yifang-tool"
database_id = "afdabfae-6edd-4def-8e77-6a1171009b9c"

# d1数据库需要在pages的设置->绑定->D1数据库（变量名称为DB，数据库为创建的d1数据库）

# 本地调试指定线上数据库 wrangler pages dev --local --d1 yifang-tool:afdabfae-6edd-4def-8e77-6a1171009b9c
# 本地调试的话  也需要在本地建表：
#  notes表： wrangler d1 execute yifang-tool --command="CREATE TABLE notes (id TEXT PRIMARY KEY,uid TEXT NOT NULL,title TEXT NOT NULL,content TEXT NOT NULL,create_time DATETIME DEFAULT CURRENT_TIMESTAMP,update_time DATETIME DEFAULT CURRENT_TIMESTAMP);"
#  user表：wrangler d1 execute yifang-tool --command="CREATE TABLE [user] ("id" text PRIMARY KEY,"email" text,"avatar" text,"reg_type" integer,"created_at" text,"last_login" text, "google_sub" TEXT)"

# 使用该命令查看本地有哪些表：wrangler d1 execute yifang-tool --command="SELECT name FROM sqlite_master WHERE type='table';"

# 本地拉取调试：wrangler pages dev .
# 本地调试设置环境变量：
[vars]
JWT_SECRET = "6197upXX81DUXMF9I8f@IqVOi3NEYYR@FBTDmyMf1mY5A4ExMiiTz2!hr%5tpPZfXE^d^"