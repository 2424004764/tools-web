import{D as h}from"./DetailHeader-99103144.js";import{J as k}from"./time-bfbe2dc8.js";import{a as V,g as C}from"./file-9a076f23.js";import{d as D,k as E,u as W,I as z,r,b as c,c as b,h as o,f as t,w as n,i as a,t as f,j as u,D as N,E as S,_ as T}from"./index-a687831e.js";function U(d){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,})","i").test(d)}const j={class:"flex flex-col mt-3 flex-1"},B={class:"p-4 rounded-2xl bg-white"},J={class:"mt-3"},P={class:"mt-3 flex"},R={key:0,class:"ml-2 flex items-center"},F={class:"mt-3 flex"},H={class:"mt-3 flex"},L={class:"mt-3 flex"},M=D({__name:"WebInfo",setup(d){const m=E({title:"网站favicon获取"}),s=W(),l=z(),v=async()=>{try{if(U(l.value)){!l.value.includes("http://")&&!l.value.includes("https://")&&(l.value="http://"+l.value);const _=new URL(l.value);l.value=_.hostname,await s.getWebInfo({link:l.value})}else S({message:"无效的域名或地址",type:"error",duration:1500})}catch(_){console.error("Error fetching site info:",_)}},g=()=>{V(s.webInfo.logo,k()+"."+C(s.webInfo.logo))};return(_,e)=>{const p=r("el-button"),x=r("el-input"),i=r("el-text"),w=r("el-link"),I=r("el-image");return c(),b("div",j,[o(h,{title:m.title},null,8,["title"]),t("div",B,[t("div",null,[o(x,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=y=>l.value=y),style:{"max-width":"600px"},placeholder:"请输入域名或地址",class:"input-with-select",size:"large"},{append:n(()=>[o(p,{type:"primary",onClick:v},{default:n(()=>e[1]||(e[1]=[a("获取",-1)])),_:1,__:[1]})]),_:1},8,["modelValue"])]),t("div",null,[t("ul",null,[t("li",J,[o(i,null,{default:n(()=>e[2]||(e[2]=[t("b",null,"域名: ",-1)])),_:1,__:[2]}),o(w,{href:"https://"+l.value,type:"primary",target:"_blank"},{default:n(()=>[a(f(l.value),1)]),_:1},8,["href"])]),t("li",P,[o(i,null,{default:n(()=>e[3]||(e[3]=[t("b",null,"logo: ",-1)])),_:1,__:[3]}),u(s).webInfo.logo?(c(),b("div",R,[o(I,{src:u(s).webInfo.logo,class:"h-12"},null,8,["src"]),o(p,{class:"ml-3",link:"",type:"primary",onClick:g},{default:n(()=>e[4]||(e[4]=[a("下载",-1)])),_:1,__:[4]})])):N("",!0)]),t("li",F,[o(i,null,{default:n(()=>[e[5]||(e[5]=t("b",null,"标题: ",-1)),a(f(u(s).webInfo.title),1)]),_:1,__:[5]})]),t("li",H,[o(i,null,{default:n(()=>[e[6]||(e[6]=t("b",null,"关键词: ",-1)),a(" "+f(u(s).webInfo.keywords),1)]),_:1,__:[6]})]),t("li",L,[o(i,null,{default:n(()=>[e[7]||(e[7]=t("b",null,"描述: ",-1)),a(" "+f(u(s).webInfo.desc),1)]),_:1,__:[7]})])])])])])}}}),K=T(M,[["__file","D:/dev/nodejs/tools-web/src/components/Tools/WebInfo/WebInfo.vue"]]);export{K as default};
