import{_ as V}from"./DetailHeader.vue_vue_type_script_setup_true_lang-fdf67203.js";import{_ as b}from"./ToolDetail.vue_vue_type_script_setup_true_lang-1b5d4adc.js";import{d as C,r as s,Q as B,f as x,g as n,h,k as p,_ as z,z as j,m as u,j as i,F as N,i as P,K as E,l as _,p as v}from"./index-9a231041.js";const T=C({__name:"DiceCore",emits:["throwEnd"],setup(I,{expose:w,emit:l}){const m=l,o=s(!1),r=s(0),g=s(["/images/dice/dice_run1.png","/images/dice/dice_run2.png","/images/dice/dice_run3.png","/images/dice/dice_run4.png"]),k=s({1:"/images/dice/dice1.png",2:"/images/dice/dice2.png",3:"/images/dice/dice3.png",4:"/images/dice/dice4.png",5:"/images/dice/dice5.png",6:"/images/dice/dice6.png"}),d=s(1),e=s(0),a=async()=>{let t=1;return t=Math.floor(Math.random()*6+1),t},y=async()=>{o.value||(d.value=await a(),await f(),m("throwEnd",d.value))},f=async()=>new Promise(t=>{o.value=!0;let D=0;e.value=setInterval(()=>{let c=r.value;c++,c>=g.value.length&&(c=0),r.value=c,D++,D>12&&(clearInterval(e.value),o.value=!1,t(!0))},100)});return B(()=>{clearInterval(e.value)}),w({throwDice:y}),(t,D)=>{const c=x("el-image");return n(),h("div",{class:"dice-wrap",onTap:y},[o.value?(n(),p(c,{key:0,src:g.value[r.value],class:"dice-icon",loading:"lazy"},null,8,["src"])):(n(),p(c,{key:1,src:k.value[d.value],class:"dice-icon",loading:"lazy"},null,8,["src"]))],32)}}});const $=z(T,[["__scopeId","data-v-e7ff49a0"]]),A={class:"flex flex-col mt-3 flex-1"},F={class:"p-4 rounded-2xl bg-white"},K={class:"flex justify-center grow-[3]"},M={class:"flex flex-wrap h-96 items-center"},R={class:""},S={class:"ml-5 flex justify-center"},U={class:"w-4/6"},L={class:"mb-5 flex justify-center"},Q=C({__name:"Dice",setup(I){const w=j({title:"投骰子"}),l=s(1),m=s(!1),o=s(),r=s(0),g=async()=>{m.value=!0;let d=await new Promise(e=>{for(let a=0;a<l.value;a++)o.value[a].throwDice();e(!0)});setTimeout(()=>{console.log(d),m.value=!1},1200)},k=()=>{r.value++};return(d,e)=>{const a=x("el-text"),y=x("el-slider"),f=x("el-button");return n(),h("div",A,[u(V,{title:w.title},null,8,["title"]),i("div",F,[e[5]||(e[5]=i("view",{class:"grow-[1.5]"},null,-1)),i("div",K,[i("div",M,[(n(!0),h(N,null,P(l.value,t=>(n(),p($,{ref_for:!0,ref_key:"diceRef",ref:o,key:r.value,class:E([l.value==1?"dice_full":"",l.value==3&&t==1?"dice_full":"dice_default",l.value==5&&t==3?"dice_full":"dice_default"])},null,8,["class"]))),128))])]),i("div",R,[i("div",S,[u(a,{style:{}},{default:_(()=>e[1]||(e[1]=[v("骰子数量：",-1)])),_:1,__:[1]}),i("div",U,[u(y,{class:"w-72 ml-3",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),min:1,max:6,step:1,blockSize:"18",showValue:!0},null,8,["modelValue"])])])]),i("div",L,[m.value?(n(),p(f,{key:1,type:"primary",class:"w-48",size:"large",disabled:""},{default:_(()=>e[3]||(e[3]=[v("投骰子...",-1)])),_:1,__:[3]})):(n(),p(f,{key:0,type:"primary",class:"w-48",size:"large",onClick:g},{default:_(()=>e[2]||(e[2]=[v("投骰子",-1)])),_:1,__:[2]})),u(f,{type:"primary",class:"w-48",size:"large",onClick:k},{default:_(()=>e[4]||(e[4]=[v("重置",-1)])),_:1,__:[4]})])]),u(b,{title:"描述"},{default:_(()=>[u(a,null,{default:_(()=>e[6]||(e[6]=[v(" 在线投骰子，骰子工具，自定义骰子数量 ",-1)])),_:1,__:[6]})]),_:1})])}}});const J=z(Q,[["__scopeId","data-v-ef4a0484"]]);export{J as default};
