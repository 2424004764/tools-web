import{d as P,r as a,z as L,J as S,f as z,g as n,h as i,m as y,j as e,G as v,ak as k,al as w,K as D,t as _,F as I,i as K,v as E,l as C,p as F,ac as G,D as V,_ as H}from"./index-63e0987a.js";import{_ as J}from"./DetailHeader.vue_vue_type_script_setup_true_lang-3705dacd.js";import{_ as O}from"./ToolDetail.vue_vue_type_script_setup_true_lang-f9ba6ab4.js";const R={class:"flex flex-col mt-3 flex-1"},q={class:"p-4 rounded-2xl bg-white"},Q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},W={class:"space-y-4"},X={class:"grid grid-cols-2 gap-4"},Y=["disabled"],Z={class:"space-y-3"},ee={class:"flex items-center justify-between"},te=["disabled"],se={class:"min-h-[220px] border rounded-lg p-3 bg-gray-50"},le={key:0,class:"text-gray-500"},ae={key:1,class:"space-y-2"},oe={class:"truncate mr-3"},ne=["onClick"],ie={key:0,class:"text-gray-400 text-sm"},re=P({__name:"AiVariableName",setup(de){const $=a("NpgaKlHjioTlyo2B"),A=a("https://tool.fologde.com/proxy"),N=a("https://text.pollinations.ai"),f=L({title:"AI起变量名",desc:"根据描述自动生成符合命名规范的变量名，支持多种命名风格与语言"}),r=a(""),m=a("camelCase"),g=a("en"),c=a(8),d=a(!1),o=a([]),b=S(()=>!!r.value.trim()&&!d.value),x=["为订单金额生成有语义的变量名","用户登录状态布尔值变量","商品库存数量","文件上传进度百分比","用户上次登录时间","购物车商品列表","是否开启暗色主题开关","最大重试次数"],T=()=>{if(!x.length)return;const s=Math.floor(Math.random()*x.length);r.value=x[s]},j=()=>{const s=g.value==="en"?"使用英文":"使用拼音";return[`请根据以下需求，生成 ${c.value} 个合适的变量名：`,`- 命名风格：${m.value}`,`- 语言：${s}`,"- 规则：语义准确、简洁、无空格和非法字符；仅输出变量名列表，每行一个，不要额外说明。",`需求：${r.value.trim()}`].join(`
`)},U=async()=>{if(b.value){d.value=!0,o.value=[];try{const s=j(),t=await G.get(`${A.value}?path=${encodeURIComponent(s)}&target=${N.value}`,{headers:{Authorization:"Bearer "+$.value}}),l=(typeof t.data=="string"?t.data:String(t.data)).replace(/\r\n/g,`
`).split(`
`).map(u=>u.trim().replace(/^\d+\.\s*/,"").replace(/^-+\s*/,"")).filter(u=>u.length>0);o.value=Array.from(new Set(l)).slice(0,c.value)}catch(s){console.error("生成失败:",s),alert("生成失败，请稍后重试")}finally{d.value=!1}}},B=s=>V(s),M=()=>o.value.length&&V(o.value.join(`
`)),p=s=>{const t=s.target;t.classList.add("button-pressed"),setTimeout(()=>{t.classList.remove("button-pressed")},150)};return(s,t)=>{const h=z("el-text");return n(),i("div",R,[y(J,{title:f.title},null,8,["title"]),e("div",q,[e("div",Q,[e("div",W,[e("div",null,[e("div",{class:"flex items-center justify-between mb-2"},[t[4]||(t[4]=e("label",{class:"block text-sm text-gray-700"},"需求描述",-1)),e("button",{class:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded",onClick:T},"示例")]),v(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=l=>r.value=l),class:"w-full p-3 border rounded-lg min-h-[120px]",placeholder:"例如：为订单金额生成有语义的变量名"},null,512),[[k,r.value]])]),e("div",X,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm text-gray-700 mb-2"},"命名风格",-1)),v(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>m.value=l),class:"w-full p-2 border rounded-lg"},t[5]||(t[5]=[e("option",{value:"camelCase"},"camelCase",-1),e("option",{value:"PascalCase"},"PascalCase",-1),e("option",{value:"snake_case"},"snake_case",-1),e("option",{value:"kebab-case"},"kebab-case",-1)]),512),[[w,m.value]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm text-gray-700 mb-2"},"语言",-1)),v(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>g.value=l),class:"w-full p-2 border rounded-lg"},t[7]||(t[7]=[e("option",{value:"en"},"英文",-1),e("option",{value:"pinyin"},"拼音",-1)]),512),[[w,g.value]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm text-gray-700 mb-2"},"数量",-1)),v(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>c.value=l),type:"number",min:"1",max:"50",class:"w-full p-2 border rounded-lg"},null,512),[[k,c.value,void 0,{number:!0}]])])]),e("button",{onClick:U,disabled:!b.value,class:D(["py-3 px-6 rounded-lg w-full transition",b.value?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-400 cursor-not-allowed"])},_(d.value?"生成中...":"生成变量名"),11,Y)]),e("div",Z,[e("div",ee,[t[10]||(t[10]=e("div",{class:"text-sm text-gray-600"},"生成结果",-1)),e("button",{class:"px-3 py-1 text-sm bg-emerald-500 text-white rounded transition-all duration-150 hover:bg-emerald-600",disabled:!o.value.length,onClick:M,onMousedown:p,onTouchstart:p}," 复制全部 ",40,te)]),e("div",se,[d.value?(n(),i("div",le,"生成中...")):(n(),i("ul",ae,[(n(!0),i(I,null,K(o.value,(l,u)=>(n(),i("li",{key:u,class:"flex items-center justify-between bg-white p-2 rounded border"},[e("span",oe,_(l),1),e("button",{class:"px-2 py-1 text-xs bg-blue-500 text-white rounded transition-all duration-150 hover:bg-blue-600",onClick:ue=>B(l),onMousedown:p,onTouchstart:p}," 复制 ",40,ne)]))),128)),o.value.length?E("",!0):(n(),i("div",ie,"暂无结果"))]))])])])]),y(O,{title:"描述"},{default:C(()=>[y(h,null,{default:C(()=>[F(_(f.desc),1)]),_:1})]),_:1})])}}});const me=H(re,[["__scopeId","data-v-73ad3931"]]);export{me as default};
