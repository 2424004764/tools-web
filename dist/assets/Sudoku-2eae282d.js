import{_ as X}from"./DetailHeader.vue_vue_type_script_setup_true_lang-24c9e37b.js";import{_ as Q}from"./ToolDetail.vue_vue_type_script_setup_true_lang-0826b960.js";import{d as Y,z as P,r as Z,J as ee,e as le,o as te,f as v,g as m,h as g,m as c,j as n,l as p,p as i,q as S,ah as se,t as b,aj as ne,ao as re,F as C,i as h,K as B,v as I,_ as oe}from"./index-6e2862a5.js";const ae={class:"flex flex-col mt-3 flex-1"},ie={class:"p-4 rounded-2xl bg-white"},ue={class:"flex flex-wrap gap-4 mb-6 items-center"},de={class:"flex items-center gap-2"},ce={class:"flex gap-4 text-sm"},fe={class:"flex items-center gap-1"},be={class:"font-bold text-green-600"},me={class:"flex items-center gap-1"},ge={class:"font-bold text-red-600"},pe={class:"flex justify-center"},_e={class:"grid grid-cols-9 gap-0 border-2 border-gray-800 bg-gray-800"},xe=["onClick"],ye={key:0,class:"text-lg font-semibold"},ve={key:1,class:"grid grid-cols-3 gap-0 text-xs text-gray-500"},Ce={key:0,class:"flex justify-center mt-6"},he={class:"flex gap-2"},ke={key:1,class:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg text-center"},Me={class:"text-green-600"},we=Y({__name:"Sudoku",setup(Se){const A=P({title:"数独游戏"}),l=P({board:[],selectedCell:null,difficulty:"easy",time:0,isPlaying:!1,isCompleted:!1,timer:null,mistakes:0,hints:0}),x=Z(!1),_=ee(()=>!l.board||l.board.length===0?$():l.board),$=()=>{const t=[];for(let e=0;e<9;e++){t[e]=[];for(let s=0;s<9;s++)t[e][s]={value:0,isFixed:!1,isError:!1,notes:[],row:e,col:s}}return t},L=t=>{const e=G(),s={easy:30,medium:40,hard:50}[t],o=e.map(a=>a.map(r=>r)),u=[];for(let a=0;a<81;a++)u.push(a);for(let a=0;a<s;a++){const r=Math.floor(Math.random()*u.length),d=u.splice(r,1)[0],f=Math.floor(d/9),w=d%9;o[f][w]=0}return{puzzle:o,solution:e}},G=()=>{const t=[];for(let e=0;e<9;e++){t[e]=[];for(let s=0;s<9;s++)t[e][s]=0}return k(t,0,0),k(t,3,3),k(t,6,6),E(t),t},k=(t,e,s)=>{const o=[1,2,3,4,5,6,7,8,9];for(let u=0;u<3;u++)for(let a=0;a<3;a++){const r=Math.floor(Math.random()*o.length),d=o.splice(r,1)[0];t[e+u][s+a]=d}},E=t=>{for(let e=0;e<9;e++)for(let s=0;s<9;s++)if(t[e][s]===0){for(let o=1;o<=9;o++)if(T(t,e,s,o)){if(t[e][s]=o,E(t))return!0;t[e][s]=0}return!1}return!0},T=(t,e,s,o)=>{for(let r=0;r<9;r++)if(t[e][r]===o)return!1;for(let r=0;r<9;r++)if(t[r][s]===o)return!1;const u=Math.floor(e/3)*3,a=Math.floor(s/3)*3;for(let r=0;r<3;r++)for(let d=0;d<3;d++)if(t[r+u][d+a]===o)return!1;return!0},V=()=>{l.board=$();const{puzzle:t}=L(l.difficulty);for(let e=0;e<9;e++)for(let s=0;s<9;s++)l.board[e][s].value=t[e][s],l.board[e][s].isFixed=t[e][s]!==0,l.board[e][s].isError=!1,l.board[e][s].notes=[];l.selectedCell=null,l.time=0,l.isPlaying=!1,l.isCompleted=!1,l.mistakes=0,l.hints=0,l.timer&&(clearInterval(l.timer),l.timer=null)},U=(t,e)=>{l.selectedCell={row:t,col:e},l.isPlaying||q()},y=t=>{if(!l.selectedCell)return;const{row:e,col:s}=l.selectedCell,o=l.board[e][s];if(!o.isFixed)if(x.value){const u=o.notes.indexOf(t);u>-1?o.notes.splice(u,1):(o.notes.push(t),o.notes.sort())}else{if(o.value=t,o.notes=[],t!==0){const u=j(e,s,t);o.isError=!u,u||l.mistakes++}else o.isError=!1;K()}},j=(t,e,s)=>{for(let a=0;a<9;a++)if(a!==e&&l.board[t][a].value===s)return!1;for(let a=0;a<9;a++)if(a!==t&&l.board[a][e].value===s)return!1;const o=Math.floor(t/3)*3,u=Math.floor(e/3)*3;for(let a=0;a<3;a++)for(let r=0;r<3;r++){const d=a+o,f=r+u;if((d!==t||f!==e)&&l.board[d][f].value===s)return!1}return!0},K=()=>{for(let t=0;t<9;t++)for(let e=0;e<9;e++)if(l.board[t][e].value===0)return;for(let t=0;t<9;t++)for(let e=0;e<9;e++)if(l.board[t][e].isError)return;l.isCompleted=!0,l.isPlaying=!1,l.timer&&(clearInterval(l.timer),l.timer=null)},q=()=>{l.isPlaying=!0,l.timer=setInterval(()=>{l.time++},1e3)},F=()=>{l.timer&&(clearInterval(l.timer),l.timer=null),V()},H=()=>{F()},J=()=>{if(!l.selectedCell)return;const{row:t,col:e}=l.selectedCell,s=l.board[t][e];if(!(s.isFixed||s.value!==0)){for(let o=0;o<9;o++)for(let u=0;u<9;u++)if(l.board[o][u].value===0){for(let a=1;a<=9;a++)if(j(o,u,a)){l.board[o][u].value=a,l.hints++;return}}}},N=t=>{const e=Math.floor(t/60),s=t%60;return`${e.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},O=t=>{let e=0;if(!l.board||l.board.length===0)return 0;for(let s=0;s<9;s++)for(let o=0;o<9;o++)l.board[s][o]&&l.board[s][o].value===t&&e++;return e},R=t=>O(t)>=9,M=(t,e)=>{if(!l.selectedCell)return"";const s=l.selectedCell.row,o=l.selectedCell.col;if(t===s&&e===o)return"bg-blue-200 border-blue-600";const u=Math.abs(t-s),a=Math.abs(e-o),r=Math.floor(s/3)*3,d=Math.floor(o/3)*3,f=Math.floor(t/3)*3,w=Math.floor(e/3)*3,D=t===s||e===o,W=f===r&&w===d;return D&&Math.max(u,a)>0?"bg-blue-100":W&&!D?"bg-blue-50":""},z=t=>{if(!l.selectedCell)return;const{row:e,col:s}=l.selectedCell;if(!l.board[e][s].isFixed){if(t.key>="1"&&t.key<="9"){const u=parseInt(t.key);y(u)}(t.key==="Delete"||t.key==="Backspace")&&y(0),t.key==="ArrowUp"&&e>0?l.selectedCell={row:e-1,col:s}:t.key==="ArrowDown"&&e<8?l.selectedCell={row:e+1,col:s}:t.key==="ArrowLeft"&&s>0?l.selectedCell={row:e,col:s-1}:t.key==="ArrowRight"&&s<8&&(l.selectedCell={row:e,col:s+1})}};return le(()=>{l.timer&&(clearInterval(l.timer),l.timer=null),document.removeEventListener("keydown",z)}),te(()=>{V(),document.addEventListener("keydown",z)}),(t,e)=>{const s=v("el-option"),o=v("el-select"),u=v("el-button"),a=v("el-text");return m(),g("div",ae,[c(X,{title:A.title},null,8,["title"]),n("div",ie,[n("div",ue,[n("div",de,[e[3]||(e[3]=n("span",{class:"text-sm font-medium"},"难度：",-1)),c(o,{modelValue:l.difficulty,"onUpdate:modelValue":e[0]||(e[0]=r=>l.difficulty=r),onChange:H,style:{width:"100px"}},{default:p(()=>[c(s,{label:"简单",value:"easy"}),c(s,{label:"中等",value:"medium"}),c(s,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),c(u,{type:"primary",onClick:F,icon:S(se)},{default:p(()=>e[4]||(e[4]=[i(" 重新开始 ",-1)])),_:1,__:[4]},8,["icon"]),c(u,{type:x.value?"success":"default",onClick:e[1]||(e[1]=r=>x.value=!x.value),icon:S(ne)},{default:p(()=>[i(b(x.value?"笔记模式":"输入模式"),1)]),_:1},8,["type","icon"]),c(u,{type:"warning",onClick:J,icon:S(re),disabled:!l.selectedCell},{default:p(()=>[i(" 提示 ("+b(l.hints)+") ",1)]),_:1},8,["icon","disabled"]),n("div",ce,[n("div",fe,[e[5]||(e[5]=n("span",{class:"text-gray-600"},"时间：",-1)),n("span",be,b(N(l.time)),1)]),n("div",me,[e[6]||(e[6]=n("span",{class:"text-gray-600"},"错误：",-1)),n("span",ge,b(l.mistakes),1)])])]),n("div",pe,[n("div",_e,[(m(),g(C,null,h(9,r=>n("div",{key:`row-${r}`,class:"contents"},[(m(),g(C,null,h(9,d=>n("div",{key:`cell-${r}-${d}`,class:B(["w-12 h-12 border border-gray-600 flex items-center justify-center cursor-pointer transition-colors",[M(r-1,d-1)||"bg-white",_.value[r-1][d-1].isFixed?"font-bold":"",!M(r-1,d-1)&&_.value[r-1][d-1].isError?"text-red-600":"",M(r-1,d-1)?"":[(r-1)%3===0?"border-t-2 border-t-gray-800":"",(r-1)%3===2?"border-b-2 border-b-gray-800":"",(d-1)%3===0?"border-l-2 border-l-gray-800":"",(d-1)%3===2?"border-r-2 border-r-gray-800":""]]]),onClick:f=>U(r-1,d-1)},[_.value[r-1][d-1].value!==0?(m(),g("div",ye,b(_.value[r-1][d-1].value),1)):_.value[r-1][d-1].notes.length>0?(m(),g("div",ve,[(m(),g(C,null,h(9,f=>n("div",{key:f,class:B(_.value[r-1][d-1].notes.includes(f)?"text-gray-700 font-medium":"text-transparent")},b(f),3)),64))])):I("",!0)],10,xe)),64))])),64))])]),l.isCompleted?I("",!0):(m(),g("div",Ce,[n("div",he,[(m(),g(C,null,h(9,r=>c(u,{key:r,onClick:d=>y(r),type:l.selectedCell?"primary":"default",disabled:!l.selectedCell||R(r),class:B(R(r)?"opacity-50":"")},{default:p(()=>[i(b(r),1)]),_:2},1032,["onClick","type","disabled","class"])),64)),c(u,{onClick:e[2]||(e[2]=r=>y(0)),type:l.selectedCell?"danger":"default",disabled:!l.selectedCell},{default:p(()=>e[7]||(e[7]=[i(" 清除 ",-1)])),_:1,__:[7]},8,["type","disabled"])])])),l.isCompleted?(m(),g("div",ke,[e[8]||(e[8]=n("div",{class:"text-green-800 font-bold text-lg mb-2"},"🎉 恭喜完成！",-1)),n("div",Me," 用时："+b(N(l.time))+" | 错误："+b(l.mistakes)+" | 提示："+b(l.hints),1)])):I("",!0)]),c(Q,{title:"游戏说明"},{default:p(()=>[c(a,null,{default:p(()=>e[9]||(e[9]=[i(" 数独是一款经典的逻辑推理游戏，起源于瑞士，后来在日本流行并传遍世界。游戏目标是在9x9的网格中填入数字1-9，使每行、每列和每个3x3宫格都包含1-9且不重复。 ",-1),n("br",null,null,-1),n("br",null,null,-1),n("strong",null,"游戏规则：",-1),n("br",null,null,-1),i("• 在9x9的网格中填入数字1-9 ",-1),n("br",null,null,-1),i("• 每行、每列、每个3x3宫格都不能有重复数字 ",-1),n("br",null,null,-1),i("• 灰色数字是固定的，不能修改 ",-1),n("br",null,null,-1),i("• 白色格子可以填入数字 ",-1),n("br",null,null,-1),n("br",null,null,-1),n("strong",null,"操作方法：",-1),n("br",null,null,-1),i("• 点击白色格子选中要填写的单元格 ",-1),n("br",null,null,-1),i("• 点击数字按钮填入数字，如果是电脑端，可以按数字键1-9填入数字 ",-1),n("br",null,null,-1),i('• 点击"清除"按钮删除已填数字 ',-1),n("br",null,null,-1),i("• 笔记模式：可以记录可能的数字 ",-1),n("br",null,null,-1),i("• 提示功能：获得一个数字的提示 ",-1),n("br",null,null,-1),n("br",null,null,-1),n("strong",null,"解题技巧：",-1),n("br",null,null,-1),i("• ",-1),n("strong",null,"唯一候选法",-1),i("：某个格子只能填一个数字 ",-1),n("br",null,null,-1),i("• ",-1),n("strong",null,"排除法",-1),i("：通过已知数字排除不可能的数字 ",-1),n("br",null,null,-1),i("• ",-1),n("strong",null,"区块法",-1),i("：利用3x3宫格的限制条件 ",-1),n("br",null,null,-1),i("• ",-1),n("strong",null,"X-Wing法",-1),i("：高级技巧，寻找特定模式 ",-1),n("br",null,null,-1),i("• ",-1),n("strong",null,"笔记法",-1),i("：记录每个格子可能的数字 ",-1),n("br",null,null,-1),n("br",null,null,-1),n("strong",null,"难度说明：",-1),n("br",null,null,-1),i("• ",-1),n("strong",null,"简单",-1),i("：适合初学者，主要使用基础技巧 ",-1),n("br",null,null,-1),i("• ",-1),n("strong",null,"中等",-1),i("：需要一些高级技巧，有一定挑战性 ",-1),n("br",null,null,-1),i("• ",-1),n("strong",null,"困难",-1),i("：需要多种高级技巧，考验逻辑推理能力 ",-1),n("br",null,null,-1),n("br",null,null,-1),n("strong",null,"游戏特色：",-1),n("br",null,null,-1),i("• 自动错误检测：实时检查填入数字的正确性 ",-1),n("br",null,null,-1),i("• 笔记功能：记录可能的数字组合 ",-1),n("br",null,null,-1),i("• 提示系统：在困难时获得帮助 ",-1),n("br",null,null,-1),i("• 计时统计：记录解题时间和错误次数 ",-1),n("br",null,null,-1),i("• 多种难度：适合不同水平的玩家 ",-1)])),_:1,__:[9]})]),_:1})])}}});const Ve=oe(we,[["__scopeId","data-v-e8867f05"]]);export{Ve as default};
