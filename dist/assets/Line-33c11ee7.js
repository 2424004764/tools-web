import{t as P,i as oe,S as G,a as ae,r as se,u as ne}from"./xlsx-109b9e14.js";import{_ as ue}from"./DetailHeader.vue_vue_type_script_setup_true_lang-a2c7af82.js";import{_ as ie}from"./ToolDetail.vue_vue_type_script_setup_true_lang-ae128169.js";import{d as de,z as re,r as u,o as me,f as d,g as ve,h as fe,m as t,j as s,l as o,p as a,Y as pe,_ as _e}from"./index-18fe0c39.js";const xe={class:"flex flex-col mt-3 flex-1"},ge={class:"p-4 rounded-2xl flex"},we={class:"w-4/6"},ce={class:"flex flex-row-reverse mb-4"},be={class:"w-2/6 bg-white ml-3 rounded-lg p-3"},Ve={class:"mb-3"},ye={class:"flex items-center ml-1"},Ce={class:"flex w-full"},ke={class:"flex"},he={class:"flex mt-3"},Ue={class:"flex"},Se={class:"flex"},$e={class:"flex"},Te={class:"flex"},ze={class:"flex"},De={class:"flex"},Be={class:"flex"},Ee={class:"flex"},Ae=de({__name:"Line",setup(Fe){const H=re({title:"折线图"}),B=u(),v=u(),h=u(),N=u(1),E=u(100),U=u(720),S=u(400),A=u("1"),$=u("#5470c6"),T=u("center"),z=u("Tools-Web"),D=u("在线图表制作工具"),F=u(!0),O=u(!0),R=u(!1),j=u("Tools-Web"),Y=()=>{let i=document.createElement("canvas"),e=i.getContext("2d");return i.width=i.height=100,e.textAlign="center",e.textBaseline="middle",e.globalAlpha=.08,e.font="20px Microsoft Yahei",e.translate(50,50),e.rotate(-Math.PI/4),e.fillText(j.value,0,0),i},r=i=>{var m,n,f,_,x;let e=B.value;switch(i){case"scale":let V=E.value/100;e.style.transform=`scale(${V})`;break;case"size":e.style.width=U.value+"px",e.style.height=S.value+"px",W();break;case"title":let w="",p="";F.value===!0&&(w=z.value),O.value===!0&&(p=D.value),(m=v.value)==null||m.setOption({title:{text:w,subtext:p,left:T.value}});break;case"color":(n=v.value)==null||n.setOption({series:[{itemStyle:{color:$.value}}]});break;case"watermark":R.value===!0?(f=v.value)==null||f.setOption({backgroundColor:{image:Y()}}):(_=v.value)==null||_.setOption({backgroundColor:"#fff"});break;case"data":(x=v.value)==null||x.setOption({xAxis:{data:c.value},series:[{data:b.value}]});break}},q=()=>{},c=u(["Mon","Tue","Wed","Thu","Fri","Sat","Sun"]),b=u(["23","24","18","25","27","28","25"]),J={backgroundColor:"#fff",title:{text:z.value,subtext:D.value,left:T.value},xAxis:{data:c.value},yAxis:{},series:[{type:"line",data:b.value,itemStyle:{color:$.value}}],tooltip:{}},W=()=>{v.value=oe(B.value),v.value.clear(),v.value.resize({width:U.value,height:S.value}),v.value.setOption(J)},K=()=>{var n;let i=A.value=="1"?"png":"jpeg",e=(n=v.value)==null?void 0:n.getDataURL({type:i,pixelRatio:2});if(e!=null){var m=document.createElement("a");m.href=e,m.download="echart."+i,m.click()}},k=u(!1),I=u({}),Q=()=>{k.value==!0?k.value=!1:(k.value=!0,G.locale("zh-cn",window.x_spreadsheet.$messages["zh-cn"]),new G("#x-spreadsheet",{showToolbar:!1,showBottomBar:!1,view:{height:()=>document.documentElement.clientHeight/2,width:()=>document.documentElement.clientWidth}}).loadData({styles:[{bgcolor:"#f4f5f8",textwrap:!0,color:"#900b09",border:{top:["thin","#0366d6"],bottom:["thin","#0366d6"],right:["thin","#0366d6"],left:["thin","#0366d6"]}}],rows:I.value}).change(i=>{let e=ae(i);c.value=e[0],b.value=e[1],r("data")}))},L=u(),X=async i=>{const e=i.file,m=new FileReader;m.onload=n=>{try{if(!n.target)return;const f=n.target.result,_=se(f,{type:"binary"});let x=0,V=[],w=[];for(let p in _.Sheets){if(x>0)continue;const g=ne.sheet_to_json(_.Sheets[p],{header:["0","1"]});if(g.length!=0){for(let y in g)if(g[y]!=null){let C=g;V.push(C[y][0]),w.push(C[y][1])}x++}}c.value=V,b.value=w,r("data"),I.value=P([c,b])}catch(f){console.log("error"),console.log(f)}},m.readAsArrayBuffer(e)},Z=i=>{h.value.clearFiles();const e=i[0];e.uid=pe(),h.value.handleStart(e),h.value.submit()};return me(()=>{B.value=document.getElementById("main"),r("size"),W(),I.value=P([c,b])}),(i,e)=>{const m=d("el-input-number"),n=d("el-text"),f=d("el-button"),_=d("el-radio"),x=d("el-radio-group"),V=d("el-upload"),w=d("el-tooltip"),p=d("el-collapse-item"),g=d("el-radio-button"),y=d("el-divider"),C=d("el-switch"),M=d("el-input"),ee=d("el-color-picker"),te=d("el-collapse"),le=d("el-drawer");return ve(),fe("div",xe,[t(ue,{title:H.title},null,8,["title"]),s("div",ge,[s("div",we,[s("div",ce,[t(m,{modelValue:E.value,"onUpdate:modelValue":e[0]||(e[0]=l=>E.value=l),min:1,max:100,step:5,onChange:e[1]||(e[1]=l=>r("scale")),"step-strictly":""},null,8,["modelValue"]),t(n,null,{default:o(()=>e[26]||(e[26]=[a("缩放：",-1)])),_:1,__:[26]})]),e[27]||(e[27]=s("div",{class:"flex justify-center items-center max-h-[500px] max-w-[1000px] overflow-auto"},[s("div",{id:"main",class:"bg-white"})],-1))]),s("div",be,[s("div",Ve,[t(f,{class:"w-full mb-3",type:"primary",size:"large",onClick:K},{default:o(()=>e[28]||(e[28]=[a("下载图表",-1)])),_:1,__:[28]}),s("div",ye,[t(n,null,{default:o(()=>e[29]||(e[29]=[a("文件类型",-1)])),_:1,__:[29]}),t(x,{modelValue:A.value,"onUpdate:modelValue":e[2]||(e[2]=l=>A.value=l),class:"ml-4"},{default:o(()=>[t(_,{size:"large",label:"1"},{default:o(()=>e[30]||(e[30]=[a("PNG",-1)])),_:1,__:[30]}),t(_,{size:"large",label:"2"},{default:o(()=>e[31]||(e[31]=[a("JPEG",-1)])),_:1,__:[31]})]),_:1},8,["modelValue"])]),s("div",Ce,[t(w,{class:"box-item",effect:"dark",content:"支持上传：xls, xlsx, csv文件",placement:"top-start"},{default:o(()=>[t(f,{class:"w-1/2"},{default:o(()=>[t(V,{"file-list":L.value,"onUpdate:fileList":e[3]||(e[3]=l=>L.value=l),class:"dataFileRef flex",ref_key:"dataFileRef",ref:h,accept:".xls,.xlsx,.csv","http-request":X,"on-exceed":Z,limit:1},{default:o(()=>e[32]||(e[32]=[a(" 上传数据 ",-1)])),_:1,__:[32]},8,["file-list"])]),_:1})]),_:1}),t(f,{class:"w-1/2",onClick:Q},{default:o(()=>e[33]||(e[33]=[a("编辑数据",-1)])),_:1,__:[33]})])]),t(te,{modelValue:N.value,"onUpdate:modelValue":e[24]||(e[24]=l=>N.value=l),onChange:q,accordion:""},{default:o(()=>[t(p,{title:"画布设置",name:"1"},{default:o(()=>[s("div",ke,[t(n,{class:"w-16 text-right"},{default:o(()=>e[34]||(e[34]=[a("宽度",-1)])),_:1,__:[34]}),t(m,{modelValue:U.value,"onUpdate:modelValue":e[4]||(e[4]=l=>U.value=l),min:1,max:4e3,step:10,"controls-position":"right",class:"h-8 w-60 max-w-[60%] ml-3",onChange:e[5]||(e[5]=l=>r("size"))},null,8,["modelValue"])]),s("div",he,[t(n,{class:"w-16 text-right"},{default:o(()=>e[35]||(e[35]=[a("高度",-1)])),_:1,__:[35]}),t(m,{modelValue:S.value,"onUpdate:modelValue":e[6]||(e[6]=l=>S.value=l),min:1,max:4e3,step:10,"controls-position":"right",class:"h-8 w-60 max-w-[60%] ml-3",onChange:e[7]||(e[7]=l=>r("size"))},null,8,["modelValue"])])]),_:1}),t(p,{title:"标题设置",name:"2"},{default:o(()=>[s("div",Ue,[t(n,{class:"w-16 text-right"},{default:o(()=>e[36]||(e[36]=[a("位置",-1)])),_:1,__:[36]}),t(x,{modelValue:T.value,"onUpdate:modelValue":e[8]||(e[8]=l=>T.value=l),class:"ml-3",onChange:e[9]||(e[9]=l=>r("title"))},{default:o(()=>[t(g,{label:"left",value:"left"},{default:o(()=>e[37]||(e[37]=[a("左",-1)])),_:1,__:[37]}),t(g,{label:"center",value:"center"},{default:o(()=>e[38]||(e[38]=[a("中",-1)])),_:1,__:[38]}),t(g,{label:"right",value:"right"},{default:o(()=>e[39]||(e[39]=[a("右",-1)])),_:1,__:[39]})]),_:1},8,["modelValue"])]),t(y,{"content-position":"left",class:"pl-10"},{default:o(()=>e[40]||(e[40]=[a("标题",-1)])),_:1,__:[40]}),s("div",Se,[t(n,{class:"w-16 text-right"},{default:o(()=>e[41]||(e[41]=[a("显示",-1)])),_:1,__:[41]}),t(C,{modelValue:F.value,"onUpdate:modelValue":e[10]||(e[10]=l=>F.value=l),class:"ml-3",onChange:e[11]||(e[11]=l=>r("title"))},null,8,["modelValue"])]),s("div",$e,[t(n,{class:"w-16 text-right"},{default:o(()=>e[42]||(e[42]=[a("标题",-1)])),_:1,__:[42]}),t(M,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:z.value,"onUpdate:modelValue":e[12]||(e[12]=l=>z.value=l),onBlur:e[13]||(e[13]=l=>r("title"))},null,8,["modelValue"])]),t(y,{"content-position":"left"},{default:o(()=>e[43]||(e[43]=[a("副标题",-1)])),_:1,__:[43]}),s("div",Te,[t(n,{class:"w-16 text-right"},{default:o(()=>e[44]||(e[44]=[a("显示",-1)])),_:1,__:[44]}),t(C,{modelValue:O.value,"onUpdate:modelValue":e[14]||(e[14]=l=>O.value=l),class:"ml-3",onChange:e[15]||(e[15]=l=>r("title"))},null,8,["modelValue"])]),s("div",ze,[t(n,{class:"w-16 text-right"},{default:o(()=>e[45]||(e[45]=[a("副标题",-1)])),_:1,__:[45]}),t(M,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:D.value,"onUpdate:modelValue":e[16]||(e[16]=l=>D.value=l),onBlur:e[17]||(e[17]=l=>r("title"))},null,8,["modelValue"])])]),_:1}),t(p,{title:"图形属性",name:"3"},{default:o(()=>[s("div",De,[t(n,{class:"w-16 text-right"},{default:o(()=>e[46]||(e[46]=[a("颜色",-1)])),_:1,__:[46]}),t(ee,{modelValue:$.value,"onUpdate:modelValue":e[18]||(e[18]=l=>$.value=l),class:"ml-3",onChange:e[19]||(e[19]=l=>r("color"))},null,8,["modelValue"])])]),_:1}),t(p,{title:"水印设置",name:"4"},{default:o(()=>[s("div",Be,[t(n,{class:"w-16 text-right"},{default:o(()=>e[47]||(e[47]=[a("显示",-1)])),_:1,__:[47]}),t(C,{modelValue:R.value,"onUpdate:modelValue":e[20]||(e[20]=l=>R.value=l),class:"ml-3",onChange:e[21]||(e[21]=l=>r("watermark"))},null,8,["modelValue"])]),s("div",Ee,[t(n,{class:"w-16 text-right"},{default:o(()=>e[48]||(e[48]=[a("水印内容",-1)])),_:1,__:[48]}),t(M,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:j.value,"onUpdate:modelValue":e[22]||(e[22]=l=>j.value=l),onChange:e[23]||(e[23]=l=>r("watermark"))},null,8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])]),t(le,{id:"x-spreadsheet",modelValue:k.value,"onUpdate:modelValue":e[25]||(e[25]=l=>k.value=l),direction:"btt",class:"sheet",style:{}},null,8,["modelValue"]),t(ie,{title:"描述"},{default:o(()=>[t(n,null,{default:o(()=>e[49]||(e[49]=[a(" 折线图为日常最常用的图表之一，当必须呈现与时间相关的数据时，它是首选它最适合分析趋势。",-1),s("br",null,null,-1),a(" 在线图表制作工具，在线制作折线图",-1),s("br",null,null,-1),a(" 支持导入表格并在线编辑表格生成折线图，支持png和jpeg格式导出",-1),s("br",null,null,-1),a(" 支持超全的自定义配置，轻松实现你的个性化图表需求",-1),s("br",null,null,-1)])),_:1,__:[49]})]),_:1})])}}});const Me=_e(Ae,[["__scopeId","data-v-16272351"]]);export{Me as default};
