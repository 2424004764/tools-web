import{_ as oe}from"./DetailHeader.vue_vue_type_script_setup_true_lang-4ff76a8e.js";import{_ as se}from"./ToolDetail.vue_vue_type_script_setup_true_lang-45c6491d.js";import{d as ae,k as j,G as O,o as re,l as ne,r as T,b as d,c as u,h as f,f as o,t as z,w as g,i as c,F as P,e as C,N as p,g as D,H as w,I as ie,_ as de}from"./index-7a0cd669.js";const ce={class:"flex flex-col mt-3 ml-4 flex-1 mr-3"},ue={class:"p-6 rounded-2xl bg-white shadow-sm border border-gray-200"},ge={class:"max-w-2xl mx-auto"},be={class:"flex justify-between items-center mb-6"},fe={class:"text-center bg-blue-50 p-4 rounded-lg border border-blue-200 flex-1 mx-2"},me={class:"text-2xl font-bold text-blue-600"},ve={class:"text-center bg-green-50 p-4 rounded-lg border border-green-200 flex-1 mx-2 relative"},xe={class:"flex items-center justify-center space-x-2"},ye={class:"text-2xl font-bold text-green-600"},he={class:"text-center bg-purple-50 p-4 rounded-lg border border-purple-200 flex-1 mx-2"},pe={class:"text-2xl font-bold text-purple-600"},_e={class:"flex justify-between items-center mb-6"},Se={class:"flex items-center space-x-6"},we={class:"flex items-center space-x-3"},ke={class:"flex items-center space-x-3"},ze={class:"flex justify-center mb-6"},Pe={class:"flex justify-center space-x-4 mb-6"},Ce={class:"lg:hidden flex justify-center mb-6"},Ie={class:"bg-gray-100 rounded-lg p-4 border border-gray-300"},Me={class:"grid grid-cols-3 gap-2"},Oe={class:"col-start-2"},Te={class:"col-start-1 row-start-2"},De={class:"col-start-2 row-start-2"},Ve={class:"col-start-3 row-start-2"},$e={key:0,class:"text-center mb-6"},He={class:"bg-red-50 border-2 border-red-300 rounded-lg p-4 shadow-md"},Ne={class:"text-red-600"},Ae={class:"text-purple-600"},Fe={key:0,class:"text-green-600 font-medium"},je=ae({__name:"Snake",setup(Le){const X=j({title:"贪吃蛇"}),t=j({isPlaying:!1,score:0,highScore:0,gameOver:!1,gameTime:0}),s=j({gridSize:window.innerWidth<1024?10:20,cellSize:window.innerWidth<1024?25:20,speed:150,scorePerFood:1}),Y=[{label:"慢速",value:200},{label:"正常",value:150},{label:"快速",value:100},{label:"极速",value:50}],q=()=>{const l=s.gridSize,e=4,r=Math.floor(Math.random()*(l-2*e))+e,m=Math.floor(Math.random()*(l-2*e))+e,h=[{x:1,y:0},{x:0,y:1},{x:-1,y:0},{x:0,y:-1}],S=h[Math.floor(Math.random()*h.length)],a={x:r-S.x,y:m-S.y},x={x:r-S.x*2,y:m-S.y*2};return[{x:r,y:m},a,x]},J=l=>{if(l.length<2)return{x:1,y:0};const e=l[0],r=l[1],m=e.x-r.x,h=e.y-r.y;return{x:m,y:h}},L=()=>{const l=s.gridSize,e=Math.floor(Math.random()*l),r=Math.floor(Math.random()*l);return{x:e,y:r}};let k=[],_={x:0,y:0},V={x:1,y:0};const v=O([]),y=O({x:0,y:0}),n=O({x:1,y:0}),W=()=>{for(k=q(),_=L(),V=J(k);k.some(l=>l.x===_.x&&l.y===_.y);)_=L();v.value=[...k],y.value={..._},n.value={...V}};W();let i=null,b=null;const G=()=>{const l=Math.floor(Math.random()*s.gridSize),e=Math.floor(Math.random()*s.gridSize);v.value.some(m=>m.x===l&&m.y===e)?G():y.value={x:l,y:e}},Q=l=>l.x<0||l.x>=s.gridSize||l.y<0||l.y>=s.gridSize?!0:v.value.some(e=>e.x===l.x&&e.y===l.y),$=()=>{if(!t.isPlaying)return;const l={...v.value[0]};if(l.x+=n.value.x,l.y+=n.value.y,Q(l)){Z();return}v.value.unshift(l),l.x===y.value.x&&l.y===y.value.y?(t.score+=s.scorePerFood,t.score>t.highScore&&(t.highScore=t.score,N()),G()):v.value.pop()},Z=()=>{t.isPlaying=!1,t.gameOver=!0,t.score>t.highScore&&(t.highScore=t.score,N()),i&&(clearInterval(i),i=null),b&&(clearInterval(b),b=null)},B=l=>{const e=Math.floor(l/60),r=l%60;return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},U=()=>{t.isPlaying=!0,t.gameOver=!1,t.score=0,t.gameTime=0,v.value=[...k],y.value={..._},n.value={...V},i&&clearInterval(i),b&&clearInterval(b),i=setInterval($,s.speed),b=setInterval(()=>{t.isPlaying&&t.gameTime++},1e3)},H=()=>{t.isPlaying?(t.isPlaying=!1,i&&(clearInterval(i),i=null),b&&(clearInterval(b),b=null)):(t.isPlaying=!0,i=setInterval($,s.speed),b=setInterval(()=>{t.isPlaying&&t.gameTime++},1e3))},E=()=>{i&&clearInterval(i),W(),U()},ee=()=>{i&&t.isPlaying&&(clearInterval(i),i=setInterval($,s.speed))},I=l=>{if(t.isPlaying)switch(console.log("_direction",l),l){case"up":n.value.y===0&&(n.value={x:0,y:-1});break;case"down":n.value.y===0&&(n.value={x:0,y:1});break;case"left":n.value.x===0&&(n.value={x:-1,y:0});break;case"right":n.value.x===0&&(n.value={x:1,y:0});break}},R=l=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," ","w","a","s","d","W","A","S","D"].includes(l.key)&&l.preventDefault(),!(!t.isPlaying&&l.key!==" "))switch(l.key.toLowerCase()){case"arrowup":case"w":n.value.y===0&&(n.value={x:0,y:-1});break;case"arrowdown":case"s":n.value.y===0&&(n.value={x:0,y:1});break;case"arrowleft":case"a":n.value.x===0&&(n.value={x:-1,y:0});break;case"arrowright":case"d":n.value.x===0&&(n.value={x:1,y:0});break;case" ":t.gameOver?E():H();break}};re(()=>{document.addEventListener("keydown",R),te()}),ne(()=>{document.removeEventListener("keydown",R),i&&clearInterval(i),b&&clearInterval(b),N()});const te=()=>{try{const l=localStorage.getItem("snakeHighScore");if(l){const e=parseInt(l);!isNaN(e)&&e>=0&&(t.highScore=e)}}catch(l){console.error("加载最高分失败:",l)}},N=()=>{try{localStorage.setItem("snakeHighScore",t.highScore.toString())}catch(l){console.error("保存最高分失败:",l)}},le=()=>{t.highScore=0;try{localStorage.removeItem("snakeHighScore")}catch(l){console.error("清空最高分失败:",l)}},M=s.gridSize*s.cellSize,K=[{name:"经典绿色",head:"#15803d",body:"#22c55e",food:"#ef4444"},{name:"蓝色主题",head:"#1d4ed8",body:"#3b82f6",food:"#f59e0b"},{name:"紫色主题",head:"#7c3aed",body:"#a855f7",food:"#10b981"},{name:"橙色主题",head:"#c2410c",body:"#f97316",food:"#8b5cf6"},{name:"粉色主题",head:"#be185d",body:"#ec4899",food:"#06b6d4"},{name:"红色主题",head:"#b91c1c",body:"#ef4444",food:"#10b981"},{name:"青色主题",head:"#0f766e",body:"#14b8a6",food:"#f97316"},{name:"黄色主题",head:"#a16207",body:"#eab308",food:"#8b5cf6"},{name:"灰色主题",head:"#374151",body:"#6b7280",food:"#ef4444"},{name:"靛蓝主题",head:"#3730a3",body:"#6366f1",food:"#f59e0b"},{name:"青绿主题",head:"#047857",body:"#10b981",food:"#f97316"},{name:"玫瑰主题",head:"#be123c",body:"#f43f5e",food:"#06b6d4"}],A=O(0),F=()=>K[A.value];return(l,e)=>{const r=T("el-button"),m=T("el-option"),h=T("el-select"),S=T("el-text");return d(),u("div",ce,[f(oe,{title:X.title},null,8,["title"]),o("div",ue,[o("div",ge,[o("div",be,[o("div",fe,[e[6]||(e[6]=o("h3",{class:"text-lg font-medium text-blue-900"},"得分",-1)),o("p",me,z(t.score),1)]),o("div",ve,[e[8]||(e[8]=o("h3",{class:"text-lg font-medium text-green-900"},"最高分",-1)),o("div",xe,[o("p",ye,z(t.highScore),1),f(r,{onClick:le,type:"danger",size:"small",disabled:t.isPlaying||!t.gameOver&&t.gameTime>0,class:"bg-red-500 hover:bg-red-600 border-red-600 text-xs h-6 px-2"},{default:g(()=>e[7]||(e[7]=[c(" 清空 ",-1)])),_:1,__:[7]},8,["disabled"])])]),o("div",he,[e[9]||(e[9]=o("h3",{class:"text-lg font-medium text-purple-900"},"游戏时间",-1)),o("p",pe,z(B(t.gameTime)),1)])]),o("div",_e,[o("div",Se,[o("div",we,[e[10]||(e[10]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"游戏速度：",-1)),f(h,{modelValue:s.speed,"onUpdate:modelValue":e[0]||(e[0]=a=>s.speed=a),onChange:ee,disabled:t.isPlaying,style:{width:"100px"}},{default:g(()=>[(d(),u(P,null,C(Y,a=>f(m,{key:a.value,label:a.label,value:a.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"])]),o("div",ke,[e[11]||(e[11]=o("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"颜色主题：",-1)),f(h,{modelValue:A.value,"onUpdate:modelValue":e[1]||(e[1]=a=>A.value=a),disabled:t.isPlaying,style:{width:"120px"}},{default:g(()=>[(d(),u(P,null,C(K,(a,x)=>f(m,{key:x,label:a.name,value:x},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"])])])]),o("div",ze,[o("div",{class:"bg-gray-100 relative shadow-lg",style:p({width:M+"px",height:M+"px",maxWidth:"100%",maxHeight:"60vh"})},[(d(!0),u(P,null,C(s.gridSize-1,a=>(d(),u("div",{key:`h-${a}`,class:"absolute bg-gray-300",style:p({width:"1px",height:M+"px",left:a*s.cellSize+"px",top:"0px"})},null,4))),128)),(d(!0),u(P,null,C(s.gridSize-1,a=>(d(),u("div",{key:`v-${a}`,class:"absolute bg-gray-300",style:p({height:"1px",width:M+"px",left:"0px",top:a*s.cellSize+"px"})},null,4))),128)),(d(!0),u(P,null,C(v.value,(a,x)=>(d(),u("div",{key:x,class:"absolute shadow-sm",style:p({width:s.cellSize-1+"px",height:s.cellSize-1+"px",left:a.x*s.cellSize+"px",top:a.y*s.cellSize+"px",zIndex:x===0?2:1})},[x===0?(d(),u("div",{key:0,class:"w-full h-full rounded-sm",style:p({backgroundColor:F().head})},null,4)):(d(),u("div",{key:1,class:"w-full h-full rounded-sm",style:p({backgroundColor:F().body})},null,4))],4))),128)),o("div",{class:"absolute rounded-full shadow-md animate-pulse",style:p({width:s.cellSize-2+"px",height:s.cellSize-2+"px",left:y.value.x*s.cellSize+1+"px",top:y.value.y*s.cellSize+1+"px",zIndex:3,backgroundColor:F().food})},null,4)],4)]),o("div",Pe,[!t.isPlaying&&!t.gameOver&&t.gameTime===0?(d(),D(r,{key:0,onClick:U,type:"primary",class:"bg-blue-500 hover:bg-blue-600 border-blue-600"},{default:g(()=>e[12]||(e[12]=[c(" 开始游戏 ",-1)])),_:1,__:[12]})):w("",!0),t.isPlaying?(d(),D(r,{key:1,onClick:H,type:"warning",class:"bg-orange-500 hover:bg-orange-600 border-orange-600"},{default:g(()=>e[13]||(e[13]=[c(" 暂停 ",-1)])),_:1,__:[13]})):w("",!0),!t.isPlaying&&!t.gameOver&&t.gameTime>0?(d(),D(r,{key:2,onClick:H,type:"success",class:"bg-green-500 hover:bg-green-600 border-green-600"},{default:g(()=>e[14]||(e[14]=[c(" 继续游戏 ",-1)])),_:1,__:[14]})):w("",!0),t.gameOver?(d(),D(r,{key:3,onClick:E,type:"success",class:"bg-green-500 hover:bg-green-600 border-green-600"},{default:g(()=>e[15]||(e[15]=[c(" 重新开始 ",-1)])),_:1,__:[15]})):w("",!0)]),o("div",Ce,[o("div",Ie,[e[20]||(e[20]=o("h3",{class:"text-center text-sm font-medium text-gray-700 mb-3"}," 方向控制 ",-1)),o("div",Me,[o("div",Oe,[f(r,{onClick:e[2]||(e[2]=a=>I("up")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:g(()=>e[16]||(e[16]=[c(" ↑ ",-1)])),_:1,__:[16]},8,["disabled"])]),o("div",Te,[f(r,{onClick:e[3]||(e[3]=a=>I("left")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:g(()=>e[17]||(e[17]=[c(" ← ",-1)])),_:1,__:[17]},8,["disabled"])]),o("div",De,[f(r,{onClick:e[4]||(e[4]=a=>I("down")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:g(()=>e[18]||(e[18]=[c(" ↓ ",-1)])),_:1,__:[18]},8,["disabled"])]),o("div",Ve,[f(r,{onClick:e[5]||(e[5]=a=>I("right")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:g(()=>e[19]||(e[19]=[c(" → ",-1)])),_:1,__:[19]},8,["disabled"])])])])]),t.gameOver?(d(),u("div",$e,[o("div",He,[e[21]||(e[21]=o("h3",{class:"text-lg font-medium text-red-900 mb-2"},"游戏结束",-1)),o("p",Ne,"最终得分: "+z(t.score),1),o("p",Ae," 游戏时间: "+z(B(t.gameTime)),1),t.score>t.highScore?(d(),u("p",Fe," 新纪录！恭喜你创造了新的最高分！ ")):w("",!0)])])):w("",!0),e[22]||(e[22]=ie('<div class="bg-gray-50 rounded-lg p-4 border-2 border-gray-200 shadow-sm" data-v-f86e5e76><h3 class="text-lg font-medium text-gray-900 mb-3" data-v-f86e5e76>操作说明</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600" data-v-f86e5e76><div class="bg-white p-3 rounded border border-gray-200" data-v-f86e5e76><p data-v-f86e5e76><strong class="text-blue-600" data-v-f86e5e76>方向键/WASD：</strong>控制蛇的移动方向 </p><p data-v-f86e5e76><strong class="text-blue-600" data-v-f86e5e76>空格键：</strong>暂停/继续游戏 </p></div><div class="bg-white p-3 rounded border border-gray-200" data-v-f86e5e76><p data-v-f86e5e76><strong class="text-green-600" data-v-f86e5e76>目标：</strong>吃到红色食物，让蛇变长 </p><p data-v-f86e5e76><strong class="text-red-600" data-v-f86e5e76>注意：</strong>不要撞墙或撞到自己 </p></div></div><div class="lg:hidden mt-4 bg-blue-50 p-3 rounded border border-blue-200" data-v-f86e5e76><p class="text-sm text-blue-700" data-v-f86e5e76><strong data-v-f86e5e76>移动端：</strong>使用下方虚拟方向键控制蛇的移动 </p></div></div>',1))])]),f(se,{title:"描述"},{default:g(()=>[f(S,null,{default:g(()=>e[23]||(e[23]=[c(" 经典贪吃蛇游戏，支持键盘控制：",-1),o("br",null,null,-1),o("br",null,null,-1),c(" 游戏特色：流畅的操作体验，实时得分显示，最高分记录",-1),o("br",null,null,-1),c(" 操作方式：使用方向键或WASD控制蛇的移动，空格键暂停游戏",-1),o("br",null,null,-1),c(" 游戏目标：控制蛇吃到食物，让蛇变得越来越长",-1),o("br",null,null,-1),c(" 挑战模式：避免撞墙和撞到自己，挑战你的反应速度",-1),o("br",null,null,-1),o("br",null,null,-1),c(" 适合休闲娱乐，锻炼反应能力和手眼协调。 ",-1)])),_:1,__:[23]})]),_:1})])}}});const Ue=de(je,[["__scopeId","data-v-f86e5e76"]]);export{Ue as default};
