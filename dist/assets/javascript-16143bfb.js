import{r as Ve,B as yt}from"./codemirror-bae2b71c.js";import{s as Vt}from"./index-f47cc413.js";import{d as tt,D as ge,s as jt,E as Mt,y as lt,j as de,z as $e,A as Bt,b as Ge,c as rt,g as Nt,G as zt,H as Pt,I as Wt,J as $t,K as Ht,o as ft,L as ut}from"./index-69b8d5ac.js";var Ut={exports:{}};(function(_,W){(function(u){u(Ve())})(function(u){function O(m,v,C,d){if(C&&C.call){var I=C;C=null}else var I=A(m,C,"rangeFinder");typeof v=="number"&&(v=u.Pos(v,0));var s=A(m,C,"minFoldSize");function E(w){var F=I(m,v);if(!F||F.to.line-F.from.line<s)return null;if(d==="fold")return F;for(var L=m.findMarksAt(F.from),H=0;H<L.length;++H)if(L[H].__isFold){if(!w)return null;F.cleared=!0,L[H].clear()}return F}var b=E(!0);if(A(m,C,"scanUp"))for(;!b&&v.line>m.firstLine();)v=u.Pos(v.line-1,0),b=E(!1);if(!(!b||b.cleared||d==="unfold")){var T=S(m,C,b);u.on(T,"mousedown",function(w){h.clear(),u.e_preventDefault(w)});var h=m.markText(b.from,b.to,{replacedWith:T,clearOnEnter:A(m,C,"clearOnEnter"),__isFold:!0});h.on("clear",function(w,F){u.signal(m,"unfold",m,w,F)}),u.signal(m,"fold",m,b.from,b.to)}}function S(m,v,C){var d=A(m,v,"widget");if(typeof d=="function"&&(d=d(C.from,C.to)),typeof d=="string"){var I=document.createTextNode(d);d=document.createElement("span"),d.appendChild(I),d.className="CodeMirror-foldmarker"}else d&&(d=d.cloneNode(!0));return d}u.newFoldFunction=function(m,v){return function(C,d){O(C,d,{rangeFinder:m,widget:v})}},u.defineExtension("foldCode",function(m,v,C){O(this,m,v,C)}),u.defineExtension("isFolded",function(m){for(var v=this.findMarksAt(m),C=0;C<v.length;++C)if(v[C].__isFold)return!0}),u.commands.toggleFold=function(m){m.foldCode(m.getCursor())},u.commands.fold=function(m){m.foldCode(m.getCursor(),null,"fold")},u.commands.unfold=function(m){m.foldCode(m.getCursor(),{scanUp:!1},"unfold")},u.commands.foldAll=function(m){m.operation(function(){for(var v=m.firstLine(),C=m.lastLine();v<=C;v++)m.foldCode(u.Pos(v,0),{scanUp:!1},"fold")})},u.commands.unfoldAll=function(m){m.operation(function(){for(var v=m.firstLine(),C=m.lastLine();v<=C;v++)m.foldCode(u.Pos(v,0),{scanUp:!1},"unfold")})},u.registerHelper("fold","combine",function(){var m=Array.prototype.slice.call(arguments,0);return function(v,C){for(var d=0;d<m.length;++d){var I=m[d](v,C);if(I)return I}}}),u.registerHelper("fold","auto",function(m,v){for(var C=m.getHelpers(v,"fold"),d=0;d<C.length;d++){var I=C[d](m,v);if(I)return I}});var j={rangeFinder:u.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};u.defineOption("foldOptions",null);function A(m,v,C){if(v&&v[C]!==void 0)return v[C];var d=m.options.foldOptions;return d&&d[C]!==void 0?d[C]:j[C]}u.defineExtension("foldOption",function(m,v){return A(this,m,v)})})})();var Gt=Ut.exports;(function(_,W){(function(u){u(Ve(),Gt)})(function(u){u.defineOption("foldGutter",!1,function(h,w,F){F&&F!=u.Init&&(h.clearGutter(h.state.foldGutter.options.gutter),h.state.foldGutter=null,h.off("gutterClick",I),h.off("changes",E),h.off("viewportChange",b),h.off("fold",T),h.off("unfold",T),h.off("swapDoc",E),h.off("optionChange",s)),w&&(h.state.foldGutter=new S(j(w)),d(h),h.on("gutterClick",I),h.on("changes",E),h.on("viewportChange",b),h.on("fold",T),h.on("unfold",T),h.on("swapDoc",E),h.on("optionChange",s))});var O=u.Pos;function S(h){this.options=h,this.from=this.to=0}function j(h){return h===!0&&(h={}),h.gutter==null&&(h.gutter="CodeMirror-foldgutter"),h.indicatorOpen==null&&(h.indicatorOpen="CodeMirror-foldgutter-open"),h.indicatorFolded==null&&(h.indicatorFolded="CodeMirror-foldgutter-folded"),h}function A(h,w){for(var F=h.findMarks(O(w,0),O(w+1,0)),L=0;L<F.length;++L)if(F[L].__isFold){var H=F[L].find(-1);if(H&&H.line===w)return F[L]}}function m(h){if(typeof h=="string"){var w=document.createElement("div");return w.className=h+" CodeMirror-guttermarker-subtle",w}else return h.cloneNode(!0)}function v(h,w,F){var L=h.state.foldGutter.options,H=w-1,z=h.foldOption(L,"minFoldSize"),X=h.foldOption(L,"rangeFinder"),J=typeof L.indicatorFolded=="string"&&C(L.indicatorFolded),U=typeof L.indicatorOpen=="string"&&C(L.indicatorOpen);h.eachLine(w,F,function(ae){++H;var oe=null,G=ae.gutterMarkers;if(G&&(G=G[L.gutter]),A(h,H)){if(J&&G&&J.test(G.className))return;oe=m(L.indicatorFolded)}else{var te=O(H,0),c=X&&X(h,te);if(c&&c.to.line-c.from.line>=z){if(U&&G&&U.test(G.className))return;oe=m(L.indicatorOpen)}}!oe&&!G||h.setGutterMarker(ae,L.gutter,oe)})}function C(h){return new RegExp("(^|\\s)"+h+"(?:$|\\s)\\s*")}function d(h){var w=h.getViewport(),F=h.state.foldGutter;F&&(h.operation(function(){v(h,w.from,w.to)}),F.from=w.from,F.to=w.to)}function I(h,w,F){var L=h.state.foldGutter;if(L){var H=L.options;if(F==H.gutter){var z=A(h,w);z?z.clear():h.foldCode(O(w,0),H)}}}function s(h,w){w=="mode"&&E(h)}function E(h){var w=h.state.foldGutter;if(w){var F=w.options;w.from=w.to=0,clearTimeout(w.changeUpdate),w.changeUpdate=setTimeout(function(){d(h)},F.foldOnChangeTimeSpan||600)}}function b(h){var w=h.state.foldGutter;if(w){var F=w.options;clearTimeout(w.changeUpdate),w.changeUpdate=setTimeout(function(){var L=h.getViewport();w.from==w.to||L.from-w.to>20||w.from-L.to>20?d(h):h.operation(function(){L.from<w.from&&(v(h,L.from,w.from),w.from=L.from),L.to>w.to&&(v(h,w.to,L.to),w.to=L.to)})},F.updateViewportTimeSpan||400)}}function T(h,w){var F=h.state.foldGutter;if(F){var L=w.line;L>=F.from&&L<F.to&&v(h,L,L+1)}}})})();(function(_,W){(function(u){u(Ve())})(function(u){function O(S){return function(j,A){var m=A.line,v=j.getLine(m);function C(T){for(var h,w=A.ch,F=0;;){var L=w<=0?-1:v.lastIndexOf(T[0],w-1);if(L==-1){if(F==1)break;F=1,w=v.length;continue}if(F==1&&L<A.ch)break;if(h=j.getTokenTypeAt(u.Pos(m,L+1)),!/^(comment|string)/.test(h))return{ch:L+1,tokenType:h,pair:T};w=L-1}}function d(T){var h=1,w=j.lastLine(),F,L=T.ch,H;e:for(var z=m;z<=w;++z)for(var X=j.getLine(z),J=z==m?L:0;;){var U=X.indexOf(T.pair[0],J),ae=X.indexOf(T.pair[1],J);if(U<0&&(U=X.length),ae<0&&(ae=X.length),J=Math.min(U,ae),J==X.length)break;if(j.getTokenTypeAt(u.Pos(z,J+1))==T.tokenType){if(J==U)++h;else if(!--h){F=z,H=J;break e}}++J}return F==null||m==F?null:{from:u.Pos(m,L),to:u.Pos(F,H)}}for(var I=[],s=0;s<S.length;s++){var E=C(S[s]);E&&I.push(E)}I.sort(function(T,h){return T.ch-h.ch});for(var s=0;s<I.length;s++){var b=d(I[s]);if(b)return b}return null}}u.registerHelper("fold","brace",O([["{","}"],["[","]"]])),u.registerHelper("fold","brace-paren",O([["{","}"],["[","]"],["(",")"]])),u.registerHelper("fold","import",function(S,j){function A(s){if(s<S.firstLine()||s>S.lastLine())return null;var E=S.getTokenAt(u.Pos(s,1));if(/\S/.test(E.string)||(E=S.getTokenAt(u.Pos(s,E.end+1))),E.type!="keyword"||E.string!="import")return null;for(var b=s,T=Math.min(S.lastLine(),s+10);b<=T;++b){var h=S.getLine(b),w=h.indexOf(";");if(w!=-1)return{startCh:E.end,end:u.Pos(b,w)}}}var m=j.line,v=A(m),C;if(!v||A(m-1)||(C=A(m-2))&&C.end.line==m-1)return null;for(var d=v.end;;){var I=A(d.line+1);if(I==null)break;d=I.end}return{from:S.clipPos(u.Pos(m,v.startCh+1)),to:d}}),u.registerHelper("fold","include",function(S,j){function A(I){if(I<S.firstLine()||I>S.lastLine())return null;var s=S.getTokenAt(u.Pos(I,1));if(/\S/.test(s.string)||(s=S.getTokenAt(u.Pos(I,s.end+1))),s.type=="meta"&&s.string.slice(0,8)=="#include")return s.start+8}var m=j.line,v=A(m);if(v==null||A(m-1)!=null)return null;for(var C=m;;){var d=A(C+1);if(d==null)break;++C}return{from:u.Pos(m,v+1),to:S.clipPos(u.Pos(C))}})})})();(function(_,W){(function(u){u(Ve())})(function(u){var O="CodeMirror-activeline",S="CodeMirror-activeline-background",j="CodeMirror-activeline-gutter";u.defineOption("styleActiveLine",!1,function(d,I,s){var E=s==u.Init?!1:s;I!=E&&(E&&(d.off("beforeSelectionChange",C),A(d),delete d.state.activeLines),I&&(d.state.activeLines=[],v(d,d.listSelections()),d.on("beforeSelectionChange",C)))});function A(d){for(var I=0;I<d.state.activeLines.length;I++)d.removeLineClass(d.state.activeLines[I],"wrap",O),d.removeLineClass(d.state.activeLines[I],"background",S),d.removeLineClass(d.state.activeLines[I],"gutter",j)}function m(d,I){if(d.length!=I.length)return!1;for(var s=0;s<d.length;s++)if(d[s]!=I[s])return!1;return!0}function v(d,I){for(var s=[],E=0;E<I.length;E++){var b=I[E],T=d.getOption("styleActiveLine");if(!(typeof T=="object"&&T.nonEmpty?b.anchor.line!=b.head.line:!b.empty())){var h=d.getLineHandleVisualStart(b.head.line);s[s.length-1]!=h&&s.push(h)}}m(d.state.activeLines,s)||d.operation(function(){A(d);for(var w=0;w<s.length;w++)d.addLineClass(s[w],"wrap",O),d.addLineClass(s[w],"background",S),d.addLineClass(s[w],"gutter",j);d.state.activeLines=s})}function C(d,I){v(d,I.ranges)}})})();(function(_,W){(function(u){u(Ve())})(function(u){var O=u.Pos,S="http://www.w3.org/2000/svg";function j(t,n){this.mv=t,this.type=n,this.classes=n=="left"?{chunk:"CodeMirror-merge-l-chunk",start:"CodeMirror-merge-l-chunk-start",end:"CodeMirror-merge-l-chunk-end",insert:"CodeMirror-merge-l-inserted",del:"CodeMirror-merge-l-deleted",connect:"CodeMirror-merge-l-connect"}:{chunk:"CodeMirror-merge-r-chunk",start:"CodeMirror-merge-r-chunk-start",end:"CodeMirror-merge-r-chunk-end",insert:"CodeMirror-merge-r-inserted",del:"CodeMirror-merge-r-deleted",connect:"CodeMirror-merge-r-connect"}}j.prototype={constructor:j,init:function(t,n,i){this.edit=this.mv.edit,(this.edit.state.diffViews||(this.edit.state.diffViews=[])).push(this),this.orig=u(t,R({value:n,readOnly:!this.mv.options.allowEditingOriginals},R(i))),this.mv.options.connect=="align"&&(this.edit.state.trackAlignable||(this.edit.state.trackAlignable=new Ce(this.edit)),this.orig.state.trackAlignable=new Ce(this.orig)),this.lockButton.title=this.edit.phrase("Toggle locked scrolling"),this.lockButton.setAttribute("aria-label",this.lockButton.title),this.orig.state.diffViews=[this];var a=i.chunkClassLocation||"background";Object.prototype.toString.call(a)!="[object Array]"&&(a=[a]),this.classes.classLocation=a,this.diff=je(V(n),V(i.value),this.mv.options.ignoreWhitespace),this.chunks=ve(this.diff),this.diffOutOfDate=this.dealigned=!1,this.needsScrollSync=null,this.showDifferences=i.showDifferences!==!1},registerEvents:function(t){this.forceUpdate=v(this),s(this,!0,!1),C(this,t)},setShowDifferences:function(t){t=t!==!1,t!=this.showDifferences&&(this.showDifferences=t,this.forceUpdate("full"))}};function A(t){t.diffOutOfDate&&(t.diff=je(t.orig.getValue(),t.edit.getValue(),t.mv.options.ignoreWhitespace),t.chunks=ve(t.diff),t.diffOutOfDate=!1,u.signal(t.edit,"updateDiff",t.diff))}var m=!1;function v(t){var n={from:0,to:0,marked:[]},i={from:0,to:0,marked:[]},a,l=!1;function f(D){m=!0,l=!1,D=="full"&&(t.svg&&P(t.svg),t.copyButtons&&P(t.copyButtons),b(t.edit,n.marked,t.classes),b(t.orig,i.marked,t.classes),n.from=n.to=i.from=i.to=0),A(t),t.showDifferences&&(T(t.edit,t.diff,n,DIFF_INSERT,t.classes),T(t.orig,t.diff,i,DIFF_DELETE,t.classes)),t.mv.options.connect=="align"&&J(t),F(t),t.needsScrollSync!=null&&d(t,t.needsScrollSync),m=!1}function p(D){m||(t.dealigned=!0,k(D))}function k(D){m||l||(clearTimeout(a),D===!0&&(l=!0),a=setTimeout(f,D===!0?20:250))}function x(D,q){t.diffOutOfDate||(t.diffOutOfDate=!0,n.from=n.to=i.from=i.to=0),p(q.text.length-1!=q.to.line-q.from.line)}function M(){t.diffOutOfDate=!0,t.dealigned=!0,f("full")}return t.edit.on("change",x),t.orig.on("change",x),t.edit.on("swapDoc",M),t.orig.on("swapDoc",M),t.mv.options.connect=="align"&&(u.on(t.edit.state.trackAlignable,"realign",p),u.on(t.orig.state.trackAlignable,"realign",p)),t.edit.on("viewportChange",function(){k(!1)}),t.orig.on("viewportChange",function(){k(!1)}),f(),f}function C(t,n){t.edit.on("scroll",function(){d(t,!0)&&F(t)}),t.orig.on("scroll",function(){d(t,!1)&&F(t),n&&d(n,!0)&&F(n)})}function d(t,n){if(t.diffOutOfDate)return t.lockScroll&&t.needsScrollSync==null&&(t.needsScrollSync=n),!1;if(t.needsScrollSync=null,!t.lockScroll)return!0;var i,a,l=+new Date;if(n?(i=t.edit,a=t.orig):(i=t.orig,a=t.edit),i.state.scrollSetBy==t&&(i.state.scrollSetAt||0)+250>l)return!1;var f=i.getScrollInfo();if(t.mv.options.connect=="align")Z=f.top;else{var p=.5*f.clientHeight,k=f.top+p,x=i.lineAtHeight(k,"local"),M=Fe(t.chunks,x,n),D=I(i,n?M.edit:M.orig),q=I(a,n?M.orig:M.edit),Y=(k-D.top)/(D.bot-D.top),Z=q.top-p+Y*(q.bot-q.top),re,fe;if(Z>f.top&&(fe=f.top/p)<1)Z=Z*fe+f.top*(1-fe);else if((re=f.height-f.clientHeight-f.top)<p){var ce=a.getScrollInfo(),B=ce.height-ce.clientHeight-Z;B>re&&(fe=re/p)<1&&(Z=Z*fe+(ce.height-ce.clientHeight-re)*(1-fe))}}return a.scrollTo(f.left,Z),a.state.scrollSetAt=l,a.state.scrollSetBy=t,!0}function I(t,n){var i=n.after;return i==null&&(i=t.lastLine()+1),{top:t.heightAtLine(n.before||0,"local"),bot:t.heightAtLine(i,"local")}}function s(t,n,i){t.lockScroll=n,n&&i!=!1&&d(t,DIFF_INSERT)&&F(t),(n?u.addClass:u.rmClass)(t.lockButton,"CodeMirror-merge-scrolllock-enabled")}function E(t,n,i){for(var a=i.classLocation,l=0;l<a.length;l++)t.removeLineClass(n,a[l],i.chunk),t.removeLineClass(n,a[l],i.start),t.removeLineClass(n,a[l],i.end)}function b(t,n,i){for(var a=0;a<n.length;++a){var l=n[a];l instanceof u.TextMarker?l.clear():l.parent&&E(t,l,i)}n.length=0}function T(t,n,i,a,l){var f=t.getViewport();t.operation(function(){i.from==i.to||f.from-i.to>20||i.from-f.to>20?(b(t,i.marked,l),w(t,n,a,i.marked,f.from,f.to,l),i.from=f.from,i.to=f.to):(f.from<i.from&&(w(t,n,a,i.marked,f.from,i.from,l),i.from=f.from),f.to>i.to&&(w(t,n,a,i.marked,i.to,f.to,l),i.to=f.to))})}function h(t,n,i,a,l,f){for(var p=i.classLocation,k=t.getLineHandle(n),x=0;x<p.length;x++)a&&t.addLineClass(k,p[x],i.chunk),l&&t.addLineClass(k,p[x],i.start),f&&t.addLineClass(k,p[x],i.end);return k}function w(t,n,i,a,l,f,p){var k=O(0,0),x=O(l,0),M=t.clipPos(O(f-1)),D=i==DIFF_DELETE?p.del:p.insert;function q(Oe,ue){for(var Le=Math.max(l,Oe),_e=Math.min(f,ue),Ie=Le;Ie<_e;++Ie)a.push(h(t,Ie,p,!0,Ie==Oe,Ie==ue-1));Oe==ue&&Le==ue&&_e==ue&&(Le?a.push(h(t,Le-1,p,!1,!1,!0)):a.push(h(t,Le,p,!1,!0,!1)))}for(var Y=0,Z=!1,re=0;re<n.length;++re){var fe=n[re],ce=fe[0],B=fe[1];if(ce==DIFF_EQUAL){var Ke=k.line+(Ee(n,re)?0:1);ie(k,B);var Ne=k.line+(He(n,re)?1:0);Ne>Ke&&(Z&&(q(Y,Ke),Z=!1),Y=Ne)}else if(Z=!0,ce==i){var xe=ie(k,B,!0),ze=be(x,k),Ze=Je(M,xe);ke(ze,Ze)||a.push(t.markText(ze,Ze,{className:D})),k=xe}}Z&&q(Y,k.line+1)}function F(t){if(t.showDifferences){if(t.svg){P(t.svg);var n=t.gap.offsetWidth;N(t.svg,"width",n,"height",t.gap.offsetHeight)}t.copyButtons&&P(t.copyButtons);for(var i=t.edit.getViewport(),a=t.orig.getViewport(),l=t.mv.wrap.getBoundingClientRect().top,f=l-t.edit.getScrollerElement().getBoundingClientRect().top+t.edit.getScrollInfo().top,p=l-t.orig.getScrollerElement().getBoundingClientRect().top+t.orig.getScrollInfo().top,k=0;k<t.chunks.length;k++){var x=t.chunks[k];x.editFrom<=i.to&&x.editTo>=i.from&&x.origFrom<=a.to&&x.origTo>=a.from&&oe(t,x,p,f,n)}}}function L(t,n){for(var i=0,a=0,l=0;l<n.length;l++){var f=n[l];if(f.editTo>t&&f.editFrom<=t)return null;if(f.editFrom>t)break;i=f.editTo,a=f.origTo}return a+(t-i)}function H(t,n,i){for(var a=t.state.trackAlignable,l=t.firstLine(),f=0,p=[],k=0;;k++){for(var x=n[k],M=x?i?x.origFrom:x.editFrom:1e9;f<a.alignable.length;f+=2){var D=a.alignable[f]+1;if(!(D<=l))if(D<=M)p.push(D);else break}if(!x)break;p.push(l=i?x.origTo:x.editTo)}return p}function z(t,n,i,a){var l=0,f=0,p=0,k=0;e:for(;;l++){var x=t[l],M=n[f];if(!x&&M==null)break;for(var D=x?x[0]:1e9,q=M??1e9;p<i.length;){var Y=i[p];if(Y.origFrom<=q&&Y.origTo>q){f++,l--;continue e}if(Y.editTo>D){if(Y.editFrom<=D)continue e;break}k+=Y.origTo-Y.origFrom-(Y.editTo-Y.editFrom),p++}if(D==q-k)x[a]=q,f++;else if(D<q-k)x[a]=D+k;else{var Z=[q-k,null,null];Z[a]=q,t.splice(l,0,Z),f++}}}function X(t,n){var i=H(t.edit,t.chunks,!1),a=[];if(n)for(var l=0,f=0;l<n.chunks.length;l++){for(var p=n.chunks[l].editTo;f<i.length&&i[f]<p;)f++;(f==i.length||i[f]!=p)&&i.splice(f++,0,p)}for(var l=0;l<i.length;l++)a.push([i[l],null,null]);return z(a,H(t.orig,t.chunks,!0),t.chunks,1),n&&z(a,H(n.orig,n.chunks,!0),n.chunks,2),a}function J(t,n){if(!(!t.dealigned&&!n)){if(!t.orig.curOp)return t.orig.operation(function(){J(t,n)});t.dealigned=!1;var i=t.mv.left==t?t.mv.right:t.mv.left;i&&(A(i),i.dealigned=!1);for(var a=X(t,i),l=t.mv.aligners,f=0;f<l.length;f++)l[f].clear();l.length=0;var p=[t.edit,t.orig],k=[],x=[];i&&p.push(i.orig);for(var f=0;f<p.length;f++)k.push(p[f].getScrollInfo().top),x.push(-p[f].getScrollerElement().getBoundingClientRect().top);(x[0]!=x[1]||p.length==3&&x[1]!=x[2])&&U(p,x,[0,0,0],l);for(var M=0;M<a.length;M++)U(p,x,a[M],l);for(var f=0;f<p.length;f++)p[f].scrollTo(null,k[f])}}function U(t,n,i,a){for(var l=-1e8,f=[],p=0;p<t.length;p++)if(i[p]!=null){var k=t[p].heightAtLine(i[p],"local")-n[p];f[p]=k,l=Math.max(l,k)}for(var p=0;p<t.length;p++)if(i[p]!=null){var x=l-f[p];x>1&&a.push(ae(t[p],i[p],x))}}function ae(t,n,i){var a=!0;n>t.lastLine()&&(n--,a=!1);var l=document.createElement("div");return l.className="CodeMirror-merge-spacer",l.style.height=i+"px",l.style.minWidth="1px",t.addLineWidget(n,l,{height:i,above:a,mergeSpacer:!0,handleMouseEvents:!0})}function oe(t,n,i,a,l){var f=t.type=="left",p=t.orig.heightAtLine(n.origFrom,"local",!0)-i;if(t.svg){var k=p,x=t.edit.heightAtLine(n.editFrom,"local",!0)-a;if(f){var M=k;k=x,x=M}var D=t.orig.heightAtLine(n.origTo,"local",!0)-i,q=t.edit.heightAtLine(n.editTo,"local",!0)-a;if(f){var M=D;D=q,q=M}var Y=" C "+l/2+" "+x+" "+l/2+" "+k+" "+(l+2)+" "+k,Z=" C "+l/2+" "+D+" "+l/2+" "+q+" -1 "+q;N(t.svg.appendChild(document.createElementNS(S,"path")),"d","M -1 "+x+Y+" L "+(l+2)+" "+D+Z+" z","class",t.classes.connect)}if(t.copyButtons){var re=t.copyButtons.appendChild(ne("div",t.type=="left"?"⇝":"⇜","CodeMirror-merge-copy")),fe=t.mv.options.allowEditingOriginals;if(re.title=t.edit.phrase(fe?"Push to left":"Revert chunk"),re.chunk=n,re.style.top=(n.origTo>n.origFrom?p:t.edit.heightAtLine(n.editFrom,"local")-a)+"px",re.setAttribute("role","button"),re.setAttribute("tabindex","0"),re.setAttribute("aria-label",re.title),fe){var ce=t.edit.heightAtLine(n.editFrom,"local")-a,B=t.copyButtons.appendChild(ne("div",t.type=="right"?"⇝":"⇜","CodeMirror-merge-copy-reverse"));B.title="Push to right",B.chunk={editFrom:n.origFrom,editTo:n.origTo,origFrom:n.editFrom,origTo:n.editTo},B.style.top=ce+"px",t.type=="right"?B.style.left="2px":B.style.right="2px",B.setAttribute("role","button"),B.setAttribute("tabindex","0"),B.setAttribute("aria-label",B.title)}}}function G(t,n,i,a){if(!t.diffOutOfDate){var l=a.origTo>i.lastLine()?O(a.origFrom-1):O(a.origFrom,0),f=O(a.origTo,0),p=a.editTo>n.lastLine()?O(a.editFrom-1):O(a.editFrom,0),k=O(a.editTo,0),x=t.mv.options.revertChunk;x?x(t.mv,i,l,f,n,p,k):n.replaceRange(i.getRange(l,f),p,k)}}var te=u.MergeView=function(t,n){if(!(this instanceof te))return new te(t,n);this.options=n;var i=n.origLeft,a=n.origRight==null?n.orig:n.origRight,l=i!=null,f=a!=null,p=1+(l?1:0)+(f?1:0),k=[],x=this.left=null,M=this.right=null,D=this;if(l){x=this.left=new j(this,"left");var q=ne("div",null,"CodeMirror-merge-pane CodeMirror-merge-left");k.push(q),k.push(c(x))}var Y=ne("div",null,"CodeMirror-merge-pane CodeMirror-merge-editor");if(k.push(Y),f){M=this.right=new j(this,"right"),k.push(c(M));var Z=ne("div",null,"CodeMirror-merge-pane CodeMirror-merge-right");k.push(Z)}(f?Z:Y).className+=" CodeMirror-merge-pane-rightmost",k.push(ne("div",null,null,"height: 0; clear: both;"));var re=this.wrap=t.appendChild(ne("div",k,"CodeMirror-merge CodeMirror-merge-"+p+"pane"));this.edit=u(Y,R(n)),x&&x.init(q,i,n),M&&M.init(Z,a,n),n.collapseIdentical&&this.editor().operation(function(){Me(D,n.collapseIdentical)}),n.connect=="align"&&(this.aligners=[],J(this.left||this.right,!0)),x&&x.registerEvents(M),M&&M.registerEvents(x);var fe=function(){x&&F(x),M&&F(M)};u.on(window,"resize",fe);var ce=setInterval(function(){for(var B=re.parentNode;B&&B!=document.body;B=B.parentNode);B||(clearInterval(ce),u.off(window,"resize",fe))},5e3)};function c(t){var n=t.lockButton=ne("div",null,"CodeMirror-merge-scrolllock");n.setAttribute("role","button"),n.setAttribute("tabindex","0");var i=ne("div",[n],"CodeMirror-merge-scrolllock-wrap");u.on(n,"click",function(){s(t,!t.lockScroll)}),u.on(n,"keyup",function(p){(p.key==="Enter"||p.code==="Space")&&s(t,!t.lockScroll)});var a=[i];if(t.mv.options.revertButtons!==!1){t.copyButtons=ne("div",null,"CodeMirror-merge-copybuttons-"+t.type);var l=function(p){var k=p.target||p.srcElement;if(k.chunk){if(k.className=="CodeMirror-merge-copy-reverse"){G(t,t.orig,t.edit,k.chunk);return}G(t,t.edit,t.orig,k.chunk)}};u.on(t.copyButtons,"click",l),u.on(t.copyButtons,"keyup",function(p){(p.key==="Enter"||p.code==="Space")&&l(p)}),a.unshift(t.copyButtons)}if(t.mv.options.connect!="align"){var f=document.createElementNS&&document.createElementNS(S,"svg");f&&!f.createSVGRect&&(f=null),t.svg=f,f&&a.push(f)}return t.gap=ne("div",a,"CodeMirror-merge-gap")}te.prototype={constructor:te,editor:function(){return this.edit},rightOriginal:function(){return this.right&&this.right.orig},leftOriginal:function(){return this.left&&this.left.orig},setShowDifferences:function(t){this.right&&this.right.setShowDifferences(t),this.left&&this.left.setShowDifferences(t)},rightChunks:function(){if(this.right)return A(this.right),this.right.chunks},leftChunks:function(){if(this.left)return A(this.left),this.left.chunks}};function V(t){return typeof t=="string"?t:t.getValue()}var o;function je(t,n,i){o||(o=new diff_match_patch);for(var a=o.diff_main(t,n),l=0;l<a.length;++l){var f=a[l];(i?!/[^ \t]/.test(f[1]):!f[1])?a.splice(l--,1):l&&a[l-1][0]==f[0]&&(a.splice(l--,1),a[l][1]+=f[1])}return a}function ve(t){var n=[];if(!t.length)return n;for(var i=0,a=0,l=O(0,0),f=O(0,0),p=0;p<t.length;++p){var k=t[p],x=k[0];if(x==DIFF_EQUAL){var M=!Ee(t,p)||l.line<i||f.line<a?1:0,D=l.line+M,q=f.line+M;ie(l,k[1],null,f);var Y=He(t,p)?1:0,Z=l.line+Y,re=f.line+Y;Z>D&&(p&&n.push({origFrom:a,origTo:q,editFrom:i,editTo:D}),i=Z,a=re)}else ie(x==DIFF_INSERT?l:f,k[1])}return(i<=l.line||a<=f.line)&&n.push({origFrom:a,origTo:f.line+1,editFrom:i,editTo:l.line+1}),n}function He(t,n){if(n==t.length-1)return!0;var i=t[n+1][1];return i.length==1&&n<t.length-2||i.charCodeAt(0)!=10?!1:n==t.length-2?!0:(i=t[n+2][1],(i.length>1||n==t.length-3)&&i.charCodeAt(0)==10)}function Ee(t,n){if(n==0)return!0;var i=t[n-1][1];return i.charCodeAt(i.length-1)!=10?!1:n==1?!0:(i=t[n-2][1],i.charCodeAt(i.length-1)==10)}function Fe(t,n,i){for(var a,l,f,p,k=0;k<t.length;k++){var x=t[k],M=i?x.editFrom:x.origFrom,D=i?x.editTo:x.origTo;l==null&&(M>n?(l=x.editFrom,p=x.origFrom):D>n&&(l=x.editTo,p=x.origTo)),D<=n?(a=x.editTo,f=x.origTo):M<=n&&(a=x.editFrom,f=x.origFrom)}return{edit:{before:a,after:l},orig:{before:f,after:p}}}function Ae(t,n,i){t.addLineClass(n,"wrap","CodeMirror-merge-collapsed-line");var a=document.createElement("span");a.className="CodeMirror-merge-collapsed-widget",a.title=t.phrase("Identical text collapsed. Click to expand.");var l=t.markText(O(n,0),O(i-1),{inclusiveLeft:!0,inclusiveRight:!0,replacedWith:a,clearOnEnter:!0});function f(){l.clear(),t.removeLineClass(n,"wrap","CodeMirror-merge-collapsed-line")}return l.explicitlyCleared&&f(),u.on(a,"click",f),l.on("clear",f),u.on(a,"click",f),{mark:l,clear:f}}function nt(t,n){var i=[];function a(){for(var k=0;k<i.length;k++)i[k].clear()}for(var l=0;l<n.length;l++){var f=n[l],p=Ae(f.cm,f.line,f.line+t);i.push(p),p.mark.on("clear",a)}return i[0].mark}function pe(t,n,i,a){for(var l=0;l<t.chunks.length;l++)for(var f=t.chunks[l],p=f.editFrom-n;p<f.editTo+n;p++){var k=p+i;k>=0&&k<a.length&&(a[k]=!1)}}function Me(t,n){typeof n!="number"&&(n=2);for(var i=[],a=t.editor(),l=a.firstLine(),f=l,p=a.lastLine();f<=p;f++)i.push(!0);t.left&&pe(t.left,n,l,i),t.right&&pe(t.right,n,l,i);for(var k=0;k<i.length;k++)if(i[k]){for(var x=k+l,M=1;k<i.length-1&&i[k+1];k++,M++);if(M>n){var D=[{line:x,cm:a}];t.left&&D.push({line:L(x,t.left.chunks),cm:t.left.orig}),t.right&&D.push({line:L(x,t.right.chunks),cm:t.right.orig});var q=nt(M,D);t.options.onCollapse&&t.options.onCollapse(t,x,M,q)}}}function ne(t,n,i,a){var l=document.createElement(t);if(i&&(l.className=i),a&&(l.style.cssText=a),typeof n=="string")l.appendChild(document.createTextNode(n));else if(n)for(var f=0;f<n.length;++f)l.appendChild(n[f]);return l}function P(t){for(var n=t.childNodes.length;n>0;--n)t.removeChild(t.firstChild)}function N(t){for(var n=1;n<arguments.length;n+=2)t.setAttribute(arguments[n],arguments[n+1])}function R(t,n){n||(n={});for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function ie(t,n,i,a){for(var l=i?O(t.line,t.ch):t,f=0;;){var p=n.indexOf(`
`,f);if(p==-1)break;++l.line,a&&++a.line,f=p+1}return l.ch=(f?0:l.ch)+(n.length-f),a&&(a.ch=(f?0:a.ch)+(n.length-f)),l}var qe=1,K=2,le=4;function Ce(t){this.cm=t,this.alignable=[],this.height=t.doc.height;var n=this;t.on("markerAdded",function(i,a){if(a.collapsed){var l=a.find(1);l!=null&&n.set(l.line,le)}}),t.on("markerCleared",function(i,a,l,f){f!=null&&a.collapsed&&n.check(f,le,n.hasMarker)}),t.on("markerChanged",this.signal.bind(this)),t.on("lineWidgetAdded",function(i,a,l){a.mergeSpacer||(a.above?n.set(l-1,K):n.set(l,qe))}),t.on("lineWidgetCleared",function(i,a,l){a.mergeSpacer||(a.above?n.check(l-1,K,n.hasWidgetBelow):n.check(l,qe,n.hasWidget))}),t.on("lineWidgetChanged",this.signal.bind(this)),t.on("change",function(i,a){var l=a.from.line,f=a.to.line-a.from.line,p=a.text.length-1,k=l+p;(f||p)&&n.map(l,f,p),n.check(k,le,n.hasMarker),(f||p)&&n.check(a.from.line,le,n.hasMarker)}),t.on("viewportChange",function(){n.cm.doc.height!=n.height&&n.signal()})}Ce.prototype={signal:function(){u.signal(this,"realign"),this.height=this.cm.doc.height},set:function(t,n){for(var i=-1;i<this.alignable.length;i+=2){var a=this.alignable[i]-t;if(a==0){if((this.alignable[i+1]&n)==n)return;this.alignable[i+1]|=n,this.signal();return}if(a>0)break}this.signal(),this.alignable.splice(i,0,t,n)},find:function(t){for(var n=0;n<this.alignable.length;n+=2)if(this.alignable[n]==t)return n;return-1},check:function(t,n,i){var a=this.find(t);if(!(a==-1||!(this.alignable[a+1]&n))&&!i.call(this,t)){this.signal();var l=this.alignable[a+1]&~n;l?this.alignable[a+1]=l:this.alignable.splice(a,2)}},hasMarker:function(t){var n=this.cm.getLineHandle(t);if(n.markedSpans){for(var i=0;i<n.markedSpans.length;i++)if(n.markedSpans[i].marker.collapsed&&n.markedSpans[i].to!=null)return!0}return!1},hasWidget:function(t){var n=this.cm.getLineHandle(t);if(n.widgets){for(var i=0;i<n.widgets.length;i++)if(!n.widgets[i].above&&!n.widgets[i].mergeSpacer)return!0}return!1},hasWidgetBelow:function(t){if(t==this.cm.lastLine())return!1;var n=this.cm.getLineHandle(t+1);if(n.widgets){for(var i=0;i<n.widgets.length;i++)if(n.widgets[i].above&&!n.widgets[i].mergeSpacer)return!0}return!1},map:function(t,n,i){for(var a=i-n,l=t+n,f=-1,p=-1,k=0;k<this.alignable.length;k+=2){var x=this.alignable[k];x==t&&this.alignable[k+1]&K&&(f=k),x==l&&this.alignable[k+1]&K&&(p=k),!(x<=t)&&(x<l?this.alignable.splice(k--,2):this.alignable[k]+=a)}if(f>-1){var M=this.alignable[f+1];M==K?this.alignable.splice(f,2):this.alignable[f+1]=M&~K}p>-1&&i&&this.set(t+i,K)}};function Je(t,n){return(t.line-n.line||t.ch-n.ch)<0?t:n}function be(t,n){return(t.line-n.line||t.ch-n.ch)>0?t:n}function ke(t,n){return t.line==n.line&&t.ch==n.ch}function ye(t,n,i){for(var a=t.length-1;a>=0;a--){var l=t[a],f=(i?l.origTo:l.editTo)-1;if(f<n)return f}}function Be(t,n,i){for(var a=0;a<t.length;a++){var l=t[a],f=i?l.origFrom:l.editFrom;if(f>n)return f}}function Qe(t,n){var i=null,a=t.state.diffViews,l=t.getCursor().line;if(a)for(var f=0;f<a.length;f++){var p=a[f],k=t==p.orig;A(p);var x=n<0?ye(p.chunks,l,k):Be(p.chunks,l,k);x!=null&&(i==null||(n<0?x>i:x<i))&&(i=x)}if(i!=null)t.setCursor(i,0);else return u.Pass}u.commands.goNextDiff=function(t){return Qe(t,1)},u.commands.goPrevDiff=function(t){return Qe(t,-1)}})})();(function(_,W){(function(u){u(Ve())})(function(u){u.defineSimpleMode=function(s,E){u.defineMode(s,function(b){return u.simpleMode(b,E)})},u.simpleMode=function(s,E){O(E,"start");var b={},T=E.meta||{},h=!1;for(var w in E)if(w!=T&&E.hasOwnProperty(w))for(var F=b[w]=[],L=E[w],H=0;H<L.length;H++){var z=L[H];F.push(new A(z,E)),(z.indent||z.dedent)&&(h=!0)}var X={startState:function(){return{state:"start",pending:null,local:null,localState:null,indent:h?[]:null}},copyState:function(U){var ae={state:U.state,pending:U.pending,local:U.local,localState:null,indent:U.indent&&U.indent.slice(0)};U.localState&&(ae.localState=u.copyState(U.local.mode,U.localState)),U.stack&&(ae.stack=U.stack.slice(0));for(var oe=U.persistentStates;oe;oe=oe.next)ae.persistentStates={mode:oe.mode,spec:oe.spec,state:oe.state==U.localState?ae.localState:u.copyState(oe.mode,oe.state),next:ae.persistentStates};return ae},token:m(b,s),innerMode:function(U){return U.local&&{mode:U.local.mode,state:U.localState}},indent:I(b,T)};if(T)for(var J in T)T.hasOwnProperty(J)&&(X[J]=T[J]);return X};function O(s,E){if(!s.hasOwnProperty(E))throw new Error("Undefined state "+E+" in simple mode")}function S(s,E){if(!s)return/(?:)/;var b="";return s instanceof RegExp?(s.ignoreCase&&(b="i"),s.unicode&&(b+="u"),s=s.source):s=String(s),new RegExp((E===!1?"":"^")+"(?:"+s+")",b)}function j(s){if(!s)return null;if(s.apply)return s;if(typeof s=="string")return s.replace(/\./g," ");for(var E=[],b=0;b<s.length;b++)E.push(s[b]&&s[b].replace(/\./g," "));return E}function A(s,E){(s.next||s.push)&&O(E,s.next||s.push),this.regex=S(s.regex),this.token=j(s.token),this.data=s}function m(s,E){return function(b,T){if(T.pending){var h=T.pending.shift();return T.pending.length==0&&(T.pending=null),b.pos+=h.text.length,h.token}if(T.local)if(T.local.end&&b.match(T.local.end)){var w=T.local.endToken||null;return T.local=T.localState=null,w}else{var w=T.local.mode.token(b,T.localState),F;return T.local.endScan&&(F=T.local.endScan.exec(b.current()))&&(b.pos=b.start+F.index),w}for(var L=s[T.state],H=0;H<L.length;H++){var z=L[H],X=(!z.data.sol||b.sol())&&b.match(z.regex);if(X){z.data.next?T.state=z.data.next:z.data.push?((T.stack||(T.stack=[])).push(T.state),T.state=z.data.push):z.data.pop&&T.stack&&T.stack.length&&(T.state=T.stack.pop()),z.data.mode&&C(E,T,z.data.mode,z.token),z.data.indent&&T.indent.push(b.indentation()+E.indentUnit),z.data.dedent&&T.indent.pop();var J=z.token;if(J&&J.apply&&(J=J(X)),X.length>2&&z.token&&typeof z.token!="string"){for(var U=2;U<X.length;U++)X[U]&&(T.pending||(T.pending=[])).push({text:X[U],token:z.token[U-1]});return b.backUp(X[0].length-(X[1]?X[1].length:0)),J[0]}else return J&&J.join?J[0]:J}}return b.next(),null}}function v(s,E){if(s===E)return!0;if(!s||typeof s!="object"||!E||typeof E!="object")return!1;var b=0;for(var T in s)if(s.hasOwnProperty(T)){if(!E.hasOwnProperty(T)||!v(s[T],E[T]))return!1;b++}for(var T in E)E.hasOwnProperty(T)&&b--;return b==0}function C(s,E,b,T){var h;if(b.persistent)for(var w=E.persistentStates;w&&!h;w=w.next)(b.spec?v(b.spec,w.spec):b.mode==w.mode)&&(h=w);var F=h?h.mode:b.mode||u.getMode(s,b.spec),L=h?h.state:u.startState(F);b.persistent&&!h&&(E.persistentStates={mode:F,spec:b.spec,state:L,next:E.persistentStates}),E.localState=L,E.local={mode:F,end:b.end&&S(b.end),endScan:b.end&&b.forceEnd!==!1&&S(b.end,!1),endToken:T&&T.join?T[T.length-1]:T}}function d(s,E){for(var b=0;b<E.length;b++)if(E[b]===s)return!0}function I(s,E){return function(b,T,h){if(b.local&&b.local.mode.indent)return b.local.mode.indent(b.localState,T,h);if(b.indent==null||b.local||E.dontIndentStates&&d(b.state,E.dontIndentStates)>-1)return u.Pass;var w=b.indent.length-1,F=s[b.state];e:for(;;){for(var L=0;L<F.length;L++){var H=F[L];if(H.data.dedent&&H.data.dedentIfLineStart!==!1){var z=H.regex.exec(T);if(z&&z[0]){w--,(H.next||H.push)&&(F=s[H.next||H.push]),T=T.slice(z[0].length);continue e}}}break}return w<0?0:b.indent[w]}}})})();!window.CodeMirror&&(window.CodeMirror=yt);const Re=window.CodeMirror||yt,Rt=tt({name:"DefaultMode",props:{name:{type:String,default:`cm-textarea-${+new Date}`},value:{type:String,default:""},content:{type:String,default:""},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>null},placeholder:{type:String,default:""}},emits:{ready:_=>_,"update:cminstance":_=>_},setup(_,{emit:W}){const u=ge(),O=ge(null),S=()=>{O.value=ut(Re.fromTextArea(u.value,_.options)),W("update:cminstance",O.value);const j=$e(()=>_.cminstance,A=>{var m;A&&((m=_.cminstance)==null||m.setValue(_.value||_.content)),W("ready",de(O)),j==null||j()},{deep:!0})};return ft(()=>{S()}),{textarea:u,initialize:S}}}),st=(_,W)=>{const u=_.__vccOpts||_;for(const[O,S]of W)u[O]=S;return u},qt=["name","placeholder"];function Jt(_,W,u,O,S,j){return Ge(),rt("textarea",{ref:"textarea",name:_.$props.name,placeholder:_.$props.placeholder},null,8,qt)}const bt=st(Rt,[["render",Jt]]);window.diff_match_patch=Vt;window.DIFF_DELETE=-1;window.DIFF_INSERT=1;window.DIFF_EQUAL=0;const Qt=tt({name:"MergeMode",props:{options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})}},emits:["update:cminstance","ready"],setup(_,{emit:W}){const u=ge(),O=ge(),S=()=>{u.value=ut(Re.MergeView(O.value,_.options)),W("update:cminstance",u.value),W("ready",u)};return ft(()=>{S()}),{mergeView:O,initialize:S}}}),Kt={ref:"mergeView"};function Zt(_,W,u,O,S,j){return Ge(),rt("div",Kt,null,512)}const Xt=st(Qt,[["render",Zt]]);function Yt(_){const W=/#link#(.+)#link#/g,u=[];let O;for(O=W.exec(_);O;){const S=document.createElement("a"),j=JSON.parse(O[1]),A=Object.entries(j);for(const[m,v]of A)S.setAttribute(m,v);S.className="editor_custom_link",S.innerHTML="logDownload",u.push({start:O.index,end:O.index+O[0].length,node:S}),O=W.exec(_)}return u}function er(_){const W=[];function u(){const O=/#log<(\w*)>log#((.|\r\n|\n)*?)#log<(\w*)>log#/g;let S;for(S=O.exec(_);S;){const j=S[0].replace(/\r\n/g,`
`).split(`
`),A=S[2].replace(/\r\n/g,`
`).split(`
`),m=document.createElement("span"),v=S[1];m.className=`c-editor--log__${v}`;let C=0;for(let d=0;d<j.length;d++){const I=j[d],s=A[d],E=m.cloneNode(!1);E.innerText=s,W.push({start:S.index+C,end:S.index+C+I.length,node:E}),C=C+I.length+1}S=O.exec(_)}}return u(),W}const et=[{regex:/(\[.*?\])([ \t]*)(<error>[ \t])(.+)/,token:["tag","","error.strong","error.strong"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<info>)(.+)(.?)/,token:["tag","","bracket","bracket","hr"],sol:!0},{regex:/(\[.*?\])([ \t]*)(<warning>)(.+)(.?)/,token:["tag","","comment","comment","hr"],sol:!0}];Re.defineSimpleMode("fclog",{start:[...et,{regex:/.*/,token:"hr"}],error:[...et,{regex:/.*/,token:"error.strong"}],info:[...et,{regex:/.*/,token:"bracket"}],warning:[...et,{regex:/.*\[/,token:"comment"}]});Re.defineSimpleMode("log",{start:[{regex:/^[=]+[^=]*[=]+/,token:"strong"},{regex:/([^\w])([A-Z][\w]*)/,token:["","string"]},{regex:/(^[A-Z][\w]*)/,token:"string"}]});const tr=tt({name:"CodemirrorFclog",props:{value:{type:String,default:""},name:{type:String,default:`cm-textarea-${+new Date}`},options:{type:Object,default:()=>({})},cminstance:{type:Object,default:()=>({})},placeholder:{type:String,default:""}},emits:["update:cminstance","ready"],setup(_,{emit:W}){const u=ge(),O=ge(null),S=(A=_.cminstance)=>{A.getAllMarks().forEach(C=>C.clear());const m=A.getValue(),v=[].concat(Yt(m)).concat(er(m));for(let C=0;C<v.length;C++){const d=v[C];A.markText(A.posFromIndex(d.start),A.posFromIndex(d.end),{replacedWith:d.node})}},j=()=>{var A;O.value=ut(Re.fromTextArea(u.value,_.options)),W("update:cminstance",de(O)),(A=O.value)==null||A.on("change",S)};return $e(()=>_.cminstance,A=>{var m;A&&(S(_.cminstance),(m=_.cminstance)==null||m.setValue(_.value),W("ready",O))},{deep:!0,immediate:!0}),ft(()=>{j()}),{initialize:j,textarea:u}}}),rr=["name","placeholder"];function nr(_,W,u,O,S,j){return Ge(),rt("textarea",{ref:"textarea",name:_.$props.name,placeholder:_.$props.placeholder},null,8,rr)}const ir=st(tr,[["render",nr]]),xt={"update:value":()=>!0,change:(_,W)=>({value:_,cm:W}),input:()=>!0,ready:_=>_},or=["changes","scroll","beforeChange","cursorActivity","keyHandled","inputRead","electricInput","beforeSelectionChange","viewportChange","swapDoc","gutterClick","gutterContextMenu","focus","blur","refresh","optionChange","scrollCursorIntoView","update"],ar=()=>{const _={};return or.forEach(W=>{_[W]=(...u)=>u}),_},lr={...xt,...ar()},at={mode:"text",theme:"default",lineNumbers:!0,smartIndent:!0,indentUnit:2,styleActiveLine:!0};function fr(_){Promise.resolve().then(()=>{const W=_.getScrollInfo();_.scrollTo(W.left,W.height)})}const ur=({props:_,cminstance:W,emit:u,internalInstance:O,content:S})=>{const j=lt(()=>{var m;return _.merge?(m=de(W))==null?void 0:m.editor():de(W)}),A=()=>{const m=[];return Object.keys(O==null?void 0:O.vnode.props).forEach(v=>{if(v.startsWith("on")){const C=v.replace(v[2],v[2].toLowerCase()).slice(2);!xt[C]&&m.push(C)}}),m};return{listenerEvents:()=>{j.value.on("change",v=>{const C=v.getValue();C===S.value&&C!==""||(S.value=C,u("update:value",S.value||""),u("input",S.value||" "),Promise.resolve().then(()=>{u("change",S.value,v)}),_.keepCursorInEnd&&fr(v))});const m={};A().filter(v=>!m[v]&&(m[v]=!0)).forEach(v=>{j.value.on(v,(...C)=>{u(v,...C)})})}}};function sr({props:_,cminstance:W,presetRef:u}){const O=ge("100%"),S=ge("100%"),j=lt(()=>{var s;return _.merge?(s=de(W))==null?void 0:s.editor():de(W)}),A=()=>{Ht(()=>{var s;(s=j.value)==null||s.refresh()})},m=s=>s?!(s&&isNaN(+s)):!1,v=(s=_.width,E=_.height)=>{var b;let T="100%",h="100%";m(s)?T=`${String(s)}px`:s&&(T=s),m(E)?h=`${String(E)}px`:E&&(h=E),O.value=T,S.value=h,console.log("resize",T,h),(b=j.value)==null||b.setSize("100%","100%")},C=()=>{var s;const E=(s=j.value)==null?void 0:s.getWrapperElement();E==null||E.remove()},d=()=>{var s,E,b;const T=(s=j.value)==null?void 0:s.getDoc().getHistory();(E=u.value)==null||E.initialize(),C(),(b=j.value)==null||b.getDoc().setHistory(T)},I=()=>{const s=document.querySelector(".CodeMirror-gutters");return(s==null?void 0:s.style.left.replace("px",""))!=="0"};return{reload:d,refresh:A,resize:v,destroy:C,containerWidth:O,containerHeight:S,reviseStyle:()=>{if(A(),!I())return;const s=setInterval(()=>{I()?A():clearInterval(s)},60),E=setTimeout(()=>{clearInterval(s),clearTimeout(E)},400)}}}const pr=tt({__name:"index",props:{value:{type:String,default:""},options:{type:Object,default:()=>at},globalOptions:{type:Object,default:()=>at},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},width:{type:[String,Number],default:null},height:{type:[String,Number],default:null},originalStyle:{type:Boolean,default:!1},keepCursorInEnd:{type:Boolean,default:!1},merge:{type:Boolean,default:!1},name:{type:String,default:""},marker:{type:Function,default:()=>null},unseenLines:{type:Array,default:()=>[]}},emits:lr,setup(_,{expose:W,emit:u}){var O,S,j;typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value(G){if(G==null)throw new TypeError("Cannot convert undefined or null to object");const te=Object(G);for(let c=1;c<arguments.length;c++){const V=arguments[c];if(V!=null)for(const o in V)Object.prototype.hasOwnProperty.call(V,o)&&(te[o]=V[o])}return te},writable:!0,configurable:!0});const A=_,m=u,v=ge(null),C=ge(""),d=jt(bt),I=ge({foldGutter:!0,...at,...A.globalOptions,...A.options,gutters:[...new Set(["CodeMirror-linenumbers","CodeMirror-foldgutter",...((O=A.options)==null?void 0:O.gutters)||[]])]}),s=Mt(),E=A.name||((j=(S=s==null?void 0:s.parent)==null?void 0:S.type)==null?void 0:j.name)||void 0,b=ge(null),T=lt(()=>{var G;return A.merge?(G=de(v))==null?void 0:G.editor():de(v)}),{refresh:h,resize:w,destroy:F,containerHeight:L,containerWidth:H,reviseStyle:z}=sr({props:A,cminstance:v,presetRef:b}),{listenerEvents:X}=ur({props:A,cminstance:v,emit:m,internalInstance:s,content:C}),J=()=>{A.unseenLines!==void 0&&A.marker!==void 0&&A.unseenLines.forEach(G=>{var te,c;const V=(te=v.value)==null?void 0:te.lineInfo(G);(c=v.value)==null||c.setGutterMarker(G,"breakpoints",V!=null&&V.gutterMarkers?null:A.marker())})},U=G=>{var te,c;const V=(te=v.value)==null?void 0:te.getValue();G!==V&&((c=v.value)==null||c.setValue(G),C.value=G,z()),J()},ae=()=>{X(),J(),w(A.width,A.height),m("ready",v.value),$e([()=>A.width,()=>A.height],([G,te])=>{w(G,te)},{deep:!0})},oe=()=>{if(A.options.mode==="fclog"||A.options.mode==="log"){d.value=ir;return}if(A.merge){d.value=Xt;return}d.value=bt};return $e(()=>A.options,G=>{var te;for(const c in A.options)(te=T.value)==null||te.setOption(c,de(G[c]))},{deep:!0}),$e(()=>A.value,G=>{U(G)}),$e(()=>A.merge,oe,{immediate:!0}),Bt(()=>{F()}),W({cminstance:v,resize:w,refresh:h,destroy:F}),(G,te)=>(Ge(),rt("div",{class:Wt(["codemirror-container",{merge:G.$props.merge,bordered:G.$props.border||G.$props.merge&&!A.originalStyle,"original-style":A.originalStyle}]),style:$t({height:de(L),width:de(H)})},[(Ge(),Nt(Pt(d.value),zt({ref_key:"presetRef",ref:b,cminstance:v.value,"onUpdate:cminstance":te[0]||(te[0]=c=>v.value=c),style:{height:"100%"}},{...G.$props,...G.$attrs,options:I.value,name:de(E),content:C.value},{onReady:ae}),null,16,["cminstance"]))],6))}});function cr(_,W){W===void 0&&(W={});var u=W.insertAt;if(!(!_||typeof document>"u")){var O=document.head||document.getElementsByTagName("head")[0],S=document.createElement("style");S.type="text/css",u==="top"&&O.firstChild?O.insertBefore(S,O.firstChild):O.appendChild(S),S.styleSheet?S.styleSheet.cssText=_:S.appendChild(document.createTextNode(_))}}cr(`.codemirror-container {
  position: relative;
  display: inline-block;
  height: 100%;
  width: fit-content;
  font-size: 13px;
  overflow: hidden;
}
.codemirror-container.bordered {
  border: 1px solid #aaaaaa;
}

.codemirror-container .editor_custom_link {
  cursor: pointer;
  color: #1474f1;
  text-decoration: underline;
}
.codemirror-container .editor_custom_link:hover {
  color: #04b4fa;
}
.codemirror-container:not(.original-style) .CodeMirror-lines .CodeMirror-placeholder.CodeMirror-line-like {
  color: #666;
}
.codemirror-container:not(.original-style) .CodeMirror,
.codemirror-container:not(.original-style) .CodeMirror-merge-pane {
  height: 100%;
  font-family: consolas !important;
}
.codemirror-container:not(.original-style) .CodeMirror-merge,
.codemirror-container:not(.original-style) .CodeMirror-merge-right .CodeMirror {
  height: 100%;
  border: none !important;
}
.codemirror-container:not(.original-style) .c-editor--log__error {
  color: #bb0606;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__info {
  color: #333333;
  font-weight: bold;
}
.codemirror-container:not(.original-style) .c-editor--log__warning {
  color: #ee9900;
}
.codemirror-container:not(.original-style) .c-editor--log__success {
  color: #669600;
}
.codemirror-container:not(.original-style) .cm-header,
.codemirror-container:not(.original-style) .cm-strong {
  font-weight: bold;
}
`);(function(_,W){(function(u){u(Ve())})(function(u){u.defineMode("javascript",function(O,S){var j=O.indentUnit,A=S.statementIndent,m=S.jsonld,v=S.json||m,C=S.trackScope!==!1,d=S.typescript,I=S.wordCharacters||/[\w$\xa1-\uffff]/,s=function(){function e(se){return{type:se,style:"keyword"}}var r=e("keyword a"),g=e("keyword b"),y=e("keyword c"),$=e("keyword d"),Q=e("operator"),ee={type:"atom",style:"atom"};return{if:e("if"),while:r,with:r,else:g,do:g,try:g,finally:g,return:$,break:$,continue:$,new:e("new"),delete:y,void:y,throw:y,debugger:e("debugger"),var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:Q,typeof:Q,instanceof:Q,true:ee,false:ee,null:ee,undefined:ee,NaN:ee,Infinity:ee,this:e("this"),class:e("class"),super:e("atom"),yield:y,export:e("export"),import:e("import"),extends:y,await:y}}(),E=/[+\-*&%=<>!?|~^@]/,b=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function T(e){for(var r=!1,g,y=!1;(g=e.next())!=null;){if(!r){if(g=="/"&&!y)return;g=="["?y=!0:y&&g=="]"&&(y=!1)}r=!r&&g=="\\"}}var h,w;function F(e,r,g){return h=e,w=g,r}function L(e,r){var g=e.next();if(g=='"'||g=="'")return r.tokenize=H(g),r.tokenize(e,r);if(g=="."&&e.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return F("number","number");if(g=="."&&e.match(".."))return F("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(g))return F(g);if(g=="="&&e.eat(">"))return F("=>","operator");if(g=="0"&&e.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return F("number","number");if(/\d/.test(g))return e.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),F("number","number");if(g=="/")return e.eat("*")?(r.tokenize=z,z(e,r)):e.eat("/")?(e.skipToEnd(),F("comment","comment")):wt(e,r,1)?(T(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),F("regexp","string-2")):(e.eat("="),F("operator","operator",e.current()));if(g=="`")return r.tokenize=X,X(e,r);if(g=="#"&&e.peek()=="!")return e.skipToEnd(),F("meta","meta");if(g=="#"&&e.eatWhile(I))return F("variable","property");if(g=="<"&&e.match("!--")||g=="-"&&e.match("->")&&!/\S/.test(e.string.slice(0,e.start)))return e.skipToEnd(),F("comment","comment");if(E.test(g))return(g!=">"||!r.lexical||r.lexical.type!=">")&&(e.eat("=")?(g=="!"||g=="=")&&e.eat("="):/[<>*+\-|&?]/.test(g)&&(e.eat(g),g==">"&&e.eat(g))),g=="?"&&e.eat(".")?F("."):F("operator","operator",e.current());if(I.test(g)){e.eatWhile(I);var y=e.current();if(r.lastType!="."){if(s.propertyIsEnumerable(y)){var $=s[y];return F($.type,$.style,y)}if(y=="async"&&e.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return F("async","keyword",y)}return F("variable","variable",y)}}function H(e){return function(r,g){var y=!1,$;if(m&&r.peek()=="@"&&r.match(b))return g.tokenize=L,F("jsonld-keyword","meta");for(;($=r.next())!=null&&!($==e&&!y);)y=!y&&$=="\\";return y||(g.tokenize=L),F("string","string")}}function z(e,r){for(var g=!1,y;y=e.next();){if(y=="/"&&g){r.tokenize=L;break}g=y=="*"}return F("comment","comment")}function X(e,r){for(var g=!1,y;(y=e.next())!=null;){if(!g&&(y=="`"||y=="$"&&e.eat("{"))){r.tokenize=L;break}g=!g&&y=="\\"}return F("quasi","string-2",e.current())}var J="([{}])";function U(e,r){r.fatArrowAt&&(r.fatArrowAt=null);var g=e.string.indexOf("=>",e.start);if(!(g<0)){if(d){var y=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,g));y&&(g=y.index)}for(var $=0,Q=!1,ee=g-1;ee>=0;--ee){var se=e.string.charAt(ee),me=J.indexOf(se);if(me>=0&&me<3){if(!$){++ee;break}if(--$==0){se=="("&&(Q=!0);break}}else if(me>=3&&me<6)++$;else if(I.test(se))Q=!0;else if(/["'\/`]/.test(se))for(;;--ee){if(ee==0)return;var Dt=e.string.charAt(ee-1);if(Dt==se&&e.string.charAt(ee-2)!="\\"){ee--;break}}else if(Q&&!$){++ee;break}}Q&&!$&&(r.fatArrowAt=ee)}}var ae={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function oe(e,r,g,y,$,Q){this.indented=e,this.column=r,this.type=g,this.prev=$,this.info=Q,y!=null&&(this.align=y)}function G(e,r){if(!C)return!1;for(var g=e.localVars;g;g=g.next)if(g.name==r)return!0;for(var y=e.context;y;y=y.prev)for(var g=y.vars;g;g=g.next)if(g.name==r)return!0}function te(e,r,g,y,$){var Q=e.cc;for(c.state=e,c.stream=$,c.marked=null,c.cc=Q,c.style=r,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){var ee=Q.length?Q.pop():v?K:ie;if(ee(g,y)){for(;Q.length&&Q[Q.length-1].lex;)Q.pop()();return c.marked?c.marked:g=="variable"&&G(e,y)?"variable-2":r}}}var c={state:null,column:null,marked:null,cc:null};function V(){for(var e=arguments.length-1;e>=0;e--)c.cc.push(arguments[e])}function o(){return V.apply(null,arguments),!0}function je(e,r){for(var g=r;g;g=g.next)if(g.name==e)return!0;return!1}function ve(e){var r=c.state;if(c.marked="def",!!C){if(r.context){if(r.lexical.info=="var"&&r.context&&r.context.block){var g=He(e,r.context);if(g!=null){r.context=g;return}}else if(!je(e,r.localVars)){r.localVars=new Ae(e,r.localVars);return}}S.globalVars&&!je(e,r.globalVars)&&(r.globalVars=new Ae(e,r.globalVars))}}function He(e,r){if(r)if(r.block){var g=He(e,r.prev);return g?g==r.prev?r:new Fe(g,r.vars,!0):null}else return je(e,r.vars)?r:new Fe(r.prev,new Ae(e,r.vars),!1);else return null}function Ee(e){return e=="public"||e=="private"||e=="protected"||e=="abstract"||e=="readonly"}function Fe(e,r,g){this.prev=e,this.vars=r,this.block=g}function Ae(e,r){this.name=e,this.next=r}var nt=new Ae("this",new Ae("arguments",null));function pe(){c.state.context=new Fe(c.state.context,c.state.localVars,!1),c.state.localVars=nt}function Me(){c.state.context=new Fe(c.state.context,c.state.localVars,!0),c.state.localVars=null}pe.lex=Me.lex=!0;function ne(){c.state.localVars=c.state.context.vars,c.state.context=c.state.context.prev}ne.lex=!0;function P(e,r){var g=function(){var y=c.state,$=y.indented;if(y.lexical.type=="stat")$=y.lexical.indented;else for(var Q=y.lexical;Q&&Q.type==")"&&Q.align;Q=Q.prev)$=Q.indented;y.lexical=new oe($,c.stream.column(),e,null,y.lexical,r)};return g.lex=!0,g}function N(){var e=c.state;e.lexical.prev&&(e.lexical.type==")"&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}N.lex=!0;function R(e){function r(g){return g==e?o():e==";"||g=="}"||g==")"||g=="]"?V():o(r)}return r}function ie(e,r){return e=="var"?o(P("vardef",r),it,R(";"),N):e=="keyword a"?o(P("form"),Ce,ie,N):e=="keyword b"?o(P("form"),ie,N):e=="keyword d"?c.stream.match(/^\s*$/,!1)?o():o(P("stat"),be,R(";"),N):e=="debugger"?o(R(";")):e=="{"?o(P("}"),Me,Y,N,ne):e==";"?o():e=="if"?(c.state.lexical.info=="else"&&c.state.cc[c.state.cc.length-1]==N&&c.state.cc.pop()(),o(P("form"),Ce,ie,N,dt)):e=="function"?o(Te):e=="for"?o(P("form"),Me,gt,ie,ne,N):e=="class"||d&&r=="interface"?(c.marked="keyword",o(P("form",e=="class"?e:r),pt,N)):e=="variable"?d&&r=="declare"?(c.marked="keyword",o(ie)):d&&(r=="module"||r=="enum"||r=="type")&&c.stream.match(/^\s*\w/,!1)?(c.marked="keyword",r=="enum"?o(kt):r=="type"?o(ht,R("operator"),B,R(";")):o(P("form"),he,R("{"),P("}"),Y,N,N)):d&&r=="namespace"?(c.marked="keyword",o(P("form"),K,ie,N)):d&&r=="abstract"?(c.marked="keyword",o(ie)):o(P("stat"),f):e=="switch"?o(P("form"),Ce,R("{"),P("}","switch"),Me,Y,N,N,ne):e=="case"?o(K,R(":")):e=="default"?o(R(":")):e=="catch"?o(P("form"),pe,qe,ie,N,ne):e=="export"?o(P("stat"),At,N):e=="import"?o(P("stat"),Ct,N):e=="async"?o(ie):r=="@"?o(K,ie):V(P("stat"),K,R(";"),N)}function qe(e){if(e=="(")return o(De,R(")"))}function K(e,r){return Je(e,r,!1)}function le(e,r){return Je(e,r,!0)}function Ce(e){return e!="("?V():o(P(")"),be,R(")"),N)}function Je(e,r,g){if(c.state.fatArrowAt==c.stream.start){var y=g?n:t;if(e=="(")return o(pe,P(")"),D(De,")"),N,R("=>"),y,ne);if(e=="variable")return V(pe,he,R("=>"),y,ne)}var $=g?ye:ke;return ae.hasOwnProperty(e)?o($):e=="function"?o(Te,$):e=="class"||d&&r=="interface"?(c.marked="keyword",o(P("form"),Ft,N)):e=="keyword c"||e=="async"?o(g?le:K):e=="("?o(P(")"),be,R(")"),N,$):e=="operator"||e=="spread"?o(g?le:K):e=="["?o(P("]"),Lt,N,$):e=="{"?q(k,"}",null,$):e=="quasi"?V(Be,$):e=="new"?o(i(g)):o()}function be(e){return e.match(/[;\}\)\],]/)?V():V(K)}function ke(e,r){return e==","?o(be):ye(e,r,!1)}function ye(e,r,g){var y=g==!1?ke:ye,$=g==!1?K:le;if(e=="=>")return o(pe,g?n:t,ne);if(e=="operator")return/\+\+|--/.test(r)||d&&r=="!"?o(y):d&&r=="<"&&c.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?o(P(">"),D(B,">"),N,y):r=="?"?o(K,R(":"),$):o($);if(e=="quasi")return V(Be,y);if(e!=";"){if(e=="(")return q(le,")","call",y);if(e==".")return o(p,y);if(e=="[")return o(P("]"),be,R("]"),N,y);if(d&&r=="as")return c.marked="keyword",o(B,y);if(e=="regexp")return c.state.lastType=c.marked="operator",c.stream.backUp(c.stream.pos-c.stream.start-1),o($)}}function Be(e,r){return e!="quasi"?V():r.slice(r.length-2)!="${"?o(Be):o(be,Qe)}function Qe(e){if(e=="}")return c.marked="string-2",c.state.tokenize=X,o(Be)}function t(e){return U(c.stream,c.state),V(e=="{"?ie:K)}function n(e){return U(c.stream,c.state),V(e=="{"?ie:le)}function i(e){return function(r){return r=="."?o(e?l:a):r=="variable"&&d?o(Le,e?ye:ke):V(e?le:K)}}function a(e,r){if(r=="target")return c.marked="keyword",o(ke)}function l(e,r){if(r=="target")return c.marked="keyword",o(ye)}function f(e){return e==":"?o(N,ie):V(ke,R(";"),N)}function p(e){if(e=="variable")return c.marked="property",o()}function k(e,r){if(e=="async")return c.marked="property",o(k);if(e=="variable"||c.style=="keyword"){if(c.marked="property",r=="get"||r=="set")return o(x);var g;return d&&c.state.fatArrowAt==c.stream.start&&(g=c.stream.match(/^\s*:\s*/,!1))&&(c.state.fatArrowAt=c.stream.pos+g[0].length),o(M)}else{if(e=="number"||e=="string")return c.marked=m?"property":c.style+" property",o(M);if(e=="jsonld-keyword")return o(M);if(d&&Ee(r))return c.marked="keyword",o(k);if(e=="[")return o(K,Z,R("]"),M);if(e=="spread")return o(le,M);if(r=="*")return c.marked="keyword",o(k);if(e==":")return V(M)}}function x(e){return e!="variable"?V(M):(c.marked="property",o(Te))}function M(e){if(e==":")return o(le);if(e=="(")return V(Te)}function D(e,r,g){function y($,Q){if(g?g.indexOf($)>-1:$==","){var ee=c.state.lexical;return ee.info=="call"&&(ee.pos=(ee.pos||0)+1),o(function(se,me){return se==r||me==r?V():V(e)},y)}return $==r||Q==r?o():g&&g.indexOf(";")>-1?V(e):o(R(r))}return function($,Q){return $==r||Q==r?o():V(e,y)}}function q(e,r,g){for(var y=3;y<arguments.length;y++)c.cc.push(arguments[y]);return o(P(r,g),D(e,r),N)}function Y(e){return e=="}"?o():V(ie,Y)}function Z(e,r){if(d){if(e==":")return o(B);if(r=="?")return o(Z)}}function re(e,r){if(d&&(e==":"||r=="in"))return o(B)}function fe(e){if(d&&e==":")return c.stream.match(/^\s*\w+\s+is\b/,!1)?o(K,ce,B):o(B)}function ce(e,r){if(r=="is")return c.marked="keyword",o()}function B(e,r){if(r=="keyof"||r=="typeof"||r=="infer"||r=="readonly")return c.marked="keyword",o(r=="typeof"?le:B);if(e=="variable"||r=="void")return c.marked="type",o(ue);if(r=="|"||r=="&")return o(B);if(e=="string"||e=="number"||e=="atom")return o(ue);if(e=="[")return o(P("]"),D(B,"]",","),N,ue);if(e=="{")return o(P("}"),Ne,N,ue);if(e=="(")return o(D(Oe,")"),Ke,ue);if(e=="<")return o(D(B,">"),B);if(e=="quasi")return V(ze,ue)}function Ke(e){if(e=="=>")return o(B)}function Ne(e){return e.match(/[\}\)\]]/)?o():e==","||e==";"?o(Ne):V(xe,Ne)}function xe(e,r){if(e=="variable"||c.style=="keyword")return c.marked="property",o(xe);if(r=="?"||e=="number"||e=="string")return o(xe);if(e==":")return o(B);if(e=="[")return o(R("variable"),re,R("]"),xe);if(e=="(")return V(We,xe);if(!e.match(/[;\}\)\],]/))return o()}function ze(e,r){return e!="quasi"?V():r.slice(r.length-2)!="${"?o(ze):o(B,Ze)}function Ze(e){if(e=="}")return c.marked="string-2",c.state.tokenize=X,o(ze)}function Oe(e,r){return e=="variable"&&c.stream.match(/^\s*[?:]/,!1)||r=="?"?o(Oe):e==":"?o(B):e=="spread"?o(Oe):V(B)}function ue(e,r){if(r=="<")return o(P(">"),D(B,">"),N,ue);if(r=="|"||e=="."||r=="&")return o(B);if(e=="[")return o(B,R("]"),ue);if(r=="extends"||r=="implements")return c.marked="keyword",o(B);if(r=="?")return o(B,R(":"),B)}function Le(e,r){if(r=="<")return o(P(">"),D(B,">"),N,ue)}function _e(){return V(B,Ie)}function Ie(e,r){if(r=="=")return o(B)}function it(e,r){return r=="enum"?(c.marked="keyword",o(kt)):V(he,Z,Se,Tt)}function he(e,r){if(d&&Ee(r))return c.marked="keyword",o(he);if(e=="variable")return ve(r),o();if(e=="spread")return o(he);if(e=="[")return q(St,"]");if(e=="{")return q(ct,"}")}function ct(e,r){return e=="variable"&&!c.stream.match(/^\s*:/,!1)?(ve(r),o(Se)):(e=="variable"&&(c.marked="property"),e=="spread"?o(he):e=="}"?V():e=="["?o(K,R("]"),R(":"),ct):o(R(":"),he,Se))}function St(){return V(he,Se)}function Se(e,r){if(r=="=")return o(le)}function Tt(e){if(e==",")return o(it)}function dt(e,r){if(e=="keyword b"&&r=="else")return o(P("form","else"),ie,N)}function gt(e,r){if(r=="await")return o(gt);if(e=="(")return o(P(")"),Et,N)}function Et(e){return e=="var"?o(it,Pe):e=="variable"?o(Pe):V(Pe)}function Pe(e,r){return e==")"?o():e==";"?o(Pe):r=="in"||r=="of"?(c.marked="keyword",o(K,Pe)):V(K,Pe)}function Te(e,r){if(r=="*")return c.marked="keyword",o(Te);if(e=="variable")return ve(r),o(Te);if(e=="(")return o(pe,P(")"),D(De,")"),N,fe,ie,ne);if(d&&r=="<")return o(P(">"),D(_e,">"),N,Te)}function We(e,r){if(r=="*")return c.marked="keyword",o(We);if(e=="variable")return ve(r),o(We);if(e=="(")return o(pe,P(")"),D(De,")"),N,fe,ne);if(d&&r=="<")return o(P(">"),D(_e,">"),N,We)}function ht(e,r){if(e=="keyword"||e=="variable")return c.marked="type",o(ht);if(r=="<")return o(P(">"),D(_e,">"),N)}function De(e,r){return r=="@"&&o(K,De),e=="spread"?o(De):d&&Ee(r)?(c.marked="keyword",o(De)):d&&e=="this"?o(Z,Se):V(he,Z,Se)}function Ft(e,r){return e=="variable"?pt(e,r):Xe(e,r)}function pt(e,r){if(e=="variable")return ve(r),o(Xe)}function Xe(e,r){if(r=="<")return o(P(">"),D(_e,">"),N,Xe);if(r=="extends"||r=="implements"||d&&e==",")return r=="implements"&&(c.marked="keyword"),o(d?B:K,Xe);if(e=="{")return o(P("}"),we,N)}function we(e,r){if(e=="async"||e=="variable"&&(r=="static"||r=="get"||r=="set"||d&&Ee(r))&&c.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return c.marked="keyword",o(we);if(e=="variable"||c.style=="keyword")return c.marked="property",o(Ue,we);if(e=="number"||e=="string")return o(Ue,we);if(e=="[")return o(K,Z,R("]"),Ue,we);if(r=="*")return c.marked="keyword",o(we);if(d&&e=="(")return V(We,we);if(e==";"||e==",")return o(we);if(e=="}")return o();if(r=="@")return o(K,we)}function Ue(e,r){if(r=="!"||r=="?")return o(Ue);if(e==":")return o(B,Se);if(r=="=")return o(le);var g=c.state.lexical.prev,y=g&&g.info=="interface";return V(y?We:Te)}function At(e,r){return r=="*"?(c.marked="keyword",o(ot,R(";"))):r=="default"?(c.marked="keyword",o(K,R(";"))):e=="{"?o(D(mt,"}"),ot,R(";")):V(ie)}function mt(e,r){if(r=="as")return c.marked="keyword",o(R("variable"));if(e=="variable")return V(le,mt)}function Ct(e){return e=="string"?o():e=="("?V(K):e=="."?V(ke):V(Ye,vt,ot)}function Ye(e,r){return e=="{"?q(Ye,"}"):(e=="variable"&&ve(r),r=="*"&&(c.marked="keyword"),o(Ot))}function vt(e){if(e==",")return o(Ye,vt)}function Ot(e,r){if(r=="as")return c.marked="keyword",o(Ye)}function ot(e,r){if(r=="from")return c.marked="keyword",o(K)}function Lt(e){return e=="]"?o():V(D(le,"]"))}function kt(){return V(P("form"),he,R("{"),P("}"),D(_t,"}"),N,N)}function _t(){return V(he,Se)}function It(e,r){return e.lastType=="operator"||e.lastType==","||E.test(r.charAt(0))||/[,.]/.test(r.charAt(0))}function wt(e,r,g){return r.tokenize==L&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(r.lastType)||r.lastType=="quasi"&&/\{\s*$/.test(e.string.slice(0,e.pos-(g||0)))}return{startState:function(e){var r={tokenize:L,lastType:"sof",cc:[],lexical:new oe((e||0)-j,0,"block",!1),localVars:S.localVars,context:S.localVars&&new Fe(null,null,!1),indented:e||0};return S.globalVars&&typeof S.globalVars=="object"&&(r.globalVars=S.globalVars),r},token:function(e,r){if(e.sol()&&(r.lexical.hasOwnProperty("align")||(r.lexical.align=!1),r.indented=e.indentation(),U(e,r)),r.tokenize!=z&&e.eatSpace())return null;var g=r.tokenize(e,r);return h=="comment"?g:(r.lastType=h=="operator"&&(w=="++"||w=="--")?"incdec":h,te(r,g,h,w,e))},indent:function(e,r){if(e.tokenize==z||e.tokenize==X)return u.Pass;if(e.tokenize!=L)return 0;var g=r&&r.charAt(0),y=e.lexical,$;if(!/^\s*else\b/.test(r))for(var Q=e.cc.length-1;Q>=0;--Q){var ee=e.cc[Q];if(ee==N)y=y.prev;else if(ee!=dt&&ee!=ne)break}for(;(y.type=="stat"||y.type=="form")&&(g=="}"||($=e.cc[e.cc.length-1])&&($==ke||$==ye)&&!/^[,\.=+\-*:?[\(]/.test(r));)y=y.prev;A&&y.type==")"&&y.prev.type=="stat"&&(y=y.prev);var se=y.type,me=g==se;return se=="vardef"?y.indented+(e.lastType=="operator"||e.lastType==","?y.info.length+1:0):se=="form"&&g=="{"?y.indented:se=="form"?y.indented+j:se=="stat"?y.indented+(It(e,r)?A||j:0):y.info=="switch"&&!me&&S.doubleIndentSwitch!=!1?y.indented+(/^(?:case|default)\b/.test(r)?j:2*j):y.align?y.column+(me?0:1):y.indented+(me?0:j)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:v?null:"/*",blockCommentEnd:v?null:"*/",blockCommentContinue:v?null:" * ",lineComment:v?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:v?"json":"javascript",jsonldMode:m,jsonMode:v,expressionAllowed:wt,skipExpression:function(e){te(e,"atom","atom","true",new u.StringStream("",2,null))}}}),u.registerHelper("wordChars","javascript",/[\w$]/),u.defineMIME("text/javascript","javascript"),u.defineMIME("text/ecmascript","javascript"),u.defineMIME("application/javascript","javascript"),u.defineMIME("application/x-javascript","javascript"),u.defineMIME("application/ecmascript","javascript"),u.defineMIME("application/json",{name:"javascript",json:!0}),u.defineMIME("application/x-json",{name:"javascript",json:!0}),u.defineMIME("application/manifest+json",{name:"javascript",json:!0}),u.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),u.defineMIME("text/typescript",{name:"javascript",typescript:!0}),u.defineMIME("application/typescript",{name:"javascript",typescript:!0})})})();export{pr as R};
