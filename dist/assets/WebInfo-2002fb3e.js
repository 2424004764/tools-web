import{_ as k}from"./DetailHeader.vue_vue_type_script_setup_true_lang-638f66d3.js";import{J as I}from"./time-bfbe2dc8.js";import{a as V,g as C}from"./file-9a076f23.js";import{d as z,s as E,u as N,G as S,r,b as c,c as b,i as o,f as t,h as n,j as a,t as d,k as u,p as U,q as B}from"./index-9cc0dd7c.js";function T(f){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,})","i").test(f)}const W={class:"flex flex-col mt-3 flex-1"},j={class:"p-4 rounded-2xl bg-white"},D={class:"mt-3"},J={class:"mt-3 flex"},P={key:0,class:"ml-2 flex items-center"},R={class:"mt-3 flex"},q={class:"mt-3 flex"},F={class:"mt-3 flex"},$=z({__name:"WebInfo",setup(f){const m=E({title:"网站favicon获取"}),s=N(),l=S(),g=async()=>{try{if(T(l.value)){!l.value.includes("http://")&&!l.value.includes("https://")&&(l.value="http://"+l.value);const _=new URL(l.value);l.value=_.hostname,await s.getWebInfo({link:l.value})}else B({message:"无效的域名或地址",type:"error",duration:1500})}catch(_){console.error("Error fetching site info:",_)}},v=()=>{V(s.webInfo.logo,I()+"."+C(s.webInfo.logo))};return(_,e)=>{const p=r("el-button"),x=r("el-input"),i=r("el-text"),w=r("el-link"),y=r("el-image");return c(),b("div",W,[o(k,{title:m.title},null,8,["title"]),t("div",j,[t("div",null,[o(x,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=h=>l.value=h),style:{"max-width":"600px"},placeholder:"请输入域名或地址",class:"input-with-select",size:"large"},{append:n(()=>[o(p,{type:"primary",onClick:g},{default:n(()=>e[1]||(e[1]=[a("获取",-1)])),_:1,__:[1]})]),_:1},8,["modelValue"])]),t("div",null,[t("ul",null,[t("li",D,[o(i,null,{default:n(()=>e[2]||(e[2]=[t("b",null,"域名: ",-1)])),_:1,__:[2]}),o(w,{href:"https://"+l.value,type:"primary",target:"_blank"},{default:n(()=>[a(d(l.value),1)]),_:1},8,["href"])]),t("li",J,[o(i,null,{default:n(()=>e[3]||(e[3]=[t("b",null,"logo: ",-1)])),_:1,__:[3]}),u(s).webInfo.logo?(c(),b("div",P,[o(y,{src:u(s).webInfo.logo,class:"h-12"},null,8,["src"]),o(p,{class:"ml-3",link:"",type:"primary",onClick:v},{default:n(()=>e[4]||(e[4]=[a("下载",-1)])),_:1,__:[4]})])):U("",!0)]),t("li",R,[o(i,null,{default:n(()=>[e[5]||(e[5]=t("b",null,"标题: ",-1)),a(d(u(s).webInfo.title),1)]),_:1,__:[5]})]),t("li",q,[o(i,null,{default:n(()=>[e[6]||(e[6]=t("b",null,"关键词: ",-1)),a(" "+d(u(s).webInfo.keywords),1)]),_:1,__:[6]})]),t("li",F,[o(i,null,{default:n(()=>[e[7]||(e[7]=t("b",null,"描述: ",-1)),a(" "+d(u(s).webInfo.desc),1)]),_:1,__:[7]})])])])])])}}});export{$ as default};
