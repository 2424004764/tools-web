import{d as z,v as B,H as o,r as D,b as c,c as v,i as g,f as l,C as p,ak as _,F as y,e as T,t as b,aj as k,J as E,h as w,j as I,ab as M}from"./index-00eb846b.js";import{_ as R}from"./DetailHeader.vue_vue_type_script_setup_true_lang-40895ba9.js";import{_ as S}from"./ToolDetail.vue_vue_type_script_setup_true_lang-49bae187.js";const L={class:"flex flex-col mt-3 flex-1"},P={class:"p-4 rounded-2xl bg-white"},F={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},K={class:"space-y-3"},H={class:"grid grid-cols-1 gap-2"},J=["value"],X={class:"flex gap-2"},G=["disabled"],O={class:"space-y-3"},Y=["value"],q={class:"flex gap-2"},ae=z({__name:"AiTranslate",setup(Q){const m=B({title:"AI翻译",desc:"由AI大模型驱动，支持多语言互译，源语言可自动检测。"}),C=o("NpgaKlHjioTlyo2B"),$=o("https://tool.fologde.com/proxy"),A=o("https://text.pollinations.ai"),U={zh:"Chinese",en:"English",ja:"Japanese",ko:"Korean",fr:"French",de:"German",es:"Spanish",pt:"Portuguese",it:"Italian",ru:"Russian",ar:"Arabic",vi:"Vietnamese",tr:"Turkish",id:"Indonesian",nl:"Dutch",pl:"Polish"},f=t=>U[t]||t,V=()=>{const t=u.value,a=i.value,r=s.value.trim();return["You are a professional translator.",t==="auto"?"Auto-detect the source language.":`The source language is ${f(t)}.`,`Translate the following text into ${f(a)}.`,"Rules: preserve meaning, tone & formatting (line breaks, markdown, code blocks, URLs);","keep numbers/units; do not add explanations, examples, or notes.","Only output the translated text and nothing else.","---TEXT START---",r,"---TEXT END---"].join(`
`)},s=o(""),n=o(""),d=o(!1),h=[{label:"自动检测",value:"auto"},{label:"中文",value:"zh"},{label:"英文",value:"en"},{label:"日文",value:"ja"},{label:"韩文",value:"ko"},{label:"法文",value:"fr"},{label:"德文",value:"de"},{label:"西班牙文",value:"es"},{label:"葡萄牙文",value:"pt"},{label:"意大利文",value:"it"},{label:"俄文",value:"ru"},{label:"阿拉伯文",value:"ar"},{label:"越南文",value:"vi"},{label:"土耳其文",value:"tr"},{label:"印尼文",value:"id"},{label:"荷兰文",value:"nl"},{label:"波兰文",value:"pl"}],u=o("auto"),i=o("zh"),N=()=>{if(u.value==="auto")return;const t=u.value;u.value=i.value,i.value=t;const a=s.value;s.value=n.value,n.value=a},x=async t=>{try{await navigator.clipboard.writeText(t),alert("已复制")}catch{alert("复制失败，请手动复制")}},j=async()=>{if(s.value.trim()){if(i.value==="auto"){alert("目标语言不能为自动检测");return}d.value=!0,n.value="";try{const t="​".repeat(1+Math.floor(Math.random()*3)),a=V()+t,r=await M.get(`${$.value}?path=${encodeURIComponent(a)}&target=${A.value}&params=_t=${Date.now()}`,{headers:{Authorization:"Bearer "+C.value}}),e=typeof r.data=="string"?r.data:String(r.data);n.value=e}catch(t){console.error(t),alert("翻译失败，请稍后重试")}finally{d.value=!1}}};return(t,a)=>{const r=D("el-text");return c(),v("div",L,[g(R,{title:m.title},null,8,["title"]),l("div",P,[l("div",F,[l("div",K,[l("div",H,[p(l("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>u.value=e),class:"w-full p-2 border rounded"},[(c(),v(y,null,T(h,e=>l("option",{key:e.value,value:e.value},b(e.label),9,J)),64))],512),[[_,u.value]])]),p(l("textarea",{"onUpdate:modelValue":a[1]||(a[1]=e=>s.value=e),placeholder:"输入要翻译的文本...",class:"w-full p-3 border rounded min-h-[180px]"},null,512),[[k,s.value]]),l("div",X,[l("button",{onClick:j,disabled:d.value,class:E(["px-4 py-2 rounded text-white",d.value?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"])},b(d.value?"翻译中...":"开始翻译"),11,G),l("button",{onClick:N,class:"px-4 py-2 rounded border hover:bg-gray-50"},"交换语言与文本"),l("button",{onClick:a[2]||(a[2]=e=>x(s.value)),class:"px-4 py-2 rounded border hover:bg-gray-50"},"复制原文")])]),l("div",O,[p(l("select",{"onUpdate:modelValue":a[3]||(a[3]=e=>i.value=e),class:"w-full p-2 border rounded"},[(c(!0),v(y,null,T(h.filter(e=>e.value!=="auto"),e=>(c(),v("option",{key:e.value,value:e.value},b(e.label),9,Y))),128))],512),[[_,i.value]]),p(l("textarea",{"onUpdate:modelValue":a[4]||(a[4]=e=>n.value=e),readonly:"",class:"w-full p-3 border rounded min-h-[180px] bg-gray-50",placeholder:"翻译结果将显示在这里"},null,512),[[k,n.value]]),l("div",q,[l("button",{onClick:a[5]||(a[5]=e=>x(n.value)),class:"px-4 py-2 rounded border hover:bg-gray-50"},"复制译文")])])])]),g(S,{title:"描述"},{default:w(()=>[g(r,null,{default:w(()=>[I(b(m.desc),1)]),_:1})]),_:1})])}}});export{ae as default};
