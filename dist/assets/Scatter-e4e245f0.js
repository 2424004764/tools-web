import{b as H,t as q,i as se,S as J,a as ne,r as ue,u as ie}from"./xlsx-109b9e14.js";import{_ as de}from"./DetailHeader.vue_vue_type_script_setup_true_lang-84015514.js";import{_ as re}from"./ToolDetail.vue_vue_type_script_setup_true_lang-c5405f15.js";import{d as me,k as ve,G as u,o as fe,r,b as pe,c as _e,h as t,f as s,w as a,i as o,V as xe,_ as ge}from"./index-d0873535.js";const we={class:"flex flex-col mt-3 flex-1"},ce={class:"p-4 rounded-2xl flex"},be={class:"w-4/6"},Ve={class:"flex flex-row-reverse mb-4"},Ce={class:"w-2/6 bg-white ml-3 rounded-lg p-3"},ke={class:"mb-3"},ye={class:"flex items-center ml-1"},Se={class:"flex w-full"},Ue={class:"flex"},he={class:"flex mt-3"},$e={class:"flex"},De={class:"flex"},ze={class:"flex"},Te={class:"flex"},Be={class:"flex"},Ee={class:"flex"},Ae={class:"flex"},Oe={class:"flex"},Fe=me({__name:"Scatter",setup(Re){const L=ve({title:"散点图"}),B=u(),v=u(),S=u(),P=u(1),E=u(100),U=u(720),h=u(400),A=u("1"),O=u("#5470c6"),$=u("center"),D=u("Tools-Web"),z=u("在线图表制作工具"),F=u(!0),R=u(!0),j=u(!1),I=u("Tools-Web"),Y=()=>{let i=document.createElement("canvas"),e=i.getContext("2d");return i.width=i.height=100,e.textAlign="center",e.textBaseline="middle",e.globalAlpha=.08,e.font="20px Microsoft Yahei",e.translate(50,50),e.rotate(-Math.PI/4),e.fillText(I.value,0,0),i},d=i=>{var m,n,f,_,x;let e=B.value;switch(i){case"scale":let V=E.value/100;e.style.transform=`scale(${V})`;break;case"size":e.style.width=U.value+"px",e.style.height=h.value+"px",W();break;case"title":let w="",p="";F.value===!0&&(w=D.value),R.value===!0&&(p=z.value),(m=v.value)==null||m.setOption({title:{text:w,subtext:p,left:$.value}});break;case"color":(n=v.value)==null||n.setOption({series:[{itemStyle:{color:O.value}}]});break;case"watermark":j.value===!0?(f=v.value)==null||f.setOption({backgroundColor:{image:Y()}}):(_=v.value)==null||_.setOption({backgroundColor:"#fff"});break;case"data":(x=v.value)==null||x.setOption({series:[{data:T.value}]});break}},K=()=>{},c=u([10,8.07,13,9.05,11,14,13.4,10,14,12.5,9.15,11.5,3.03,12.2,2.02,1.05,4.05,6.03,12,7.08,5.02,6.03]),b=u([8.04,6.95,7.58,8.81,8.33,7.66,6.81,6.33,8.96,6.82,7.2,7.2,4.23,7.83,4.47,3.33,4.96,7.24,6.26,8.84,5.82,5.68,7.05]),T=u([]),Q={backgroundColor:"#fff",title:{text:D.value,subtext:z.value,left:$.value},xAxis:{},yAxis:{},series:[{type:"scatter",symbolSize:30,data:T.value}],tooltip:{}},W=()=>{v.value=se(B.value),v.value.clear(),v.value.resize({width:U.value,height:h.value}),v.value.setOption(Q),d("data")},X=()=>{var n;let i=A.value=="1"?"png":"jpeg",e=(n=v.value)==null?void 0:n.getDataURL({type:i,pixelRatio:2});if(e!=null){var m=document.createElement("a");m.href=e,m.download="echart."+i,m.click()}},y=u(!1),N=u({}),Z=()=>{y.value==!0?y.value=!1:(y.value=!0,J.locale("zh-cn",window.x_spreadsheet.$messages["zh-cn"]),new J("#x-spreadsheet",{showToolbar:!1,showBottomBar:!1,view:{height:()=>document.documentElement.clientHeight/2,width:()=>document.documentElement.clientWidth}}).loadData({styles:[{bgcolor:"#f4f5f8",textwrap:!0,color:"#900b09",border:{top:["thin","#0366d6"],bottom:["thin","#0366d6"],right:["thin","#0366d6"],left:["thin","#0366d6"]}}],rows:N.value}).change(i=>{let e=ne(i);c.value=e[0],b.value=e[1],d("data")}))},G=u(),ee=async i=>{const e=i.file,m=new FileReader;m.onload=n=>{try{if(!n.target)return;const f=n.target.result,_=ue(f,{type:"binary"});let x=0,V=[],w=[];for(let p in _.Sheets){if(x>0)continue;const g=ie.sheet_to_json(_.Sheets[p],{header:["0","1"]});if(g.length!=0){for(let C in g)if(g[C]!=null){let k=g;V.push(k[C][0]),w.push(k[C][1])}x++}}c.value=V,b.value=w,T.value=H([c.value,b.value]),d("data"),N.value=q([c,b])}catch(f){console.log("error"),console.log(f)}},m.readAsArrayBuffer(e)},te=i=>{S.value.clearFiles();const e=i[0];e.uid=xe(),S.value.handleStart(e),S.value.submit()};return fe(()=>{T.value=H([c.value,b.value],"toCoord"),B.value=document.getElementById("main"),d("size"),W(),N.value=q([c,b])}),(i,e)=>{const m=r("el-input-number"),n=r("el-text"),f=r("el-button"),_=r("el-radio"),x=r("el-radio-group"),V=r("el-upload"),w=r("el-tooltip"),p=r("el-collapse-item"),g=r("el-radio-button"),C=r("el-divider"),k=r("el-switch"),M=r("el-input"),le=r("el-color-picker"),ae=r("el-collapse"),oe=r("el-drawer");return pe(),_e("div",we,[t(de,{title:L.title},null,8,["title"]),s("div",ce,[s("div",be,[s("div",Ve,[t(m,{modelValue:E.value,"onUpdate:modelValue":e[0]||(e[0]=l=>E.value=l),min:1,max:100,step:5,onChange:e[1]||(e[1]=l=>d("scale")),"step-strictly":""},null,8,["modelValue"]),t(n,null,{default:a(()=>e[26]||(e[26]=[o("缩放：",-1)])),_:1,__:[26]})]),e[27]||(e[27]=s("div",{class:"flex justify-center items-center max-h-[500px] max-w-[1000px] overflow-auto"},[s("div",{id:"main",class:"bg-white"})],-1))]),s("div",Ce,[s("div",ke,[t(f,{class:"w-full mb-3",type:"primary",size:"large",onClick:X},{default:a(()=>e[28]||(e[28]=[o("下载图表",-1)])),_:1,__:[28]}),s("div",ye,[t(n,null,{default:a(()=>e[29]||(e[29]=[o("文件类型",-1)])),_:1,__:[29]}),t(x,{modelValue:A.value,"onUpdate:modelValue":e[2]||(e[2]=l=>A.value=l),class:"ml-4"},{default:a(()=>[t(_,{size:"large",label:"1"},{default:a(()=>e[30]||(e[30]=[o("PNG",-1)])),_:1,__:[30]}),t(_,{size:"large",label:"2"},{default:a(()=>e[31]||(e[31]=[o("JPEG",-1)])),_:1,__:[31]})]),_:1},8,["modelValue"])]),s("div",Se,[t(w,{class:"box-item",effect:"dark",content:"支持上传：xls, xlsx, csv文件",placement:"top-start"},{default:a(()=>[t(f,{class:"w-1/2"},{default:a(()=>[t(V,{"file-list":G.value,"onUpdate:fileList":e[3]||(e[3]=l=>G.value=l),class:"dataFileRef flex",ref_key:"dataFileRef",ref:S,accept:".xls,.xlsx,.csv","http-request":ee,"on-exceed":te,limit:1},{default:a(()=>e[32]||(e[32]=[o(" 上传数据 ",-1)])),_:1,__:[32]},8,["file-list"])]),_:1})]),_:1}),t(f,{class:"w-1/2",onClick:Z},{default:a(()=>e[33]||(e[33]=[o("编辑数据",-1)])),_:1,__:[33]})])]),t(ae,{modelValue:P.value,"onUpdate:modelValue":e[24]||(e[24]=l=>P.value=l),onChange:K,accordion:""},{default:a(()=>[t(p,{title:"画布设置",name:"1"},{default:a(()=>[s("div",Ue,[t(n,{class:"w-16 text-right"},{default:a(()=>e[34]||(e[34]=[o("宽度",-1)])),_:1,__:[34]}),t(m,{modelValue:U.value,"onUpdate:modelValue":e[4]||(e[4]=l=>U.value=l),min:1,max:4e3,step:10,"controls-position":"right",class:"h-8 w-60 max-w-[60%] ml-3",onChange:e[5]||(e[5]=l=>d("size"))},null,8,["modelValue"])]),s("div",he,[t(n,{class:"w-16 text-right"},{default:a(()=>e[35]||(e[35]=[o("高度",-1)])),_:1,__:[35]}),t(m,{modelValue:h.value,"onUpdate:modelValue":e[6]||(e[6]=l=>h.value=l),min:1,max:4e3,step:10,"controls-position":"right",class:"h-8 w-60 max-w-[60%] ml-3",onChange:e[7]||(e[7]=l=>d("size"))},null,8,["modelValue"])])]),_:1}),t(p,{title:"标题设置",name:"2"},{default:a(()=>[s("div",$e,[t(n,{class:"w-16 text-right"},{default:a(()=>e[36]||(e[36]=[o("位置",-1)])),_:1,__:[36]}),t(x,{modelValue:$.value,"onUpdate:modelValue":e[8]||(e[8]=l=>$.value=l),class:"ml-3",onChange:e[9]||(e[9]=l=>d("title"))},{default:a(()=>[t(g,{label:"left",value:"left"},{default:a(()=>e[37]||(e[37]=[o("左",-1)])),_:1,__:[37]}),t(g,{label:"center",value:"center"},{default:a(()=>e[38]||(e[38]=[o("中",-1)])),_:1,__:[38]}),t(g,{label:"right",value:"right"},{default:a(()=>e[39]||(e[39]=[o("右",-1)])),_:1,__:[39]})]),_:1},8,["modelValue"])]),t(C,{"content-position":"left",class:"pl-10"},{default:a(()=>e[40]||(e[40]=[o("标题",-1)])),_:1,__:[40]}),s("div",De,[t(n,{class:"w-16 text-right"},{default:a(()=>e[41]||(e[41]=[o("显示",-1)])),_:1,__:[41]}),t(k,{modelValue:F.value,"onUpdate:modelValue":e[10]||(e[10]=l=>F.value=l),class:"ml-3",onChange:e[11]||(e[11]=l=>d("title"))},null,8,["modelValue"])]),s("div",ze,[t(n,{class:"w-16 text-right"},{default:a(()=>e[42]||(e[42]=[o("标题",-1)])),_:1,__:[42]}),t(M,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:D.value,"onUpdate:modelValue":e[12]||(e[12]=l=>D.value=l),onBlur:e[13]||(e[13]=l=>d("title"))},null,8,["modelValue"])]),t(C,{"content-position":"left"},{default:a(()=>e[43]||(e[43]=[o("副标题",-1)])),_:1,__:[43]}),s("div",Te,[t(n,{class:"w-16 text-right"},{default:a(()=>e[44]||(e[44]=[o("显示",-1)])),_:1,__:[44]}),t(k,{modelValue:R.value,"onUpdate:modelValue":e[14]||(e[14]=l=>R.value=l),class:"ml-3",onChange:e[15]||(e[15]=l=>d("title"))},null,8,["modelValue"])]),s("div",Be,[t(n,{class:"w-16 text-right"},{default:a(()=>e[45]||(e[45]=[o("副标题",-1)])),_:1,__:[45]}),t(M,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:z.value,"onUpdate:modelValue":e[16]||(e[16]=l=>z.value=l),onBlur:e[17]||(e[17]=l=>d("title"))},null,8,["modelValue"])])]),_:1}),t(p,{title:"图形属性",name:"3"},{default:a(()=>[s("div",Ee,[t(n,{class:"w-16 text-right"},{default:a(()=>e[46]||(e[46]=[o("颜色",-1)])),_:1,__:[46]}),t(le,{modelValue:O.value,"onUpdate:modelValue":e[18]||(e[18]=l=>O.value=l),class:"ml-3",onChange:e[19]||(e[19]=l=>d("color"))},null,8,["modelValue"])])]),_:1}),t(p,{title:"水印设置",name:"4"},{default:a(()=>[s("div",Ae,[t(n,{class:"w-16 text-right"},{default:a(()=>e[47]||(e[47]=[o("显示",-1)])),_:1,__:[47]}),t(k,{modelValue:j.value,"onUpdate:modelValue":e[20]||(e[20]=l=>j.value=l),class:"ml-3",onChange:e[21]||(e[21]=l=>d("watermark"))},null,8,["modelValue"])]),s("div",Oe,[t(n,{class:"w-16 text-right"},{default:a(()=>e[48]||(e[48]=[o("水印内容",-1)])),_:1,__:[48]}),t(M,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:I.value,"onUpdate:modelValue":e[22]||(e[22]=l=>I.value=l),onChange:e[23]||(e[23]=l=>d("watermark"))},null,8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])]),t(oe,{id:"x-spreadsheet",modelValue:y.value,"onUpdate:modelValue":e[25]||(e[25]=l=>y.value=l),direction:"btt","custom-class":"sheet",style:{}},null,8,["modelValue"]),t(re,{title:"描述"},{default:a(()=>[t(n,null,{default:a(()=>e[49]||(e[49]=[o(" 散点图更偏向于研究型图表，通过直观醒目的图形方式反映出变量随自变量而变化的大致趋势，可以帮助我们推断出不同维度数据之间的相关性，也经常用在地图的标注上。",-1),s("br",null,null,-1),o(" 在线图表制作工具，在线制作散点图",-1),s("br",null,null,-1),o(" 支持导入表格并在线编辑表格生成散点图，支持png和jpeg格式导出",-1),s("br",null,null,-1),o(" 支持超全的自定义配置，轻松实现你的个性化图表需求",-1),s("br",null,null,-1)])),_:1,__:[49]})]),_:1})])}}});const Pe=ge(Fe,[["__scopeId","data-v-a5f246ab"]]);export{Pe as default};
