import{D as z}from"./DetailHeader-fc9c61ef.js";import{T}from"./ToolDetail-f999a8e6.js";import{d as b,I as s,z as V,r as w,b as n,c as C,g as p,_ as h,k as j,h as u,f as i,F as B,e as N,L as P,w as _,i as f}from"./index-1f863b43.js";const E=b({__name:"DiceCore",emits:["throwEnd"],setup(I,{expose:x,emit:l}){const m=l,o=s(!1),r=s(0),g=s(["/images/dice/dice_run1.png","/images/dice/dice_run2.png","/images/dice/dice_run3.png","/images/dice/dice_run4.png"]),D=s({1:"/images/dice/dice1.png",2:"/images/dice/dice2.png",3:"/images/dice/dice3.png",4:"/images/dice/dice4.png",5:"/images/dice/dice5.png",6:"/images/dice/dice6.png"}),d=s(1),e=s(0),a=async()=>{let t=1;return t=Math.floor(Math.random()*6+1),t},y=async()=>{o.value||(d.value=await a(),await v(),m("throwEnd",d.value))},v=async()=>new Promise(t=>{o.value=!0;let k=0;e.value=setInterval(()=>{let c=r.value;c++,c>=g.value.length&&(c=0),r.value=c,k++,k>12&&(clearInterval(e.value),o.value=!1,t(!0))},100)});return V(()=>{clearInterval(e.value)}),x({throwDice:y}),(t,k)=>{const c=w("el-image");return n(),C("div",{class:"dice-wrap",onTap:y},[o.value?(n(),p(c,{key:0,src:g.value[r.value],class:"dice-icon",loading:"lazy"},null,8,["src"])):(n(),p(c,{key:1,src:D.value[d.value],class:"dice-icon",loading:"lazy"},null,8,["src"]))],32)}}});const A=h(E,[["__scopeId","data-v-e4166c13"],["__file","D:/dev/nodejs/tools-web/src/components/Tools/Dice/DiceCore.vue"]]),F={class:"flex flex-col mt-3 flex-1"},L={class:"p-4 rounded-2xl bg-white"},M={class:"flex justify-center grow-[3]"},R={class:"flex flex-wrap h-96 items-center"},S={class:""},U={class:"ml-5 flex justify-center"},H={class:"w-4/6"},K={class:"mb-5 flex justify-center"},$=b({__name:"Dice",setup(I){const x=j({title:"投骰子"}),l=s(1),m=s(!1),o=s(),r=s(0),g=async()=>{m.value=!0;let d=await new Promise(e=>{for(let a=0;a<l.value;a++)o.value[a].throwDice();e(!0)});setTimeout(()=>{console.log(d),m.value=!1},1200)},D=()=>{r.value++};return(d,e)=>{const a=w("el-text"),y=w("el-slider"),v=w("el-button");return n(),C("div",F,[u(z,{title:x.title},null,8,["title"]),i("div",L,[e[5]||(e[5]=i("view",{class:"grow-[1.5]"},null,-1)),i("div",M,[i("div",R,[(n(!0),C(B,null,N(l.value,t=>(n(),p(A,{ref_for:!0,ref_key:"diceRef",ref:o,key:r.value,class:P([l.value==1?"dice_full":"",l.value==3&&t==1?"dice_full":"dice_default",l.value==5&&t==3?"dice_full":"dice_default"])},null,8,["class"]))),128))])]),i("div",S,[i("div",U,[u(a,{style:{}},{default:_(()=>e[1]||(e[1]=[f("骰子数量：",-1)])),_:1,__:[1]}),i("div",H,[u(y,{class:"w-72 ml-3",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),min:1,max:6,step:1,blockSize:"18",showValue:!0},null,8,["modelValue"])])])]),i("div",K,[m.value?(n(),p(v,{key:1,type:"primary",class:"w-48",size:"large",disabled:""},{default:_(()=>e[3]||(e[3]=[f("投骰子...",-1)])),_:1,__:[3]})):(n(),p(v,{key:0,type:"primary",class:"w-48",size:"large",onClick:g},{default:_(()=>e[2]||(e[2]=[f("投骰子",-1)])),_:1,__:[2]})),u(v,{type:"primary",class:"w-48",size:"large",onClick:D},{default:_(()=>e[4]||(e[4]=[f("重置",-1)])),_:1,__:[4]})])]),u(T,{title:"描述"},{default:_(()=>[u(a,null,{default:_(()=>e[6]||(e[6]=[f(" 在线投骰子，骰子工具，自定义骰子数量 ",-1)])),_:1,__:[6]})]),_:1})])}}});const O=h($,[["__scopeId","data-v-aa451518"],["__file","D:/dev/nodejs/tools-web/src/components/Tools/Dice/Dice.vue"]]);export{O as default};
