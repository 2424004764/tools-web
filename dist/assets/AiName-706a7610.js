import{d as ve,A as d,l as me,w as fe,B as H,r as ge,b,c as y,i as G,f as t,x as m,a8 as M,a9 as _,I as xe,F as J,e as Q,t as T,D as be,C as X,h as Y,j as ye,E as Z,ab as K,s as ee}from"./index-e54ac48d.js";import{_ as he}from"./DetailHeader.vue_vue_type_script_setup_true_lang-ec60aca5.js";import{_ as we}from"./ToolDetail.vue_vue_type_script_setup_true_lang-6198ac2f.js";const $e={class:"flex flex-col mt-3 flex-1"},ke={class:"p-4 rounded-2xl bg-white"},Ce={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},Ue={class:"space-y-4"},Ve={class:"grid grid-cols-2 gap-3"},Me={class:"grid grid-cols-2 gap-3"},Se={class:"grid grid-cols-3 gap-3"},_e={key:0,class:"col-span-3 grid grid-cols-3 gap-3"},Te={class:"col-span-3"},je={key:1,class:"col-span-3"},Be={class:"flex items-center justify-between mb-2"},Ae={class:"flex flex-wrap gap-2 text-xs"},Ne=["onClick"],ze=["disabled"],De={class:"space-y-3"},Le={class:"flex items-center justify-between"},Ee=["disabled"],Pe={class:"min-h-[220px] border rounded-lg p-3 bg-gray-50"},Ie={key:0,class:"text-gray-500"},Fe={key:1,class:"space-y-2"},Re={class:"pr-3"},We={class:"font-medium"},Ge={key:0,class:"text-gray-600 text-sm mt-1"},Ke=["onClick"],Oe={key:0,class:"text-gray-400 text-sm"},Ye=ve({__name:"AiName",setup(qe){const z=d("NpgaKlHjioTlyo2B"),D=d("https://tool.fologde.com/proxy"),L=d("https://text.pollinations.ai"),O=me({title:"AI起名",desc:"输入父母姓氏，选择名的长度与性别，一键生成多个中文姓名，并给出命名理由"}),h=d(""),w=d(""),C=d("父姓"),E=d("男"),$=d("1-2"),j=d("不限"),f=d(10),P=d(!0),B=d(""),S=d(""),A=d(""),N=d("前"),q=d("");function te(s){var n;if(!s)return"";const[e,u]=s.split("T");if(!e)return"";if(!u)return`${e} 00:00:00`;const l=u.split(":"),o=l[0]||"00",i=l[1]||"00",r=((n=l[2])==null?void 0:n.slice(0,2))||"00";return`${e} ${o}:${i}:${r}`}fe(S,s=>{q.value=te((s||"").trim())},{immediate:!0});const le=["聪慧睿智","健康平安","自信阳光","知书达理","博学多才","坚毅勇敢","温婉大方","心怀远志","独立自强","善良纯真"],se=s=>{B.value=s},U=d(!1),V=d([]),I=H(()=>(C.value==="母姓"?!!w.value.trim():!!h.value.trim())&&!U.value&&f.value>0&&f.value<=50),ne=H(()=>$.value==="1-2"||$.value==="2"),F=[{f:"张",m:"李"},{f:"王",m:"赵"},{f:"陈",m:"刘"}],oe=()=>{const s=Math.floor(Math.random()*F.length);h.value=F[s].f,w.value=F[s].m},R=(s,e)=>{const u=h.value.trim(),l=w.value.trim(),o=C.value,i=j.value==="不限"?"不限定风格":`${j.value}风格`,r=E.value,n=s||$.value,g=e??f.value,x=n==="1"?"名必须为 1 个汉字，禁止 2 字名":n==="2"?"名必须为 2 个汉字，禁止 1 字名":"名只能为 1 或 2 个汉字，且 2 字名数量不得少于 1 字名；输出顺序从 2 字名开始，然后与 1 字名交替排列（2、1、2、1...）",v=[`你是一位中文姓名学助理，请基于以下约束生成 ${g} 个中文全名，并给出简洁的命名理由：`,`- 输入姓氏：父姓「${u||"无"}」、母姓「${l||"无"}」`,`- 姓氏使用：${o}`,`- 名字长度：仅名部分为 ${n==="1-2"?"1 或 2":n} 个汉字（不含姓氏）；${x}`,`- 性别：${r}（注意名字读感与性别气质匹配）`,`- 风格：${i}（语义积极、读起来顺口，避免生僻与负面含义）`],a=B.value.replace(/\r?\n/g,"；").trim();a&&v.push(`- 寓意：${a}（名字需体现或贴近该寓意）`);const c=q.value;c&&v.push(`- 出生日期时间：${c}（精确到时分秒，可用于参考读音与寓意的协调与避讳）`);const p=(A.value||"").trim().slice(0,1);if(p&&(n==="2"||n==="1-2")){const k=N.value==="前"?"第1位":"第2位";n==="2"?v.push(`- 固定字：名中必须包含「${p}」，且位置在${k}`):v.push(`- 固定字：若为1字名则名=「${p}」；若为2字名则包含「${p}」且位置在${k}`)}return v.push("- 规则：所有姓名必须以所选姓氏开头；避免多音不雅，尽量避开同音低俗；可参考寓意、音律、字形搭配、文化典故等","- 自检：逐条校验“名”的汉字个数是否满足本次设定；当设为“1-2”时，保证 2 字名数量不小于 1 字名，且尽量交替；不满足请在内部修正后再输出","- 输出：姓名和理由每行一个，破折号分割姓名和理由，不要添加序号或额外说明"),v.join(`
`)},ae=s=>{const e=s.replace(/\r\n/g,`
`).split(`
`),u=[];for(const l of e){const o=l.trim();if(!o)continue;let i="",r="";if(o.includes("	")){const[n,...g]=o.split("	");i=(n||"").trim(),r=g.join("	").trim()}else if(o.includes("—")||o.includes("-")||o.includes("：")||o.includes(":")){const n=o.split(/\s*[—\-：:]\s*/);i=(n[0]||"").trim(),r=(n.slice(1).join("：")||"").trim()}else i=o,r="";i&&u.push({name:i,reason:r})}return u};function W(s){if(!s)return 0;const e=s.match(/[\u4e00-\u9fa5]/g);return e?e.length:0}function ie(s){const e=(C.value==="父姓"?h.value.trim():w.value.trim())||h.value.trim()||w.value.trim(),u=$.value,l=(A.value||"").trim().slice(0,1),o=l&&(u==="2"||u==="1-2"),i=s.filter(a=>{const c=(a.name||"").trim();if(!c)return!1;let p=c;e&&c.startsWith(e)&&(p=c.slice(e.length));const k=W(p);if(!(u==="1-2"?k===1||k===2:k===Number(u)))return!1;if(!o)return!0;if(k===1)return p===l;if(k===2){const ce=p[0],pe=p[1];return N.value==="前"?ce===l:pe===l}return!0});if(u!=="1-2")return i;const r=i.filter(a=>{const c=a.name.trim(),p=e&&c.startsWith(e)?c.slice(e.length):c;return W(p)===1}),n=i.filter(a=>{const c=a.name.trim(),p=e&&c.startsWith(e)?c.slice(e.length):c;return W(p)===2}),g=Math.ceil(f.value/2),x=[];for(let a=0;a<g&&a<r.length;a++)x.push(r[a]);for(let a=0;a<g&&a<n.length;a++)x.push(n[a]);const v=[...r.slice(g),...n.slice(g)];for(const a of v){if(x.length>=f.value)break;x.find(c=>c.name===a.name)||x.push(a)}return x}const re=async()=>{if(I.value){U.value=!0,V.value=[];try{if(C.value==="母姓"&&!w.value.trim()){Z.warning("已选择“母姓”，请先填写母姓再生成"),U.value=!1;return}if(C.value==="父姓"&&!h.value.trim()){Z.warning("已选择“父姓”，请先填写父姓再生成"),U.value=!1;return}const s=new Set,e=[],u=o=>{const i=ae(o);for(const r of i){const n=r.name;if(!(!n||s.has(n))&&(s.add(n),e.push(r),e.length>=f.value*3))break}};if($.value==="1-2"){const o=Math.ceil(f.value/2),i=f.value-o,r=R("2",o),n=R("1",i),g="​".repeat(1+Math.floor(Math.random()*3)),x="​".repeat(1+Math.floor(Math.random()*3)),[v,a]=await Promise.all([K.get(`${D.value}?path=${encodeURIComponent(P.value?r+g:r)}&target=${L.value}&params=_t=${Date.now()}`,{headers:{Authorization:"Bearer "+z.value}}),K.get(`${D.value}?path=${encodeURIComponent(P.value?n+x:n)}&target=${L.value}&params=_t=${Date.now()+1}`,{headers:{Authorization:"Bearer "+z.value}})]);u(typeof v.data=="string"?v.data:String(v.data)),u(typeof a.data=="string"?a.data:String(a.data))}else{const o=R($.value),i="​".repeat(1+Math.floor(Math.random()*3)),r=P.value?o+i:o,n=await K.get(`${D.value}?path=${encodeURIComponent(r)}&target=${L.value}&params=_t=${Date.now()}`,{headers:{Authorization:"Bearer "+z.value}});u(typeof n.data=="string"?n.data:String(n.data))}const l=ie(e);V.value=l.slice(0,f.value)}catch(s){console.error("生成失败:",s),alert("生成失败，请稍后重试")}finally{U.value=!1}}},ue=s=>ee(s),de=()=>V.value.length&&ee(V.value.map(s=>`${s.name}	${s.reason}`).join(`
`));return(s,e)=>{const u=ge("el-text");return b(),y("div",$e,[G(he,{title:O.title},null,8,["title"]),t("div",ke,[t("div",Ce,[t("div",Ue,[t("div",{class:"flex items-center justify-between"},[e[12]||(e[12]=t("label",{class:"block text-sm text-gray-700"},"父姓 / 母姓",-1)),t("button",{class:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded",onClick:oe},"示例")]),t("div",Ve,[m(t("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>h.value=l),maxlength:"2",placeholder:"父姓，如 张",class:"w-full p-2 border rounded-lg"},null,512),[[M,h.value]]),m(t("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>w.value=l),maxlength:"2",placeholder:"母姓，如 李（可选）",class:"w-full p-2 border rounded-lg"},null,512),[[M,w.value]])]),t("div",Me,[t("div",null,[e[14]||(e[14]=t("label",{class:"block text-sm text-gray-700 mb-1"},"姓氏使用",-1)),m(t("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>C.value=l),class:"w-full p-2 border rounded-lg"},e[13]||(e[13]=[t("option",{value:"父姓"},"父姓",-1),t("option",{value:"母姓"},"母姓",-1)]),512),[[_,C.value]])]),t("div",null,[e[16]||(e[16]=t("label",{class:"block text-sm text-gray-700 mb-1"},"性别",-1)),m(t("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>E.value=l),class:"w-full p-2 border rounded-lg"},e[15]||(e[15]=[t("option",{value:"男"},"男",-1),t("option",{value:"女"},"女",-1)]),512),[[_,E.value]])])]),t("div",Se,[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm text-gray-700 mb-1"},"名的长度",-1)),m(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>$.value=l),class:"w-full p-2 border rounded-lg"},e[17]||(e[17]=[t("option",{value:"1"},"1",-1),t("option",{value:"1-2"},"1-2（默认）",-1),t("option",{value:"2"},"2",-1)]),512),[[_,$.value]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm text-gray-700 mb-1"},"风格",-1)),m(t("select",{"onUpdate:modelValue":e[5]||(e[5]=l=>j.value=l),class:"w-full p-2 border rounded-lg"},e[19]||(e[19]=[xe('<option value="不限">不限</option><option value="古典">古典</option><option value="现代">现代</option><option value="文雅">文雅</option><option value="阳光">阳光</option><option value="中性">中性</option><option value="诗意">诗意</option>',7)]),512),[[_,j.value]])]),t("div",null,[e[21]||(e[21]=t("label",{class:"block text-sm text-gray-700 mb-1"},"数量",-1)),m(t("input",{"onUpdate:modelValue":e[6]||(e[6]=l=>f.value=l),type:"number",min:"1",max:"50",class:"w-full p-2 border rounded-lg"},null,512),[[M,f.value,void 0,{number:!0}]])]),ne.value?(b(),y("div",_e,[t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm text-gray-700 mb-1"},"固定字（名）",-1)),m(t("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>A.value=l),maxlength:"1",placeholder:"仅 1 个汉字",class:"w-full p-2 border rounded-lg"},null,512),[[M,A.value]])]),t("div",null,[e[24]||(e[24]=t("label",{class:"block text-sm text-gray-700 mb-1"},"固定字位置",-1)),m(t("select",{"onUpdate:modelValue":e[8]||(e[8]=l=>N.value=l),class:"w-full p-2 border rounded-lg"},e[23]||(e[23]=[t("option",{value:"前"},"前（第1位）",-1),t("option",{value:"后"},"后（第2位）",-1)]),512),[[_,N.value]])]),t("div",Te,[e[25]||(e[25]=t("label",{class:"block text-sm text-gray-700 mb-1"},"出生日期时间",-1)),m(t("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>S.value=l),type:"datetime-local",step:"1",class:"w-full p-2 border rounded-lg"},null,512),[[M,S.value]])])])):(b(),y("div",je,[e[26]||(e[26]=t("label",{class:"block text-sm text-gray-700 mb-1"},"出生日期时间",-1)),m(t("input",{"onUpdate:modelValue":e[10]||(e[10]=l=>S.value=l),type:"datetime-local",step:"1",class:"w-full p-2 border rounded-lg min-w-[320px]"},null,512),[[M,S.value]])]))]),t("div",null,[t("div",Be,[e[27]||(e[27]=t("label",{class:"block text-sm w-40 text-gray-700"},"寓意（可选）",-1)),t("div",Ae,[(b(),y(J,null,Q(le,l=>t("button",{key:l,class:"px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",onClick:o=>se(l)},T(l),9,Ne)),64))])]),m(t("textarea",{"onUpdate:modelValue":e[11]||(e[11]=l=>B.value=l),rows:"3",maxlength:"200",placeholder:"例如：聪慧睿智 / 健康平安 / 自信阳光\\n可分行填写多个侧重点",class:"w-full p-2 border rounded-lg min-h-[80px]"},null,512),[[M,B.value]])]),t("button",{onClick:re,disabled:!I.value,class:be(["py-3 px-6 rounded-lg w-full transition",I.value?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-400 cursor-not-allowed"])},T(U.value?"生成中...":"生成姓名"),11,ze)]),t("div",De,[t("div",Le,[e[28]||(e[28]=t("div",{class:"text-sm text-gray-600"},"生成结果",-1)),t("button",{class:"px-3 py-1 text-sm bg-emerald-500 text-white rounded",disabled:!V.value.length,onClick:de},"复制全部",8,Ee)]),t("div",Pe,[U.value?(b(),y("div",Ie,"生成中...")):(b(),y("ul",Fe,[(b(!0),y(J,null,Q(V.value,(l,o)=>(b(),y("li",{key:o,class:"flex items-start justify-between bg-white p-3 rounded border"},[t("div",Re,[t("div",We,T(l.name),1),l.reason?(b(),y("div",Ge,T(l.reason),1)):X("",!0)]),t("button",{class:"px-2 py-1 text-xs bg-blue-500 text-white rounded h-fit",onClick:i=>ue(l.name)},"复制",8,Ke)]))),128)),V.value.length?X("",!0):(b(),y("div",Oe,"暂无结果"))]))])])])]),G(we,{title:"描述"},{default:Y(()=>[G(u,null,{default:Y(()=>[ye(T(O.desc),1)]),_:1})]),_:1})])}}});export{Ye as default};
