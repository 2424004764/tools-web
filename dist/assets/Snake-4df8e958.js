import{_ as G}from"./DetailHeader.vue_vue_type_script_setup_true_lang-7aedb815.js";import{_ as E}from"./ToolDetail.vue_vue_type_script_setup_true_lang-e7e95d06.js";import{d as U,k as C,G as I,o as K,l as R,r as _,b as i,c as u,h as g,f as l,t as O,w as c,F as w,e as S,N as f,H as x,g as V,i as d,I as T,_ as q}from"./index-ba8f273e.js";const J={class:"flex flex-col mt-3 ml-4 flex-1 mr-3"},Q={class:"p-6 rounded-2xl bg-white shadow-sm border border-gray-200"},X={class:"max-w-2xl mx-auto"},Y={class:"flex justify-between items-center mb-6"},Z={class:"text-center bg-blue-50 p-4 rounded-lg border border-blue-200 flex-1 mx-2"},ee={class:"text-2xl font-bold text-blue-600"},te={class:"text-center bg-green-50 p-4 rounded-lg border border-green-200 flex-1 mx-2"},le={class:"text-2xl font-bold text-green-600"},se={class:"flex justify-start mb-6"},ae={class:"flex items-center space-x-3"},re={class:"flex justify-center mb-6"},oe={key:0,class:"w-full h-full bg-green-600 rounded-sm"},ne={class:"flex justify-center space-x-4 mb-6"},ie={class:"lg:hidden flex justify-center mb-6"},de={class:"bg-gray-100 rounded-lg p-4 border border-gray-300"},ue={class:"grid grid-cols-3 gap-2"},ce={class:"col-start-2"},ge={class:"col-start-1 row-start-2"},be={class:"col-start-2 row-start-2"},ve={class:"col-start-3 row-start-2"},xe={key:0,class:"text-center mb-6"},ye={class:"bg-red-50 border-2 border-red-300 rounded-lg p-4 shadow-md"},fe={class:"text-red-600"},pe={key:0,class:"text-green-600 font-medium"},me=U({__name:"Snake",setup(he){const N=C({title:"贪吃蛇"}),t=C({isPlaying:!1,score:0,highScore:0,gameOver:!1}),a=C({gridSize:window.innerWidth<1024?10:20,cellSize:window.innerWidth<1024?25:20,speed:150,scorePerFood:1}),j=[{label:"慢速",value:200},{label:"正常",value:150},{label:"快速",value:100},{label:"极速",value:50}],b=I([{x:7,y:7},{x:6,y:7},{x:5,y:7}]),y=I({x:4,y:4}),r=I({x:1,y:0});let n=null;const k=()=>{const s=Math.floor(Math.random()*a.gridSize),e=Math.floor(Math.random()*a.gridSize);b.value.some(h=>h.x===s&&h.y===e)?k():y.value={x:s,y:e}},F=s=>s.x<0||s.x>=a.gridSize||s.y<0||s.y>=a.gridSize?!0:b.value.some(e=>e.x===s.x&&e.y===s.y),z=()=>{if(!t.isPlaying)return;const s={...b.value[0]};if(s.x+=r.value.x,s.y+=r.value.y,F(s)){H();return}b.value.unshift(s),s.x===y.value.x&&s.y===y.value.y?(t.score+=a.scorePerFood,k()):b.value.pop()},H=()=>{t.isPlaying=!1,t.gameOver=!0,t.score>t.highScore&&(t.highScore=t.score),n&&(clearInterval(n),n=null)},$=()=>{t.isPlaying=!0,t.gameOver=!1,t.score=0,window.innerWidth<1024?b.value=[{x:4,y:4},{x:3,y:4},{x:2,y:4}]:b.value=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],r.value={x:1,y:0},k(),n&&clearInterval(n),n=setInterval(z,a.speed)},A=()=>{t.isPlaying?(t.isPlaying=!1,n&&(clearInterval(n),n=null)):(t.isPlaying=!0,n=setInterval(z,a.speed))},D=()=>{n&&clearInterval(n),$()},M=()=>{n&&t.isPlaying&&(clearInterval(n),n=setInterval(z,a.speed))},p=s=>{if(t.isPlaying)switch(console.log("_direction",s),s){case"up":r.value.y===0&&(r.value={x:0,y:-1});break;case"down":r.value.y===0&&(r.value={x:0,y:1});break;case"left":r.value.x===0&&(r.value={x:-1,y:0});break;case"right":r.value.x===0&&(r.value={x:1,y:0});break}},W=s=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," ","w","a","s","d","W","A","S","D"].includes(s.key)&&s.preventDefault(),!(!t.isPlaying&&s.key!==" "))switch(s.key.toLowerCase()){case"arrowup":case"w":r.value.y===0&&(r.value={x:0,y:-1});break;case"arrowdown":case"s":r.value.y===0&&(r.value={x:0,y:1});break;case"arrowleft":case"a":r.value.x===0&&(r.value={x:-1,y:0});break;case"arrowright":case"d":r.value.x===0&&(r.value={x:1,y:0});break;case" ":t.gameOver?D():A();break}};K(()=>{document.addEventListener("keydown",W);const s=localStorage.getItem("snakeHighScore");s&&(t.highScore=parseInt(s))}),R(()=>{document.removeEventListener("keydown",W),n&&clearInterval(n),localStorage.setItem("snakeHighScore",t.highScore.toString())});const m=a.gridSize*a.cellSize;return(s,e)=>{const L=_("el-option"),h=_("el-select"),v=_("el-button"),B=_("el-text");return i(),u("div",J,[g(G,{title:N.title},null,8,["title"]),l("div",Q,[l("div",X,[l("div",Y,[l("div",Z,[e[5]||(e[5]=l("h3",{class:"text-lg font-medium text-blue-900"},"得分",-1)),l("p",ee,O(t.score),1)]),l("div",te,[e[6]||(e[6]=l("h3",{class:"text-lg font-medium text-green-900"},"最高分",-1)),l("p",le,O(t.highScore),1)])]),l("div",se,[l("div",ae,[e[7]||(e[7]=l("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"游戏速度：",-1)),g(h,{modelValue:a.speed,"onUpdate:modelValue":e[0]||(e[0]=o=>a.speed=o),onChange:M,disabled:t.isPlaying,style:{width:"100px"}},{default:c(()=>[(i(),u(w,null,S(j,o=>g(L,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"])])]),l("div",re,[l("div",{class:"bg-gray-100 relative shadow-lg",style:f({width:m+"px",height:m+"px",maxWidth:"100%",maxHeight:"60vh"})},[(i(!0),u(w,null,S(a.gridSize-1,o=>(i(),u("div",{key:`h-${o}`,class:"absolute bg-gray-300",style:f({width:"1px",height:m+"px",left:o*a.cellSize+"px",top:"0px"})},null,4))),128)),(i(!0),u(w,null,S(a.gridSize-1,o=>(i(),u("div",{key:`v-${o}`,class:"absolute bg-gray-300",style:f({height:"1px",width:m+"px",left:"0px",top:o*a.cellSize+"px"})},null,4))),128)),(i(!0),u(w,null,S(b.value,(o,P)=>(i(),u("div",{key:P,class:"absolute bg-green-500 shadow-sm",style:f({width:a.cellSize-1+"px",height:a.cellSize-1+"px",left:o.x*a.cellSize+"px",top:o.y*a.cellSize+"px",zIndex:P===0?2:1})},[P===0?(i(),u("div",oe)):x("",!0)],4))),128)),l("div",{class:"absolute bg-red-500 rounded-full shadow-md animate-pulse",style:f({width:a.cellSize-2+"px",height:a.cellSize-2+"px",left:y.value.x*a.cellSize+1+"px",top:y.value.y*a.cellSize+1+"px",zIndex:3})},null,4)],4)]),l("div",ne,[!t.isPlaying&&!t.gameOver?(i(),V(v,{key:0,onClick:$,type:"primary",class:"bg-blue-500 hover:bg-blue-600 border-blue-600"},{default:c(()=>e[8]||(e[8]=[d(" 开始游戏 ",-1)])),_:1,__:[8]})):x("",!0),t.isPlaying?(i(),V(v,{key:1,onClick:A,type:"warning",class:"bg-orange-500 hover:bg-orange-600 border-orange-600"},{default:c(()=>e[9]||(e[9]=[d(" 暂停 ",-1)])),_:1,__:[9]})):x("",!0),t.gameOver?(i(),V(v,{key:2,onClick:D,type:"success",class:"bg-green-500 hover:bg-green-600 border-green-600"},{default:c(()=>e[10]||(e[10]=[d(" 重新开始 ",-1)])),_:1,__:[10]})):x("",!0)]),l("div",ie,[l("div",de,[e[15]||(e[15]=l("h3",{class:"text-center text-sm font-medium text-gray-700 mb-3"},"方向控制",-1)),l("div",ue,[l("div",ce,[g(v,{onClick:e[1]||(e[1]=o=>p("up")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:c(()=>e[11]||(e[11]=[d(" ↑ ",-1)])),_:1,__:[11]},8,["disabled"])]),l("div",ge,[g(v,{onClick:e[2]||(e[2]=o=>p("left")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:c(()=>e[12]||(e[12]=[d(" ← ",-1)])),_:1,__:[12]},8,["disabled"])]),l("div",be,[g(v,{onClick:e[3]||(e[3]=o=>p("down")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:c(()=>e[13]||(e[13]=[d(" ↓ ",-1)])),_:1,__:[13]},8,["disabled"])]),l("div",ve,[g(v,{onClick:e[4]||(e[4]=o=>p("right")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:c(()=>e[14]||(e[14]=[d(" → ",-1)])),_:1,__:[14]},8,["disabled"])])])])]),t.gameOver?(i(),u("div",xe,[l("div",ye,[e[16]||(e[16]=l("h3",{class:"text-lg font-medium text-red-900 mb-2"},"游戏结束",-1)),l("p",fe,"最终得分: "+O(t.score),1),t.score>t.highScore?(i(),u("p",pe," 新纪录！恭喜你创造了新的最高分！ ")):x("",!0)])])):x("",!0),e[17]||(e[17]=T('<div class="bg-gray-50 rounded-lg p-4 border-2 border-gray-200 shadow-sm" data-v-55e3b868><h3 class="text-lg font-medium text-gray-900 mb-3" data-v-55e3b868>操作说明</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600" data-v-55e3b868><div class="bg-white p-3 rounded border border-gray-200" data-v-55e3b868><p data-v-55e3b868><strong class="text-blue-600" data-v-55e3b868>方向键/WASD：</strong>控制蛇的移动方向</p><p data-v-55e3b868><strong class="text-blue-600" data-v-55e3b868>空格键：</strong>暂停/继续游戏</p></div><div class="bg-white p-3 rounded border border-gray-200" data-v-55e3b868><p data-v-55e3b868><strong class="text-green-600" data-v-55e3b868>目标：</strong>吃到红色食物，让蛇变长</p><p data-v-55e3b868><strong class="text-red-600" data-v-55e3b868>注意：</strong>不要撞墙或撞到自己</p></div></div><div class="lg:hidden mt-4 bg-blue-50 p-3 rounded border border-blue-200" data-v-55e3b868><p class="text-sm text-blue-700" data-v-55e3b868><strong data-v-55e3b868>移动端：</strong>使用下方虚拟方向键控制蛇的移动 </p></div></div>',1))])]),g(E,{title:"描述"},{default:c(()=>[g(B,null,{default:c(()=>e[18]||(e[18]=[d(" 经典贪吃蛇游戏，支持键盘控制：",-1),l("br",null,null,-1),l("br",null,null,-1),d(" 游戏特色：流畅的操作体验，实时得分显示，最高分记录",-1),l("br",null,null,-1),d(" 操作方式：使用方向键或WASD控制蛇的移动，空格键暂停游戏",-1),l("br",null,null,-1),d(" 游戏目标：控制蛇吃到食物，让蛇变得越来越长",-1),l("br",null,null,-1),d(" 挑战模式：避免撞墙和撞到自己，挑战你的反应速度",-1),l("br",null,null,-1),l("br",null,null,-1),d(" 适合休闲娱乐，锻炼反应能力和手眼协调。 ",-1)])),_:1,__:[18]})]),_:1})])}}});const ke=q(me,[["__scopeId","data-v-55e3b868"]]);export{ke as default};
