import{d as L,u as V,a as F,b as R,c as j,r as H,o as N,n as h,e as $,w as y,f as b,g as u,h as _,F as A,i as C,j as n,t as f,k as z,l as x,m as v,p as E,q as S,R as D,_ as M}from"./index-18fe0c39.js";const O={class:"md:mr-6 c-xs:mr-0"},U=["id","onClick"],Y={class:"flex justify-between flex-wrap self-card-div c-xs:ml-0",gutter:10},G={class:"flex items-center border-b pb-2"},J={class:"flex flex-col ml-2 w-full"},K={class:"flex"},P={class:"font-semibold text-lg line-clamp-1"},Q={class:"flex justify-between"},W={class:"flex items-center justify-between mt-2"},X=L({__name:"Home",setup(Z){const p=V(),g=F(),l=R(),k=j(),w=async()=>{var o;const e=(o=l.query)==null?void 0:o.value,t=Array.isArray(e)?e[0]:e;typeof t!="string"||!t||(await h(),requestAnimationFrame(()=>{var s;(s=document==null?void 0:document.getElementById(t))==null||s.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})}))},i=H(!1),T=()=>{if(!i.value)return;const e=p.cates;if(e.length===0)return;const t=window.pageYOffset||document.documentElement.scrollTop;let o="";for(const s of e){const r=document.getElementById(`cate_${s.id}`);if(r){const a=r.getBoundingClientRect();if(t+a.top<=t+100)o=`cate_${s.id}`;else break}}o&&o!==g.activeCategory&&g.setActiveCategory(o)};let d=null;const m=()=>{d||(d=window.requestAnimationFrame(()=>{T(),d=null}))},B=async e=>{var s,r;const t=(s=l.query)==null?void 0:s.value,o=Array.isArray(t)?t[0]:t;if(l.path==="/"){if(o===e){await h(),(r=document==null?void 0:document.getElementById(e))==null||r.scrollIntoView({behavior:"smooth",block:"start",inline:"start"});return}await k.replace({path:"/",query:{value:e}})}else await k.push({path:"/",query:{value:e}})};return N(async()=>{var e;await h(),l.query&&l.query.value?w():(e=document==null?void 0:document.querySelector("#collect"))==null||e.scrollIntoView(),l.path==="/"&&(i.value=!0,window.addEventListener("scroll",m))}),$(()=>{i.value=!1,window.removeEventListener("scroll",m),d&&cancelAnimationFrame(d)}),y(()=>l.path,e=>{e==="/"?(i.value=!0,window.addEventListener("scroll",m)):(i.value=!1,window.removeEventListener("scroll",m))}),y(()=>l.query.value,()=>{w()}),y(()=>p.cates.length,()=>{w()}),(e,t)=>{const o=b("el-image"),s=b("el-text"),r=b("el-backtop");return u(),_("div",O,[(u(!0),_(A,null,C(S(p).cates,(a,q)=>(u(),_("div",{key:q},[n("div",{class:"mt-8 mb-3 text-xl font-bold text-[--base-black] cursor-pointer hover:text-blue-600 transition-colors duration-200",id:"cate_"+a.id,onClick:c=>B("cate_"+a.id)},f(a.title),9,U),n("div",Y,[(u(!0),_(A,null,C(a.list,(c,I)=>(u(),z(S(D),{key:I,to:c.url,class:"flex flex-col mt-5 border-solid rounded-2xl border-gray w-[24%] p-2 bg-white hover:shadow-md c-xs:w-[99.5%] c-md:w-[24%] c-sm:w-[32%] p-5 hover:-translate-y-2 duration-300"},{default:x(()=>[n("div",G,[v(o,{src:c.logo,class:"w-10 h-10 min-h-[2.5rem] min-w-[2.5rem]"},null,8,["src"]),n("div",J,[n("div",K,[n("div",P,f(c.title),1)]),n("div",Q,[v(s,{size:"small"},{default:x(()=>[E(f(c.cate),1)]),_:2},1024)])])]),n("div",W,[v(s,{"line-clamp":"2"},{default:x(()=>[E(f(c.desc),1)]),_:2},1024)])]),_:2},1032,["to"]))),128)),t[0]||(t[0]=n("div",{class:"w-[24%] c-md:w-[24%] c-sm:w-[32%]"},null,-1))])]))),128)),v(r,{right:10,bottom:50})])}}});const te=M(X,[["__scopeId","data-v-4b6b9a57"]]);export{te as default};
