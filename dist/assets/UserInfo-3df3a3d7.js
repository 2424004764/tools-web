import{d as v,l as p,m as _,o as w,p as k,q as b,E as r,b as o,c as l,f as s,t as i,i as d,h as u,k as n,s as c,j as f,v as h,x as B}from"./index-bb45300a.js";const C={class:"flex flex-col mt-8 flex-1 items-center bg-white rounded-md p-4 sm:p-10"},E={class:"w-full max-w-md sm:w-96"},T={key:0,class:"text-center"},j={key:1,class:"space-y-4 sm:space-y-6"},I={class:"text-center"},M=["src","alt"],V={class:"space-y-3 sm:space-y-4"},N={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-gray-50 rounded-lg gap-1 sm:gap-0"},U={class:"text-gray-900"},D={class:"flex flex-col sm:flex-row sm:justify-between sm:items-center p-3 bg-gray-50 rounded-lg gap-1 sm:gap-0"},S={class:"text-gray-900 text-sm break-all"},q={class:"flex flex-col p-3 bg-gray-50 rounded-lg gap-2"},z={class:"flex items-center"},F={class:"text-gray-900 text-sm break-all flex-1"},H={class:"text-center pt-4"},O={key:2,class:"text-center text-gray-500"},G=v({__name:"UserInfo",setup(R){const t=p(null),m=p(!0),x=_();w(()=>{const a=k();a&&!b()?t.value=a:(r.error("用户信息已过期，请重新登录"),window.location.href="/login"),m.value=!1});const g=async()=>{await h.confirm("确定要退出登录吗？","确认退出",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),B(),t.value=null,r.success("已退出登录"),x.push("/")},y=async()=>{var a;await navigator.clipboard.writeText(((a=t.value)==null?void 0:a.uid)||""),r.success("已复制")};return(a,e)=>(o(),l("div",C,[s("div",E,[e[9]||(e[9]=s("div",{class:"text-center mb-8"},[s("h1",{class:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2"},"用户信息")],-1)),m.value?(o(),l("div",T,e[1]||(e[1]=[s("span",{class:"text-gray-600"},"加载中...",-1)]))):t.value?(o(),l("div",j,[s("div",I,[s("img",{src:t.value.avatar,alt:t.value.username,class:"w-20 h-20 sm:w-24 sm:h-24 rounded-full mx-auto mb-4 border-4 border-gray-200"},null,8,M)]),s("div",V,[s("div",N,[e[2]||(e[2]=s("span",{class:"font-medium text-gray-700"},"用户名：",-1)),s("span",U,i(t.value.username),1)]),s("div",D,[e[3]||(e[3]=s("span",{class:"font-medium text-gray-700"},"邮箱：",-1)),s("span",S,i(t.value.email),1)]),s("div",q,[e[5]||(e[5]=s("span",{class:"font-medium text-gray-700"},"用户ID：",-1)),s("div",z,[s("span",F,i(t.value.uid),1),d(n(c),{type:"primary",size:"small",onClick:y,class:"px-2 py-1 text-xs ml-1 flex-shrink-0"},{default:u(()=>e[4]||(e[4]=[s("svg",{class:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[s("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),s("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})],-1)])),_:1,__:[4]})])])]),s("div",H,[d(n(c),{type:"danger",onClick:g},{default:u(()=>e[6]||(e[6]=[f(" 退出登录 ",-1)])),_:1,__:[6]})])])):(o(),l("div",O,[e[8]||(e[8]=s("p",null,"未找到用户信息",-1)),d(n(c),{type:"primary",class:"mt-4",onClick:e[0]||(e[0]=()=>n(x).push("/login"))},{default:u(()=>e[7]||(e[7]=[f(" 去登录 ",-1)])),_:1,__:[7]})]))])]))}});export{G as default};
