import{_ as E}from"./DetailHeader.vue_vue_type_script_setup_true_lang-56d263d9.js";import{_ as U}from"./ToolDetail.vue_vue_type_script_setup_true_lang-93c5269e.js";import{d as K,k as V,G as A,o as R,l as q,r as k,b as n,c as u,h as v,f as l,t as f,w as g,F as z,e as I,N as y,H as m,g as P,i as d,I as J,_ as Q}from"./index-074c8d67.js";const X={class:"flex flex-col mt-3 ml-4 flex-1 mr-3"},Y={class:"p-6 rounded-2xl bg-white shadow-sm border border-gray-200"},Z={class:"max-w-2xl mx-auto"},ee={class:"flex justify-between items-center mb-6"},te={class:"text-center bg-blue-50 p-4 rounded-lg border border-blue-200 flex-1 mx-2"},le={class:"text-2xl font-bold text-blue-600"},se={class:"text-center bg-green-50 p-4 rounded-lg border border-green-200 flex-1 mx-2"},ae={class:"text-2xl font-bold text-green-600"},re={class:"text-center bg-purple-50 p-4 rounded-lg border border-purple-200 flex-1 mx-2"},oe={class:"text-2xl font-bold text-purple-600"},ie={class:"flex justify-start mb-6"},ne={class:"flex items-center space-x-3"},de={class:"flex justify-center mb-6"},ce={key:0,class:"w-full h-full bg-green-600 rounded-sm"},ue={class:"flex justify-center space-x-4 mb-6"},ge={class:"lg:hidden flex justify-center mb-6"},ve={class:"bg-gray-100 rounded-lg p-4 border border-gray-300"},be={class:"grid grid-cols-3 gap-2"},xe={class:"col-start-2"},me={class:"col-start-1 row-start-2"},pe={class:"col-start-2 row-start-2"},fe={class:"col-start-3 row-start-2"},ye={key:0,class:"text-center mb-6"},_e={class:"bg-red-50 border-2 border-red-300 rounded-lg p-4 shadow-md"},he={class:"text-red-600"},we={class:"text-purple-600"},Se={key:0,class:"text-green-600 font-medium"},ke=K({__name:"Snake",setup(ze){const N=V({title:"贪吃蛇"}),t=V({isPlaying:!1,score:0,highScore:0,gameOver:!1,gameTime:0}),a=V({gridSize:window.innerWidth<1024?10:20,cellSize:window.innerWidth<1024?25:20,speed:150,scorePerFood:1}),j=[{label:"慢速",value:200},{label:"正常",value:150},{label:"快速",value:100},{label:"极速",value:50}],b=A([{x:7,y:7},{x:6,y:7},{x:5,y:7}]),p=A({x:4,y:4}),r=A({x:1,y:0});let i=null,c=null;const C=()=>{const s=Math.floor(Math.random()*a.gridSize),e=Math.floor(Math.random()*a.gridSize);b.value.some(S=>S.x===s&&S.y===e)?C():p.value={x:s,y:e}},F=s=>s.x<0||s.x>=a.gridSize||s.y<0||s.y>=a.gridSize?!0:b.value.some(e=>e.x===s.x&&e.y===s.y),O=()=>{if(!t.isPlaying)return;const s={...b.value[0]};if(s.x+=r.value.x,s.y+=r.value.y,F(s)){H();return}b.value.unshift(s),s.x===p.value.x&&s.y===p.value.y?(t.score+=a.scorePerFood,C()):b.value.pop()},H=()=>{t.isPlaying=!1,t.gameOver=!0,t.score>t.highScore&&(t.highScore=t.score),i&&(clearInterval(i),i=null),c&&(clearInterval(c),c=null)},D=s=>{const e=Math.floor(s/60),w=s%60;return`${e.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}`},W=()=>{t.isPlaying=!0,t.gameOver=!1,t.score=0,t.gameTime=0,window.innerWidth<1024?b.value=[{x:4,y:4},{x:3,y:4},{x:2,y:4}]:b.value=[{x:10,y:10},{x:9,y:10},{x:8,y:10}],r.value={x:1,y:0},C(),i&&clearInterval(i),c&&clearInterval(c),i=setInterval(O,a.speed),c=setInterval(()=>{t.isPlaying&&t.gameTime++},1e3)},T=()=>{t.isPlaying?(t.isPlaying=!1,i&&(clearInterval(i),i=null),c&&(clearInterval(c),c=null)):(t.isPlaying=!0,i=setInterval(O,a.speed),c=setInterval(()=>{t.isPlaying&&t.gameTime++},1e3))},L=()=>{i&&clearInterval(i),W()},B=()=>{i&&t.isPlaying&&(clearInterval(i),i=setInterval(O,a.speed))},_=s=>{if(t.isPlaying)switch(console.log("_direction",s),s){case"up":r.value.y===0&&(r.value={x:0,y:-1});break;case"down":r.value.y===0&&(r.value={x:0,y:1});break;case"left":r.value.x===0&&(r.value={x:-1,y:0});break;case"right":r.value.x===0&&(r.value={x:1,y:0});break}},M=s=>{if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"," ","w","a","s","d","W","A","S","D"].includes(s.key)&&s.preventDefault(),!(!t.isPlaying&&s.key!==" "))switch(s.key.toLowerCase()){case"arrowup":case"w":r.value.y===0&&(r.value={x:0,y:-1});break;case"arrowdown":case"s":r.value.y===0&&(r.value={x:0,y:1});break;case"arrowleft":case"a":r.value.x===0&&(r.value={x:-1,y:0});break;case"arrowright":case"d":r.value.x===0&&(r.value={x:1,y:0});break;case" ":t.gameOver?L():T();break}};R(()=>{document.addEventListener("keydown",M);const s=localStorage.getItem("snakeHighScore");s&&(t.highScore=parseInt(s))}),q(()=>{document.removeEventListener("keydown",M),i&&clearInterval(i),c&&clearInterval(c),localStorage.setItem("snakeHighScore",t.highScore.toString())});const h=a.gridSize*a.cellSize;return(s,e)=>{const w=k("el-option"),S=k("el-select"),x=k("el-button"),G=k("el-text");return n(),u("div",X,[v(E,{title:N.title},null,8,["title"]),l("div",Y,[l("div",Z,[l("div",ee,[l("div",te,[e[5]||(e[5]=l("h3",{class:"text-lg font-medium text-blue-900"},"得分",-1)),l("p",le,f(t.score),1)]),l("div",se,[e[6]||(e[6]=l("h3",{class:"text-lg font-medium text-green-900"},"最高分",-1)),l("p",ae,f(t.highScore),1)]),l("div",re,[e[7]||(e[7]=l("h3",{class:"text-lg font-medium text-purple-900"},"游戏时间",-1)),l("p",oe,f(D(t.gameTime)),1)])]),l("div",ie,[l("div",ne,[e[8]||(e[8]=l("label",{class:"text-sm font-medium text-gray-700 whitespace-nowrap"},"游戏速度：",-1)),v(S,{modelValue:a.speed,"onUpdate:modelValue":e[0]||(e[0]=o=>a.speed=o),onChange:B,disabled:t.isPlaying,style:{width:"100px"}},{default:g(()=>[(n(),u(z,null,I(j,o=>v(w,{key:o.value,label:o.label,value:o.value},null,8,["label","value"])),64))]),_:1},8,["modelValue","disabled"])])]),l("div",de,[l("div",{class:"bg-gray-100 relative shadow-lg",style:y({width:h+"px",height:h+"px",maxWidth:"100%",maxHeight:"60vh"})},[(n(!0),u(z,null,I(a.gridSize-1,o=>(n(),u("div",{key:`h-${o}`,class:"absolute bg-gray-300",style:y({width:"1px",height:h+"px",left:o*a.cellSize+"px",top:"0px"})},null,4))),128)),(n(!0),u(z,null,I(a.gridSize-1,o=>(n(),u("div",{key:`v-${o}`,class:"absolute bg-gray-300",style:y({height:"1px",width:h+"px",left:"0px",top:o*a.cellSize+"px"})},null,4))),128)),(n(!0),u(z,null,I(b.value,(o,$)=>(n(),u("div",{key:$,class:"absolute bg-green-500 shadow-sm",style:y({width:a.cellSize-1+"px",height:a.cellSize-1+"px",left:o.x*a.cellSize+"px",top:o.y*a.cellSize+"px",zIndex:$===0?2:1})},[$===0?(n(),u("div",ce)):m("",!0)],4))),128)),l("div",{class:"absolute bg-red-500 rounded-full shadow-md animate-pulse",style:y({width:a.cellSize-2+"px",height:a.cellSize-2+"px",left:p.value.x*a.cellSize+1+"px",top:p.value.y*a.cellSize+1+"px",zIndex:3})},null,4)],4)]),l("div",ue,[!t.isPlaying&&!t.gameOver&&t.gameTime===0?(n(),P(x,{key:0,onClick:W,type:"primary",class:"bg-blue-500 hover:bg-blue-600 border-blue-600"},{default:g(()=>e[9]||(e[9]=[d(" 开始游戏 ",-1)])),_:1,__:[9]})):m("",!0),t.isPlaying?(n(),P(x,{key:1,onClick:T,type:"warning",class:"bg-orange-500 hover:bg-orange-600 border-orange-600"},{default:g(()=>e[10]||(e[10]=[d(" 暂停 ",-1)])),_:1,__:[10]})):m("",!0),!t.isPlaying&&!t.gameOver&&t.gameTime>0?(n(),P(x,{key:2,onClick:T,type:"success",class:"bg-green-500 hover:bg-green-600 border-green-600"},{default:g(()=>e[11]||(e[11]=[d(" 继续游戏 ",-1)])),_:1,__:[11]})):m("",!0),t.gameOver?(n(),P(x,{key:3,onClick:L,type:"success",class:"bg-green-500 hover:bg-green-600 border-green-600"},{default:g(()=>e[12]||(e[12]=[d(" 重新开始 ",-1)])),_:1,__:[12]})):m("",!0)]),l("div",ge,[l("div",ve,[e[17]||(e[17]=l("h3",{class:"text-center text-sm font-medium text-gray-700 mb-3"},"方向控制",-1)),l("div",be,[l("div",xe,[v(x,{onClick:e[1]||(e[1]=o=>_("up")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:g(()=>e[13]||(e[13]=[d(" ↑ ",-1)])),_:1,__:[13]},8,["disabled"])]),l("div",me,[v(x,{onClick:e[2]||(e[2]=o=>_("left")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:g(()=>e[14]||(e[14]=[d(" ← ",-1)])),_:1,__:[14]},8,["disabled"])]),l("div",pe,[v(x,{onClick:e[3]||(e[3]=o=>_("down")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:g(()=>e[15]||(e[15]=[d(" ↓ ",-1)])),_:1,__:[15]},8,["disabled"])]),l("div",fe,[v(x,{onClick:e[4]||(e[4]=o=>_("right")),disabled:!t.isPlaying,class:"w-12 h-12 bg-blue-500 hover:bg-blue-600 text-white"},{default:g(()=>e[16]||(e[16]=[d(" → ",-1)])),_:1,__:[16]},8,["disabled"])])])])]),t.gameOver?(n(),u("div",ye,[l("div",_e,[e[18]||(e[18]=l("h3",{class:"text-lg font-medium text-red-900 mb-2"},"游戏结束",-1)),l("p",he,"最终得分: "+f(t.score),1),l("p",we,"游戏时间: "+f(D(t.gameTime)),1),t.score>t.highScore?(n(),u("p",Se," 新纪录！恭喜你创造了新的最高分！ ")):m("",!0)])])):m("",!0),e[19]||(e[19]=J('<div class="bg-gray-50 rounded-lg p-4 border-2 border-gray-200 shadow-sm" data-v-94c1ac85><h3 class="text-lg font-medium text-gray-900 mb-3" data-v-94c1ac85>操作说明</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600" data-v-94c1ac85><div class="bg-white p-3 rounded border border-gray-200" data-v-94c1ac85><p data-v-94c1ac85><strong class="text-blue-600" data-v-94c1ac85>方向键/WASD：</strong>控制蛇的移动方向</p><p data-v-94c1ac85><strong class="text-blue-600" data-v-94c1ac85>空格键：</strong>暂停/继续游戏</p></div><div class="bg-white p-3 rounded border border-gray-200" data-v-94c1ac85><p data-v-94c1ac85><strong class="text-green-600" data-v-94c1ac85>目标：</strong>吃到红色食物，让蛇变长</p><p data-v-94c1ac85><strong class="text-red-600" data-v-94c1ac85>注意：</strong>不要撞墙或撞到自己</p></div></div><div class="lg:hidden mt-4 bg-blue-50 p-3 rounded border border-blue-200" data-v-94c1ac85><p class="text-sm text-blue-700" data-v-94c1ac85><strong data-v-94c1ac85>移动端：</strong>使用下方虚拟方向键控制蛇的移动 </p></div></div>',1))])]),v(U,{title:"描述"},{default:g(()=>[v(G,null,{default:g(()=>e[20]||(e[20]=[d(" 经典贪吃蛇游戏，支持键盘控制：",-1),l("br",null,null,-1),l("br",null,null,-1),d(" 游戏特色：流畅的操作体验，实时得分显示，最高分记录",-1),l("br",null,null,-1),d(" 操作方式：使用方向键或WASD控制蛇的移动，空格键暂停游戏",-1),l("br",null,null,-1),d(" 游戏目标：控制蛇吃到食物，让蛇变得越来越长",-1),l("br",null,null,-1),d(" 挑战模式：避免撞墙和撞到自己，挑战你的反应速度",-1),l("br",null,null,-1),l("br",null,null,-1),d(" 适合休闲娱乐，锻炼反应能力和手眼协调。 ",-1)])),_:1,__:[20]})]),_:1})])}}});const Oe=Q(ke,[["__scopeId","data-v-94c1ac85"]]);export{Oe as default};
