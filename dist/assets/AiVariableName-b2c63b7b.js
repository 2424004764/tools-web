import{d as M,s as a,k as P,x as S,r as z,b as n,c as i,h as b,f as e,p,a3 as h,a4 as k,z as D,t as y,F as E,e as F,y as I,w,i as K,a6 as L}from"./index-cdfc58ff.js";import{_ as G,c as C}from"./DetailHeader.vue_vue_type_script_setup_true_lang-6c96031e.js";import{_ as H}from"./ToolDetail.vue_vue_type_script_setup_true_lang-074d5565.js";const O={class:"flex flex-col mt-3 flex-1"},R={class:"p-4 rounded-2xl bg-white"},q={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},J={class:"space-y-4"},Q={class:"grid grid-cols-2 gap-4"},W=["disabled"],X={class:"space-y-3"},Y={class:"flex items-center justify-between"},Z=["disabled"],ee={class:"min-h-[220px] border rounded-lg p-3 bg-gray-50"},te={key:0,class:"text-gray-500"},le={key:1,class:"space-y-2"},se={class:"truncate mr-3"},ae=["onClick"],oe={key:0,class:"text-gray-400 text-sm"},ce=M({__name:"AiVariableName",setup(ne){const $=a("NpgaKlHjioTlyo2B"),V=a("https://tool.fologde.com/proxy"),U=a("https://text.pollinations.ai"),f=P({title:"AI起变量名",desc:"根据描述自动生成符合命名规范的变量名，支持多种命名风格与语言"}),r=a(""),v=a("camelCase"),m=a("en"),c=a(8),d=a(!1),o=a([]),g=S(()=>!!r.value.trim()&&!d.value),x=["为订单金额生成有语义的变量名","用户登录状态布尔值变量","商品库存数量","文件上传进度百分比","用户上次登录时间","购物车商品列表","是否开启暗色主题开关","最大重试次数"],j=()=>{if(!x.length)return;const s=Math.floor(Math.random()*x.length);r.value=x[s]},A=()=>{const s=m.value==="en"?"使用英文":"使用拼音";return[`请根据以下需求，生成 ${c.value} 个合适的变量名：`,`- 命名风格：${v.value}`,`- 语言：${s}`,"- 规则：语义准确、简洁、无空格和非法字符；仅输出变量名列表，每行一个，不要额外说明。",`需求：${r.value.trim()}`].join(`
`)},N=async()=>{if(g.value){d.value=!0,o.value=[];try{const s=A(),t=await L.get(`${V.value}?path=${encodeURIComponent(s)}&target=${U.value}`,{headers:{Authorization:"Bearer "+$.value}}),l=(typeof t.data=="string"?t.data:String(t.data)).replace(/\r\n/g,`
`).split(`
`).map(u=>u.trim().replace(/^\d+\.\s*/,"").replace(/^-+\s*/,"")).filter(u=>u.length>0);o.value=Array.from(new Set(l)).slice(0,c.value)}catch(s){console.error("生成失败:",s),alert("生成失败，请稍后重试")}finally{d.value=!1}}},B=s=>C(s),T=()=>o.value.length&&C(o.value.join(`
`));return(s,t)=>{const _=z("el-text");return n(),i("div",O,[b(G,{title:f.title},null,8,["title"]),e("div",R,[e("div",q,[e("div",J,[e("div",null,[e("div",{class:"flex items-center justify-between mb-2"},[t[4]||(t[4]=e("label",{class:"block text-sm text-gray-700"},"需求描述",-1)),e("button",{class:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded",onClick:j},"示例")]),p(e("textarea",{"onUpdate:modelValue":t[0]||(t[0]=l=>r.value=l),class:"w-full p-3 border rounded-lg min-h-[120px]",placeholder:"例如：为订单金额生成有语义的变量名"},null,512),[[h,r.value]])]),e("div",Q,[e("div",null,[t[6]||(t[6]=e("label",{class:"block text-sm text-gray-700 mb-2"},"命名风格",-1)),p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=l=>v.value=l),class:"w-full p-2 border rounded-lg"},t[5]||(t[5]=[e("option",{value:"camelCase"},"camelCase",-1),e("option",{value:"PascalCase"},"PascalCase",-1),e("option",{value:"snake_case"},"snake_case",-1),e("option",{value:"kebab-case"},"kebab-case",-1)]),512),[[k,v.value]])]),e("div",null,[t[8]||(t[8]=e("label",{class:"block text-sm text-gray-700 mb-2"},"语言",-1)),p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=l=>m.value=l),class:"w-full p-2 border rounded-lg"},t[7]||(t[7]=[e("option",{value:"en"},"英文",-1),e("option",{value:"pinyin"},"拼音",-1)]),512),[[k,m.value]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm text-gray-700 mb-2"},"数量",-1)),p(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>c.value=l),type:"number",min:"1",max:"50",class:"w-full p-2 border rounded-lg"},null,512),[[h,c.value,void 0,{number:!0}]])])]),e("button",{onClick:N,disabled:!g.value,class:D(["py-3 px-6 rounded-lg w-full transition",g.value?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-400 cursor-not-allowed"])},y(d.value?"生成中...":"生成变量名"),11,W)]),e("div",X,[e("div",Y,[t[10]||(t[10]=e("div",{class:"text-sm text-gray-600"},"生成结果",-1)),e("button",{class:"px-3 py-1 text-sm bg-emerald-500 text-white rounded",disabled:!o.value.length,onClick:T}," 复制全部 ",8,Z)]),e("div",ee,[d.value?(n(),i("div",te,"生成中...")):(n(),i("ul",le,[(n(!0),i(E,null,F(o.value,(l,u)=>(n(),i("li",{key:u,class:"flex items-center justify-between bg-white p-2 rounded border"},[e("span",se,y(l),1),e("button",{class:"px-2 py-1 text-xs bg-blue-500 text-white rounded",onClick:ie=>B(l)},"复制",8,ae)]))),128)),o.value.length?I("",!0):(n(),i("div",oe,"暂无结果"))]))])])])]),b(H,{title:"描述"},{default:w(()=>[b(_,null,{default:w(()=>[K(y(f.desc),1)]),_:1})]),_:1})])}}});export{ce as default};
