import{_ as V}from"./DetailHeader.vue_vue_type_script_setup_true_lang-4c53eb0b.js";import{_ as L}from"./ToolDetail.vue_vue_type_script_setup_true_lang-180fbd1a.js";import{d as R,l as N,A as p,B as U,w as B,o as E,r as v,b as c,c as r,i as t,f as u,h as i,j as _,P as $,F as D,e as M,C as S,U as z,_ as A}from"./index-8e0d22ed.js";const T={class:"flex flex-col mt-3 flex-1"},j={class:"p-4 rounded-2xl bg-white"},q={class:"flex mt-3"},H={class:"flex"},P={key:0,class:"mt-3 min-h-md bg-gray-100 p-3 mb-3 flex flex-col md:flex-row gap-4 items-start"},W={class:"w-full md:w-1/2"},G=["src"],J={class:"w-full md:w-1/2"},K={class:"w-full"},O=["src"],Q={key:1},X=R({__name:"ImgCut",setup(Y){const k=N({title:"图片切割"}),w=p(),n=p(3),m=p({}),h=p([]),g=p(),C=async l=>{let e=new FileReader;e.readAsDataURL(l.file),e.addEventListener("load",async()=>{const s=new Image;s.onload=()=>{m.value=s,y()},s.src=e.result},!1)},F=l=>{g.value.clearFiles();const e=l[0];e.uid=z(),g.value.handleStart(e),g.value.submit()},y=()=>{const l=document.createElement("canvas"),e=l.getContext("2d"),s=m.value,d=Math.floor(s.naturalWidth/n.value),a=Math.floor(s.naturalHeight/n.value),x=[];l.width=d,l.height=a;for(let f=0;f<n.value;f++)for(let o=0;o<n.value;o++)e==null||e.drawImage(s,o*d,f*a,d,a,0,0,d,a),x.push(l.toDataURL());h.value=x},b=U(()=>`grid: repeat(${n.value}, 1fr) / repeat(${n.value}, 1fr);`);return B(b,()=>{w.value&&y()}),E(()=>{}),(l,e)=>{const s=v("el-button"),d=v("el-upload"),a=v("el-text"),x=v("el-input-number"),f=v("el-empty");return c(),r("div",T,[t(V,{title:k.title},null,8,["title"]),u("div",j,[t(d,{"file-list":w.value,"onUpdate:fileList":e[0]||(e[0]=o=>w.value=o),class:"dataFileRef flex flex-col md:flex-row gap-2 md:gap-3 w-full",ref_key:"dataFileRef",ref:g,accept:"image/*","http-request":C,"on-exceed":F,limit:1},{default:i(()=>[t(s,{type:"primary"},{default:i(()=>e[2]||(e[2]=[_("请上传需要切割的图片",-1)])),_:1,__:[2]})]),_:1},8,["file-list"]),u("div",q,[u("div",H,[t(a,null,{default:i(()=>e[3]||(e[3]=[_("行数和列数",-1)])),_:1,__:[3]}),t(x,{modelValue:n.value,"onUpdate:modelValue":e[1]||(e[1]=o=>n.value=o),min:1,max:10,class:"ml-3"},null,8,["modelValue"])])]),m.value.src?(c(),r("div",P,[u("div",W,[t(a,null,{default:i(()=>e[4]||(e[4]=[_("预览: ",-1)])),_:1,__:[4]}),u("div",{style:$(b.value),class:"grid gap-2 w-full"},[(c(!0),r(D,null,M(h.value,(o,I)=>(c(),r("img",{key:I,src:o,alt:"结果",class:"w-full h-auto block"},null,8,G))),128))],4)]),u("div",J,[t(a,null,{default:i(()=>e[5]||(e[5]=[_("原图: ",-1)])),_:1,__:[5]}),u("div",K,[m.value.src?(c(),r("img",{key:0,src:m.value.src,alt:"原图",class:"max-w-full h-auto block"},null,8,O)):S("",!0)])])])):(c(),r("div",Q,[t(f,{"image-size":200,description:"无预览"})]))]),t(L,{title:"描述"},{default:i(()=>[t(a,null,{default:i(()=>e[6]||(e[6]=[_(" 将图片分割成四宫格、九宫格、十六宫格，支持自定义行与列；",-1),u("br",null,null,-1),_(" 比如：九宫格切图广泛应用于微信朋友圈，微博等社交媒体。 ",-1)])),_:1,__:[6]})]),_:1})])}}});const le=A(X,[["__scopeId","data-v-050c051f"]]);export{le as default};
