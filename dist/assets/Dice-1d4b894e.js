import{_ as z}from"./DetailHeader.vue_vue_type_script_setup_true_lang-504c8539.js";import{_ as V}from"./ToolDetail.vue_vue_type_script_setup_true_lang-066fbc9d.js";import{d as C,A as s,I as B,r as w,b as n,c as h,g as p,_ as I,k as N,h as u,f as i,F as P,e as j,D as A,w as _,i as v}from"./index-bd778040.js";const E=C({__name:"DiceCore",emits:["throwEnd"],setup(b,{expose:x,emit:l}){const m=l,o=s(!1),r=s(0),g=s(["/images/dice/dice_run1.png","/images/dice/dice_run2.png","/images/dice/dice_run3.png","/images/dice/dice_run4.png"]),k=s({1:"/images/dice/dice1.png",2:"/images/dice/dice2.png",3:"/images/dice/dice3.png",4:"/images/dice/dice4.png",5:"/images/dice/dice5.png",6:"/images/dice/dice6.png"}),d=s(1),e=s(0),a=async()=>{let t=1;return t=Math.floor(Math.random()*6+1),t},y=async()=>{o.value||(d.value=await a(),await f(),m("throwEnd",d.value))},f=async()=>new Promise(t=>{o.value=!0;let D=0;e.value=setInterval(()=>{let c=r.value;c++,c>=g.value.length&&(c=0),r.value=c,D++,D>12&&(clearInterval(e.value),o.value=!1,t(!0))},100)});return B(()=>{clearInterval(e.value)}),x({throwDice:y}),(t,D)=>{const c=w("el-image");return n(),h("div",{class:"dice-wrap",onTap:y},[o.value?(n(),p(c,{key:0,src:g.value[r.value],class:"dice-icon",loading:"lazy"},null,8,["src"])):(n(),p(c,{key:1,src:k.value[d.value],class:"dice-icon",loading:"lazy"},null,8,["src"]))],32)}}});const T=I(E,[["__scopeId","data-v-e7ff49a0"]]),$={class:"flex flex-col mt-3 flex-1"},F={class:"p-4 rounded-2xl bg-white"},M={class:"flex justify-center grow-[3]"},R={class:"flex flex-wrap h-96 items-center"},S={class:""},U={class:"ml-5 flex justify-center"},K={class:"w-4/6"},L={class:"mb-5 flex justify-center"},q=C({__name:"Dice",setup(b){const x=N({title:"投骰子"}),l=s(1),m=s(!1),o=s(),r=s(0),g=async()=>{m.value=!0;let d=await new Promise(e=>{for(let a=0;a<l.value;a++)o.value[a].throwDice();e(!0)});setTimeout(()=>{console.log(d),m.value=!1},1200)},k=()=>{r.value++};return(d,e)=>{const a=w("el-text"),y=w("el-slider"),f=w("el-button");return n(),h("div",$,[u(z,{title:x.title},null,8,["title"]),i("div",F,[e[5]||(e[5]=i("view",{class:"grow-[1.5]"},null,-1)),i("div",M,[i("div",R,[(n(!0),h(P,null,j(l.value,t=>(n(),p(T,{ref_for:!0,ref_key:"diceRef",ref:o,key:r.value,class:A([l.value==1?"dice_full":"",l.value==3&&t==1?"dice_full":"dice_default",l.value==5&&t==3?"dice_full":"dice_default"])},null,8,["class"]))),128))])]),i("div",S,[i("div",U,[u(a,{style:{}},{default:_(()=>e[1]||(e[1]=[v("骰子数量：",-1)])),_:1,__:[1]}),i("div",K,[u(y,{class:"w-72 ml-3",modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=t=>l.value=t),min:1,max:6,step:1,blockSize:"18",showValue:!0},null,8,["modelValue"])])])]),i("div",L,[m.value?(n(),p(f,{key:1,type:"primary",class:"w-48",size:"large",disabled:""},{default:_(()=>e[3]||(e[3]=[v("投骰子...",-1)])),_:1,__:[3]})):(n(),p(f,{key:0,type:"primary",class:"w-48",size:"large",onClick:g},{default:_(()=>e[2]||(e[2]=[v("投骰子",-1)])),_:1,__:[2]})),u(f,{type:"primary",class:"w-48",size:"large",onClick:k},{default:_(()=>e[4]||(e[4]=[v("重置",-1)])),_:1,__:[4]})])]),u(V,{title:"描述"},{default:_(()=>[u(a,null,{default:_(()=>e[6]||(e[6]=[v(" 在线投骰子，骰子工具，自定义骰子数量 ",-1)])),_:1,__:[6]})]),_:1})])}}});const O=I(q,[["__scopeId","data-v-ef4a0484"]]);export{O as default};
