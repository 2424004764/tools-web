import{_ as R}from"./DetailHeader.vue_vue_type_script_setup_true_lang-638f66d3.js";import{_ as E}from"./ToolDetail.vue_vue_type_script_setup_true_lang-40f95543.js";import{d as U,s as $,G as D,H as F,v as H,o as K,r as _,b as f,c as m,i as c,f as e,h as v,j as n,k as q,ag as J,t as g,T as k,F as B,e as S,I as O,p as j,_ as Q}from"./index-9cc0dd7c.js";const W={class:"flex flex-col mt-3 flex-1"},X={class:"p-4 rounded-2xl bg-white"},Y={class:"flex flex-wrap gap-4 mb-6 items-center"},Z={class:"flex items-center gap-2"},ee={class:"flex gap-4 text-sm"},te={class:"flex items-center gap-1"},le={class:"font-bold text-blue-600"},ne={class:"flex items-center gap-1"},se={class:"font-bold text-green-600"},oe={class:"flex justify-center"},re=["onClick"],ie={key:0},ae={key:0,class:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg text-center"},ue={class:"text-green-600"},ce=U({__name:"Puzzle",setup(de){const M=$({title:"数字华容道"}),t=$({size:3,tiles:[],moves:0,time:0,isPlaying:!1,isCompleted:!1,timer:null}),x=D(3),w=()=>{t.size=x.value,t.moves=0,t.time=0,t.isPlaying=!1,t.isCompleted=!1;const o=t.size*t.size;t.tiles=[];for(let l=0;l<o-1;l++)t.tiles.push({id:l,value:l+1,currentPos:l,isBlank:!1});t.tiles.push({id:o-1,value:0,currentPos:o-1,isBlank:!0}),V()},V=()=>{const o=100+Math.floor(Math.random()*200);let l=0;const s=10,i=()=>{for(let r=0;r<o;r++){const a=t.tiles.find(b=>b.isBlank);if(!a)continue;const p=a.currentPos,d=h(p);if(d.length>0){const b=d[Math.floor(Math.random()*d.length)];y(b,!1)}}t.tiles.every(r=>r.isBlank?r.currentPos===t.tiles.length-1:r.currentPos===r.value-1)&&l<s&&(l++,i())};i()},h=o=>{const l=[],s=t.size,i=[{row:-1,col:0},{row:1,col:0},{row:0,col:-1},{row:0,col:1}],u=Math.floor(o/s),r=o%s;for(const a of i){const p=u+a.row,d=r+a.col;if(p>=0&&p<s&&d>=0&&d<s){const b=p*s+d,T=t.tiles.find(N=>N.currentPos===b);T&&l.push(T)}}return l},y=(o,l=!0)=>{const s=t.tiles.find(a=>a.isBlank);if(!s)return;const i=s.currentPos,u=o.currentPos;h(i).find(a=>a.id===o.id)&&(o.currentPos=i,s.currentPos=u,l&&(t.moves++,!t.isPlaying&&!t.isCompleted&&I(),A()))},A=()=>{const o=t.size,l=o*o;t.tiles.every(i=>{if(i.isBlank)return i.currentPos===l-1;{const u=i.value-1;return i.currentPos===u}})&&(t.isCompleted=!0,t.isPlaying=!1,t.timer&&(clearInterval(t.timer),t.timer=null))},I=()=>{t.isPlaying=!0,t.timer=setInterval(()=>{t.time++},1e3)},P=()=>{t.timer&&(clearInterval(t.timer),t.timer=null),w()},z=o=>{const l=Math.floor(o/60),s=o%60;return`${l.toString().padStart(2,"0")}:${s.toString().padStart(2,"0")}`},G=o=>{const l=t.size,s=Math.floor(o.currentPos/l);return{transform:`translate(${o.currentPos%l*100}%, ${s*100}%)`,width:`${100/l}%`,height:`${100/l}%`}},L=F(()=>({gridTemplateColumns:`repeat(${t.size}, 1fr)`,gridTemplateRows:`repeat(${t.size}, 1fr)`})),C=o=>{if(t.isCompleted)return;const l=t.tiles.find(r=>r.isBlank);if(!l)return;const s=l.currentPos,i=h(s);let u=null;switch(o.key){case"ArrowUp":u=i.find(r=>r.currentPos===s+t.size)||null;break;case"ArrowDown":u=i.find(r=>r.currentPos===s-t.size)||null;break;case"ArrowLeft":u=i.find(r=>r.currentPos===s+1)||null;break;case"ArrowRight":u=i.find(r=>r.currentPos===s-1)||null;break}u&&y(u)};return H(()=>{t.timer&&(clearInterval(t.timer),t.timer=null),document.removeEventListener("keydown",C)}),K(()=>{w(),document.addEventListener("keydown",C)}),(o,l)=>{const s=_("el-option"),i=_("el-select"),u=_("el-button"),r=_("el-text");return f(),m("div",W,[c(R,{title:M.title},null,8,["title"]),e("div",X,[e("div",Y,[e("div",Z,[l[1]||(l[1]=e("span",{class:"text-sm font-medium"},"难度：",-1)),c(i,{modelValue:x.value,"onUpdate:modelValue":l[0]||(l[0]=a=>x.value=a),onChange:P,style:{width:"100px"}},{default:v(()=>[c(s,{label:"3x3",value:3}),c(s,{label:"4x4",value:4}),c(s,{label:"5x5",value:5})]),_:1},8,["modelValue"])]),c(u,{type:"primary",onClick:P,icon:q(J)},{default:v(()=>l[2]||(l[2]=[n(" 重新开始 ",-1)])),_:1,__:[2]},8,["icon"]),e("div",ee,[e("div",te,[l[3]||(l[3]=e("span",{class:"text-gray-600"},"步数：",-1)),e("span",le,g(t.moves),1)]),e("div",ne,[l[4]||(l[4]=e("span",{class:"text-gray-600"},"时间：",-1)),e("span",se,g(z(t.time)),1)])])]),e("div",oe,[e("div",{class:"relative bg-gray-200 rounded-lg overflow-hidden shadow-lg",style:k({width:`${t.size*120}px`,height:`${t.size*120}px`})},[e("div",{class:"absolute inset-0",style:k(L.value)},[(f(!0),m(B,null,S(t.size*t.size,a=>(f(),m("div",{key:a,class:"border border-gray-300 bg-gray-100"}))),128))],4),(f(!0),m(B,null,S(t.tiles,a=>(f(),m("div",{key:a.id,class:O(["absolute transition-all duration-200 ease-in-out cursor-pointer",[a.isBlank?"bg-transparent":"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg hover:shadow-xl","flex items-center justify-center font-bold text-lg"]]),style:k(G(a)),onClick:p=>y(a)},[a.isBlank?j("",!0):(f(),m("span",ie,g(a.value),1))],14,re))),128))],4)]),t.isCompleted?(f(),m("div",ae,[l[5]||(l[5]=e("div",{class:"text-green-800 font-bold text-lg mb-2"},"🎉 恭喜完成！",-1)),e("div",ue," 用时："+g(z(t.time))+" | 步数："+g(t.moves),1)])):j("",!0)]),c(E,{title:"游戏说明"},{default:v(()=>[c(r,null,{default:v(()=>l[6]||(l[6]=[n(" 数字华容道是一款经典的益智游戏，起源于19世纪的欧洲。游戏目标是通过移动数字方块，将数字按1、2、3...的顺序排列，空白方块位于右下角。 ",-1),e("br",null,null,-1),e("br",null,null,-1),e("strong",null,"游戏规则：",-1),e("br",null,null,-1),n("• 点击与空白方块相邻的数字方块可以移动 ",-1),e("br",null,null,-1),n("• 将所有数字按顺序排列即可获胜 ",-1),e("br",null,null,-1),n("• 支持3x3、4x4、5x5三种难度 ",-1),e("br",null,null,-1),n("• 游戏会自动记录移动步数和用时 ",-1),e("br",null,null,-1),e("br",null,null,-1),e("strong",null,"操作方法：",-1),e("br",null,null,-1),n("• 鼠标点击：点击与空白方块相邻的数字方块进行移动 ",-1),e("br",null,null,-1),n("• 键盘控制：使用方向键移动空白方块周围的数字 ",-1),e("br",null,null,-1),n('• 重新开始：点击"重新开始"按钮可以重置游戏 ',-1),e("br",null,null,-1),n("• 难度切换：选择不同难度会重新开始游戏 ",-1),e("br",null,null,-1),e("br",null,null,-1),e("strong",null,"技巧提示：",-1),e("br",null,null,-1),n("• ",-1),e("strong",null,"逐行完成法",-1),n("：先完成第一行，再逐行完成，这是最常用的解法 ",-1),e("br",null,null,-1),n("• ",-1),e("strong",null,"角落优先法",-1),n("：先固定角落的数字，再处理边缘数字 ",-1),e("br",null,null,-1),n("• ",-1),e("strong",null,"循环移动法",-1),n("：利用空白方块的移动来调整数字位置 ",-1),e("br",null,null,-1),n("• ",-1),e("strong",null,"逆向思维",-1),n("：从目标状态倒推，思考如何到达当前状态 ",-1),e("br",null,null,-1),n("• ",-1),e("strong",null,"避免死路",-1),n("：移动前多思考几步，避免将数字移动到无法调整的位置 ",-1),e("br",null,null,-1),e("br",null,null,-1),e("strong",null,"难度说明：",-1),e("br",null,null,-1),n("• ",-1),e("strong",null,"3x3（简单）",-1),n("：适合初学者，通常10-50步内完成 ",-1),e("br",null,null,-1),n("• ",-1),e("strong",null,"4x4（中等）",-1),n("：有一定挑战性，通常50-200步内完成 ",-1),e("br",null,null,-1),n("• ",-1),e("strong",null,"5x5（困难）",-1),n("：高难度，通常需要200步以上，考验耐心和策略 ",-1),e("br",null,null,-1),e("br",null,null,-1),e("strong",null,"历史背景：",-1),e("br",null,null,-1),n("数字华容道最早出现在19世纪末的欧洲，最初是作为教育玩具使用。它不仅能锻炼逻辑思维，还能提高空间想象力和问题解决能力。现代版本通常使用数字1到8（3x3）或1到15（4x4），空白位置用于移动其他方块。 ",-1)])),_:1,__:[6]})]),_:1})])}}});const be=Q(ce,[["__scopeId","data-v-1afd64b4"]]);export{be as default};
