import{_ as K}from"./DetailHeader.vue_vue_type_script_setup_true_lang-111b2f0c.js";import{_ as Q}from"./ToolDetail.vue_vue_type_script_setup_true_lang-590d3685.js";import{j as U}from"./index-bcdd064d.js";import{M as X,d as Y,H as x,v as N,o as Z,w as j,r as _,b as k,c as w,i as s,f as n,h as c,g as ee,j as u,p as V,F as te,e as re,s as m}from"./index-2942b34e.js";var h={exports:{}};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var ne=function(l){var a=typeof l;if(a==="string"||l instanceof String){if(!l.trim())return!1}else if(a!=="number"&&!(l instanceof Number))return!1;return l-l+1>=0},oe=Object.prototype.toString,le=function(l){if(l===void 0)return"undefined";if(l===null)return"null";var a=typeof l;if(a==="boolean")return"boolean";if(a==="string")return"string";if(a==="number")return"number";if(a==="symbol")return"symbol";if(a==="function")return de(l)?"generatorfunction":"function";if(ae(l))return"array";if(pe(l))return"buffer";if(fe(l))return"arguments";if(ue(l))return"date";if(se(l))return"error";if(ie(l))return"regexp";switch(M(l)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(ce(l))return"generator";switch(a=oe.call(l),a){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return a.slice(8,-1).toLowerCase().replace(/\s/g,"")};function M(t){return typeof t.constructor=="function"?t.constructor.name:null}function ae(t){return Array.isArray?Array.isArray(t):t instanceof Array}function se(t){return t instanceof Error||typeof t.message=="string"&&t.constructor&&typeof t.constructor.stackTraceLimit=="number"}function ue(t){return t instanceof Date?!0:typeof t.toDateString=="function"&&typeof t.getDate=="function"&&typeof t.setDate=="function"}function ie(t){return t instanceof RegExp?!0:typeof t.flags=="string"&&typeof t.ignoreCase=="boolean"&&typeof t.multiline=="boolean"&&typeof t.global=="boolean"}function de(t,l){return M(t)==="GeneratorFunction"}function ce(t){return typeof t.throw=="function"&&typeof t.return=="function"&&typeof t.next=="function"}function fe(t){try{if(typeof t.length=="number"&&typeof t.callee=="function")return!0}catch(l){if(l.message.indexOf("callee")!==-1)return!0}return!1}function pe(t){return t.constructor&&typeof t.constructor.isBuffer=="function"?t.constructor.isBuffer(t):!1}var me=function(t){var l="Uint32Array"in t,a=t.crypto||t.msCrypto,o=a&&typeof a.getRandomValues=="function",f=l&&o;if(!f)return Math.random;var i=new Uint32Array(1),g=Math.pow(2,32);function p(){return a.getRandomValues(i),i[0]/g}return p.cryptographic=!0,p}(typeof self<"u"?self:window);/*!
 * randomatic <https://github.com/jonschlinkert/randomatic>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var ye=ne,I=le,D=me;h.exports=be;h.exports.isCrypto=!!D.cryptographic;var b={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",special:"~!@#$%^&()_+-={}[];',."};b.all=b.lower+b.upper+b.number+b.special;function be(t,l,a){if(typeof t>"u")throw new Error("randomatic expects a string or number.");var o=!1;arguments.length===1&&(typeof t=="string"?l=t.length:ye(t)&&(a={},l=t,t="*")),I(l)==="object"&&l.hasOwnProperty("chars")&&(a=l,t=a.chars,l=t.length,o=!0);var f=a||{},i="",g="";if(t.indexOf("?")!==-1&&(i+=f.chars),t.indexOf("a")!==-1&&(i+=b.lower),t.indexOf("A")!==-1&&(i+=b.upper),t.indexOf("0")!==-1&&(i+=b.number),t.indexOf("!")!==-1&&(i+=b.special),t.indexOf("*")!==-1&&(i+=b.all),o&&(i+=t),f.exclude){var p=I(f.exclude)==="string"?f.exclude:f.exclude.join("");p=p.replace(new RegExp("[\\]]+","g"),""),i=i.replace(new RegExp("["+p+"]+","g"),""),f.exclude.indexOf("]")!==-1&&(i=i.replace(new RegExp("[\\]]+","g"),""))}for(;l--;)g+=i.charAt(parseInt(D()*i.length,10));return g}var ge=h.exports;const ve=X(ge),xe={class:"flex flex-col mt-3 flex-1"},ke={class:"p-4 rounded-2xl bg-white mb-4"},_e={class:"mb-6"},we={class:"mt-3"},Te={class:"mb-6"},Se={class:"flex gap-2"},Ve={key:0,class:"mt-2"},Je={key:1,class:"mt-2"},Ce={key:0},We={key:1},Oe={class:"space-y-4"},he={class:"mt-2 flex items-center gap-2"},Ae={class:"mb-2 flex items-center justify-between"},Ue={class:"flex gap-2"},Ne={class:"flex gap-2"},je={key:0},Ie={class:"mt-2"},Pe=Y({__name:"JWT",setup(t){const l=x("parse"),a=N({title:"JWT工具",token:""}),o=N({header:JSON.stringify({alg:"HS256",typ:"JWT"},null,2),payload:JSON.stringify({iss:"https://tool.fologde.com".replace(/^https?:\/\//,""),sub:"yifang",aud:"https://tool.fologde.com".replace(/^https?:\/\//,"").split(".")[1],iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600},null,2),secret:"your-secret-key",generatedToken:""}),f=x(),i=x(),g=x(!1),p=x(""),T=x(!1),S=x(!1),W=()=>{try{i.value=JSON.stringify(U(a.token),null,"	"),f.value=JSON.stringify(U(a.token,{header:!0}),null,"	"),g.value=!1,T.value=!1,S.value=!1}catch(r){console.log("Invalid token",r),g.value=!0,f.value="",i.value="",T.value=!1,S.value=!1}},E=()=>{if(!a.token||!p.value){m.warning("请输入Secret");return}try{const r=a.token.split(".");if(r.length!==3){m.error("Token格式不正确");return}const e=r[2],y=btoa(unescape(encodeURIComponent(p.value)));e===y?(T.value=!0,S.value=!1,m.success("签名校验成功！")):(T.value=!1,S.value=!0,m.error("签名校验失败！"))}catch(r){console.log("Verify signature error",r),m.error("校验过程中发生错误")}},R=()=>{a.token="",f.value="",i.value="",g.value=!1,p.value="",T.value=!1,S.value=!1},J=()=>{try{const r=btoa(unescape(encodeURIComponent(o.header))),e=btoa(unescape(encodeURIComponent(o.payload))),y=btoa(unescape(encodeURIComponent(o.secret)));o.generatedToken=`${r}.${e}.${y}`}catch(r){console.log("Generate JWT error",r)}},P=()=>{o.header=JSON.stringify({alg:"HS256",typ:"JWT"},null,2),o.payload=JSON.stringify({iss:"https://tool.fologde.com".replace(/^https?:\/\//,""),sub:"yifang",aud:"https://tool.fologde.com".replace(/^https?:\/\//,"").split(".")[1],iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600},null,2),o.secret="your-secret-key",o.generatedToken=""},H=[{label:"1小时",value:3600},{label:"5小时",value:18e3},{label:"1天",value:86400},{label:"3天",value:259200},{label:"7天",value:604800},{label:"15天",value:1296e3},{label:"1个月",value:2592e3}],O=x(3600),z=()=>{try{const r=JSON.parse(o.payload);r.iat=Math.floor(Date.now()/1e3),r.exp=Math.floor(Date.now()/1e3)+O.value,o.payload=JSON.stringify(r,null,2)}catch(r){console.log("Update timestamps error",r)}},B=async()=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(o.generatedToken),m.success("JWT已复制到剪贴板");else{const r=document.createElement("textarea");r.value=o.generatedToken,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy"),m.success("JWT已复制到剪贴板")}catch{m.error("复制失败，请手动复制")}finally{document.body.removeChild(r)}}}catch(r){console.error("复制失败:",r),m.error("复制失败，请手动复制")}},F=()=>{const r=Math.floor(Math.random()*21)+20,e=ve("*",r);o.secret=e},$=()=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(o.secret).then(()=>{m.success("Secret已复制到剪贴板")}).catch(r=>{console.error("复制失败:",r),m.error("复制失败，请手动复制")});else{const r=document.createElement("textarea");r.value=o.secret,r.style.position="fixed",r.style.left="-999999px",r.style.top="-999999px",document.body.appendChild(r),r.focus(),r.select();try{document.execCommand("copy"),m.success("Secret已复制到剪贴板")}catch{m.error("复制失败，请手动复制")}finally{document.body.removeChild(r)}}};return Z(()=>{J(),a.token=o.generatedToken,W()}),j(()=>[o.header,o.payload,o.secret],()=>{o.header&&o.payload&&o.secret&&J()},{deep:!0}),j(()=>o.payload,r=>{try{const e=JSON.parse(r);e.iss&&e.sub&&e.aud&&J()}catch(e){console.log("Payload format error:",e)}},{deep:!0}),(r,e)=>{const y=_("el-input"),C=_("el-text"),v=_("el-button"),A=_("el-tab-pane"),G=_("el-option"),L=_("el-select"),q=_("el-tabs");return k(),w("div",xe,[s(K,{title:a.title},null,8,["title"]),n("div",ke,[s(q,{modelValue:l.value,"onUpdate:modelValue":e[9]||(e[9]=d=>l.value=d),class:"w-full"},{default:c(()=>[s(A,{label:"JWT解析",name:"parse"},{default:c(()=>[n("div",_e,[s(y,{modelValue:a.token,"onUpdate:modelValue":e[0]||(e[0]=d=>a.token=d),rows:5,type:"textarea",placeholder:"请输入Token",onChange:W},null,8,["modelValue"]),g.value?(k(),ee(C,{key:0,type:"danger"},{default:c(()=>e[10]||(e[10]=[u("Invalid token",-1)])),_:1,__:[10]})):V("",!0),n("div",we,[s(v,{type:"primary",onClick:W},{default:c(()=>e[11]||(e[11]=[u("解析",-1)])),_:1,__:[11]}),s(v,{type:"primary",onClick:R},{default:c(()=>e[12]||(e[12]=[u("清除",-1)])),_:1,__:[12]})])]),n("div",Te,[e[16]||(e[16]=n("div",{class:"mb-2 font-medium"},"Secret校验",-1)),n("div",Se,[s(y,{modelValue:p.value,"onUpdate:modelValue":e[1]||(e[1]=d=>p.value=d),placeholder:"请输入用于校验的Secret",type:p.value?"text":"password"},null,8,["modelValue","type"]),s(v,{type:"success",onClick:E},{default:c(()=>e[13]||(e[13]=[u("校验签名",-1)])),_:1,__:[13]})]),T.value?(k(),w("div",Ve,[s(C,{type:"success"},{default:c(()=>e[14]||(e[14]=[u("✓ 签名校验成功",-1)])),_:1,__:[14]})])):V("",!0),S.value?(k(),w("div",Je,[s(C,{type:"danger"},{default:c(()=>e[15]||(e[15]=[u("✗ 签名校验失败",-1)])),_:1,__:[15]})])):V("",!0)]),f.value?(k(),w("div",Ce,[e[17]||(e[17]=n("div",{class:"mb-3"},"Header(头部)",-1)),s(y,{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=d=>f.value=d),type:"textarea",autosize:!0,class:"w-full",readonly:""},null,8,["modelValue"])])):V("",!0),i.value?(k(),w("div",We,[e[18]||(e[18]=n("div",{class:"mb-3 mt-3"},"Payload(载荷)",-1)),s(y,{modelValue:i.value,"onUpdate:modelValue":e[3]||(e[3]=d=>i.value=d),type:"textarea",autosize:!0,class:"w-full",readonly:""},null,8,["modelValue"])])):V("",!0)]),_:1}),s(A,{label:"JWT生成",name:"generate"},{default:c(()=>[n("div",Oe,[n("div",null,[e[19]||(e[19]=n("div",{class:"mb-2 font-medium"},"Header (头部)",-1)),s(y,{modelValue:o.header,"onUpdate:modelValue":e[4]||(e[4]=d=>o.header=d),type:"textarea",rows:4,placeholder:"请输入JWT头部信息"},null,8,["modelValue"])]),n("div",null,[e[21]||(e[21]=n("div",{class:"mb-2 font-medium"},"Payload (载荷)",-1)),s(y,{modelValue:o.payload,"onUpdate:modelValue":e[5]||(e[5]=d=>o.payload=d),type:"textarea",rows:7,placeholder:"请输入JWT载荷信息"},null,8,["modelValue"]),n("div",he,[s(L,{modelValue:O.value,"onUpdate:modelValue":e[6]||(e[6]=d=>O.value=d),placeholder:"选择过期时间",style:{width:"120px"}},{default:c(()=>[(k(),w(te,null,re(H,d=>s(G,{key:d.value,label:d.label,value:d.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),s(v,{size:"small",onClick:z},{default:c(()=>e[20]||(e[20]=[u("更新时间戳",-1)])),_:1,__:[20]})])]),n("div",null,[n("div",Ae,[e[24]||(e[24]=n("div",{class:"font-medium"},"Secret (密钥)",-1)),n("div",Ue,[s(v,{size:"small",onClick:F},{default:c(()=>e[22]||(e[22]=[u("随机生成",-1)])),_:1,__:[22]}),s(v,{size:"small",onClick:$,disabled:!o.secret},{default:c(()=>e[23]||(e[23]=[u("复制Secret",-1)])),_:1,__:[23]},8,["disabled"])])]),s(y,{modelValue:o.secret,"onUpdate:modelValue":e[7]||(e[7]=d=>o.secret=d),placeholder:"请输入签名密钥"},null,8,["modelValue"])]),n("div",Ne,[s(v,{type:"primary",onClick:J},{default:c(()=>e[25]||(e[25]=[u("生成JWT",-1)])),_:1,__:[25]}),s(v,{onClick:P},{default:c(()=>e[26]||(e[26]=[u("重置",-1)])),_:1,__:[26]})]),o.generatedToken?(k(),w("div",je,[e[28]||(e[28]=n("div",{class:"mb-2 font-medium"},"生成的JWT Token",-1)),s(y,{modelValue:o.generatedToken,"onUpdate:modelValue":e[8]||(e[8]=d=>o.generatedToken=d),type:"textarea",rows:3,readonly:""},null,8,["modelValue"]),n("div",Ie,[s(v,{size:"small",onClick:B},{default:c(()=>e[27]||(e[27]=[u(" 复制Token ",-1)])),_:1,__:[27]})])])):V("",!0)])]),_:1})]),_:1},8,["modelValue"])]),s(Q,{title:"描述"},{default:c(()=>[s(C,null,{default:c(()=>e[29]||(e[29]=[u(" JWT (JSON Web Token) 工具，支持解析和生成JWT令牌。",-1),n("br",null,null,-1),n("br",null,null,-1),n("strong",null,"JWT解析功能：",-1),n("br",null,null,-1),u(" • 解析和解码JSON Web Token并显示其内容",-1),n("br",null,null,-1),u(" • 支持Header(头部)和Payload(载荷)的详细查看",-1),n("br",null,null,-1),u(" • 提供Secret校验功能，验证JWT签名的有效性",-1),n("br",null,null,-1),u(" • 自动检测Token格式的有效性",-1),n("br",null,null,-1),n("br",null,null,-1),n("strong",null,"JWT生成功能：",-1),n("br",null,null,-1),u(" • 自定义Header和Payload内容",-1),n("br",null,null,-1),u(" • 支持过期时间快速设置（1小时到15天）",-1),n("br",null,null,-1),u(" • 随机生成20-40位长度的安全密钥",-1),n("br",null,null,-1),u(" • 一键复制生成的JWT Token和Secret",-1),n("br",null,null,-1),u(" • 实时预览生成的JWT结构",-1),n("br",null,null,-1),n("br",null,null,-1),n("strong",null,"使用场景：",-1),n("br",null,null,-1),u(" • 开发调试JWT认证系统",-1),n("br",null,null,-1),u(" • 测试和验证JWT令牌",-1),n("br",null,null,-1),u(" • 学习和理解JWT结构",-1),n("br",null,null,-1),u(" • API接口的Token生成和验证 ",-1)])),_:1,__:[29]})]),_:1})])}}});export{Pe as default};
