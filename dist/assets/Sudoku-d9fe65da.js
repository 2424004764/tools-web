import{_ as q}from"./DetailHeader.vue_vue_type_script_setup_true_lang-982f5d00.js";import{_ as Q}from"./ToolDetail.vue_vue_type_script_setup_true_lang-7d7a16b2.js";import{d as Y,v as P,H as Z,I as ee,x as le,o as te,r as v,b as m,c as g,i as c,f as s,h as p,j as a,k as I,ag as ne,t as b,ai as se,an as re,F as C,e as k,J as S,p as B,_ as oe}from"./index-facd1588.js";const ie={class:"flex flex-col mt-3 flex-1"},ae={class:"p-4 rounded-2xl bg-white"},ue={class:"flex flex-wrap gap-4 mb-6 items-center"},de={class:"flex items-center gap-2"},ce={class:"flex gap-4 text-sm"},fe={class:"flex items-center gap-1"},be={class:"font-bold text-green-600"},me={class:"flex items-center gap-1"},ge={class:"font-bold text-red-600"},pe={class:"flex justify-center"},_e={class:"grid grid-cols-9 gap-0 border-2 border-gray-800 bg-gray-800"},xe=["onClick"],ye={key:0,class:"text-lg font-semibold"},ve={key:1,class:"grid grid-cols-3 gap-0 text-xs text-gray-500"},Ce={key:0,class:"flex justify-center mt-6"},ke={class:"flex gap-2"},he={key:1,class:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg text-center"},Me={class:"text-green-600"},we=Y({__name:"Sudoku",setup(Ie){const A=P({title:"数独游戏"}),l=P({board:[],selectedCell:null,difficulty:"easy",time:0,isPlaying:!1,isCompleted:!1,timer:null,mistakes:0,hints:0}),x=Z(!1),_=ee(()=>!l.board||l.board.length===0?$():l.board),$=()=>{const t=[];for(let e=0;e<9;e++){t[e]=[];for(let n=0;n<9;n++)t[e][n]={value:0,isFixed:!1,isError:!1,notes:[],row:e,col:n}}return t},L=t=>{const e=G(),n={easy:30,medium:40,hard:50}[t],o=e.map(i=>i.map(r=>r)),u=[];for(let i=0;i<81;i++)u.push(i);for(let i=0;i<n;i++){const r=Math.floor(Math.random()*u.length),d=u.splice(r,1)[0],f=Math.floor(d/9),w=d%9;o[f][w]=0}return{puzzle:o,solution:e}},G=()=>{const t=[];for(let e=0;e<9;e++){t[e]=[];for(let n=0;n<9;n++)t[e][n]=0}return h(t,0,0),h(t,3,3),h(t,6,6),E(t),t},h=(t,e,n)=>{const o=[1,2,3,4,5,6,7,8,9];for(let u=0;u<3;u++)for(let i=0;i<3;i++){const r=Math.floor(Math.random()*o.length),d=o.splice(r,1)[0];t[e+u][n+i]=d}},E=t=>{for(let e=0;e<9;e++)for(let n=0;n<9;n++)if(t[e][n]===0){for(let o=1;o<=9;o++)if(T(t,e,n,o)){if(t[e][n]=o,E(t))return!0;t[e][n]=0}return!1}return!0},T=(t,e,n,o)=>{for(let r=0;r<9;r++)if(t[e][r]===o)return!1;for(let r=0;r<9;r++)if(t[r][n]===o)return!1;const u=Math.floor(e/3)*3,i=Math.floor(n/3)*3;for(let r=0;r<3;r++)for(let d=0;d<3;d++)if(t[r+u][d+i]===o)return!1;return!0},V=()=>{l.board=$();const{puzzle:t}=L(l.difficulty);for(let e=0;e<9;e++)for(let n=0;n<9;n++)l.board[e][n].value=t[e][n],l.board[e][n].isFixed=t[e][n]!==0,l.board[e][n].isError=!1,l.board[e][n].notes=[];l.selectedCell=null,l.time=0,l.isPlaying=!1,l.isCompleted=!1,l.mistakes=0,l.hints=0,l.timer&&(clearInterval(l.timer),l.timer=null)},U=(t,e)=>{l.selectedCell={row:t,col:e},l.isPlaying||J()},y=t=>{if(!l.selectedCell)return;const{row:e,col:n}=l.selectedCell,o=l.board[e][n];if(!o.isFixed)if(x.value){const u=o.notes.indexOf(t);u>-1?o.notes.splice(u,1):(o.notes.push(t),o.notes.sort())}else{if(o.value=t,o.notes=[],t!==0){const u=F(e,n,t);o.isError=!u,u||l.mistakes++}else o.isError=!1;H()}},F=(t,e,n)=>{for(let i=0;i<9;i++)if(i!==e&&l.board[t][i].value===n)return!1;for(let i=0;i<9;i++)if(i!==t&&l.board[i][e].value===n)return!1;const o=Math.floor(t/3)*3,u=Math.floor(e/3)*3;for(let i=0;i<3;i++)for(let r=0;r<3;r++){const d=i+o,f=r+u;if((d!==t||f!==e)&&l.board[d][f].value===n)return!1}return!0},H=()=>{for(let t=0;t<9;t++)for(let e=0;e<9;e++)if(l.board[t][e].value===0)return;for(let t=0;t<9;t++)for(let e=0;e<9;e++)if(l.board[t][e].isError)return;l.isCompleted=!0,l.isPlaying=!1,l.timer&&(clearInterval(l.timer),l.timer=null)},J=()=>{l.isPlaying=!0,l.timer=setInterval(()=>{l.time++},1e3)},j=()=>{l.timer&&(clearInterval(l.timer),l.timer=null),V()},K=()=>{j()},O=()=>{if(!l.selectedCell)return;const{row:t,col:e}=l.selectedCell,n=l.board[t][e];if(!(n.isFixed||n.value!==0)){for(let o=0;o<9;o++)for(let u=0;u<9;u++)if(l.board[o][u].value===0){for(let i=1;i<=9;i++)if(F(o,u,i)){l.board[o][u].value=i,l.hints++;return}}}},N=t=>{const e=Math.floor(t/60),n=t%60;return`${e.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}`},W=t=>{let e=0;if(!l.board||l.board.length===0)return 0;for(let n=0;n<9;n++)for(let o=0;o<9;o++)l.board[n][o]&&l.board[n][o].value===t&&e++;return e},R=t=>W(t)>=9,M=(t,e)=>{if(!l.selectedCell)return"";const n=l.selectedCell.row,o=l.selectedCell.col;if(t===n&&e===o)return"bg-blue-200 border-blue-600";const u=Math.abs(t-n),i=Math.abs(e-o),r=Math.floor(n/3)*3,d=Math.floor(o/3)*3,f=Math.floor(t/3)*3,w=Math.floor(e/3)*3,z=t===n||e===o,X=f===r&&w===d;return z&&Math.max(u,i)>0?"bg-blue-100":X&&!z?"bg-blue-50":""},D=t=>{if(!l.selectedCell)return;const{row:e,col:n}=l.selectedCell;if(!l.board[e][n].isFixed){if(t.key>="1"&&t.key<="9"){const u=parseInt(t.key);y(u)}(t.key==="Delete"||t.key==="Backspace")&&y(0),t.key==="ArrowUp"&&e>0?l.selectedCell={row:e-1,col:n}:t.key==="ArrowDown"&&e<8?l.selectedCell={row:e+1,col:n}:t.key==="ArrowLeft"&&n>0?l.selectedCell={row:e,col:n-1}:t.key==="ArrowRight"&&n<8&&(l.selectedCell={row:e,col:n+1})}};return le(()=>{l.timer&&(clearInterval(l.timer),l.timer=null),document.removeEventListener("keydown",D)}),te(()=>{V(),document.addEventListener("keydown",D)}),(t,e)=>{const n=v("el-option"),o=v("el-select"),u=v("el-button"),i=v("el-text");return m(),g("div",ie,[c(q,{title:A.title},null,8,["title"]),s("div",ae,[s("div",ue,[s("div",de,[e[3]||(e[3]=s("span",{class:"text-sm font-medium"},"难度：",-1)),c(o,{modelValue:l.difficulty,"onUpdate:modelValue":e[0]||(e[0]=r=>l.difficulty=r),onChange:K,style:{width:"100px"}},{default:p(()=>[c(n,{label:"简单",value:"easy"}),c(n,{label:"中等",value:"medium"}),c(n,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),c(u,{type:"primary",onClick:j,icon:I(ne)},{default:p(()=>e[4]||(e[4]=[a(" 重新开始 ",-1)])),_:1,__:[4]},8,["icon"]),c(u,{type:x.value?"success":"default",onClick:e[1]||(e[1]=r=>x.value=!x.value),icon:I(se)},{default:p(()=>[a(b(x.value?"笔记模式":"输入模式"),1)]),_:1},8,["type","icon"]),c(u,{type:"warning",onClick:O,icon:I(re),disabled:!l.selectedCell},{default:p(()=>[a(" 提示 ("+b(l.hints)+") ",1)]),_:1},8,["icon","disabled"]),s("div",ce,[s("div",fe,[e[5]||(e[5]=s("span",{class:"text-gray-600"},"时间：",-1)),s("span",be,b(N(l.time)),1)]),s("div",me,[e[6]||(e[6]=s("span",{class:"text-gray-600"},"错误：",-1)),s("span",ge,b(l.mistakes),1)])])]),s("div",pe,[s("div",_e,[(m(),g(C,null,k(9,r=>s("div",{key:`row-${r}`,class:"contents"},[(m(),g(C,null,k(9,d=>s("div",{key:`cell-${r}-${d}`,class:S(["w-12 h-12 border border-gray-600 flex items-center justify-center cursor-pointer transition-colors",[M(r-1,d-1)||"bg-white",_.value[r-1][d-1].isFixed?"font-bold":"",!M(r-1,d-1)&&_.value[r-1][d-1].isError?"text-red-600":"",M(r-1,d-1)?"":[(r-1)%3===0?"border-t-2 border-t-gray-800":"",(r-1)%3===2?"border-b-2 border-b-gray-800":"",(d-1)%3===0?"border-l-2 border-l-gray-800":"",(d-1)%3===2?"border-r-2 border-r-gray-800":""]]]),onClick:f=>U(r-1,d-1)},[_.value[r-1][d-1].value!==0?(m(),g("div",ye,b(_.value[r-1][d-1].value),1)):_.value[r-1][d-1].notes.length>0?(m(),g("div",ve,[(m(),g(C,null,k(9,f=>s("div",{key:f,class:S(_.value[r-1][d-1].notes.includes(f)?"text-gray-700 font-medium":"text-transparent")},b(f),3)),64))])):B("",!0)],10,xe)),64))])),64))])]),l.isCompleted?B("",!0):(m(),g("div",Ce,[s("div",ke,[(m(),g(C,null,k(9,r=>c(u,{key:r,onClick:d=>y(r),type:l.selectedCell?"primary":"default",disabled:!l.selectedCell||R(r),class:S(R(r)?"opacity-50":"")},{default:p(()=>[a(b(r),1)]),_:2},1032,["onClick","type","disabled","class"])),64)),c(u,{onClick:e[2]||(e[2]=r=>y(0)),type:l.selectedCell?"danger":"default",disabled:!l.selectedCell},{default:p(()=>e[7]||(e[7]=[a(" 清除 ",-1)])),_:1,__:[7]},8,["type","disabled"])])])),l.isCompleted?(m(),g("div",he,[e[8]||(e[8]=s("div",{class:"text-green-800 font-bold text-lg mb-2"},"🎉 恭喜完成！",-1)),s("div",Me," 用时："+b(N(l.time))+" | 错误："+b(l.mistakes)+" | 提示："+b(l.hints),1)])):B("",!0)]),c(Q,{title:"游戏说明"},{default:p(()=>[c(i,null,{default:p(()=>e[9]||(e[9]=[a(" 数独是一款经典的逻辑推理游戏，起源于瑞士，后来在日本流行并传遍世界。游戏目标是在9x9的网格中填入数字1-9，使每行、每列和每个3x3宫格都包含1-9且不重复。 ",-1),s("br",null,null,-1),s("br",null,null,-1),s("strong",null,"游戏规则：",-1),s("br",null,null,-1),a("• 在9x9的网格中填入数字1-9 ",-1),s("br",null,null,-1),a("• 每行、每列、每个3x3宫格都不能有重复数字 ",-1),s("br",null,null,-1),a("• 灰色数字是固定的，不能修改 ",-1),s("br",null,null,-1),a("• 白色格子可以填入数字 ",-1),s("br",null,null,-1),s("br",null,null,-1),s("strong",null,"操作方法：",-1),s("br",null,null,-1),a("• 点击白色格子选中要填写的单元格 ",-1),s("br",null,null,-1),a("• 点击数字按钮填入数字，如果是电脑端，可以按数字键1-9填入数字 ",-1),s("br",null,null,-1),a('• 点击"清除"按钮删除已填数字 ',-1),s("br",null,null,-1),a("• 笔记模式：可以记录可能的数字 ",-1),s("br",null,null,-1),a("• 提示功能：获得一个数字的提示 ",-1),s("br",null,null,-1),s("br",null,null,-1),s("strong",null,"解题技巧：",-1),s("br",null,null,-1),a("• ",-1),s("strong",null,"唯一候选法",-1),a("：某个格子只能填一个数字 ",-1),s("br",null,null,-1),a("• ",-1),s("strong",null,"排除法",-1),a("：通过已知数字排除不可能的数字 ",-1),s("br",null,null,-1),a("• ",-1),s("strong",null,"区块法",-1),a("：利用3x3宫格的限制条件 ",-1),s("br",null,null,-1),a("• ",-1),s("strong",null,"X-Wing法",-1),a("：高级技巧，寻找特定模式 ",-1),s("br",null,null,-1),a("• ",-1),s("strong",null,"笔记法",-1),a("：记录每个格子可能的数字 ",-1),s("br",null,null,-1),s("br",null,null,-1),s("strong",null,"难度说明：",-1),s("br",null,null,-1),a("• ",-1),s("strong",null,"简单",-1),a("：适合初学者，主要使用基础技巧 ",-1),s("br",null,null,-1),a("• ",-1),s("strong",null,"中等",-1),a("：需要一些高级技巧，有一定挑战性 ",-1),s("br",null,null,-1),a("• ",-1),s("strong",null,"困难",-1),a("：需要多种高级技巧，考验逻辑推理能力 ",-1),s("br",null,null,-1),s("br",null,null,-1),s("strong",null,"游戏特色：",-1),s("br",null,null,-1),a("• 自动错误检测：实时检查填入数字的正确性 ",-1),s("br",null,null,-1),a("• 笔记功能：记录可能的数字组合 ",-1),s("br",null,null,-1),a("• 提示系统：在困难时获得帮助 ",-1),s("br",null,null,-1),a("• 计时统计：记录解题时间和错误次数 ",-1),s("br",null,null,-1),a("• 多种难度：适合不同水平的玩家 ",-1)])),_:1,__:[9]})]),_:1})])}}});const Ve=oe(we,[["__scopeId","data-v-e8867f05"]]);export{Ve as default};
