import{_ as G,c as N}from"./DetailHeader.vue_vue_type_script_setup_true_lang-84015514.js";import{_ as z}from"./ToolDetail.vue_vue_type_script_setup_true_lang-c5405f15.js";import{d as L,k as P,G as r,r as V,b as c,c as u,h as g,f as t,M as _,H as p,I as j,i as h,t as x,w as y,S as v}from"./index-d0873535.js";const H={class:"flex flex-col mt-3 flex-1"},I={class:"p-4 rounded-2xl bg-white"},R={class:"mb-6"},T={key:0,class:"absolute inset-0 bg-white bg-opacity-80 flex items-center justify-center z-10 rounded-lg"},J={class:"space-y-4"},W=["disabled"],E={key:0,class:"mb-4 p-4 bg-gray-50 rounded-lg"},O={class:"flex items-center justify-between"},U={class:"font-medium text-gray-900"},$={class:"text-sm text-gray-500"},A=["disabled"],K={key:1,class:"space-y-4"},q={class:"flex items-center justify-between"},Q=["disabled"],X={class:"bg-gray-50 rounded-lg p-4"},Y=["value"],Z={class:"mt-4"},ee={class:"border border-gray-300 rounded-lg p-4 bg-white"},te=["src"],re=L({__name:"ImageToBase64",setup(se){const w=P({title:"图片转Base64"}),o=r(""),n=r(""),m=r(""),i=r(!1),l=r(!1),f=s=>{if(!s.type.startsWith("image/")){v.error("请选择图片文件");return}l.value=!0;const e=new FileReader;e.onload=a=>{var b;const d=(b=a.target)==null?void 0:b.result;o.value=d,n.value=s.name,m.value=B(s.size),l.value=!1,v.success("图片转换完成")},e.onerror=()=>{l.value=!1,v.error("图片转换失败，请重试")},e.readAsDataURL(s)},B=s=>{if(s===0)return"0 Bytes";const e=1024,a=["Bytes","KB","MB","GB"],d=Math.floor(Math.log(s)/Math.log(e));return parseFloat((s/Math.pow(e,d)).toFixed(2))+" "+a[d]},k=s=>{s.preventDefault(),i.value=!0},D=s=>{s.preventDefault(),i.value=!1},C=s=>{var a;s.preventDefault(),i.value=!1;const e=(a=s.dataTransfer)==null?void 0:a.files;e&&e.length>0&&f(e[0])},M=s=>{const a=s.target.files;a&&a.length>0&&f(a[0])},S=async()=>{o.value&&(await N(o.value),v.success("Base64编码已复制到剪贴板"))},F=()=>{o.value="",n.value="",m.value=""};return(s,e)=>{const a=V("el-text");return c(),u("div",H,[g(G,{title:w.title},null,8,["title"]),t("div",I,[t("div",R,[t("div",{class:_(["border-2 border-dashed border-gray-300 rounded-lg p-8 text-center transition-colors relative",{"border-blue-500 bg-blue-50":i.value}]),onDragover:k,onDragleave:D,onDrop:C},[l.value?(c(),u("div",T,e[0]||(e[0]=[t("div",{class:"text-center"},[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2"}),t("p",{class:"text-gray-600"},"正在处理图片...")],-1)]))):p("",!0),t("div",J,[e[2]||(e[2]=j('<div class="text-gray-400"><svg class="mx-auto h-12 w-12" stroke="currentColor" fill="none" viewBox="0 0 48 48"><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div><p class="text-lg font-medium text-gray-900">拖拽图片到此处或点击上传</p><p class="text-sm text-gray-500">支持 JPG、PNG、GIF、WebP 等格式</p></div>',2)),t("div",null,[t("label",{class:_(["cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",{"opacity-50 cursor-not-allowed":l.value}])},[e[1]||(e[1]=h(" 选择图片 ",-1)),t("input",{type:"file",accept:"image/*",class:"hidden",onChange:M,disabled:l.value},null,40,W)],2)])])],34)]),n.value?(c(),u("div",E,[t("div",O,[t("div",null,[t("p",U,x(n.value),1),t("p",$,"文件大小: "+x(m.value),1)]),t("button",{onClick:F,class:"text-red-600 hover:text-red-800 text-sm",disabled:l.value}," 清空 ",8,A)])])):p("",!0),o.value?(c(),u("div",K,[t("div",q,[e[3]||(e[3]=t("h3",{class:"text-lg font-medium text-gray-900"},"Base64编码结果",-1)),t("button",{onClick:S,class:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",disabled:l.value}," 复制Base64 ",8,Q)]),t("div",X,[t("textarea",{value:o.value,readonly:"",class:"w-full h-32 p-3 border border-gray-300 rounded-md bg-white resize-none",placeholder:"Base64编码将显示在这里..."},null,8,Y)]),t("div",Z,[e[4]||(e[4]=t("h4",{class:"text-md font-medium text-gray-900 mb-2"},"图片预览",-1)),t("div",ee,[t("img",{src:o.value,alt:"预览图片",class:"max-w-full max-h-64 mx-auto"},null,8,te)])])])):p("",!0)]),g(z,{title:"描述"},{default:y(()=>[g(a,null,{default:y(()=>e[5]||(e[5]=[h(" 图片转Base64工具可以将图片文件转换为Base64编码格式。Base64编码后的图片可以直接嵌入到HTML、CSS或JavaScript代码中使用，无需额外的文件请求。支持拖拽上传和点击上传，支持JPG、PNG、GIF、WebP等常见图片格式。 ",-1)])),_:1,__:[5]})]),_:1})])}}});export{re as default};
