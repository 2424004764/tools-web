import{_ as A}from"./DetailHeader.vue_vue_type_script_setup_true_lang-0d0e5151.js";import{_ as N}from"./ToolDetail.vue_vue_type_script_setup_true_lang-d2963b03.js";import{d as V,v as w,H as B,I as F,o as D,x as E,r as C,b as a,c as m,i as y,f as t,t as n,g as k,h,j as g,p as b,J as x,T as I,F as G,e as L,q,_ as J}from"./index-b25e871b.js";const R={class:"flex flex-col mt-3 ml-4 flex-1 mr-3"},U={class:"p-6 rounded-2xl bg-white shadow-sm border border-gray-200"},K={class:"max-w-4xl mx-auto"},Q={class:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6"},X={class:"text-center bg-blue-50 p-3 rounded-lg border border-blue-200"},Y={class:"text-xl font-bold text-blue-600"},Z={class:"text-center bg-green-50 p-3 rounded-lg border border-green-200"},ee={class:"text-xl font-bold text-green-600"},te={class:"text-center bg-red-50 p-3 rounded-lg border border-red-200"},se={class:"text-xl font-bold text-red-600"},oe={class:"text-center bg-purple-50 p-3 rounded-lg border border-purple-200"},re={class:"text-xl font-bold text-purple-600"},le={class:"text-center bg-orange-50 p-3 rounded-lg border border-orange-200"},ne={class:"text-xl font-bold text-orange-600"},ie={class:"text-center bg-indigo-50 p-3 rounded-lg border border-indigo-200"},ae={class:"text-xl font-bold text-indigo-600"},de={class:"flex justify-center mb-6"},ce={class:"flex justify-center mb-6 relative"},ue={key:0,class:"absolute inset-0 flex items-center justify-center z-10"},me={class:"bg-yellow-100 border-4 border-yellow-400 rounded-full p-8 shadow-2xl"},ge={class:"text-center"},be={class:"text-6xl font-bold text-yellow-600 mb-2"},fe=["onClick"],ve={key:1,class:"absolute inset-0 flex items-center justify-center text-2xl font-bold text-yellow-400"},he={key:0,class:"text-center mb-6"},xe={class:"bg-green-50 border-2 border-green-300 rounded-lg p-4 shadow-md"},pe={class:"text-green-600"},_e={class:"text-green-600"},we={class:"text-green-600"},ye={key:0,class:"text-yellow-600 font-medium mt-2"},Se=V({__name:"WhackAMole",setup(Me){const T=w({title:"打地鼠"}),e=w({isPlaying:!1,score:0,highScore:0,time:30,gameOver:!1,hits:0,misses:0,countdown:0,isCountdown:!1,moleCount:0}),l=w({gridSize:window.innerWidth<768?3:4,cellSize:window.innerWidth<768?80:100,moleShowTime:window.innerWidth<768?800:600,moleHideTime:400,gameDuration:3e4,baseInterval:window.innerWidth<768?1500:1200,minInterval:300}),d=B([]);let c=null,u=null;const H=()=>{const o=l.gridSize*l.gridSize;d.value=Array.from({length:o},(s,i)=>({id:i,hasMole:!1,isHit:!1}))},z=()=>{if(!e.isPlaying)return;d.value.forEach(v=>{v.hasMole=!1,v.isHit=!1});const o=Math.floor(Math.random()*d.value.length);d.value[o].hasMole=!0;const s=(30-e.time)/30,i=Math.min(e.score/200,1),f=Math.max(s,i);let r=l.moleShowTime;e.moleCount<3&&(r=l.moleShowTime*2);const _=r-(r-300)*f;setTimeout(()=>{d.value[o].hasMole&&!d.value[o].isHit&&e.misses++},_),e.moleCount++},P=o=>{if(!e.isPlaying)return;const s=d.value.find(i=>i.id===o);s&&s.hasMole&&!s.isHit&&(s.isHit=!0,s.hasMole=!1,e.hits++,e.score+=10)},S=()=>{e.isPlaying=!1,e.gameOver=!1,e.score=0,e.time=30,e.hits=0,e.misses=0,e.moleCount=0,e.isCountdown=!0,e.countdown=3,H();const o=setInterval(()=>{e.countdown--,e.countdown<=0&&(clearInterval(o),e.isCountdown=!1,e.isPlaying=!0,c=setInterval(()=>{e.isPlaying&&(e.time--,e.time<=0&&O())},1e3),j())},1e3)},j=()=>{const o=()=>{if(e.isPlaying){z();const s=(30-e.time)/30,i=Math.min(e.score/200,1),f=Math.max(s,i);let r=l.baseInterval;e.moleCount<3&&(r=l.baseInterval*1.5);const p=r-(r-l.minInterval)*f,_=.7+Math.random()*.6,v=Math.max(l.minInterval,p*_);u=setTimeout(o,v)}};o()},O=()=>{e.isPlaying=!1,e.gameOver=!0,c&&(clearInterval(c),c=null),u&&(clearTimeout(u),u=null),e.score>e.highScore&&(e.highScore=e.score,localStorage.setItem("whackAMoleHighScore",e.highScore.toString()))},W=()=>{c&&clearInterval(c),u&&clearTimeout(u),S()},$=o=>`${Math.floor(o/60)}:${(o%60).toString().padStart(2,"0")}`,M=F(()=>{const o=e.hits+e.misses;return o>0?Math.round(e.hits/o*100):0});return D(()=>{const o=localStorage.getItem("whackAMoleHighScore");o&&(e.highScore=parseInt(o))}),E(()=>{c&&clearInterval(c),u&&clearTimeout(u)}),(o,s)=>{const i=C("el-button"),f=C("el-text");return a(),m("div",R,[y(A,{title:T.title},null,8,["title"]),t("div",U,[t("div",K,[t("div",Q,[t("div",X,[s[0]||(s[0]=t("h3",{class:"text-sm font-medium text-blue-900"},"得分",-1)),t("p",Y,n(e.score),1)]),t("div",Z,[s[1]||(s[1]=t("h3",{class:"text-sm font-medium text-green-900"},"最高分",-1)),t("p",ee,n(e.highScore),1)]),t("div",te,[s[2]||(s[2]=t("h3",{class:"text-sm font-medium text-red-900"},"时间",-1)),t("p",se,n($(e.time)),1)]),t("div",oe,[s[3]||(s[3]=t("h3",{class:"text-sm font-medium text-purple-900"},"命中",-1)),t("p",re,n(e.hits),1)]),t("div",le,[s[4]||(s[4]=t("h3",{class:"text-sm font-medium text-orange-900"},"命中率",-1)),t("p",ne,n(M.value)+"%",1)]),t("div",ie,[s[5]||(s[5]=t("h3",{class:"text-sm font-medium text-indigo-900"},"游戏板",-1)),t("p",ae,n(l.gridSize)+"×"+n(l.gridSize),1)])]),t("div",de,[!e.isPlaying&&!e.gameOver&&!e.isCountdown?(a(),k(i,{key:0,onClick:S,type:"primary",class:"bg-blue-500 hover:bg-blue-600 border-blue-600"},{default:h(()=>s[6]||(s[6]=[g(" 开始游戏 ",-1)])),_:1,__:[6]})):b("",!0),e.gameOver?(a(),k(i,{key:1,onClick:W,type:"success",class:"bg-green-500 hover:bg-green-600 border-green-600"},{default:h(()=>s[7]||(s[7]=[g(" 重新开始 ",-1)])),_:1,__:[7]})):b("",!0)]),t("div",ce,[e.isCountdown?(a(),m("div",ue,[t("div",me,[t("div",ge,[t("div",be,n(e.countdown),1),s[8]||(s[8]=t("div",{class:"text-lg text-yellow-700"},"准备开始",-1))])])])):b("",!0),t("div",{class:x(["bg-green-100 p-6 rounded-lg shadow-lg",{"opacity-50":e.isCountdown}]),style:I({display:"grid",gridTemplateColumns:`repeat(${l.gridSize}, ${l.cellSize}px)`,gap:"10px"})},[(a(!0),m(G,null,L(d.value,r=>(a(),m("div",{key:r.id,class:x(["relative cursor-pointer transition-all duration-200 transform hover:scale-105",{"cursor-not-allowed":e.isCountdown}]),onClick:p=>e.isCountdown?null:P(r.id),style:I({width:l.cellSize+"px",height:l.cellSize+"px"})},[s[10]||(s[10]=t("div",{class:"absolute inset-0 bg-gray-800 rounded-full border-4 border-gray-600 shadow-inner"},null,-1)),r.hasMole&&!e.isCountdown?(a(),m("div",{key:0,class:x(["absolute inset-0 flex items-center justify-center",{"animate-bounce":r.hasMole&&!r.isHit,"animate-pulse":r.isHit}])},[t("div",{class:x(["w-3/4 h-3/4 bg-amber-500 rounded-full border-4 border-amber-700 flex items-center justify-center shadow-lg",{"bg-red-500 border-red-700":r.isHit}])},s[9]||(s[9]=[t("div",{class:"flex space-x-3"},[t("div",{class:"w-3 h-3 bg-black rounded-full border border-white"}),t("div",{class:"w-3 h-3 bg-black rounded-full border border-white"})],-1),t("div",{class:"absolute bottom-2 w-2 h-2 bg-pink-400 rounded-full"},null,-1)]),2)],2)):b("",!0),r.isHit&&!e.isCountdown?(a(),m("div",ve," +10 ")):b("",!0)],14,fe))),128))],6)]),e.gameOver?(a(),m("div",he,[t("div",xe,[s[11]||(s[11]=t("h3",{class:"text-lg font-medium text-green-900 mb-2"},"游戏结束！",-1)),t("p",pe,"最终得分: "+n(e.score),1),t("p",_e,"命中次数: "+n(e.hits),1),t("p",we,"命中率: "+n(M.value)+"%",1),e.score>e.highScore?(a(),m("p",ye," 新纪录！恭喜你创造了新的最高分！ ")):b("",!0)])])):b("",!0),s[12]||(s[12]=q('<div class="bg-gray-50 rounded-lg p-4 border-2 border-gray-200 shadow-sm" data-v-df97aed6><h3 class="text-lg font-medium text-gray-900 mb-3" data-v-df97aed6>游戏说明</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600" data-v-df97aed6><div class="bg-white p-3 rounded border border-gray-200" data-v-df97aed6><p data-v-df97aed6><strong class="text-blue-600" data-v-df97aed6>游戏目标：</strong>在30秒内击中尽可能多的地鼠</p><p data-v-df97aed6><strong class="text-blue-600" data-v-df97aed6>操作方式：</strong>点击出现的地鼠进行击中</p></div><div class="bg-white p-3 rounded border border-gray-200" data-v-df97aed6><p data-v-df97aed6><strong class="text-green-600" data-v-df97aed6>得分规则：</strong>每击中一个地鼠+10分</p><p data-v-df97aed6><strong class="text-red-600" data-v-df97aed6>挑战：</strong>提高命中率，获得更高分数</p></div></div></div>',1))])]),y(N,{title:"描述"},{default:h(()=>[y(f,null,{default:h(()=>s[13]||(s[13]=[g(" 经典打地鼠游戏，考验你的反应速度和手眼协调：",-1),t("br",null,null,-1),t("br",null,null,-1),g(" 游戏特色：经典打地鼠玩法，随机出现的地鼠，实时得分统计",-1),t("br",null,null,-1),g(" 操作方式：点击出现的地鼠进行击中，30秒倒计时挑战",-1),t("br",null,null,-1),g(" 游戏目标：在限定时间内击中尽可能多的地鼠，获得高分",-1),t("br",null,null,-1),g(" 训练效果：锻炼反应速度、手眼协调能力和注意力集中",-1),t("br",null,null,-1),t("br",null,null,-1),g(" 适合所有年龄段，是经典的街机游戏。 ",-1)])),_:1,__:[13]})]),_:1})])}}});const Te=J(Se,[["__scopeId","data-v-df97aed6"]]);export{Te as default};
