import{d as e,r as l,q as a,m as t,b as s,al as n,o,c as u,R as r,a as i,K as d,aj as c,aG as v,aF as p,Q as m,a4 as g,P as f,D as b,M as h,J as x,O as y}from"./chunk-bb5ca2a1.js";import{a as w}from"./chunk-96adf8d3.js";import{_ as $}from"./chunk-ad31c5b2.js";import{_ as k}from"./chunk-9c6aa90d.js";import{c as j}from"../assets/index-7b9ba7a5.js";import{E as U}from"./chunk-0a8d181f.js";import"./chunk-b045bb46.js";const V={class:"flex flex-col mt-3 flex-1"},M={class:"p-4 rounded-2xl bg-white"},C={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},_={class:"space-y-4"},A={class:"grid grid-cols-2 gap-3"},B={class:"grid grid-cols-2 gap-3"},D={class:"grid grid-cols-3 gap-3"},I={key:0,class:"col-span-3 grid grid-cols-3 gap-3"},P={class:"col-span-3"},R={key:1,class:"col-span-3"},S={class:"flex items-center justify-between mb-2"},z={class:"flex flex-wrap gap-2 text-xs"},N=["onClick"],W=["disabled"],K={class:"space-y-3"},T={class:"flex items-center justify-between"},q=["disabled"],E={class:"min-h-[220px] border rounded-lg p-3 bg-gray-50"},F={key:0,class:"text-gray-500"},G={key:1,class:"space-y-2"},H={class:"pr-3"},J={class:"font-medium"},O={key:0,class:"text-gray-600 text-sm mt-1"},Q=["onClick"],L={key:0,class:"text-gray-400 text-sm"},X=e({__name:"AiName",setup(e){const X=l("NpgaKlHjioTlyo2B"),Y=l("https://tool.fologde.com/proxy"),Z=l("https://text.pollinations.ai"),ee=a({title:"AI起名",desc:"输入父母姓氏，选择名的长度与性别，一键生成多个中文姓名，并给出命名理由"}),le=l(""),ae=l(""),te=l("父姓"),se=l("男"),ne=l("1-2"),oe=l("不限"),ue=l(10),re=l(!0),ie=l(""),de=l(""),ce=l(""),ve=l("前"),pe=l("");t(de,e=>{pe.value=function(e){var l;if(!e)return"";const[a,t]=e.split("T");if(!a)return"";if(!t)return`${a} 00:00:00`;const s=t.split(":");return`${a} ${s[0]||"00"}:${s[1]||"00"}:${(null==(l=s[2])?void 0:l.slice(0,2))||"00"}`}((e||"").trim())},{immediate:!0});const me=["聪慧睿智","健康平安","自信阳光","知书达理","博学多才","坚毅勇敢","温婉大方","心怀远志","独立自强","善良纯真"],ge=l(!1),fe=l([]),be=s(()=>("母姓"===te.value?!!ae.value.trim():!!le.value.trim())&&!ge.value&&ue.value>0&&ue.value<=50),he=s(()=>"1-2"===ne.value||"2"===ne.value),xe=[{f:"张",m:"李"},{f:"王",m:"赵"},{f:"陈",m:"刘"}],ye=()=>{const e=Math.floor(Math.random()*xe.length);le.value=xe[e].f,ae.value=xe[e].m},we=(e,l)=>{const a=le.value.trim(),t=ae.value.trim(),s=te.value,n="不限"===oe.value?"不限定风格":`${oe.value}风格`,o=se.value,u=e||ne.value,r=[`你是一位中文姓名学助理，请基于以下约束生成 ${null!=l?l:ue.value} 个中文全名，并给出简洁的命名理由：`,`- 输入姓氏：父姓「${a||"无"}」、母姓「${t||"无"}」`,`- 姓氏使用：${s}`,`- 名字长度：仅名部分为 ${"1-2"===u?"1 或 2":u} 个汉字（不含姓氏）；${"1"===u?"名必须为 1 个汉字，禁止 2 字名":"2"===u?"名必须为 2 个汉字，禁止 1 字名":"名只能为 1 或 2 个汉字，且 2 字名数量不得少于 1 字名；输出顺序从 2 字名开始，然后与 1 字名交替排列（2、1、2、1...）"}`,`- 性别：${o}（注意名字读感与性别气质匹配）`,`- 风格：${n}（语义积极、读起来顺口，避免生僻与负面含义）`],i=ie.value.replace(/\r?\n/g,"；").trim();i&&r.push(`- 寓意：${i}（名字需体现或贴近该寓意）`);const d=pe.value;d&&r.push(`- 出生日期时间：${d}（精确到时分秒，可用于参考读音与寓意的协调与避讳）`);const c=(ce.value||"").trim().slice(0,1);if(c&&("2"===u||"1-2"===u)){const e="前"===ve.value?"第1位":"第2位";"2"===u?r.push(`- 固定字：名中必须包含「${c}」，且位置在${e}`):r.push(`- 固定字：若为1字名则名=「${c}」；若为2字名则包含「${c}」且位置在${e}`)}return r.push("- 规则：所有姓名必须以所选姓氏开头；避免多音不雅，尽量避开同音低俗；可参考寓意、音律、字形搭配、文化典故等","- 自检：逐条校验“名”的汉字个数是否满足本次设定；当设为“1-2”时，保证 2 字名数量不小于 1 字名，且尽量交替；不满足请在内部修正后再输出","- 输出：姓名和理由每行一个，破折号分割姓名和理由，不要添加序号或额外说明"),r.join("\n")};function $e(e){if(!e)return 0;const l=e.match(/[\u4e00-\u9fa5]/g);return l?l.length:0}const ke=()=>{return e=this,l=null,a=function*(){if(be.value){ge.value=!0,fe.value=[];try{if("母姓"===te.value&&!ae.value.trim())return U.warning("已选择“母姓”，请先填写母姓再生成"),void(ge.value=!1);if("父姓"===te.value&&!le.value.trim())return U.warning("已选择“父姓”，请先填写父姓再生成"),void(ge.value=!1);const e=new Set,l=[],a=a=>{const t=(e=>{const l=e.replace(/\r\n/g,"\n").split("\n"),a=[];for(const t of l){const e=t.trim();if(!e)continue;let l="",s="";if(e.includes("\t")){const[a,...t]=e.split("\t");l=(a||"").trim(),s=t.join("\t").trim()}else if(e.includes("—")||e.includes("-")||e.includes("：")||e.includes(":")){const a=e.split(/\s*[—\-：:]\s*/);l=(a[0]||"").trim(),s=(a.slice(1).join("：")||"").trim()}else l=e,s="";l&&a.push({name:l,reason:s})}return a})(a);for(const s of t){const a=s.name;if(a&&!e.has(a)&&(e.add(a),l.push(s),l.length>=3*ue.value))break}};if("1-2"===ne.value){const e=Math.ceil(ue.value/2),l=ue.value-e,t=we("2",e),s=we("1",l),n="​".repeat(1+Math.floor(3*Math.random())),o="​".repeat(1+Math.floor(3*Math.random())),[u,r]=yield Promise.all([w.get(`${Y.value}?path=${encodeURIComponent(re.value?t+n:t)}&target=${Z.value}&params=_t=${Date.now()}`,{headers:{Authorization:"Bearer "+X.value}}),w.get(`${Y.value}?path=${encodeURIComponent(re.value?s+o:s)}&target=${Z.value}&params=_t=${Date.now()+1}`,{headers:{Authorization:"Bearer "+X.value}})]);a("string"==typeof u.data?u.data:String(u.data)),a("string"==typeof r.data?r.data:String(r.data))}else{const e=we(ne.value),l="​".repeat(1+Math.floor(3*Math.random())),t=re.value?e+l:e,s=yield w.get(`${Y.value}?path=${encodeURIComponent(t)}&target=${Z.value}&params=_t=${Date.now()}`,{headers:{Authorization:"Bearer "+X.value}});a("string"==typeof s.data?s.data:String(s.data))}const t=function(e){const l=("父姓"===te.value?le.value.trim():ae.value.trim())||le.value.trim()||ae.value.trim(),a=ne.value,t=(ce.value||"").trim().slice(0,1),s=t&&("2"===a||"1-2"===a),n=e.filter(e=>{const n=(e.name||"").trim();if(!n)return!1;let o=n;l&&n.startsWith(l)&&(o=n.slice(l.length));const u=$e(o);if(!("1-2"===a?1===u||2===u:u===Number(a)))return!1;if(!s)return!0;if(1===u)return o===t;if(2===u){const e=o[0],l=o[1];return"前"===ve.value?e===t:l===t}return!0});if("1-2"!==a)return n;const o=n.filter(e=>{const a=e.name.trim();return 1===$e(l&&a.startsWith(l)?a.slice(l.length):a)}),u=n.filter(e=>{const a=e.name.trim();return 2===$e(l&&a.startsWith(l)?a.slice(l.length):a)}),r=Math.ceil(ue.value/2),i=[];for(let c=0;c<r&&c<o.length;c++)i.push(o[c]);for(let c=0;c<r&&c<u.length;c++)i.push(u[c]);const d=[...o.slice(r),...u.slice(r)];for(const c of d){if(i.length>=ue.value)break;i.find(e=>e.name===c.name)||i.push(c)}return i}(l);fe.value=t.slice(0,ue.value)}catch(e){alert("生成失败，请稍后重试")}finally{ge.value=!1}}},new Promise((t,s)=>{var n=e=>{try{u(a.next(e))}catch(l){s(l)}},o=e=>{try{u(a.throw(e))}catch(l){s(l)}},u=e=>e.done?t(e.value):Promise.resolve(e.value).then(n,o);u((a=a.apply(e,l)).next())});var e,l,a},je=()=>fe.value.length&&j(fe.value.map(e=>`${e.name}\t${e.reason}`).join("\n"));return(e,l)=>{const a=n("el-text");return o(),u("div",V,[r($,{title:ee.title},null,8,["title"]),i("div",M,[i("div",C,[i("div",_,[i("div",{class:"flex items-center justify-between"},[l[12]||(l[12]=i("label",{class:"block text-sm text-gray-700"},"父姓 / 母姓",-1)),i("button",{class:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded",onClick:ye},"示例")]),i("div",A,[d(i("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>le.value=e),maxlength:"2",placeholder:"父姓，如 张",class:"w-full p-2 border rounded-lg"},null,512),[[c,le.value]]),d(i("input",{"onUpdate:modelValue":l[1]||(l[1]=e=>ae.value=e),maxlength:"2",placeholder:"母姓，如 李（可选）",class:"w-full p-2 border rounded-lg"},null,512),[[c,ae.value]])]),i("div",B,[i("div",null,[l[14]||(l[14]=i("label",{class:"block text-sm text-gray-700 mb-1"},"姓氏使用",-1)),d(i("select",{"onUpdate:modelValue":l[2]||(l[2]=e=>te.value=e),class:"w-full p-2 border rounded-lg"},l[13]||(l[13]=[i("option",{value:"父姓"},"父姓",-1),i("option",{value:"母姓"},"母姓",-1)]),512),[[v,te.value]])]),i("div",null,[l[16]||(l[16]=i("label",{class:"block text-sm text-gray-700 mb-1"},"性别",-1)),d(i("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>se.value=e),class:"w-full p-2 border rounded-lg"},l[15]||(l[15]=[i("option",{value:"男"},"男",-1),i("option",{value:"女"},"女",-1)]),512),[[v,se.value]])])]),i("div",D,[i("div",null,[l[18]||(l[18]=i("label",{class:"block text-sm text-gray-700 mb-1"},"名的长度",-1)),d(i("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>ne.value=e),class:"w-full p-2 border rounded-lg"},l[17]||(l[17]=[i("option",{value:"1"},"1",-1),i("option",{value:"1-2"},"1-2（默认）",-1),i("option",{value:"2"},"2",-1)]),512),[[v,ne.value]])]),i("div",null,[l[20]||(l[20]=i("label",{class:"block text-sm text-gray-700 mb-1"},"风格",-1)),d(i("select",{"onUpdate:modelValue":l[5]||(l[5]=e=>oe.value=e),class:"w-full p-2 border rounded-lg"},l[19]||(l[19]=[p('<option value="不限">不限</option><option value="古典">古典</option><option value="现代">现代</option><option value="文雅">文雅</option><option value="阳光">阳光</option><option value="中性">中性</option><option value="诗意">诗意</option>',7)]),512),[[v,oe.value]])]),i("div",null,[l[21]||(l[21]=i("label",{class:"block text-sm text-gray-700 mb-1"},"数量",-1)),d(i("input",{"onUpdate:modelValue":l[6]||(l[6]=e=>ue.value=e),type:"number",min:"1",max:"50",class:"w-full p-2 border rounded-lg"},null,512),[[c,ue.value,void 0,{number:!0}]])]),he.value?(o(),u("div",I,[i("div",null,[l[22]||(l[22]=i("label",{class:"block text-sm text-gray-700 mb-1"},"固定字（名）",-1)),d(i("input",{"onUpdate:modelValue":l[7]||(l[7]=e=>ce.value=e),maxlength:"1",placeholder:"仅 1 个汉字",class:"w-full p-2 border rounded-lg"},null,512),[[c,ce.value]])]),i("div",null,[l[24]||(l[24]=i("label",{class:"block text-sm text-gray-700 mb-1"},"固定字位置",-1)),d(i("select",{"onUpdate:modelValue":l[8]||(l[8]=e=>ve.value=e),class:"w-full p-2 border rounded-lg"},l[23]||(l[23]=[i("option",{value:"前"},"前（第1位）",-1),i("option",{value:"后"},"后（第2位）",-1)]),512),[[v,ve.value]])]),i("div",P,[l[25]||(l[25]=i("label",{class:"block text-sm text-gray-700 mb-1"},"出生日期时间",-1)),d(i("input",{"onUpdate:modelValue":l[9]||(l[9]=e=>de.value=e),type:"datetime-local",step:"1",class:"w-full p-2 border rounded-lg"},null,512),[[c,de.value]])])])):(o(),u("div",R,[l[26]||(l[26]=i("label",{class:"block text-sm text-gray-700 mb-1"},"出生日期时间",-1)),d(i("input",{"onUpdate:modelValue":l[10]||(l[10]=e=>de.value=e),type:"datetime-local",step:"1",class:"w-full p-2 border rounded-lg min-w-[320px]"},null,512),[[c,de.value]])]))]),i("div",null,[i("div",S,[l[27]||(l[27]=i("label",{class:"block text-sm w-40 text-gray-700"},"寓意（可选）",-1)),i("div",z,[(o(),u(m,null,g(me,e=>i("button",{key:e,class:"px-2 py-1 bg-gray-100 hover:bg-gray-200 rounded",onClick:l=>(e=>{ie.value=e})(e)},f(e),9,N)),64))])]),d(i("textarea",{"onUpdate:modelValue":l[11]||(l[11]=e=>ie.value=e),rows:"3",maxlength:"200",placeholder:"例如：聪慧睿智 / 健康平安 / 自信阳光\\n可分行填写多个侧重点",class:"w-full p-2 border rounded-lg min-h-[80px]"},null,512),[[c,ie.value]])]),i("button",{onClick:ke,disabled:!be.value,class:b(["py-3 px-6 rounded-lg w-full transition",be.value?"bg-blue-600 hover:bg-blue-700 text-white":"bg-gray-400 cursor-not-allowed"])},f(ge.value?"生成中...":"生成姓名"),11,W)]),i("div",K,[i("div",T,[l[28]||(l[28]=i("div",{class:"text-sm text-gray-600"},"生成结果",-1)),i("button",{class:"px-3 py-1 text-sm bg-emerald-500 text-white rounded",disabled:!fe.value.length,onClick:je},"复制全部",8,q)]),i("div",E,[ge.value?(o(),u("div",F,"生成中...")):(o(),u("ul",G,[(o(!0),u(m,null,g(fe.value,(e,l)=>(o(),u("li",{key:l,class:"flex items-start justify-between bg-white p-3 rounded border"},[i("div",H,[i("div",J,f(e.name),1),e.reason?(o(),u("div",O,f(e.reason),1)):h("",!0)]),i("button",{class:"px-2 py-1 text-xs bg-blue-500 text-white rounded h-fit",onClick:l=>{return a=e.name,j(a);var a}},"复制",8,Q)]))),128)),fe.value.length?h("",!0):(o(),u("div",L,"暂无结果"))]))])])])]),r(k,{title:"描述"},{default:x(()=>[r(a,null,{default:x(()=>[y(f(ee.desc),1)]),_:1})]),_:1})])}}});export{X as default};
