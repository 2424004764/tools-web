import{_ as l}from"./chunk-da898eb4.js";import{_ as e}from"./chunk-9c6aa90d.js";import{r,n as t,q as n}from"./chunk-0a8d181f.js";import{d as o,q as s,r as a,b as u,U as i,t as d,al as c,o as f,c as b,R as m,a as g,J as p,O as v,u as y,P as x,Q as h,a4 as k,D as C,M as w}from"./chunk-bb5ca2a1.js";import{_}from"../assets/index-a064607a.js";import"./chunk-96adf8d3.js";import"./chunk-b045bb46.js";const M={class:"flex flex-col mt-3 flex-1"},j={class:"p-4 rounded-2xl bg-white"},E={class:"flex flex-wrap gap-4 mb-6 items-center"},I={class:"flex items-center gap-2"},F={class:"flex gap-4 text-sm"},P={class:"flex items-center gap-1"},S={class:"font-bold text-green-600"},$={class:"flex items-center gap-1"},z={class:"font-bold text-red-600"},A={class:"flex justify-center"},D={class:"grid grid-cols-9 gap-0 border-2 border-gray-800 bg-gray-800"},L=["onClick"],U={key:0,class:"text-lg font-semibold"},V={key:1,class:"grid grid-cols-3 gap-0 text-xs text-gray-500"},q={key:0,class:"flex justify-center mt-6"},O={class:"flex gap-2"},R={key:1,class:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg text-center"},B={class:"text-green-600"},J=_(o({__name:"Sudoku",setup(o){const _=s({title:"数独游戏"}),J=s({board:[],selectedCell:null,difficulty:"easy",time:0,isPlaying:!1,isCompleted:!1,timer:null,mistakes:0,hints:0}),Q=a(!1),W=u(()=>J.board&&0!==J.board.length?J.board:X()),X=()=>{const l=[];for(let e=0;e<9;e++){l[e]=[];for(let r=0;r<9;r++)l[e][r]={value:0,isFixed:!1,isError:!1,notes:[],row:e,col:r}}return l},G=()=>{const l=[];for(let e=0;e<9;e++){l[e]=[];for(let r=0;r<9;r++)l[e][r]=0}return H(l,0,0),H(l,3,3),H(l,6,6),K(l),l},H=(l,e,r)=>{const t=[1,2,3,4,5,6,7,8,9];for(let n=0;n<3;n++)for(let o=0;o<3;o++){const s=Math.floor(Math.random()*t.length),a=t.splice(s,1)[0];l[e+n][r+o]=a}},K=l=>{for(let e=0;e<9;e++)for(let r=0;r<9;r++)if(0===l[e][r]){for(let t=1;t<=9;t++)if(N(l,e,r,t)){if(l[e][r]=t,K(l))return!0;l[e][r]=0}return!1}return!0},N=(l,e,r,t)=>{for(let s=0;s<9;s++)if(l[e][s]===t)return!1;for(let s=0;s<9;s++)if(l[s][r]===t)return!1;const n=3*Math.floor(e/3),o=3*Math.floor(r/3);for(let s=0;s<3;s++)for(let e=0;e<3;e++)if(l[s+n][e+o]===t)return!1;return!0},T=()=>{J.board=X();const{puzzle:l}=(l=>{const e=G(),r={easy:30,medium:40,hard:50}[l],t=e.map(l=>l.map(l=>l)),n=[];for(let o=0;o<81;o++)n.push(o);for(let o=0;o<r;o++){const l=Math.floor(Math.random()*n.length),e=n.splice(l,1)[0],r=e%9;t[Math.floor(e/9)][r]=0}return{puzzle:t,solution:e}})(J.difficulty);for(let e=0;e<9;e++)for(let r=0;r<9;r++)J.board[e][r].value=l[e][r],J.board[e][r].isFixed=0!==l[e][r],J.board[e][r].isError=!1,J.board[e][r].notes=[];J.selectedCell=null,J.time=0,J.isPlaying=!1,J.isCompleted=!1,J.mistakes=0,J.hints=0,J.timer&&(clearInterval(J.timer),J.timer=null)},Y=l=>{if(!J.selectedCell)return;const{row:e,col:r}=J.selectedCell,t=J.board[e][r];if(!t.isFixed)if(Q.value){const e=t.notes.indexOf(l);e>-1?t.notes.splice(e,1):(t.notes.push(l),t.notes.sort())}else{if(t.value=l,t.notes=[],0!==l){const n=Z(e,r,l);t.isError=!n,n||J.mistakes++}else t.isError=!1;ll()}},Z=(l,e,r)=>{for(let o=0;o<9;o++)if(o!==e&&J.board[l][o].value===r)return!1;for(let o=0;o<9;o++)if(o!==l&&J.board[o][e].value===r)return!1;const t=3*Math.floor(l/3),n=3*Math.floor(e/3);for(let o=0;o<3;o++)for(let s=0;s<3;s++){const a=o+t,u=s+n;if((a!==l||u!==e)&&J.board[a][u].value===r)return!1}return!0},ll=()=>{for(let l=0;l<9;l++)for(let e=0;e<9;e++)if(0===J.board[l][e].value)return;for(let l=0;l<9;l++)for(let e=0;e<9;e++)if(J.board[l][e].isError)return;J.isCompleted=!0,J.isPlaying=!1,J.timer&&(clearInterval(J.timer),J.timer=null)},el=()=>{J.isPlaying=!0,J.timer=setInterval(()=>{J.time++},1e3)},rl=()=>{J.timer&&(clearInterval(J.timer),J.timer=null),T()},tl=()=>{rl()},nl=()=>{if(!J.selectedCell)return;const{row:l,col:e}=J.selectedCell,r=J.board[l][e];if(!r.isFixed&&0===r.value)for(let t=0;t<9;t++)for(let l=0;l<9;l++)if(0===J.board[t][l].value)for(let e=1;e<=9;e++)if(Z(t,l,e))return J.board[t][l].value=e,void J.hints++},ol=l=>{const e=l%60;return`${Math.floor(l/60).toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},sl=l=>(l=>{let e=0;if(!J.board||0===J.board.length)return 0;for(let r=0;r<9;r++)for(let t=0;t<9;t++)J.board[r][t]&&J.board[r][t].value===l&&e++;return e})(l)>=9,al=(l,e)=>{if(!J.selectedCell)return"";const r=J.selectedCell.row,t=J.selectedCell.col;if(l===r&&e===t)return"bg-blue-200 border-blue-600";const n=Math.abs(l-r),o=Math.abs(e-t),s=3*Math.floor(r/3),a=3*Math.floor(t/3),u=3*Math.floor(l/3),i=3*Math.floor(e/3),d=l===r||e===t,c=u===s&&i===a;if(d){if(Math.max(n,o)>0)return"bg-blue-100"}return c&&!d?"bg-blue-50":""},ul=l=>{if(!J.selectedCell)return;const{row:e,col:r}=J.selectedCell;if(!J.board[e][r].isFixed){if(l.key>="1"&&l.key<="9"){const e=parseInt(l.key);Y(e)}"Delete"!==l.key&&"Backspace"!==l.key||Y(0),"ArrowUp"===l.key&&e>0?J.selectedCell={row:e-1,col:r}:"ArrowDown"===l.key&&e<8?J.selectedCell={row:e+1,col:r}:"ArrowLeft"===l.key&&r>0?J.selectedCell={row:e,col:r-1}:"ArrowRight"===l.key&&r<8&&(J.selectedCell={row:e,col:r+1})}};return i(()=>{J.timer&&(clearInterval(J.timer),J.timer=null),document.removeEventListener("keydown",ul)}),d(()=>{T(),document.addEventListener("keydown",ul)}),(o,s)=>{const a=c("el-option"),u=c("el-select"),i=c("el-button"),d=c("el-text");return f(),b("div",M,[m(l,{title:_.title},null,8,["title"]),g("div",j,[g("div",E,[g("div",I,[s[3]||(s[3]=g("span",{class:"text-sm font-medium"},"难度：",-1)),m(u,{modelValue:J.difficulty,"onUpdate:modelValue":s[0]||(s[0]=l=>J.difficulty=l),onChange:tl,style:{width:"100px"}},{default:p(()=>[m(a,{label:"简单",value:"easy"}),m(a,{label:"中等",value:"medium"}),m(a,{label:"困难",value:"hard"})]),_:1},8,["modelValue"])]),m(i,{type:"primary",onClick:rl,icon:y(r)},{default:p(()=>s[4]||(s[4]=[v(" 重新开始 ",-1)])),_:1,__:[4]},8,["icon"]),m(i,{type:Q.value?"success":"default",onClick:s[1]||(s[1]=l=>Q.value=!Q.value),icon:y(t)},{default:p(()=>[v(x(Q.value?"笔记模式":"输入模式"),1)]),_:1},8,["type","icon"]),m(i,{type:"warning",onClick:nl,icon:y(n),disabled:!J.selectedCell},{default:p(()=>[v(" 提示 ("+x(J.hints)+") ",1)]),_:1},8,["icon","disabled"]),g("div",F,[g("div",P,[s[5]||(s[5]=g("span",{class:"text-gray-600"},"时间：",-1)),g("span",S,x(ol(J.time)),1)]),g("div",$,[s[6]||(s[6]=g("span",{class:"text-gray-600"},"错误：",-1)),g("span",z,x(J.mistakes),1)])])]),g("div",A,[g("div",D,[(f(),b(h,null,k(9,l=>g("div",{key:`row-${l}`,class:"contents"},[(f(),b(h,null,k(9,e=>g("div",{key:`cell-${l}-${e}`,class:C(["w-12 h-12 border border-gray-600 flex items-center justify-center cursor-pointer transition-colors",[al(l-1,e-1)||"bg-white",W.value[l-1][e-1].isFixed?"font-bold":"",!al(l-1,e-1)&&W.value[l-1][e-1].isError?"text-red-600":"",al(l-1,e-1)?"":[(l-1)%3==0?"border-t-2 border-t-gray-800":"",(l-1)%3==2?"border-b-2 border-b-gray-800":"",(e-1)%3==0?"border-l-2 border-l-gray-800":"",(e-1)%3==2?"border-r-2 border-r-gray-800":""]]]),onClick:r=>((l,e)=>{J.selectedCell={row:l,col:e},J.isPlaying||el()})(l-1,e-1)},[0!==W.value[l-1][e-1].value?(f(),b("div",U,x(W.value[l-1][e-1].value),1)):W.value[l-1][e-1].notes.length>0?(f(),b("div",V,[(f(),b(h,null,k(9,r=>g("div",{key:r,class:C(W.value[l-1][e-1].notes.includes(r)?"text-gray-700 font-medium":"text-transparent")},x(r),3)),64))])):w("",!0)],10,L)),64))])),64))])]),J.isCompleted?w("",!0):(f(),b("div",q,[g("div",O,[(f(),b(h,null,k(9,l=>m(i,{key:l,onClick:e=>Y(l),type:J.selectedCell?"primary":"default",disabled:!J.selectedCell||sl(l),class:C(sl(l)?"opacity-50":"")},{default:p(()=>[v(x(l),1)]),_:2},1032,["onClick","type","disabled","class"])),64)),m(i,{onClick:s[2]||(s[2]=l=>Y(0)),type:J.selectedCell?"danger":"default",disabled:!J.selectedCell},{default:p(()=>s[7]||(s[7]=[v(" 清除 ",-1)])),_:1,__:[7]},8,["type","disabled"])])])),J.isCompleted?(f(),b("div",R,[s[8]||(s[8]=g("div",{class:"text-green-800 font-bold text-lg mb-2"},"🎉 恭喜完成！",-1)),g("div",B," 用时："+x(ol(J.time))+" | 错误："+x(J.mistakes)+" | 提示："+x(J.hints),1)])):w("",!0)]),m(e,{title:"游戏说明"},{default:p(()=>[m(d,null,{default:p(()=>s[9]||(s[9]=[v(" 数独是一款经典的逻辑推理游戏，起源于瑞士，后来在日本流行并传遍世界。游戏目标是在9x9的网格中填入数字1-9，使每行、每列和每个3x3宫格都包含1-9且不重复。 ",-1),g("br",null,null,-1),g("br",null,null,-1),g("strong",null,"游戏规则：",-1),g("br",null,null,-1),v("• 在9x9的网格中填入数字1-9 ",-1),g("br",null,null,-1),v("• 每行、每列、每个3x3宫格都不能有重复数字 ",-1),g("br",null,null,-1),v("• 灰色数字是固定的，不能修改 ",-1),g("br",null,null,-1),v("• 白色格子可以填入数字 ",-1),g("br",null,null,-1),g("br",null,null,-1),g("strong",null,"操作方法：",-1),g("br",null,null,-1),v("• 点击白色格子选中要填写的单元格 ",-1),g("br",null,null,-1),v("• 点击数字按钮填入数字，如果是电脑端，可以按数字键1-9填入数字 ",-1),g("br",null,null,-1),v('• 点击"清除"按钮删除已填数字 ',-1),g("br",null,null,-1),v("• 笔记模式：可以记录可能的数字 ",-1),g("br",null,null,-1),v("• 提示功能：获得一个数字的提示 ",-1),g("br",null,null,-1),g("br",null,null,-1),g("strong",null,"解题技巧：",-1),g("br",null,null,-1),v("• ",-1),g("strong",null,"唯一候选法",-1),v("：某个格子只能填一个数字 ",-1),g("br",null,null,-1),v("• ",-1),g("strong",null,"排除法",-1),v("：通过已知数字排除不可能的数字 ",-1),g("br",null,null,-1),v("• ",-1),g("strong",null,"区块法",-1),v("：利用3x3宫格的限制条件 ",-1),g("br",null,null,-1),v("• ",-1),g("strong",null,"X-Wing法",-1),v("：高级技巧，寻找特定模式 ",-1),g("br",null,null,-1),v("• ",-1),g("strong",null,"笔记法",-1),v("：记录每个格子可能的数字 ",-1),g("br",null,null,-1),g("br",null,null,-1),g("strong",null,"难度说明：",-1),g("br",null,null,-1),v("• ",-1),g("strong",null,"简单",-1),v("：适合初学者，主要使用基础技巧 ",-1),g("br",null,null,-1),v("• ",-1),g("strong",null,"中等",-1),v("：需要一些高级技巧，有一定挑战性 ",-1),g("br",null,null,-1),v("• ",-1),g("strong",null,"困难",-1),v("：需要多种高级技巧，考验逻辑推理能力 ",-1),g("br",null,null,-1),g("br",null,null,-1),g("strong",null,"游戏特色：",-1),g("br",null,null,-1),v("• 自动错误检测：实时检查填入数字的正确性 ",-1),g("br",null,null,-1),v("• 笔记功能：记录可能的数字组合 ",-1),g("br",null,null,-1),v("• 提示系统：在困难时获得帮助 ",-1),g("br",null,null,-1),v("• 计时统计：记录解题时间和错误次数 ",-1),g("br",null,null,-1),v("• 多种难度：适合不同水平的玩家 ",-1)])),_:1,__:[9]})]),_:1})])}}}),[["__scopeId","data-v-e8867f05"]]);export{J as default};
