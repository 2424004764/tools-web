import{d as e,q as t,r as a,o as s,c as l,R as n,a as r,O as i,K as o,aG as m,Q as u,a4 as d,P as c,aj as x,M as g,D as p,J as b,v as f}from"./chunk-bb5ca2a1.js";import{_ as y}from"./chunk-6b313974.js";import{_ as h}from"./chunk-9c6aa90d.js";import{E as v}from"./chunk-7296d483.js";import{_ as R}from"../assets/index-2738d5ba.js";import"./chunk-c8f53b98.js";import"./chunk-dd4ac5f9.js";const k={class:"flex flex-col mt-3 flex-1"},w={class:"p-4 rounded-2xl bg-white shadow-sm"},G={class:"max-w-md mx-auto"},j={key:0,class:"text-center"},S={class:"bg-gradient-to-r from-blue-50 to-purple-50 rounded-xl p-6 mb-4"},_={class:"mb-4"},$=["value"],M={key:1},H={class:"bg-gray-50 rounded-xl p-4 mb-4"},I={class:"flex justify-between items-center text-sm text-gray-600 mb-2"},N={class:"flex justify-between items-center text-xs text-gray-500"},C={key:0,class:"mb-4"},E={class:"flex gap-2"},K=["min","max"],U=["disabled"],V={key:1,class:"mb-4"},q={class:"bg-white border-l-4 border-blue-400 p-4 rounded-r-lg shadow-sm"},A={key:2,class:"text-center mb-4"},B={class:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl p-6"},D={class:"text-gray-700 mb-2"},J={class:"font-bold text-green-600"},O={class:"text-sm text-gray-600 mb-3"},P={class:"mb-4"},Q={key:3,class:"mb-4"},z={class:"space-y-2"},F={class:"font-medium"},L={key:4,class:"text-center space-y-2"},T={class:"flex gap-2 justify-center"},W={key:1,class:"text-gray-300"},X=R(e({__name:"GuessNumber",setup(e){const R=t({title:"猜数字游戏"}),X=[{label:"简单 (1-100)",min:1,max:100,difficulty:"简单"},{label:"中等 (1-200)",min:1,max:200,difficulty:"中等"},{label:"困难 (1-300)",min:1,max:300,difficulty:"困难"},{label:"专家 (1-500)",min:1,max:500,difficulty:"专家"},{label:"地狱 (1-1000)",min:1,max:1e3,difficulty:"地狱"}],Y=t({targetNumber:0,userGuess:"",attempts:0,gameStatus:"playing",hint:"",gameHistory:[],isGameStarted:!1,minRange:1,maxRange:100,selectedRangeIndex:0}),Z=a(),ee=()=>{Y.isGameStarted=!1,Y.gameStatus="playing",Y.userGuess="",Y.attempts=0,Y.hint="",Y.gameHistory=[],Y.minRange=1,Y.maxRange=100},te=()=>{const e=X[Y.selectedRangeIndex];Y.minRange=e.min,Y.maxRange=e.max,Y.targetNumber=Math.floor(Math.random()*(Y.maxRange-Y.minRange+1))+Y.minRange,Y.userGuess="",Y.attempts=0,Y.gameStatus="playing",Y.gameHistory=[],Y.isGameStarted=!0,Y.hint=`我已经想好了一个 ${Y.minRange}-${Y.maxRange} 之间的数字，开始猜吧！`,f(()=>{var e;null==(e=Z.value)||e.focus()})},ae=()=>{const e=parseInt(Y.userGuess);if(isNaN(e))return void v.warning("请输入一个有效的数字！");if(e<Y.minRange||e>Y.maxRange)return void v.warning(`请输入 ${Y.minRange}-${Y.maxRange} 之间的数字！`);Y.attempts++;let t="";e===Y.targetNumber?(Y.gameStatus="won",t=`🎉 恭喜你！猜对了！答案就是 ${Y.targetNumber}`,v.success(`恭喜你用 ${Y.attempts} 次猜中了！`)):e<Y.targetNumber?(t=`太小了！答案比 ${e} 大`,Y.minRange=Math.max(Y.minRange,e+1)):(t=`太大了！答案比 ${e} 小`,Y.maxRange=Math.min(Y.maxRange,e-1)),Y.gameHistory.push({guess:e,hint:t}),Y.hint=t,Y.userGuess="",f(()=>{var e;"playing"===Y.gameStatus&&(null==(e=Z.value)||e.focus())})},se=e=>{"Enter"===e.key&&ae()},le=e=>e.includes("恭喜")?"text-green-600":e.includes("太小了")?"text-blue-600":e.includes("太大了")?"text-red-600":"text-gray-600",ne=()=>{const e=X[Y.selectedRangeIndex],t=e.max-e.min+1,a=Math.ceil(Math.log2(t));return Y.attempts<=a+1?{text:"天才级",color:"text-purple-600",icon:"🧠"}:Y.attempts<=a+3?{text:"优秀",color:"text-green-600",icon:"⭐"}:Y.attempts<=a+5?{text:"良好",color:"text-blue-600",icon:"👍"}:Y.attempts<=a+8?{text:"一般",color:"text-yellow-600",icon:"😊"}:{text:"需要加油",color:"text-red-600",icon:"💪"}},re=()=>X[Y.selectedRangeIndex];return(e,t)=>(s(),l("div",k,[n(y,{title:R.title},null,8,["title"]),r("div",w,[r("div",G,[t[11]||(t[11]=r("div",{class:"text-center mb-6"},[r("div",{class:"text-3xl mb-2"},"🎯"),r("h2",{class:"text-xl font-bold text-gray-800 mb-2"},"猜数字游戏"),r("p",{class:"text-gray-600 text-sm"},"选择难度，挑战你的逻辑推理能力")],-1)),Y.isGameStarted?(s(),l("div",M,[r("div",H,[r("div",I,[r("span",null,"范围: "+c(Y.minRange)+"-"+c(Y.maxRange),1),r("span",null,"第 "+c(Y.attempts)+" 次尝试",1)]),r("div",N,[r("span",null,"难度: "+c(re().difficulty),1),r("span",null,"理论最少: "+c(Math.ceil(Math.log2(re().max-re().min+1)))+" 次",1)])]),"playing"===Y.gameStatus?(s(),l("div",C,[r("div",E,[o(r("input",{ref_key:"inputRef",ref:Z,"onUpdate:modelValue":t[1]||(t[1]=e=>Y.userGuess=e),onKeyup:se,type:"number",min:Y.minRange,max:Y.maxRange,placeholder:"输入你的猜测",class:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none text-center text-lg font-medium"},null,40,K),[[x,Y.userGuess]]),r("button",{onClick:ae,disabled:!Y.userGuess,class:"px-6 py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200"}," 猜测 ",8,U)]),t[5]||(t[5]=r("p",{class:"text-xs text-gray-500 text-center mt-2"},"按 Enter 键快速提交",-1))])):g("",!0),Y.hint?(s(),l("div",V,[r("div",q,[r("p",{class:p([le(Y.hint),"font-medium"])},c(Y.hint),3)])])):g("",!0),"won"===Y.gameStatus?(s(),l("div",A,[r("div",B,[t[8]||(t[8]=r("div",{class:"text-4xl mb-3"},"🎉",-1)),t[9]||(t[9]=r("h3",{class:"text-xl font-bold text-green-600 mb-2"},"游戏胜利！",-1)),r("p",D,[t[6]||(t[6]=i("你用了 ",-1)),r("span",J,c(Y.attempts),1),t[7]||(t[7]=i(" 次就猜中了",-1))]),r("p",O,"难度: "+c(re().difficulty)+" ("+c(re().label)+")",1),r("div",P,[r("span",{class:p(["inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",`bg-gray-100 ${ne().color}`])},c(ne().icon)+" "+c(ne().text),3)]),r("button",{onClick:te,class:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-3 px-6 rounded-lg font-medium hover:from-green-600 hover:to-emerald-600 transition-all duration-200 transform hover:scale-105"}," 再玩一局 ")])])):g("",!0),Y.gameHistory.length>0?(s(),l("div",Q,[t[10]||(t[10]=r("h4",{class:"text-sm font-medium text-gray-700 mb-2"},"猜测历史",-1)),r("div",z,[(s(!0),l(u,null,d(Y.gameHistory.slice().reverse(),(e,t)=>(s(),l("div",{key:t,class:"flex items-center justify-between bg-gray-50 rounded-lg px-3 py-2 text-sm"},[r("span",F,c(e.guess),1),r("span",{class:p([le(e.hint),"text-xs"])},c(e.hint.replace(/太(大|小)了！答案比 \d+ (大|小)/,"太$1了")),3)]))),128))])])):g("",!0),Y.isGameStarted?(s(),l("div",L,[r("div",T,[Y.attempts>0||Y.gameHistory.length>0?(s(),l("button",{key:0,onClick:te,class:"text-blue-500 hover:text-blue-700 text-sm underline transition-colors duration-200"}," 重新开始 ")):g("",!0),Y.attempts>0||Y.gameHistory.length>0?(s(),l("span",W,"|")):g("",!0),r("button",{onClick:ee,class:"text-gray-500 hover:text-gray-700 text-sm underline transition-colors duration-200"}," 选择难度 ")])])):g("",!0)])):(s(),l("div",j,[r("div",S,[t[3]||(t[3]=r("div",{class:"text-4xl mb-3"},"🎲",-1)),t[4]||(t[4]=r("p",{class:"text-gray-700 mb-4"},[i("选择游戏难度，我会随机选择一个数字"),r("br"),i("你来猜猜是多少？")],-1)),r("div",_,[t[2]||(t[2]=r("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"选择难度",-1)),o(r("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>Y.selectedRangeIndex=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"},[(s(),l(u,null,d(X,(e,t)=>r("option",{key:t,value:t},c(e.label),9,$)),64))],512),[[m,Y.selectedRangeIndex]])]),r("button",{onClick:te,class:"w-full bg-gradient-to-r from-blue-500 to-purple-500 text-white py-3 px-6 rounded-lg font-medium hover:from-blue-600 hover:to-purple-600 transition-all duration-200 transform hover:scale-105"}," 开始游戏 ")])]))])]),n(h,{title:"游戏说明"},{default:b(()=>t[12]||(t[12]=[r("div",{class:"space-y-2 text-sm text-gray-600"},[r("p",null,"• 选择不同的难度等级，挑战不同范围的数字猜测"),r("p",null,"• 系统会根据你选择的范围随机选择一个数字"),r("p",null,'• 每次猜测后会给出"太大了"或"太小了"的提示'),r("p",null,"• 尽量用最少的次数猜中答案"),r("p",null,"• 难度越高，获得好评价需要的猜测次数也会相应调整"),r("p",null,"• 理论最少次数基于二分查找算法计算")],-1)])),_:1,__:[12]})]))}}),[["__scopeId","data-v-f97d11b4"]]);export{X as default};
