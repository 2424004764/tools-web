var e=(e,l,a)=>new Promise((s,i)=>{var t=e=>{try{u(a.next(e))}catch(l){i(l)}},c=e=>{try{u(a.throw(e))}catch(l){i(l)}},u=e=>e.done?s(e.value):Promise.resolve(e.value).then(t,c);u((a=a.apply(e,l)).next())});import{_ as l}from"./chunk-713f54a1.js";import{_ as a}from"./chunk-9c6aa90d.js";import{d as s,r as i,X as t,al as c,o as u,c as n,I as r,q as d,R as o,a as v,Q as m,a4 as f,D as _,J as p,O as g}from"./chunk-bb5ca2a1.js";import{_ as h}from"../assets/index-37cc6dcb.js";import"./chunk-7296d483.js";import"./chunk-c8f53b98.js";import"./chunk-dd4ac5f9.js";const y=h(s({__name:"DiceCore",emits:["throwEnd"],setup(l,{expose:a,emit:s}){const d=s,o=i(!1),v=i(0),m=i(["/images/dice/dice_run1.png","/images/dice/dice_run2.png","/images/dice/dice_run3.png","/images/dice/dice_run4.png"]),f=i({1:"/images/dice/dice1.png",2:"/images/dice/dice2.png",3:"/images/dice/dice3.png",4:"/images/dice/dice4.png",5:"/images/dice/dice5.png",6:"/images/dice/dice6.png"}),_=i(1),p=i(0),g=()=>e(this,null,function*(){let e=1;return e=Math.floor(6*Math.random()+1),e}),h=()=>e(this,null,function*(){o.value||(_.value=yield g(),yield y(),d("throwEnd",_.value))}),y=()=>e(this,null,function*(){return new Promise(e=>{o.value=!0;let l=0;p.value=setInterval(()=>{let a=v.value;a++,a>=m.value.length&&(a=0),v.value=a,l++,l>12&&(clearInterval(p.value),o.value=!1,e(!0))},100)})});return t(()=>{clearInterval(p.value)}),a({throwDice:h}),(e,l)=>{const a=c("el-image");return u(),n("div",{class:"dice-wrap",onTap:h},[o.value?(u(),r(a,{key:0,src:m.value[v.value],class:"dice-icon",loading:"lazy"},null,8,["src"])):(u(),r(a,{key:1,src:f.value[_.value],class:"dice-icon",loading:"lazy"},null,8,["src"]))],32)}}}),[["__scopeId","data-v-e7ff49a0"]]),w={class:"flex flex-col mt-3 flex-1"},x={class:"p-4 rounded-2xl bg-white"},k={class:"flex justify-center grow-[3]"},j={class:"flex flex-wrap h-96 items-center"},z={class:""},I={class:"ml-5 flex justify-center"},b={class:"w-4/6"},D={class:"mb-5 flex justify-center"},C=h(s({__name:"Dice",setup(s){const t=d({title:"投骰子"}),h=i(1),C=i(!1),P=i(),V=i(0),E=()=>e(this,null,function*(){C.value=!0;yield new Promise(e=>{for(let l=0;l<h.value;l++)P.value[l].throwDice();e(!0)});setTimeout(()=>{C.value=!1},1200)}),M=()=>{V.value++};return(e,s)=>{const i=c("el-text"),d=c("el-slider"),R=c("el-button");return u(),n("div",w,[o(l,{title:t.title},null,8,["title"]),v("div",x,[s[5]||(s[5]=v("view",{class:"grow-[1.5]"},null,-1)),v("div",k,[v("div",j,[(u(!0),n(m,null,f(h.value,e=>(u(),r(y,{ref_for:!0,ref_key:"diceRef",ref:P,key:V.value,class:_([1==h.value?"dice_full":"",3==h.value&&1==e?"dice_full":"dice_default",5==h.value&&3==e?"dice_full":"dice_default"])},null,8,["class"]))),128))])]),v("div",z,[v("div",I,[o(i,{style:{}},{default:p(()=>s[1]||(s[1]=[g("骰子数量：",-1)])),_:1,__:[1]}),v("div",b,[o(d,{class:"w-72 ml-3",modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=e=>h.value=e),min:1,max:6,step:1,blockSize:"18",showValue:!0},null,8,["modelValue"])])])]),v("div",D,[C.value?(u(),r(R,{key:1,type:"primary",class:"w-48",size:"large",disabled:""},{default:p(()=>s[3]||(s[3]=[g("投骰子...",-1)])),_:1,__:[3]})):(u(),r(R,{key:0,type:"primary",class:"w-48",size:"large",onClick:E},{default:p(()=>s[2]||(s[2]=[g("投骰子",-1)])),_:1,__:[2]})),o(R,{type:"primary",class:"w-48",size:"large",onClick:M},{default:p(()=>s[4]||(s[4]=[g("重置",-1)])),_:1,__:[4]})])]),o(a,{title:"描述"},{default:p(()=>[o(i,null,{default:p(()=>s[6]||(s[6]=[g(" 在线投骰子，骰子工具，自定义骰子数量 ",-1)])),_:1,__:[6]})]),_:1})])}}}),[["__scopeId","data-v-ef4a0484"]]);export{C as default};
