var e=(e,l,a)=>new Promise((s,i)=>{var t=e=>{try{n(a.next(e))}catch(l){i(l)}},c=e=>{try{n(a.throw(e))}catch(l){i(l)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(t,c);n((a=a.apply(e,l)).next())});import{D as l}from"./chunk-7c0c6fbd.js";import{T as a}from"./chunk-f92b9743.js";import{d as s,r as i,X as t,al as c,o as n,c as u,I as r,q as o,R as d,a as v,Q as m,a4 as f,D as _,J as p,O as g}from"./chunk-bb5ca2a1.js";import{_ as h}from"../assets/index-4e015737.js";import"./chunk-d6839cfd.js";import"./chunk-5443edaa.js";import"./chunk-eb404ece.js";const w=h(s({__name:"DiceCore",emits:["throwEnd"],setup(l,{expose:a,emit:s}){const o=s,d=i(!1),v=i(0),m=i(["/images/dice/dice_run1.png","/images/dice/dice_run2.png","/images/dice/dice_run3.png","/images/dice/dice_run4.png"]),f=i({1:"/images/dice/dice1.png",2:"/images/dice/dice2.png",3:"/images/dice/dice3.png",4:"/images/dice/dice4.png",5:"/images/dice/dice5.png",6:"/images/dice/dice6.png"}),_=i(1),p=i(0),g=()=>e(this,null,function*(){let e=1;return e=Math.floor(6*Math.random()+1),e}),h=()=>e(this,null,function*(){d.value||(_.value=yield g(),yield w(),o("throwEnd",_.value))}),w=()=>e(this,null,function*(){return new Promise(e=>{d.value=!0;let l=0;p.value=setInterval(()=>{let a=v.value;a++,a>=m.value.length&&(a=0),v.value=a,l++,l>12&&(clearInterval(p.value),d.value=!1,e(!0))},100)})});return t(()=>{clearInterval(p.value)}),a({throwDice:h}),(e,l)=>{const a=c("el-image");return n(),u("div",{class:"dice-wrap",onTap:h},[d.value?(n(),r(a,{key:0,src:m.value[v.value],class:"dice-icon",loading:"lazy"},null,8,["src"])):(n(),r(a,{key:1,src:f.value[_.value],class:"dice-icon",loading:"lazy"},null,8,["src"]))],32)}}}),[["__scopeId","data-v-e4166c13"],["__file","D:/dev/nodejs/tool-web1/tools-web/src/components/Tools/Dice/DiceCore.vue"]]),y={class:"flex flex-col mt-3 flex-1"},x={class:"p-4 rounded-2xl bg-white"},k={class:"flex justify-center grow-[3]"},j={class:"flex flex-wrap h-96 items-center"},D={class:""},b={class:"ml-5 flex justify-center"},z={class:"w-4/6"},I={class:"mb-5 flex justify-center"},T=h(s({__name:"Dice",setup(s){const t=o({title:"投骰子"}),h=i(1),T=i(!1),C=i(),P=i(0),V=()=>e(this,null,function*(){T.value=!0;yield new Promise(e=>{for(let l=0;l<h.value;l++)C.value[l].throwDice();e(!0)});setTimeout(()=>{T.value=!1},1200)}),E=()=>{P.value++};return(e,s)=>{const i=c("el-text"),o=c("el-slider"),M=c("el-button");return n(),u("div",y,[d(l,{title:t.title},null,8,["title"]),v("div",x,[s[5]||(s[5]=v("view",{class:"grow-[1.5]"},null,-1)),v("div",k,[v("div",j,[(n(!0),u(m,null,f(h.value,e=>(n(),r(w,{ref_for:!0,ref_key:"diceRef",ref:C,key:P.value,class:_([1==h.value?"dice_full":"",3==h.value&&1==e?"dice_full":"dice_default",5==h.value&&3==e?"dice_full":"dice_default"])},null,8,["class"]))),128))])]),v("div",D,[v("div",b,[d(i,{style:{}},{default:p(()=>s[1]||(s[1]=[g("骰子数量：",-1)])),_:1,__:[1]}),v("div",z,[d(o,{class:"w-72 ml-3",modelValue:h.value,"onUpdate:modelValue":s[0]||(s[0]=e=>h.value=e),min:1,max:6,step:1,blockSize:"18",showValue:!0},null,8,["modelValue"])])])]),v("div",I,[T.value?(n(),r(M,{key:1,type:"primary",class:"w-48",size:"large",disabled:""},{default:p(()=>s[3]||(s[3]=[g("投骰子...",-1)])),_:1,__:[3]})):(n(),r(M,{key:0,type:"primary",class:"w-48",size:"large",onClick:V},{default:p(()=>s[2]||(s[2]=[g("投骰子",-1)])),_:1,__:[2]})),d(M,{type:"primary",class:"w-48",size:"large",onClick:E},{default:p(()=>s[4]||(s[4]=[g("重置",-1)])),_:1,__:[4]})])]),d(a,{title:"描述"},{default:p(()=>[d(i,null,{default:p(()=>s[6]||(s[6]=[g(" 在线投骰子，骰子工具，自定义骰子数量 ",-1)])),_:1,__:[6]})]),_:1})])}}}),[["__scopeId","data-v-aa451518"],["__file","D:/dev/nodejs/tool-web1/tools-web/src/components/Tools/Dice/Dice.vue"]]);export{T as default};
