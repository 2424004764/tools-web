var e=(e,t,l)=>new Promise((a,s)=>{var r=e=>{try{n(l.next(e))}catch(t){s(t)}},o=e=>{try{n(l.throw(e))}catch(t){s(t)}},n=e=>e.done?a(e.value):Promise.resolve(e.value).then(r,o);n((l=l.apply(e,t)).next())});import{d as t,aA as l,az as a,r as s,t as r,v as o,U as n,m as i,al as c,o as u,c as d,Q as m,a4 as v,a as w,P as f,I as h,J as y,R as p,O as x,u as b,aE as g}from"./chunk-bb5ca2a1.js";import{u as k,a as q,_}from"../assets/index-372abdb0.js";import"./chunk-0a8d181f.js";import"./chunk-96adf8d3.js";import"./chunk-b045bb46.js";const A={class:"md:mr-6 c-xs:mr-0"},E=["id","onClick"],j={class:"flex justify-between flex-wrap self-card-div c-xs:ml-0",gutter:10},I={class:"flex items-center border-b border-warm-300 pb-2"},C={class:"flex flex-col ml-2 w-full"},B={class:"flex"},L={class:"font-semibold text-lg line-clamp-1 text-warm-900"},F={class:"flex justify-between"},P={class:"flex items-center justify-between mt-2"},V=_(t({__name:"Home",setup(t){const _=k(),V=q(),z=l(),O=a(),R=()=>e(this,null,function*(){var e;const t=null==(e=z.query)?void 0:e.value,l=Array.isArray(t)?t[0]:t;"string"==typeof l&&l&&(yield o(),requestAnimationFrame(()=>{var e;null==(e=null==document?void 0:document.getElementById(l))||e.scrollIntoView({behavior:"smooth",block:"start",inline:"start"})}))}),$=s(!1);let H=null;const J=()=>{H||(H=window.requestAnimationFrame(()=>{(()=>{var e;if(!$.value)return;const t=_.cates;if(0===t.length)return;const l=window.pageYOffset||document.documentElement.scrollTop;let a="";for(const s of t){const e=document.getElementById(`cate_${s.id}`);if(e){if(!(l+e.getBoundingClientRect().top<=l+100))break;a=`cate_${s.id}`}}a&&a!==V.activeCategory&&(V.setActiveCategory(a),(null==(e=z.query)?void 0:e.value)!==a&&O.replace({path:"/",query:{value:a}}))})(),H=null}))},Q=t=>e(this,null,function*(){var e,l;const a=null==(e=z.query)?void 0:e.value,s=Array.isArray(a)?a[0]:a;if("/"===z.path){if(s===t)return yield o(),void(null==(l=null==document?void 0:document.getElementById(t))||l.scrollIntoView({behavior:"smooth",block:"start",inline:"start"}));yield O.replace({path:"/",query:{value:t}})}else yield O.push({path:"/",query:{value:t}})});return r(()=>e(this,null,function*(){var e;yield o(),z.query&&z.query.value?R():null==(e=null==document?void 0:document.querySelector("#collect"))||e.scrollIntoView(),"/"===z.path&&($.value=!0,window.addEventListener("scroll",J))})),n(()=>{$.value=!1,window.removeEventListener("scroll",J),H&&cancelAnimationFrame(H)}),i(()=>z.path,e=>{"/"===e?($.value=!0,window.addEventListener("scroll",J)):($.value=!1,window.removeEventListener("scroll",J))}),i(()=>z.query.value,()=>{R()}),i(()=>_.cates.length,()=>{R()}),(e,t)=>{const l=c("el-image"),a=c("el-text"),s=c("el-backtop");return u(),d("div",A,[(u(!0),d(m,null,v(b(_).cates,(e,s)=>(u(),d("div",{key:s},[w("div",{class:"mt-8 mb-3 text-xl font-bold text-warm-800 cursor-pointer hover:text-warm-600 transition-colors duration-200",id:"cate_"+e.id,onClick:t=>Q("cate_"+e.id)},f(e.title),9,E),w("div",j,[(u(!0),d(m,null,v(e.list,(e,t)=>(u(),h(b(g),{key:t,to:e.url,class:"flex flex-col mt-5 border-solid rounded-2xl border-warm-400 w-[24%] p-2 bg-white shadow-lg hover:bg-warm-50 hover:shadow-xl hover:border-warm-500 c-xs:w-[99.5%] c-md:w-[24%] c-sm:w-[32%] p-5 hover:-translate-y-3 duration-300 transition-all"},{default:y(()=>[w("div",I,[p(l,{src:e.logo,class:"w-10 h-10 min-h-[2.5rem] min-w-[2.5rem]"},null,8,["src"]),w("div",C,[w("div",B,[w("div",L,f(e.title),1)]),w("div",F,[p(a,{size:"small",class:"text-warm-700"},{default:y(()=>[x(f(e.cate),1)]),_:2},1024)])])]),w("div",P,[p(a,{"line-clamp":"2",class:"text-warm-800"},{default:y(()=>[x(f(e.desc),1)]),_:2},1024)])]),_:2},1032,["to"]))),128)),t[0]||(t[0]=w("div",{class:"w-[24%] c-md:w-[24%] c-sm:w-[32%]"},null,-1))])]))),128)),p(s,{right:10,bottom:50})])}}}),[["__scopeId","data-v-887a9271"]]);export{V as default};
