var e=(e,l,a)=>new Promise((t,s)=>{var o=e=>{try{n(a.next(e))}catch(l){s(l)}},i=e=>{try{n(a.throw(e))}catch(l){s(l)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(o,i);n((a=a.apply(e,l)).next())});import{d as l,q as a,r as t,b as s,t as o,al as i,ar as n,o as u,c as r,R as c,a as d,J as m,u as v,P as p,O as f,M as y,K as g,I as h,Q as _,a4 as b,D as k,W as w}from"./chunk-bb5ca2a1.js";import{f as V}from"./chunk-8b85f504.js";import{D as x}from"./chunk-7c0c6fbd.js";import{T as C}from"./chunk-f92b9743.js";import{C as z,D,F as P,r as U,s as S,p as I,j as R,n as j,o as H,B as L,m as T,E as B,b as K}from"./chunk-d6839cfd.js";import{h as $}from"./chunk-e86c1970.js";import{E as F}from"./chunk-3f342008.js";import{_ as q}from"../assets/index-4e015737.js";import"./chunk-5443edaa.js";import"./chunk-eb404ece.js";const N={class:"flex flex-col mt-3 flex-1"},E={class:"companies-container"},O={class:"header-section"},M={class:"header-left"},W={class:"icon-wrapper"},G={class:"header-subtitle"},J={class:"header-actions"},Q={class:"search-section"},A={class:"search-left"},X={key:0,class:"search-right"},Y={class:"companies-grid"},Z={key:0,class:"empty-state"},ee={class:"empty-title"},le={class:"empty-desc"},ae=["onClick"],te=["onClick"],se={class:"company-header"},oe={class:"company-info"},ie={class:"company-name"},ne={class:"company-position"},ue={class:"company-actions"},re={class:"company-content"},ce={class:"company-item"},de={class:"value"},me={class:"company-item"},ve={class:"value"},pe={class:"company-item"},fe={class:"value"},ye={class:"company-footer"},ge={class:"company-time"},he={class:"time-value"},_e={key:0,class:"select-all-section"},be={key:1,class:"pagination-wrapper"},ke={class:"form-container"},we={class:"dialog-footer"},Ve={key:0,class:"detail-container"},xe={class:"detail-header"},Ce={class:"detail-title"},ze={class:"detail-position"},De={class:"detail-meta"},Pe={class:"meta-item"},Ue={class:"meta-item"},Se={class:"detail-content"},Ie={class:"detail-grid"},Re={class:"detail-item"},je={class:"detail-item"},He={class:"detail-item"},Le={class:"detail-item"},Te={class:"detail-item"},Be={class:"detail-item"},Ke={class:"detail-section"},$e={class:"detail-text"},Fe={class:"detail-section"},qe={class:"detail-text"},Ne={key:0,class:"detail-section"},Ee={class:"detail-text"},Oe={class:"dialog-footer"},Me={class:"compare-container"},We={class:"compare-selector"},Ge={class:"company-selector-grid"},Je=["onClick"],Qe={class:"selector-content"},Ae={key:0,class:"selector-check"},Xe={key:0,class:"compare-table-container"},Ye={class:"compare-table"},Ze={class:"company-header-cell"},el={class:"company-name"},ll={class:"company-position"},al={class:"compare-text"},tl={class:"compare-text"},sl={class:"compare-text"},ol={class:"dialog-footer"},il={class:"footer-left"},nl={class:"footer-right"},ul={class:"stats-content"},rl={key:0},cl={key:1},dl={key:2},ml={key:3},vl={key:4},pl={class:"dialog-footer"},fl={class:"filter-form"},yl={class:"dialog-footer"},gl=q(l({__name:"CompanyCompare",setup(l){const q=a({title:"公司对比"}),gl=t([]),hl=t(null),_l=t(!1),bl=t(!1),kl=t(!1),wl=t(null),Vl=t([]),xl=t({total:0,page:1,pageSize:12,totalPages:0,hasNext:!1,hasPrev:!1}),Cl=a({name:"",position:"",salary:"",benefits:"",workDays:"",workHours:"",location:"",welfare:"",overtime:"",leavePolicy:"",notes:""}),zl=t(!1),Dl=t(!1),Pl=t(""),Ul=s(()=>Pl.value?gl.value.filter(e=>e.name.toLowerCase().includes(Pl.value.toLowerCase())||e.position.toLowerCase().includes(Pl.value.toLowerCase())):gl.value),Sl=t(!1),Il=t(!1),Rl=t("updateTime"),jl=t("desc"),Hl=a({salaryRange:{min:"",max:""},location:"",workDays:"",hasBenefits:!1}),Ll=s(()=>{const e=gl.value.map(e=>e.salary).filter(e=>e&&e.includes("K")).map(e=>{const l=e.match(/(\d+)-?(\d+)?K/);if(l){const e=parseInt(l[1]),a=l[2]?parseInt(l[2]):e;return{min:e,max:a,avg:(e+a)/2}}return null}).filter(e=>null!==e);if(0===e.length)return null;const l=e.map(e=>e.avg);return{min:Math.min(...l),max:Math.max(...l),avg:l.reduce((e,l)=>e+l,0)/l.length,count:e.length}}),Tl=s(()=>{const e=gl.value.map(e=>e.location).filter(Boolean),l={};return e.forEach(e=>{l[e]=(l[e]||0)+1}),Object.entries(l).map(([e,l])=>({location:e,count:l})).sort((e,l)=>l.count-e.count)}),Bl=s(()=>{let e=Ul.value;return(Hl.salaryRange.min||Hl.salaryRange.max)&&(e=e.filter(e=>{if(!e.salary)return!1;const l=e.salary.match(/(\d+)-?(\d+)?K/);if(!l)return!1;const a=parseInt(l[1]),t=(a+(l[2]?parseInt(l[2]):a))/2;return!(Hl.salaryRange.min&&t<parseInt(Hl.salaryRange.min))&&!(Hl.salaryRange.max&&t>parseInt(Hl.salaryRange.max))})),Hl.location&&(e=e.filter(e=>e.location.toLowerCase().includes(Hl.location.toLowerCase()))),Hl.workDays&&(e=e.filter(e=>e.workDays.toLowerCase().includes(Hl.workDays.toLowerCase()))),Hl.hasBenefits&&(e=e.filter(e=>e.benefits&&""!==e.benefits.trim())),e.sort((e,l)=>{var a,t;let s=e[Rl.value],o=l[Rl.value];if("salary"===Rl.value){const i=null==(a=e.salary)?void 0:a.match(/(\d+)-?(\d+)?K/),n=null==(t=l.salary)?void 0:t.match(/(\d+)-?(\d+)?K/);if(i&&n){s=(parseInt(i[1])+(i[2]?parseInt(i[2]):parseInt(i[1])))/2,o=(parseInt(n[1])+(n[2]?parseInt(n[2]):parseInt(n[1])))/2}}return"asc"===jl.value?s>o?1:-1:s<o?1:-1}),e}),Kl=t([]),$l=s(()=>Bl.value.length>0&&Kl.value.length===Bl.value.length),Fl=(l=1,a=12)=>e(this,null,function*(){try{zl.value=!0;const e=yield V.get("/api/companies",{params:{page:l,pageSize:a}});if(200===e.status){const l=e.data;gl.value=l.data||[],l.pagination&&(xl.value=l.pagination)}}catch(e){B.error("获取公司列表失败")}finally{zl.value=!1}}),ql=e=>{Fl(e,xl.value.pageSize)},Nl=e=>{xl.value.pageSize=e,Fl(1,e)},El=()=>e(this,null,function*(){if(Cl.name.trim()&&Cl.position.trim())try{Dl.value=!0;201===(yield V.post("/api/companies",{name:Cl.name.trim(),position:Cl.position.trim(),salary:Cl.salary.trim(),benefits:Cl.benefits.trim(),workDays:Cl.workDays.trim(),workHours:Cl.workHours.trim(),location:Cl.location.trim(),welfare:Cl.welfare.trim(),overtime:Cl.overtime.trim(),leavePolicy:Cl.leavePolicy.trim(),notes:Cl.notes.trim()})).status?(B.success("创建成功"),bl.value=!1,Ql(),yield Fl(xl.value.page,xl.value.pageSize)):B.error("创建失败")}catch(e){B.error("创建失败")}finally{Dl.value=!1}else B.warning("公司名称和职位不能为空")}),Ol=()=>e(this,null,function*(){if(wl.value&&Cl.name.trim()&&Cl.position.trim())try{Dl.value=!0;200===(yield V.put(`/api/companies/${wl.value}`,{name:Cl.name.trim(),position:Cl.position.trim(),salary:Cl.salary.trim(),benefits:Cl.benefits.trim(),workDays:Cl.workDays.trim(),workHours:Cl.workHours.trim(),location:Cl.location.trim(),welfare:Cl.welfare.trim(),overtime:Cl.overtime.trim(),leavePolicy:Cl.leavePolicy.trim(),notes:Cl.notes.trim()})).status?(B.success("更新成功"),bl.value=!1,_l.value=!1,wl.value=null,Ql(),yield Fl(xl.value.page,xl.value.pageSize)):B.error("更新失败")}catch(e){B.error("更新失败")}finally{Dl.value=!1}else B.warning("公司名称和职位不能为空")}),Ml=l=>e(this,null,function*(){var e;yield K.confirm("确定要删除这条公司记录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});try{Dl.value=!0;200===(yield V.delete(`/api/companies/${l.id}`)).status?(B.success("删除成功"),(null==(e=hl.value)?void 0:e.id)===l.id&&(hl.value=null),1===gl.value.length&&xl.value.page>1?yield Fl(xl.value.page-1,xl.value.pageSize):yield Fl(xl.value.page,xl.value.pageSize)):B.error("删除失败")}catch(a){B.error("删除失败")}finally{Dl.value=!1}}),Wl=e=>{_l.value=!0,wl.value=e.id,Cl.name=e.name,Cl.position=e.position,Cl.salary=e.salary,Cl.benefits=e.benefits,Cl.workDays=e.workDays,Cl.workHours=e.workHours,Cl.location=e.location,Cl.welfare=e.welfare,Cl.overtime=e.overtime,Cl.leavePolicy=e.leavePolicy,Cl.notes=e.notes,bl.value=!0},Gl=e=>{_l.value||(hl.value=e,bl.value=!1)},Jl=()=>{hl.value=null,_l.value=!1,Ql(),bl.value=!0},Ql=()=>{Cl.name="",Cl.position="",Cl.salary="",Cl.benefits="",Cl.workDays="",Cl.workHours="",Cl.location="",Cl.welfare="",Cl.overtime="",Cl.leavePolicy="",Cl.notes=""},Al=()=>{gl.value.length<2?B.warning("至少需要2家公司才能进行对比"):(Vl.value=[],kl.value=!0)},Xl=e=>new Date(e).toLocaleString("zh-CN"),Yl=s(()=>null!==hl.value&&!bl.value&&!_l.value),Zl=()=>e(this,null,function*(){try{const e=document.querySelector(".compare-table");if(!e)return void B.error("未找到对比表格");const l=yield $(e,{scale:2,useCORS:!0,allowTaint:!0,width:e.scrollWidth,height:e.scrollHeight}),a=l.toDataURL("image/png"),t=new F("l","mm","a4"),s=210,o=297-20,i=l.height*o/l.width;let n=i,u=10;for(t.addImage(a,"PNG",10,u,o,i),n-=s-20;n>=0;)u=n-i+10,t.addPage(),t.addImage(a,"PNG",10,u,o,i),n-=s-20;t.save(`公司对比_${(new Date).toLocaleDateString()}.pdf`),B.success("PDF导出成功")}catch(e){B.error("PDF导出失败")}}),ea=()=>e(this,null,function*(){try{const e=document.querySelector(".compare-table");if(!e)return void B.error("未找到对比表格");const l=yield $(e,{scale:2,useCORS:!0,allowTaint:!0,width:e.scrollWidth,height:e.scrollHeight}),a=document.createElement("a");a.download=`公司对比_${(new Date).toLocaleDateString()}.png`,a.href=l.toDataURL(),a.click(),B.success("图片导出成功")}catch(e){B.error("图片导出失败")}}),la=()=>{Vl.value=[],B.success("已清空对比列表")},aa=()=>{Sl.value=!0},ta=()=>{Il.value=!0},sa=()=>{Hl.salaryRange={min:"",max:""},Hl.location="",Hl.workDays="",Hl.hasBenefits=!1,B.success("已清空筛选条件")},oa=()=>{Il.value=!1,B.success("筛选条件已应用")},ia=()=>{$l.value?Kl.value=[]:Kl.value=[...Bl.value]},na=e=>{const l=Kl.value.findIndex(l=>l.id===e.id);l>-1?Kl.value.splice(l,1):Kl.value.push(e)},ua=()=>e(this,null,function*(){if(0!==Kl.value.length){yield K.confirm(`确定要删除选中的 ${Kl.value.length} 家公司吗？`,"批量删除",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"});try{Dl.value=!0;const e=Kl.value.map(e=>V.delete(`/api/companies/${e.id}`));yield Promise.all(e),B.success(`成功删除 ${Kl.value.length} 家公司`),Kl.value=[],yield Fl(xl.value.page,xl.value.pageSize)}catch(e){B.error("批量删除失败")}finally{Dl.value=!1}}else B.warning("请选择要删除的公司")}),ra=()=>{};return o(()=>{Fl()}),(e,l)=>{const a=i("el-icon"),t=i("el-button"),s=i("el-input"),o=i("el-checkbox"),V=i("el-pagination"),K=i("el-form-item"),$=i("el-col"),F=i("el-row"),wl=i("el-form"),Ul=i("el-dialog"),Rl=i("el-input-number"),jl=i("el-text"),Ql=n("loading");return u(),r("div",N,[c(x,{title:q.title},null,8,["title"]),d("div",E,[d("div",O,[d("div",M,[d("div",W,[c(a,{class:"header-icon"},{default:m(()=>[c(v(z))]),_:1})]),d("div",null,[l[34]||(l[34]=d("h3",{class:"header-title"},"公司对比",-1)),d("p",G,"共 "+p(xl.value.total)+" 家公司",1)])]),d("div",J,[c(t,{class:"action-btn stats-btn",onClick:aa,icon:v(D),type:"info"},{default:m(()=>l[35]||(l[35]=[f(" 数据统计 ",-1)])),_:1,__:[35]},8,["icon"]),c(t,{class:"action-btn filter-btn",onClick:ta,icon:v(P),type:"warning"},{default:m(()=>l[36]||(l[36]=[f(" 筛选排序 ",-1)])),_:1,__:[36]},8,["icon"]),c(t,{class:"action-btn refresh-btn",onClick:l[0]||(l[0]=e=>Fl(xl.value.page,xl.value.pageSize)),icon:v(U),loading:zl.value,disabled:zl.value,circle:""},null,8,["icon","loading","disabled"]),c(t,{class:"action-btn compare-btn",type:"success",onClick:Al,icon:v(S),disabled:gl.value.length<2},{default:m(()=>l[37]||(l[37]=[f(" 开始对比 ",-1)])),_:1,__:[37]},8,["icon","disabled"]),c(t,{class:"action-btn create-btn",type:"primary",onClick:Jl,icon:v(I)},{default:m(()=>l[38]||(l[38]=[f(" 添加公司 ",-1)])),_:1,__:[38]},8,["icon"])])]),d("div",Q,[d("div",A,[c(s,{modelValue:Pl.value,"onUpdate:modelValue":l[1]||(l[1]=e=>Pl.value=e),placeholder:"搜索公司名称或职位...","prefix-icon":v(S),size:"large",class:"search-input",clearable:"",onInput:ra},null,8,["modelValue","prefix-icon"])]),Kl.value.length>0?(u(),r("div",X,[c(t,{type:"danger",icon:v(R),onClick:ua,loading:Dl.value,disabled:Dl.value},{default:m(()=>[f(" 批量删除 ("+p(Kl.value.length)+") ",1)]),_:1},8,["icon","loading","disabled"])])):y("",!0)]),g((u(),r("div",Y,[0!==Bl.value.length||zl.value?y("",!0):(u(),r("div",Z,[c(a,{class:"empty-icon"},{default:m(()=>[c(v(z))]),_:1}),d("h3",ee,p(Pl.value?"未找到匹配的公司":"暂无公司记录"),1),d("p",le,p(Pl.value?"尝试调整搜索关键词":"开始添加你的第一家公司记录吧"),1),Pl.value?y("",!0):(u(),h(t,{key:0,type:"primary",onClick:Jl,icon:v(I)},{default:m(()=>l[39]||(l[39]=[f(" 添加公司 ",-1)])),_:1,__:[39]},8,["icon"]))])),(u(!0),r(_,null,b(Bl.value,e=>{var a;return u(),r("div",{key:e.id,class:k(["company-card",{"company-active":(null==(a=hl.value)?void 0:a.id)===e.id,"company-selected":Kl.value.find(l=>l.id===e.id)}]),onClick:l=>Gl(e)},[d("div",{class:"company-checkbox",onClick:w(l=>na(e),["stop"])},[c(o,{"model-value":void 0!==Kl.value.find(l=>l.id===e.id),onChange:l=>na(e)},null,8,["model-value","onChange"])],8,te),d("div",se,[d("div",oe,[d("h4",ie,p(e.name),1),d("p",ne,p(e.position),1)]),d("div",ue,[c(t,{class:"action-icon",size:"small",icon:v(j),onClick:w(l=>Gl(e),["stop"]),circle:"",plain:""},null,8,["icon","onClick"]),c(t,{class:"action-icon edit-icon",size:"small",type:"primary",icon:v(H),loading:Dl.value,disabled:Dl.value,onClick:w(l=>Wl(e),["stop"]),circle:"",plain:""},null,8,["icon","loading","disabled","onClick"]),c(t,{class:"action-icon delete-icon",size:"small",type:"danger",icon:v(R),loading:Dl.value,disabled:Dl.value,onClick:w(l=>Ml(e),["stop"]),circle:"",plain:""},null,8,["icon","loading","disabled","onClick"])])]),d("div",re,[d("div",ce,[l[40]||(l[40]=d("span",{class:"label"},"薪资:",-1)),d("span",de,p(e.salary||"未填写"),1)]),d("div",me,[l[41]||(l[41]=d("span",{class:"label"},"工作日:",-1)),d("span",ve,p(e.workDays||"未填写"),1)]),d("div",pe,[l[42]||(l[42]=d("span",{class:"label"},"地点:",-1)),d("span",fe,p(e.location||"未填写"),1)])]),d("div",ye,[d("div",ge,[l[43]||(l[43]=d("span",{class:"time-label"},"更新于",-1)),d("span",he,p(Xl(e.updateTime)),1)])])],10,ae)}),128))])),[[Ql,zl.value]]),Bl.value.length>0?(u(),r("div",_e,[c(o,{"model-value":$l.value,onChange:ia},{default:m(()=>[f(" 全选 ("+p(Kl.value.length)+"/"+p(Bl.value.length)+") ",1)]),_:1},8,["model-value"])])):y("",!0),xl.value.total>0?(u(),r("div",be,[c(V,{"current-page":xl.value.page,"onUpdate:currentPage":l[2]||(l[2]=e=>xl.value.page=e),"page-size":xl.value.pageSize,"onUpdate:pageSize":l[3]||(l[3]=e=>xl.value.pageSize=e),"page-sizes":[6,12,24,48],total:xl.value.total,layout:"total, sizes, prev, pager, next, jumper",background:"",onSizeChange:Nl,onCurrentChange:ql,class:"custom-pagination"},null,8,["current-page","page-size","total"])])):y("",!0),c(Ul,{modelValue:bl.value,"onUpdate:modelValue":l[17]||(l[17]=e=>bl.value=e),title:_l.value?"编辑公司":"添加公司",width:"90%","max-width":"800px",class:"company-dialog",onClose:l[18]||(l[18]=e=>_l.value=!1),"destroy-on-close":""},{footer:m(()=>[d("div",we,[c(t,{size:"large",disabled:Dl.value,onClick:l[15]||(l[15]=e=>{bl.value=!1,_l.value=!1})},{default:m(()=>l[44]||(l[44]=[f(" 取消 ",-1)])),_:1,__:[44]},8,["disabled"]),c(t,{type:"primary",size:"large",loading:Dl.value,disabled:Dl.value,onClick:l[16]||(l[16]=e=>_l.value?Ol():El())},{default:m(()=>[f(p(_l.value?"保存修改":"添加公司"),1)]),_:1},8,["loading","disabled"])])]),default:m(()=>[d("div",ke,[c(wl,{model:Cl,"label-position":"top",class:"company-form"},{default:m(()=>[c(F,{gutter:20},{default:m(()=>[c($,{span:12},{default:m(()=>[c(K,{label:"公司名称",required:"",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.name,"onUpdate:modelValue":l[4]||(l[4]=e=>Cl.name=e),placeholder:"请输入公司名称",size:"large",class:"form-input"},null,8,["modelValue"])]),_:1})]),_:1}),c($,{span:12},{default:m(()=>[c(K,{label:"职位",required:"",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.position,"onUpdate:modelValue":l[5]||(l[5]=e=>Cl.position=e),placeholder:"请输入职位",size:"large",class:"form-input"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),c(F,{gutter:20},{default:m(()=>[c($,{span:12},{default:m(()=>[c(K,{label:"薪资待遇",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.salary,"onUpdate:modelValue":l[6]||(l[6]=e=>Cl.salary=e),placeholder:"如：8-12K·13薪",size:"large",class:"form-input"},null,8,["modelValue"])]),_:1})]),_:1}),c($,{span:12},{default:m(()=>[c(K,{label:"工作日",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.workDays,"onUpdate:modelValue":l[7]||(l[7]=e=>Cl.workDays=e),placeholder:"如：周一至周五、大小周等",size:"large",class:"form-input"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),c(F,{gutter:20},{default:m(()=>[c($,{span:12},{default:m(()=>[c(K,{label:"工作时间",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.workHours,"onUpdate:modelValue":l[8]||(l[8]=e=>Cl.workHours=e),placeholder:"如：9:00-18:00",size:"large",class:"form-input"},null,8,["modelValue"])]),_:1})]),_:1}),c($,{span:12},{default:m(()=>[c(K,{label:"工作地点",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.location,"onUpdate:modelValue":l[9]||(l[9]=e=>Cl.location=e),placeholder:"请输入工作地点",size:"large",class:"form-input"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),c(K,{label:"福利待遇",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.benefits,"onUpdate:modelValue":l[10]||(l[10]=e=>Cl.benefits=e),type:"textarea",rows:3,placeholder:"如：五险一金、餐补、交通补贴、年终奖等",class:"form-textarea",resize:"vertical"},null,8,["modelValue"])]),_:1}),c(K,{label:"其他福利",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.welfare,"onUpdate:modelValue":l[11]||(l[11]=e=>Cl.welfare=e),type:"textarea",rows:2,placeholder:"如：团建、培训、弹性工作等",class:"form-textarea",resize:"vertical"},null,8,["modelValue"])]),_:1}),c(F,{gutter:20},{default:m(()=>[c($,{span:12},{default:m(()=>[c(K,{label:"加班情况",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.overtime,"onUpdate:modelValue":l[12]||(l[12]=e=>Cl.overtime=e),placeholder:"如：很少加班、偶尔加班等",size:"large",class:"form-input"},null,8,["modelValue"])]),_:1})]),_:1}),c($,{span:12},{default:m(()=>[c(K,{label:"请假政策",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.leavePolicy,"onUpdate:modelValue":l[13]||(l[13]=e=>Cl.leavePolicy=e),placeholder:"如：年假15天、病假等",size:"large",class:"form-input"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),c(K,{label:"备注",class:"form-item"},{default:m(()=>[c(s,{modelValue:Cl.notes,"onUpdate:modelValue":l[14]||(l[14]=e=>Cl.notes=e),type:"textarea",rows:3,placeholder:"其他备注信息...",class:"form-textarea",resize:"vertical"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue","title"]),c(Ul,{modelValue:Yl.value,"onUpdate:modelValue":l[21]||(l[21]=e=>Yl.value=e),title:"公司详情",width:"90%","max-width":"800px",class:"detail-dialog",onClose:l[22]||(l[22]=e=>hl.value=null),"destroy-on-close":""},{footer:m(()=>[d("div",Oe,[c(t,{size:"large",onClick:l[19]||(l[19]=e=>hl.value=null)},{default:m(()=>l[54]||(l[54]=[f("关闭",-1)])),_:1,__:[54]}),c(t,{type:"primary",size:"large",icon:v(H),onClick:l[20]||(l[20]=e=>hl.value&&Wl(hl.value))},{default:m(()=>l[55]||(l[55]=[f(" 编辑公司 ",-1)])),_:1,__:[55]},8,["icon"])])]),default:m(()=>[hl.value?(u(),r("div",Ve,[d("div",xe,[d("h2",Ce,p(hl.value.name),1),d("p",ze,p(hl.value.position),1),d("div",De,[d("span",Pe,[c(a,null,{default:m(()=>[c(v(z))]),_:1}),f(" 创建于 "+p(Xl(hl.value.createTime)),1)]),d("span",Ue,[c(a,null,{default:m(()=>[c(v(H))]),_:1}),f(" 更新于 "+p(Xl(hl.value.updateTime)),1)])])]),d("div",Se,[d("div",Ie,[d("div",Re,[l[45]||(l[45]=d("label",null,"薪资待遇",-1)),d("span",null,p(hl.value.salary||"未填写"),1)]),d("div",je,[l[46]||(l[46]=d("label",null,"工作日",-1)),d("span",null,p(hl.value.workDays||"未填写"),1)]),d("div",He,[l[47]||(l[47]=d("label",null,"工作时间",-1)),d("span",null,p(hl.value.workHours||"未填写"),1)]),d("div",Le,[l[48]||(l[48]=d("label",null,"工作地点",-1)),d("span",null,p(hl.value.location||"未填写"),1)]),d("div",Te,[l[49]||(l[49]=d("label",null,"加班情况",-1)),d("span",null,p(hl.value.overtime||"未填写"),1)]),d("div",Be,[l[50]||(l[50]=d("label",null,"请假政策",-1)),d("span",null,p(hl.value.leavePolicy||"未填写"),1)])]),d("div",Ke,[l[51]||(l[51]=d("label",null,"福利待遇",-1)),d("div",$e,p(hl.value.benefits||"未填写"),1)]),d("div",Fe,[l[52]||(l[52]=d("label",null,"其他福利",-1)),d("div",qe,p(hl.value.welfare||"未填写"),1)]),hl.value.notes?(u(),r("div",Ne,[l[53]||(l[53]=d("label",null,"备注",-1)),d("div",Ee,p(hl.value.notes),1)])):y("",!0)])])):y("",!0)]),_:1},8,["modelValue"]),c(Ul,{modelValue:kl.value,"onUpdate:modelValue":l[24]||(l[24]=e=>kl.value=e),title:"公司对比",width:"95%","max-width":"1200px",class:"compare-dialog","destroy-on-close":""},{footer:m(()=>[d("div",ol,[d("div",il,[c(t,{size:"large",onClick:la,disabled:0===Vl.value.length,icon:v(R)},{default:m(()=>l[68]||(l[68]=[f(" 清空选择 ",-1)])),_:1,__:[68]},8,["disabled","icon"])]),d("div",nl,[c(t,{size:"large",onClick:ea,disabled:Vl.value.length<2,icon:v(L),type:"warning"},{default:m(()=>l[69]||(l[69]=[f(" 导出图片 ",-1)])),_:1,__:[69]},8,["disabled","icon"]),c(t,{size:"large",onClick:Zl,disabled:Vl.value.length<2,icon:v(T),type:"success"},{default:m(()=>l[70]||(l[70]=[f(" 导出PDF ",-1)])),_:1,__:[70]},8,["disabled","icon"]),c(t,{size:"large",onClick:l[23]||(l[23]=e=>kl.value=!1)},{default:m(()=>l[71]||(l[71]=[f(" 关闭 ",-1)])),_:1,__:[71]})])])]),default:m(()=>[d("div",Me,[d("div",We,[l[56]||(l[56]=d("h4",null,"选择要对比的公司（最多4家）：",-1)),d("div",Ge,[(u(!0),r(_,null,b(gl.value,e=>(u(),r("div",{key:e.id,class:k(["selector-card",{selected:Vl.value.find(l=>l.id===e.id)}]),onClick:l=>Vl.value.find(l=>l.id===e.id)?(e=>{const l=Vl.value.findIndex(l=>l.id===e);l>-1&&Vl.value.splice(l,1)})(e.id):(e=>{Vl.value.length>=4?B.warning("最多只能对比4家公司"):Vl.value.find(l=>l.id===e.id)?B.warning("该公司已在对比列表中"):Vl.value.push(e)})(e)},[d("div",Qe,[d("h5",null,p(e.name),1),d("p",null,p(e.position),1)]),Vl.value.find(l=>l.id===e.id)?(u(),r("div",Ae," ✓ ")):y("",!0)],10,Je))),128))])]),Vl.value.length>=2?(u(),r("div",Xe,[l[67]||(l[67]=d("h4",null,"对比结果：",-1)),d("div",Ye,[d("table",null,[d("thead",null,[d("tr",null,[l[57]||(l[57]=d("th",{class:"compare-label"},"对比公司",-1)),(u(!0),r(_,null,b(Vl.value,e=>(u(),r("th",{key:e.id,class:"compare-company"},[d("div",Ze,[d("div",el,p(e.name),1),d("div",ll,p(e.position),1)])]))),128))])]),d("tbody",null,[d("tr",null,[l[58]||(l[58]=d("td",{class:"compare-label"},"薪资待遇",-1)),(u(!0),r(_,null,b(Vl.value,e=>(u(),r("td",{key:e.id},p(e.salary||"未填写"),1))),128))]),d("tr",null,[l[59]||(l[59]=d("td",{class:"compare-label"},"工作日",-1)),(u(!0),r(_,null,b(Vl.value,e=>(u(),r("td",{key:e.id},p(e.workDays||"未填写"),1))),128))]),d("tr",null,[l[60]||(l[60]=d("td",{class:"compare-label"},"工作时间",-1)),(u(!0),r(_,null,b(Vl.value,e=>(u(),r("td",{key:e.id},p(e.workHours||"未填写"),1))),128))]),d("tr",null,[l[61]||(l[61]=d("td",{class:"compare-label"},"工作地点",-1)),(u(!0),r(_,null,b(Vl.value,e=>(u(),r("td",{key:e.id},p(e.location||"未填写"),1))),128))]),d("tr",null,[l[62]||(l[62]=d("td",{class:"compare-label"},"福利待遇",-1)),(u(!0),r(_,null,b(Vl.value,e=>(u(),r("td",{key:e.id},[d("div",al,p(e.benefits||"未填写"),1)]))),128))]),d("tr",null,[l[63]||(l[63]=d("td",{class:"compare-label"},"其他福利",-1)),(u(!0),r(_,null,b(Vl.value,e=>(u(),r("td",{key:e.id},[d("div",tl,p(e.welfare||"未填写"),1)]))),128))]),d("tr",null,[l[64]||(l[64]=d("td",{class:"compare-label"},"加班情况",-1)),(u(!0),r(_,null,b(Vl.value,e=>(u(),r("td",{key:e.id},p(e.overtime||"未填写"),1))),128))]),d("tr",null,[l[65]||(l[65]=d("td",{class:"compare-label"},"请假政策",-1)),(u(!0),r(_,null,b(Vl.value,e=>(u(),r("td",{key:e.id},p(e.leavePolicy||"未填写"),1))),128))]),d("tr",null,[l[66]||(l[66]=d("td",{class:"compare-label"},"备注",-1)),(u(!0),r(_,null,b(Vl.value,e=>(u(),r("td",{key:e.id},[d("div",sl,p(e.notes||"未填写"),1)]))),128))])])])])])):y("",!0)])]),_:1},8,["modelValue"]),c(Ul,{modelValue:Sl.value,"onUpdate:modelValue":l[26]||(l[26]=e=>Sl.value=e),title:"数据统计",width:"90%","max-width":"800px",class:"stats-dialog","destroy-on-close":""},{footer:m(()=>[d("div",pl,[c(t,{size:"large",onClick:l[25]||(l[25]=e=>Sl.value=!1)},{default:m(()=>l[74]||(l[74]=[f("关闭",-1)])),_:1,__:[74]})])]),default:m(()=>[d("div",ul,[l[72]||(l[72]=d("h4",null,"薪资统计",-1)),Ll.value?(u(),r("p",rl,"平均薪资："+p(Ll.value.avg.toFixed(0))+"K",1)):y("",!0),Ll.value?(u(),r("p",cl,"薪资范围："+p(Ll.value.min)+"K - "+p(Ll.value.max)+"K",1)):y("",!0),Ll.value?(u(),r("p",dl,"样本数量："+p(Ll.value.count),1)):y("",!0),l[73]||(l[73]=d("h4",null,"工作地点统计",-1)),Tl.value.length>0?(u(),r("div",ml,[(u(!0),r(_,null,b(Tl.value,e=>(u(),r("p",{key:e.location},p(e.location)+" ("+p(e.count)+"家) ",1))),128))])):(u(),r("p",vl,"暂无工作地点统计数据"))])]),_:1},8,["modelValue"]),c(Ul,{modelValue:Il.value,"onUpdate:modelValue":l[33]||(l[33]=e=>Il.value=e),title:"筛选排序",width:"90%","max-width":"600px",class:"filter-dialog","destroy-on-close":""},{footer:m(()=>[d("div",yl,[c(t,{size:"large",onClick:sa},{default:m(()=>l[77]||(l[77]=[f("清空筛选",-1)])),_:1,__:[77]}),c(t,{size:"large",type:"primary",onClick:oa},{default:m(()=>l[78]||(l[78]=[f("应用筛选",-1)])),_:1,__:[78]}),c(t,{size:"large",onClick:l[32]||(l[32]=e=>Il.value=!1)},{default:m(()=>l[79]||(l[79]=[f("关闭",-1)])),_:1,__:[79]})])]),default:m(()=>[d("div",fl,[c(wl,{model:Hl,"label-position":"top"},{default:m(()=>[c(F,{gutter:20},{default:m(()=>[c($,{span:24},{default:m(()=>[c(K,{label:"薪资范围",class:"filter-item"},{default:m(()=>[c(Rl,{modelValue:Hl.salaryRange.min,"onUpdate:modelValue":l[27]||(l[27]=e=>Hl.salaryRange.min=e),placeholder:"最小",min:0,max:100,style:{width:"120px","margin-right":"10px"}},null,8,["modelValue"]),l[75]||(l[75]=f(" - ",-1)),c(Rl,{modelValue:Hl.salaryRange.max,"onUpdate:modelValue":l[28]||(l[28]=e=>Hl.salaryRange.max=e),placeholder:"最大",min:0,max:100,style:{width:"120px","margin-left":"10px"}},null,8,["modelValue"])]),_:1,__:[75]})]),_:1}),c($,{span:24},{default:m(()=>[c(K,{label:"工作地点",class:"filter-item"},{default:m(()=>[c(s,{modelValue:Hl.location,"onUpdate:modelValue":l[29]||(l[29]=e=>Hl.location=e),placeholder:"请输入工作地点",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),c($,{span:24},{default:m(()=>[c(K,{label:"工作日",class:"filter-item"},{default:m(()=>[c(s,{modelValue:Hl.workDays,"onUpdate:modelValue":l[30]||(l[30]=e=>Hl.workDays=e),placeholder:"如：周一至周五、大小周等",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),c($,{span:24},{default:m(()=>[c(K,{label:"包含福利",class:"filter-item"},{default:m(()=>[c(o,{modelValue:Hl.hasBenefits,"onUpdate:modelValue":l[31]||(l[31]=e=>Hl.hasBenefits=e)},{default:m(()=>l[76]||(l[76]=[f(" 只显示有福利的公司 ",-1)])),_:1,__:[76]},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])])]),_:1},8,["modelValue"])]),c(C,{title:"描述"},{default:m(()=>[c(jl,null,{default:m(()=>l[80]||(l[80]=[f(" 公司对比工具，帮助你记录和对比不同公司的待遇信息。支持录入薪资、工作时间、福利待遇、加班情况等多维度信息，并提供直观的对比功能，让你更好地评估和选择心仪的工作机会。所有数据安全存储在云端，支持历史记录管理。 ",-1)])),_:1,__:[80]})]),_:1})])}}}),[["__scopeId","data-v-49df5d6f"],["__file","D:/dev/nodejs/tool-web1/tools-web/src/components/Tools/CompanyCompare/CompanyCompare.vue"]]);export{gl as default};
