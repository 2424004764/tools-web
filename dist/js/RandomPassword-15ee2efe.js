var e=(e,l,a)=>new Promise((t,r)=>{var s=e=>{try{c(a.next(e))}catch(l){r(l)}},n=e=>{try{c(a.throw(e))}catch(l){r(l)}},c=e=>e.done?t(e.value):Promise.resolve(e.value).then(s,n);c((a=a.apply(e,l)).next())});import{_ as l}from"./chunk-fa7e2c33.js";import{_ as a}from"./chunk-9c6aa90d.js";import{g as t,c as r}from"../assets/index-2c4d407e.js";import{E as s}from"./chunk-d6839cfd.js";import{d as n,q as c,b as o,t as u,al as d,o as i,c as m,R as p,a as h,J as f,O as k,P as w,I as g,M as b,Q as _,a4 as x}from"./chunk-bb5ca2a1.js";import"./chunk-5443edaa.js";import"./chunk-eb404ece.js";const v={class:"flex flex-col mt-3 flex-1"},y={class:"p-4 rounded-2xl bg-white"},V={class:"mt-3"},S={class:"mt-3"},U={class:"mt-2"},C={class:"mt-3 mb-3 flex flex-wrap gap-2"},L={key:0,class:"space-y-2"},N={class:"flex items-center gap-3 flex-1 min-w-0"},j={class:"text-warm-700 font-semibold text-sm flex-shrink-0"},z=n({__name:"RandomPassword",setup(n){const z=c({title:"随机密码生成",char:"",pwLen:16,pwNum:5,resStr:"",autosize:{minRows:5},checkedUpper:!0,checkedLower:!0,checkedNum:!0,checkedSign:!1,charNum:"0123456789",charUpper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",charLower:"abcdefghijklmnopqrstuvwxyz",cahrSign:"~!@#$%^&*()_+"}),A=o(()=>z.resStr?z.resStr.split("\n").filter(e=>e.trim()):[]),E=()=>{if(""!=z.char)if(z.pwLen>100)s({message:"生成长度范围在1~100",type:"warning",duration:1500});else if(z.pwNum>100)s({message:"生成数量范围在1~100",type:"warning",duration:1500});else{z.resStr="";for(let e=1;e<=z.pwNum;e++){let l="\n";e==z.pwNum&&(l=""),z.resStr+=t(z.char,z.pwLen)+l}}else s({message:"包含字符不能为空",type:"warning",duration:1500})},F=(e,l)=>{switch(l){case 0:P(e,/\d+/g,z.charNum);break;case 1:P(e,/[a-z]/g,z.charLower);break;case 2:P(e,/[A-Z]/g,z.charUpper);break;case 3:P(e,/[~!@#$%^&*()_+]/g,z.cahrSign);break;default:z.char=""}},P=(e,l,a)=>{1==e?z.char+=a:z.char=z.char.replace(l,"")},R=l=>e(this,null,function*(){yield r(l),s.success("已复制")}),M=l=>e(this,null,function*(){yield r(l),s.success("已复制全部密码")}),Z=o(()=>{const e=z.pwLen||0,l=new Set(z.char.split("")).size;if(e<=0||l<=0)return{entropy:0,label:"无",color:"#909399",percent:0};const a=e*Math.log2(l);let t="弱",r="#F56C6C",s=20;return a>=80?(t="极强",r="#409EFF",s=100):a>=60?(t="强",r="#67C23A",s=80):a>=36?(t="中等",r="#E6A23C",s=60):a>=28&&(t="较弱",r="#E6A23C",s=35),{entropy:a,label:t,color:r,percent:s}});return u(()=>{F(z.checkedNum,0),F(z.checkedLower,1),F(z.checkedUpper,2),F(z.checkedSign,3),E()}),(e,t)=>{const r=d("el-text"),s=d("el-checkbox"),n=d("el-input"),c=d("el-slider"),o=d("el-progress"),u=d("el-button");return i(),m("div",v,[p(l,{title:z.title},null,8,["title"]),h("div",y,[p(r,null,{default:f(()=>t[13]||(t[13]=[k("密码组合",-1)])),_:1,__:[13]}),h("div",null,[p(s,{modelValue:z.checkedNum,"onUpdate:modelValue":t[0]||(t[0]=e=>z.checkedNum=e),label:"数字(0-9)",onChange:t[1]||(t[1]=e=>F(e,0))},null,8,["modelValue"]),p(s,{modelValue:z.checkedLower,"onUpdate:modelValue":t[2]||(t[2]=e=>z.checkedLower=e),label:"小写字母(a-z)",onChange:t[3]||(t[3]=e=>F(e,1))},null,8,["modelValue"]),p(s,{modelValue:z.checkedUpper,"onUpdate:modelValue":t[4]||(t[4]=e=>z.checkedUpper=e),label:"大写字母(A-Z)",onChange:t[5]||(t[5]=e=>F(e,2))},null,8,["modelValue"]),p(s,{modelValue:z.checkedSign,"onUpdate:modelValue":t[6]||(t[6]=e=>z.checkedSign=e),label:"其他符号(~!@#$%^&*()-+_=,.)",onChange:t[7]||(t[7]=e=>F(e,3))},null,8,["modelValue"])]),h("div",null,[p(n,{class:"",modelValue:z.char,"onUpdate:modelValue":t[8]||(t[8]=e=>z.char=e)},{prepend:f(()=>t[14]||(t[14]=[k("包含字符:",-1)])),_:1},8,["modelValue"]),h("div",V,[p(r,null,{default:f(()=>[k("生成长度: "+w(z.pwLen),1)]),_:1}),p(c,{modelValue:z.pwLen,"onUpdate:modelValue":t[9]||(t[9]=e=>z.pwLen=e),min:1,max:100,step:1},null,8,["modelValue"])]),h("div",S,[p(r,null,{default:f(()=>[k("生成数量: "+w(z.pwNum),1)]),_:1}),p(c,{modelValue:z.pwNum,"onUpdate:modelValue":t[10]||(t[10]=e=>z.pwNum=e),min:1,max:100,step:1},null,8,["modelValue"])]),h("div",U,[p(r,null,{default:f(()=>[k("密码强度: "+w(Z.value.label)+"（约 "+w(Z.value.entropy.toFixed(1))+" bits）",1)]),_:1}),p(o,{percentage:Z.value.percent,color:Z.value.color,"stroke-width":8},null,8,["percentage","color"])])]),h("div",C,[p(u,{type:"primary",onClick:E,class:"flex-1 c-xs:w-auto"},{default:f(()=>t[15]||(t[15]=[k("生成密码",-1)])),_:1,__:[15]}),A.value.length>0?(i(),g(u,{key:0,onClick:t[11]||(t[11]=e=>M(z.resStr)),plain:"",class:"flex-1 c-xs:w-auto"},{default:f(()=>t[16]||(t[16]=[k(" 复制全部 ",-1)])),_:1,__:[16]})):b("",!0)]),A.value.length>0?(i(),m("div",L,[(i(!0),m(_,null,x(A.value,(e,l)=>(i(),m("div",{key:l,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-warm-400 hover:bg-warm-50 transition-all"},[h("div",N,[h("span",j,w(l+1),1),p(r,{class:"font-mono text-base break-all flex-1",style:{"word-break":"break-all"}},{default:f(()=>[k(w(e),1)]),_:2},1024)]),p(u,{type:"primary",size:"small",onClick:l=>R(e),class:"ml-2 flex-shrink-0"},{default:f(()=>t[17]||(t[17]=[k(" 复制 ",-1)])),_:2,__:[17]},1032,["onClick"])]))),128))])):b("",!0),p(n,{modelValue:z.resStr,"onUpdate:modelValue":t[12]||(t[12]=e=>z.resStr=e),type:"hidden"},null,8,["modelValue"])]),p(a,{title:"描述"},{default:f(()=>[p(r,null,{default:f(()=>t[18]||(t[18]=[k(" 在线生成密码支持开启或关闭大小写 、数字 、特殊符号，支持自定义字符，长度；批量生成密码 ",-1)])),_:1,__:[18]}),p(r,{class:"block mt-2"},{default:f(()=>t[19]||(t[19]=[k(" bits（熵）说明：表示密码的随机信息量，值越大越难被穷举。约需要 2 的 bits 次方次尝试才能遍历所有可能； 一般参考：≥28 为较弱、≥36 为中等、≥60 为强、≥80 为极强。 ",-1)])),_:1,__:[19]})]),_:1})])}}});export{z as default};
