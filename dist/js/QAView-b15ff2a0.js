var e=(e,s,t)=>new Promise((a,n)=>{var c=e=>{try{o(t.next(e))}catch(s){n(s)}},i=e=>{try{o(t.throw(e))}catch(s){n(s)}},o=e=>e.done?a(e.value):Promise.resolve(e.value).then(c,i);o((t=t.apply(e,s)).next())});import{d as s,aA as t,r as a,t as n,al as c,ar as i,o,c as l,K as r,a as d,P as u,R as v,J as h,O as m,u as q,M as w,Q as p,a4 as f}from"./chunk-bb5ca2a1.js";import{f as _}from"./chunk-8b85f504.js";import{d as k,J as y,G as b,H as g,E as C}from"./chunk-d6839cfd.js";import{_ as A}from"../assets/index-4e015737.js";import"./chunk-5443edaa.js";import"./chunk-eb404ece.js";const Q={class:"qa-view-fullscreen"},T={class:"qa-view-content"},j={key:0,class:"qa-page"},x={class:"qa-header"},$={class:"qa-title"},I={class:"qa-actions"},L={key:0,class:"qa-header-content"},H=["innerHTML"],M={class:"qa-main-content"},D={key:0,class:"qa-items-container"},N={class:"qa-question-section"},P={class:"section-header"},R={class:"section-title"},V={class:"section-content"},z={class:"question-content"},J={class:"qa-answer-section"},S={class:"section-header"},U={class:"section-title"},E={class:"section-content"},G={class:"answer-content"},K={key:1,class:"qa-fallback-container"},O={class:"qa-question-section"},B={class:"section-header"},F={class:"section-content"},W={class:"question-content"},X={class:"qa-answer-section"},Y={class:"section-header"},Z={class:"section-content"},ee={class:"answer-content"},se={key:1,class:"qa-footer-content"},te=["innerHTML"],ae={class:"qa-page-info"},ne={class:"page-meta"},ce={class:"meta-item"},ie={class:"meta-item"},oe={key:1,class:"qa-not-found"},le=A(s({__name:"QAView",setup(s){const A=t(),le=a(null),re=a(!0),de=()=>e(this,null,function*(){try{re.value=!0;const e=A.params.id,s=yield _.get(`/api/qa-view/${e}`);200===s.status?le.value=s.data:C.error("QA页面不存在或未公开")}catch(e){C.error("获取QA页面失败")}finally{re.value=!1}}),ue=()=>e(this,null,function*(){try{yield navigator.clipboard.writeText(window.location.href),C.success("链接已复制到剪贴板")}catch(e){C.error("复制失败")}});return n(()=>{de()}),(e,s)=>{const t=c("el-button"),a=c("el-icon"),n=i("loading");return o(),l("div",Q,[r((o(),l("div",T,[le.value?(o(),l("div",j,[d("div",x,[d("h1",$,u(le.value.title),1),d("div",I,[v(t,{type:"primary",icon:q(k),onClick:ue},{default:h(()=>s[1]||(s[1]=[m(" 复制链接 ",-1)])),_:1,__:[1]},8,["icon"]),v(t,{type:"success",icon:q(y),onClick:s[0]||(s[0]=e=>(e=>{var s;const t=encodeURIComponent(window.location.href),a=encodeURIComponent((null==(s=le.value)?void 0:s.title)||"");let n="";switch(e){case"weibo":n=`https://service.weibo.com/share/share.php?url=${t}&title=${a}`;break;case"qq":n=`https://connect.qq.com/widget/shareqq/index.html?url=${t}&title=${a}`;break;case"twitter":n=`https://twitter.com/intent/tweet?url=${t}&text=${a}`}n&&window.open(n,"_blank","width=600,height=400")})("weibo"))},{default:h(()=>s[2]||(s[2]=[m(" 分享到微博 ",-1)])),_:1,__:[2]},8,["icon"])])]),le.value.headerContent?(o(),l("div",L,[d("div",{class:"custom-content",innerHTML:le.value.headerContent},null,8,H)])):w("",!0),d("div",M,[le.value.qaItems&&le.value.qaItems.length>0?(o(),l("div",D,[(o(!0),l(p,null,f(le.value.qaItems,(e,s)=>(o(),l("div",{key:s,class:"qa-item-section"},[d("div",N,[d("div",P,[v(a,{class:"section-icon"},{default:h(()=>[v(q(b))]),_:1}),d("h2",R,"问题 "+u(s+1),1)]),d("div",V,[d("div",z,u(e.question),1)])]),d("div",J,[d("div",S,[v(a,{class:"section-icon"},{default:h(()=>[v(q(g))]),_:1}),d("h2",U,"答案 "+u(s+1),1)]),d("div",E,[d("div",G,u(e.answer),1)])])]))),128))])):(o(),l("div",K,[d("div",O,[d("div",B,[v(a,{class:"section-icon"},{default:h(()=>[v(q(b))]),_:1}),s[3]||(s[3]=d("h2",{class:"section-title"},"问题",-1))]),d("div",F,[d("div",W,u(le.value.question||"暂无问题"),1)])]),d("div",X,[d("div",Y,[v(a,{class:"section-icon"},{default:h(()=>[v(q(g))]),_:1}),s[4]||(s[4]=d("h2",{class:"section-title"},"答案",-1))]),d("div",Z,[d("div",ee,u(le.value.answer||"暂无答案"),1)])])]))]),le.value.footerContent?(o(),l("div",se,[d("div",{class:"custom-content",innerHTML:le.value.footerContent},null,8,te)])):w("",!0),d("div",ae,[d("div",ne,[d("span",ce,"创建时间："+u(new Date(le.value.createTime).toLocaleString("zh-CN")),1),d("span",ie,"更新时间："+u(new Date(le.value.updateTime).toLocaleString("zh-CN")),1)])])])):re.value?w("",!0):(o(),l("div",oe,[v(a,{class:"not-found-icon"},{default:h(()=>[v(q(b))]),_:1}),s[5]||(s[5]=d("h2",{class:"not-found-title"},"QA页面不存在",-1)),s[6]||(s[6]=d("p",{class:"not-found-desc"},"该QA页面可能已被删除或未公开",-1))]))])),[[n,re.value]])])}}}),[["__scopeId","data-v-586d2176"],["__file","D:/dev/nodejs/tool-web1/tools-web/src/components/Tools/QAView/QAView.vue"]]);export{le as default};
