var e=(e,l,a)=>new Promise((u,t)=>{var o=e=>{try{s(a.next(e))}catch(l){t(l)}},n=e=>{try{s(a.throw(e))}catch(l){t(l)}},s=e=>e.done?u(e.value):Promise.resolve(e.value).then(o,n);s((a=a.apply(e,l)).next())});import{d as l,q as a,r as u,al as t,o,c as n,R as s,a as r,K as p,aj as d,aG as i,ae as c,O as v,D as m,P as h,J as g}from"./chunk-bb5ca2a1.js";import{a as b}from"./chunk-5443edaa.js";import{_ as x}from"./chunk-10c426ed.js";import{_ as f}from"./chunk-9c6aa90d.js";import"./chunk-d6839cfd.js";import"../assets/index-92ba4add.js";import"./chunk-eb404ece.js";const y={class:"flex flex-col mt-3 flex-1"},U={class:"p-4 rounded-2xl bg-white"},V={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},k={class:"space-y-3"},$={class:"grid grid-cols-2 gap-2"},_={class:"grid grid-cols-2 gap-2"},w={class:"grid grid-cols-2 gap-2"},I={class:"flex items-center gap-2"},j={class:"flex items-center gap-2"},T={class:"flex items-center gap-2"},E={class:"flex items-center gap-2"},L={class:"flex items-center gap-2"},O={class:"flex items-center gap-2"},P={class:"flex items-center gap-2"},A={class:"flex gap-2"},N=["disabled"],R={class:"space-y-3"},C=l({__name:"AiElementaryEssay",setup(l){const C=a({title:"AI小学作文",desc:"按年级/题材/关键词生成贴合小学生水平的作文，支持字数、风格与结构控制。"}),S=u({}.VITE_POLLINATIONS_API_KEY||""),D=u({}.VITE_POLLINATIONS_PROXY_URL),K=u({}.VITE_POLLINATIONS_TEXT_URL),X=u(""),Y=u("三年级"),q=u("叙事"),z=u("童趣活泼"),B=u(300),F=u(""),G=u(""),J=u(!0),H=u(!0),M=u(!1),Q=u(!0),W=u(!0),Z=u(!0),ee=u(!0),le=u(!1),ae=u(""),ue=()=>e(this,null,function*(){le.value=!0,ae.value="";try{const e=(()=>{const e=F.value.trim(),l=[];W.value&&l.push("三段式结构"),Z.value&&l.push("首尾呼应"),Q.value&&l.push("包含对话"),J.value&&l.push("比喻"),H.value&&l.push("拟人"),M.value&&l.push("排比"),ee.value&&l.push("用词浅显");const a=l.length?`，要求：${l.join("、")}`:"",u=X.value.trim()?`，题目：《${X.value.trim()}》`:"，题目自拟（2-10字）",t=e?`，关键词：${e}`:"",o=G.value.trim()?`，其他要求：${G.value.trim().replace(/[\r\n]+/g," ").replace(/[，。；]+/g,"，")}`:"";return`${Y.value}作文，约${B.value}字，${q.value}，${z.value}${t}${u}${a}${o}。请直接输出“标题：xxx”和“正文：...”的内容，不要附加解释。`})(),l=yield b.get(`${D.value}?path=${encodeURIComponent(e)}&target=${K.value}&params=_t=${Date.now()}`,{headers:{Authorization:"Bearer "+S.value}}),a="string"==typeof l.data?l.data:String(l.data);ae.value=a}catch(e){alert("生成失败，请稍后重试")}finally{le.value=!1}}),te=l=>e(this,null,function*(){try{yield navigator.clipboard.writeText(l),alert("已复制")}catch(e){alert("复制失败，请手动复制")}}),oe=()=>{X.value="",Y.value="三年级",q.value="叙事",z.value="童趣活泼",B.value=300,F.value="",G.value="",J.value=!0,H.value=!0,M.value=!1,Q.value=!0,W.value=!0,Z.value=!0,ee.value=!0,ae.value=""};return(e,l)=>{const a=t("el-text");return o(),n("div",y,[s(x,{title:C.title},null,8,["title"]),r("div",U,[r("div",V,[r("div",k,[p(r("input",{"onUpdate:modelValue":l[0]||(l[0]=e=>X.value=e),placeholder:"题目（可留空，自动生成）",class:"w-full p-2 border rounded"},null,512),[[d,X.value]]),r("div",$,[p(r("select",{"onUpdate:modelValue":l[1]||(l[1]=e=>Y.value=e),class:"w-full p-2 border rounded"},l[16]||(l[16]=[r("option",null,"一年级",-1),r("option",null,"二年级",-1),r("option",null,"三年级",-1),r("option",null,"四年级",-1),r("option",null,"五年级",-1),r("option",null,"六年级",-1)]),512),[[i,Y.value]]),p(r("select",{"onUpdate:modelValue":l[2]||(l[2]=e=>q.value=e),class:"w-full p-2 border rounded"},l[17]||(l[17]=[r("option",null,"写人",-1),r("option",null,"叙事",-1),r("option",null,"写景",-1),r("option",null,"状物",-1),r("option",null,"应用文",-1)]),512),[[i,q.value]])]),r("div",_,[p(r("select",{"onUpdate:modelValue":l[3]||(l[3]=e=>z.value=e),class:"w-full p-2 border rounded"},l[18]||(l[18]=[r("option",null,"童趣活泼",-1),r("option",null,"真诚朴实",-1),r("option",null,"优美细腻",-1),r("option",null,"幽默轻松",-1)]),512),[[i,z.value]]),p(r("select",{"onUpdate:modelValue":l[4]||(l[4]=e=>B.value=e),class:"w-full p-2 border rounded"},l[19]||(l[19]=[r("option",{value:200},"约200字",-1),r("option",{value:300},"约300字",-1),r("option",{value:400},"约400字",-1),r("option",{value:500},"约500字",-1)]),512),[[i,B.value]])]),p(r("textarea",{"onUpdate:modelValue":l[5]||(l[5]=e=>F.value=e),placeholder:"关键词（用逗号/空格分隔，可留空）",class:"w-full p-2 border rounded min-h-[80px]"},null,512),[[d,F.value]]),p(r("textarea",{"onUpdate:modelValue":l[6]||(l[6]=e=>G.value=e),placeholder:"自定义要求（可留空），如：避免复杂成语，加入一处对话",class:"w-full p-2 border rounded min-h-[60px]"},null,512),[[d,G.value]]),r("div",w,[r("label",I,[p(r("input",{type:"checkbox","onUpdate:modelValue":l[7]||(l[7]=e=>W.value=e)},null,512),[[c,W.value]]),l[20]||(l[20]=v("三段式结构",-1))]),r("label",j,[p(r("input",{type:"checkbox","onUpdate:modelValue":l[8]||(l[8]=e=>Z.value=e)},null,512),[[c,Z.value]]),l[21]||(l[21]=v("首尾呼应",-1))]),r("label",T,[p(r("input",{type:"checkbox","onUpdate:modelValue":l[9]||(l[9]=e=>Q.value=e)},null,512),[[c,Q.value]]),l[22]||(l[22]=v("包含对话",-1))]),r("label",E,[p(r("input",{type:"checkbox","onUpdate:modelValue":l[10]||(l[10]=e=>J.value=e)},null,512),[[c,J.value]]),l[23]||(l[23]=v("比喻",-1))]),r("label",L,[p(r("input",{type:"checkbox","onUpdate:modelValue":l[11]||(l[11]=e=>H.value=e)},null,512),[[c,H.value]]),l[24]||(l[24]=v("拟人",-1))]),r("label",O,[p(r("input",{type:"checkbox","onUpdate:modelValue":l[12]||(l[12]=e=>M.value=e)},null,512),[[c,M.value]]),l[25]||(l[25]=v("排比",-1))]),r("label",P,[p(r("input",{type:"checkbox","onUpdate:modelValue":l[13]||(l[13]=e=>ee.value=e)},null,512),[[c,ee.value]]),l[26]||(l[26]=v("用词浅显",-1))])]),r("div",A,[r("button",{onClick:ue,disabled:le.value,class:m(["px-4 py-2 rounded text-white",le.value?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"])},h(le.value?"生成中...":"生成作文"),11,N),r("button",{onClick:oe,class:"px-4 py-2 rounded border hover:bg-gray-50"}," 重置 "),r("button",{onClick:l[14]||(l[14]=e=>te(ae.value)),class:"px-4 py-2 rounded border hover:bg-gray-50"}," 复制结果 ")])]),r("div",R,[p(r("textarea",{"onUpdate:modelValue":l[15]||(l[15]=e=>ae.value=e),readonly:"",class:"w-full p-3 border rounded min-h-[320px] bg-gray-50",placeholder:"生成的作文将显示在这里"},null,512),[[d,ae.value]])])])]),s(f,{title:"描述"},{default:g(()=>[s(a,null,{default:g(()=>[v(h(C.desc),1)]),_:1})]),_:1})])}}});export{C as default};
