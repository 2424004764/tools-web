import{_ as e}from"./chunk-be34673d.js";import{_ as t}from"./chunk-9c6aa90d.js";import{j as a}from"./chunk-0bf95de0.js";import{a as l,E as r}from"./chunk-0a8d181f.js";import{d as n,r as o,q as u,t as s,m as c,al as i,o as d,c as p,R as f,a as y,J as m,I as v,O as b,M as g,Q as h,a4 as x}from"./chunk-bb5ca2a1.js";import"../assets/index-372abdb0.js";import"./chunk-96adf8d3.js";import"./chunk-b045bb46.js";var k={exports:{}},_=Object.prototype.toString;
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */function w(e){return"function"==typeof e.constructor?e.constructor.name:null}var T=function(e){var t="Uint32Array"in e,a=e.crypto||e.msCrypto,l=a&&"function"==typeof a.getRandomValues;if(!(t&&l))return Math.random;var r=new Uint32Array(1),n=Math.pow(2,32);function o(){return a.getRandomValues(r),r[0]/n}return o.cryptographic=!0,o}("undefined"!=typeof self?self:window),J=function(e){var t=typeof e;if("string"===t||e instanceof String){if(!e.trim())return!1}else if("number"!==t&&!(e instanceof Number))return!1;return e-e+1>=0},S=function(e){if(void 0===e)return"undefined";if(null===e)return"null";var t=typeof e;if("boolean"===t)return"boolean";if("string"===t)return"string";if("number"===t)return"number";if("symbol"===t)return"symbol";if("function"===t)return"GeneratorFunction"===w(e)?"generatorfunction":"function";if(function(e){return Array.isArray?Array.isArray(e):e instanceof Array}(e))return"array";if(function(e){if(e.constructor&&"function"==typeof e.constructor.isBuffer)return e.constructor.isBuffer(e);return!1}(e))return"buffer";if(function(e){try{if("number"==typeof e.length&&"function"==typeof e.callee)return!0}catch(t){if(-1!==t.message.indexOf("callee"))return!0}return!1}(e))return"arguments";if(function(e){return e instanceof Date||"function"==typeof e.toDateString&&"function"==typeof e.getDate&&"function"==typeof e.setDate}(e))return"date";if(function(e){return e instanceof Error||"string"==typeof e.message&&e.constructor&&"number"==typeof e.constructor.stackTraceLimit}(e))return"error";if(function(e){return e instanceof RegExp||"string"==typeof e.flags&&"boolean"==typeof e.ignoreCase&&"boolean"==typeof e.multiline&&"boolean"==typeof e.global}(e))return"regexp";switch(w(e)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(function(e){return"function"==typeof e.throw&&"function"==typeof e.return&&"function"==typeof e.next}(e))return"generator";switch(t=_.call(e)){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return t.slice(8,-1).toLowerCase().replace(/\s/g,"")},V=T;
/*!
 * randomatic <https://github.com/jonschlinkert/randomatic>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */k.exports=function(e,t,a){if(void 0===e)throw new Error("randomatic expects a string or number.");var l=!1;1===arguments.length&&("string"==typeof e?t=e.length:J(e)&&(a={},t=e,e="*"));"object"===S(t)&&t.hasOwnProperty("chars")&&(t=(e=(a=t).chars).length,l=!0);var r=a||{},n="",o="";-1!==e.indexOf("?")&&(n+=r.chars);-1!==e.indexOf("a")&&(n+=C.lower);-1!==e.indexOf("A")&&(n+=C.upper);-1!==e.indexOf("0")&&(n+=C.number);-1!==e.indexOf("!")&&(n+=C.special);-1!==e.indexOf("*")&&(n+=C.all);l&&(n+=e);if(r.exclude){var u="string"===S(r.exclude)?r.exclude:r.exclude.join("");u=u.replace(new RegExp("[\\]]+","g"),""),n=n.replace(new RegExp("["+u+"]+","g"),""),-1!==r.exclude.indexOf("]")&&(n=n.replace(new RegExp("[\\]]+","g"),""))}for(;t--;)o+=n.charAt(parseInt(V()*n.length,10));return o},k.exports.isCrypto=!!V.cryptographic;var C={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",special:"~!@#$%^&()_+-={}[];',."};C.all=C.lower+C.upper+C.number+C.special;const W=l(k.exports),O={class:"flex flex-col mt-3 flex-1"},j={class:"p-4 rounded-2xl bg-white mb-4"},A={class:"mb-6"},U={class:"mt-3"},I={class:"mb-6"},M={class:"flex gap-2"},N={key:0,class:"mt-2"},R={key:1,class:"mt-2"},D={key:0},E={key:1},P={class:"space-y-4"},z={class:"mt-2 flex items-center gap-2"},H={class:"mb-2 flex items-center justify-between"},F={class:"flex gap-2"},$={class:"flex gap-2"},B={key:0},G={class:"mt-2"},L=n({__name:"JWT",setup(l){const n=o("parse"),k=u({title:"JWT工具",token:""}),_=u({header:JSON.stringify({alg:"HS256",typ:"JWT"},null,2),payload:JSON.stringify({iss:"https://tool.fologde.com".replace(/^https?:\/\//,""),sub:"yifang",aud:"https://tool.fologde.com".replace(/^https?:\/\//,"").split(".")[1],iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600},null,2),secret:"your-secret-key",generatedToken:""}),w=o(),T=o(),J=o(!1),S=o(""),V=o(!1),C=o(!1),L=()=>{try{T.value=JSON.stringify(a(k.token),null,"\t"),w.value=JSON.stringify(a(k.token,{header:!0}),null,"\t"),J.value=!1,V.value=!1,C.value=!1}catch(e){J.value=!0,w.value="",T.value="",V.value=!1,C.value=!1}},q=()=>{if(k.token&&S.value)try{const e=k.token.split(".");if(3!==e.length)return void r.error("Token格式不正确");const t=e[2];t===btoa(unescape(encodeURIComponent(S.value)))?(V.value=!0,C.value=!1,r.success("签名校验成功！")):(V.value=!1,C.value=!0,r.error("签名校验失败！"))}catch(e){r.error("校验过程中发生错误")}else r.warning("请输入Secret")},Q=()=>{k.token="",w.value="",T.value="",J.value=!1,S.value="",V.value=!1,C.value=!1},K=()=>{try{const e=btoa(unescape(encodeURIComponent(_.header))),t=btoa(unescape(encodeURIComponent(_.payload))),a=btoa(unescape(encodeURIComponent(_.secret)));_.generatedToken=`${e}.${t}.${a}`}catch(e){}},X=()=>{_.header=JSON.stringify({alg:"HS256",typ:"JWT"},null,2),_.payload=JSON.stringify({iss:"https://tool.fologde.com".replace(/^https?:\/\//,""),sub:"yifang",aud:"https://tool.fologde.com".replace(/^https?:\/\//,"").split(".")[1],iat:Math.floor(Date.now()/1e3),exp:Math.floor(Date.now()/1e3)+3600},null,2),_.secret="your-secret-key",_.generatedToken=""},Y=[{label:"1小时",value:3600},{label:"5小时",value:18e3},{label:"1天",value:86400},{label:"3天",value:259200},{label:"7天",value:604800},{label:"15天",value:1296e3},{label:"1个月",value:2592e3}],Z=o(3600),ee=()=>{try{const e=JSON.parse(_.payload);e.iat=Math.floor(Date.now()/1e3),e.exp=Math.floor(Date.now()/1e3)+Z.value,_.payload=JSON.stringify(e,null,2)}catch(e){}},te=()=>{return e=this,t=null,a=function*(){try{if(navigator.clipboard&&window.isSecureContext)yield navigator.clipboard.writeText(_.generatedToken),r.success("JWT已复制到剪贴板");else{const t=document.createElement("textarea");t.value=_.generatedToken,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),r.success("JWT已复制到剪贴板")}catch(e){r.error("复制失败，请手动复制")}finally{document.body.removeChild(t)}}}catch(e){r.error("复制失败，请手动复制")}},new Promise((l,r)=>{var n=e=>{try{u(a.next(e))}catch(t){r(t)}},o=e=>{try{u(a.throw(e))}catch(t){r(t)}},u=e=>e.done?l(e.value):Promise.resolve(e.value).then(n,o);u((a=a.apply(e,t)).next())});var e,t,a},ae=()=>{const e=Math.floor(21*Math.random())+20,t=W("*",e);_.secret=t},le=()=>{if(navigator.clipboard&&window.isSecureContext)navigator.clipboard.writeText(_.secret).then(()=>{r.success("Secret已复制到剪贴板")}).catch(e=>{r.error("复制失败，请手动复制")});else{const t=document.createElement("textarea");t.value=_.secret,t.style.position="fixed",t.style.left="-999999px",t.style.top="-999999px",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),r.success("Secret已复制到剪贴板")}catch(e){r.error("复制失败，请手动复制")}finally{document.body.removeChild(t)}}};return s(()=>{K(),k.token=_.generatedToken,L()}),c(()=>[_.header,_.payload,_.secret],()=>{_.header&&_.payload&&_.secret&&K()},{deep:!0}),c(()=>_.payload,e=>{try{const t=JSON.parse(e);t.iss&&t.sub&&t.aud&&K()}catch(t){}},{deep:!0}),(a,l)=>{const r=i("el-input"),o=i("el-text"),u=i("el-button"),s=i("el-tab-pane"),c=i("el-option"),W=i("el-select"),re=i("el-tabs");return d(),p("div",O,[f(e,{title:k.title},null,8,["title"]),y("div",j,[f(re,{modelValue:n.value,"onUpdate:modelValue":l[9]||(l[9]=e=>n.value=e),class:"w-full"},{default:m(()=>[f(s,{label:"JWT解析",name:"parse"},{default:m(()=>[y("div",A,[f(r,{modelValue:k.token,"onUpdate:modelValue":l[0]||(l[0]=e=>k.token=e),rows:5,type:"textarea",placeholder:"请输入Token",onChange:L},null,8,["modelValue"]),J.value?(d(),v(o,{key:0,type:"danger"},{default:m(()=>l[10]||(l[10]=[b("Invalid token",-1)])),_:1,__:[10]})):g("",!0),y("div",U,[f(u,{type:"primary",onClick:L},{default:m(()=>l[11]||(l[11]=[b("解析",-1)])),_:1,__:[11]}),f(u,{type:"primary",onClick:Q},{default:m(()=>l[12]||(l[12]=[b("清除",-1)])),_:1,__:[12]})])]),y("div",I,[l[16]||(l[16]=y("div",{class:"mb-2 font-medium"},"Secret校验",-1)),y("div",M,[f(r,{modelValue:S.value,"onUpdate:modelValue":l[1]||(l[1]=e=>S.value=e),placeholder:"请输入用于校验的Secret",type:S.value?"text":"password"},null,8,["modelValue","type"]),f(u,{type:"success",onClick:q},{default:m(()=>l[13]||(l[13]=[b("校验签名",-1)])),_:1,__:[13]})]),V.value?(d(),p("div",N,[f(o,{type:"success"},{default:m(()=>l[14]||(l[14]=[b("✓ 签名校验成功",-1)])),_:1,__:[14]})])):g("",!0),C.value?(d(),p("div",R,[f(o,{type:"danger"},{default:m(()=>l[15]||(l[15]=[b("✗ 签名校验失败",-1)])),_:1,__:[15]})])):g("",!0)]),w.value?(d(),p("div",D,[l[17]||(l[17]=y("div",{class:"mb-3"},"Header(头部)",-1)),f(r,{modelValue:w.value,"onUpdate:modelValue":l[2]||(l[2]=e=>w.value=e),type:"textarea",autosize:!0,class:"w-full",readonly:""},null,8,["modelValue"])])):g("",!0),T.value?(d(),p("div",E,[l[18]||(l[18]=y("div",{class:"mb-3 mt-3"},"Payload(载荷)",-1)),f(r,{modelValue:T.value,"onUpdate:modelValue":l[3]||(l[3]=e=>T.value=e),type:"textarea",autosize:!0,class:"w-full",readonly:""},null,8,["modelValue"])])):g("",!0)]),_:1}),f(s,{label:"JWT生成",name:"generate"},{default:m(()=>[y("div",P,[y("div",null,[l[19]||(l[19]=y("div",{class:"mb-2 font-medium"},"Header (头部)",-1)),f(r,{modelValue:_.header,"onUpdate:modelValue":l[4]||(l[4]=e=>_.header=e),type:"textarea",rows:4,placeholder:"请输入JWT头部信息"},null,8,["modelValue"])]),y("div",null,[l[21]||(l[21]=y("div",{class:"mb-2 font-medium"},"Payload (载荷)",-1)),f(r,{modelValue:_.payload,"onUpdate:modelValue":l[5]||(l[5]=e=>_.payload=e),type:"textarea",rows:7,placeholder:"请输入JWT载荷信息"},null,8,["modelValue"]),y("div",z,[f(W,{modelValue:Z.value,"onUpdate:modelValue":l[6]||(l[6]=e=>Z.value=e),placeholder:"选择过期时间",style:{width:"120px"}},{default:m(()=>[(d(),p(h,null,x(Y,e=>f(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),f(u,{size:"small",onClick:ee},{default:m(()=>l[20]||(l[20]=[b("更新时间戳",-1)])),_:1,__:[20]})])]),y("div",null,[y("div",H,[l[24]||(l[24]=y("div",{class:"font-medium"},"Secret (密钥)",-1)),y("div",F,[f(u,{size:"small",onClick:ae},{default:m(()=>l[22]||(l[22]=[b("随机生成",-1)])),_:1,__:[22]}),f(u,{size:"small",onClick:le,disabled:!_.secret},{default:m(()=>l[23]||(l[23]=[b("复制Secret",-1)])),_:1,__:[23]},8,["disabled"])])]),f(r,{modelValue:_.secret,"onUpdate:modelValue":l[7]||(l[7]=e=>_.secret=e),placeholder:"请输入签名密钥"},null,8,["modelValue"])]),y("div",$,[f(u,{type:"primary",onClick:K},{default:m(()=>l[25]||(l[25]=[b("生成JWT",-1)])),_:1,__:[25]}),f(u,{onClick:X},{default:m(()=>l[26]||(l[26]=[b("重置",-1)])),_:1,__:[26]})]),_.generatedToken?(d(),p("div",B,[l[28]||(l[28]=y("div",{class:"mb-2 font-medium"},"生成的JWT Token",-1)),f(r,{modelValue:_.generatedToken,"onUpdate:modelValue":l[8]||(l[8]=e=>_.generatedToken=e),type:"textarea",rows:3,readonly:""},null,8,["modelValue"]),y("div",G,[f(u,{size:"small",onClick:te},{default:m(()=>l[27]||(l[27]=[b(" 复制Token ",-1)])),_:1,__:[27]})])])):g("",!0)])]),_:1})]),_:1},8,["modelValue"])]),f(t,{title:"描述"},{default:m(()=>[f(o,null,{default:m(()=>l[29]||(l[29]=[b(" JWT (JSON Web Token) 工具，支持解析和生成JWT令牌。",-1),y("br",null,null,-1),y("br",null,null,-1),y("strong",null,"JWT解析功能：",-1),y("br",null,null,-1),b(" • 解析和解码JSON Web Token并显示其内容",-1),y("br",null,null,-1),b(" • 支持Header(头部)和Payload(载荷)的详细查看",-1),y("br",null,null,-1),b(" • 提供Secret校验功能，验证JWT签名的有效性",-1),y("br",null,null,-1),b(" • 自动检测Token格式的有效性",-1),y("br",null,null,-1),y("br",null,null,-1),y("strong",null,"JWT生成功能：",-1),y("br",null,null,-1),b(" • 自定义Header和Payload内容",-1),y("br",null,null,-1),b(" • 支持过期时间快速设置（1小时到15天）",-1),y("br",null,null,-1),b(" • 随机生成20-40位长度的安全密钥",-1),y("br",null,null,-1),b(" • 一键复制生成的JWT Token和Secret",-1),y("br",null,null,-1),b(" • 实时预览生成的JWT结构",-1),y("br",null,null,-1),y("br",null,null,-1),y("strong",null,"使用场景：",-1),y("br",null,null,-1),b(" • 开发调试JWT认证系统",-1),y("br",null,null,-1),b(" • 测试和验证JWT令牌",-1),y("br",null,null,-1),b(" • 学习和理解JWT结构",-1),y("br",null,null,-1),b(" • API接口的Token生成和验证 ",-1)])),_:1,__:[29]})]),_:1})])}}});export{L as default};
