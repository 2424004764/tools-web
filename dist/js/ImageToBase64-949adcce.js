import{_ as e}from"./chunk-2dac8252.js";import{_ as a}from"./chunk-9c6aa90d.js";import{c as t}from"../assets/index-34bea591.js";import{E as l}from"./chunk-aee1fa50.js";import{d as s,q as r,r as o,al as n,o as i,c as d,R as u,a as c,D as v,M as m,aF as p,O as b,P as g,J as h}from"./chunk-bb5ca2a1.js";import"./chunk-f261274c.js";import"./chunk-4027890c.js";const x={class:"flex flex-col mt-3 flex-1"},f={class:"p-4 rounded-2xl bg-white"},y={class:"mb-6"},w={key:0,class:"absolute inset-0 bg-white bg-opacity-80 flex items-center justify-center z-10 rounded-lg"},k={class:"space-y-4"},B=["disabled"],j={key:0,class:"mb-4 p-4 bg-gray-50 rounded-lg"},M={class:"flex items-center justify-between"},P={class:"font-medium text-gray-900"},D={class:"text-sm text-gray-500"},_=["disabled"],G={key:1,class:"space-y-4"},F={class:"flex items-center justify-between"},C=["disabled"],J={class:"bg-gray-50 rounded-lg p-4"},L=["value"],z={class:"mt-4"},H={class:"border border-gray-300 rounded-lg p-4 bg-white"},I=["src"],R=s({__name:"ImageToBase64",setup(s){const R=r({title:"图片转Base64"}),S=o(""),T=o(""),W=o(""),N=o(!1),q=o(!1),A=e=>{if(!e.type.startsWith("image/"))return void l.error("请选择图片文件");q.value=!0;const a=new FileReader;a.onload=a=>{var t;const s=null==(t=a.target)?void 0:t.result;S.value=s,T.value=e.name,W.value=E(e.size),q.value=!1,l.success("图片转换完成")},a.onerror=()=>{q.value=!1,l.error("图片转换失败，请重试")},a.readAsDataURL(e)},E=e=>{if(0===e)return"0 Bytes";const a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(2))+" "+["Bytes","KB","MB","GB"][a]},K=e=>{e.preventDefault(),N.value=!0},O=e=>{e.preventDefault(),N.value=!1},U=e=>{var a;e.preventDefault(),N.value=!1;const t=null==(a=e.dataTransfer)?void 0:a.files;t&&t.length>0&&A(t[0])},Q=e=>{const a=e.target.files;a&&a.length>0&&A(a[0])},V=()=>{return e=this,a=null,s=function*(){S.value&&(yield t(S.value),l.success("Base64编码已复制到剪贴板"))},new Promise((t,l)=>{var r=e=>{try{n(s.next(e))}catch(a){l(a)}},o=e=>{try{n(s.throw(e))}catch(a){l(a)}},n=e=>e.done?t(e.value):Promise.resolve(e.value).then(r,o);n((s=s.apply(e,a)).next())});var e,a,s},X=()=>{S.value="",T.value="",W.value=""};return(t,l)=>{const s=n("el-text");return i(),d("div",x,[u(e,{title:R.title},null,8,["title"]),c("div",f,[c("div",y,[c("div",{class:v(["border-2 border-dashed border-gray-300 rounded-lg p-8 text-center transition-colors relative",{"border-blue-500 bg-blue-50":N.value}]),onDragover:K,onDragleave:O,onDrop:U},[q.value?(i(),d("div",w,l[0]||(l[0]=[c("div",{class:"text-center"},[c("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mb-2"}),c("p",{class:"text-gray-600"},"正在处理图片...")],-1)]))):m("",!0),c("div",k,[l[2]||(l[2]=p('<div class="text-gray-400"><svg class="mx-auto h-12 w-12" stroke="currentColor" fill="none" viewBox="0 0 48 48"><path d="M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></div><div><p class="text-lg font-medium text-gray-900">拖拽图片到此处或点击上传</p><p class="text-sm text-gray-500">支持 JPG、PNG、GIF、WebP 等格式</p></div>',2)),c("div",null,[c("label",{class:v(["cursor-pointer bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",{"opacity-50 cursor-not-allowed":q.value}])},[l[1]||(l[1]=b(" 选择图片 ",-1)),c("input",{type:"file",accept:"image/*",class:"hidden",onChange:Q,disabled:q.value},null,40,B)],2)])])],34)]),T.value?(i(),d("div",j,[c("div",M,[c("div",null,[c("p",P,g(T.value),1),c("p",D,"文件大小: "+g(W.value),1)]),c("button",{onClick:X,class:"text-red-600 hover:text-red-800 text-sm",disabled:q.value}," 清空 ",8,_)])])):m("",!0),S.value?(i(),d("div",G,[c("div",F,[l[3]||(l[3]=c("h3",{class:"text-lg font-medium text-gray-900"},"Base64编码结果",-1)),c("button",{onClick:V,class:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 transition-colors",disabled:q.value}," 复制Base64 ",8,C)]),c("div",J,[c("textarea",{value:S.value,readonly:"",class:"w-full h-32 p-3 border border-gray-300 rounded-md bg-white resize-none",placeholder:"Base64编码将显示在这里..."},null,8,L)]),c("div",z,[l[4]||(l[4]=c("h4",{class:"text-md font-medium text-gray-900 mb-2"},"图片预览",-1)),c("div",H,[c("img",{src:S.value,alt:"预览图片",class:"max-w-full max-h-64 mx-auto"},null,8,I)])])])):m("",!0)]),u(a,{title:"描述"},{default:h(()=>[u(s,null,{default:h(()=>l[5]||(l[5]=[b(" 图片转Base64工具可以将图片文件转换为Base64编码格式。Base64编码后的图片可以直接嵌入到HTML、CSS或JavaScript代码中使用，无需额外的文件请求。支持拖拽上传和点击上传，支持JPG、PNG、GIF、WebP等常见图片格式。 ",-1)])),_:1,__:[5]})]),_:1})])}}});export{R as default};
