import{_ as e}from"./chunk-3890340c.js";import{_ as l}from"./chunk-9c6aa90d.js";import{c as a,_ as t}from"../assets/index-5d8e84a5.js";import{d as s,q as u,r as o,m as r,al as d,o as n,c as i,R as m,a as c,O as p,J as v,Q as y,a4 as _}from"./chunk-bb5ca2a1.js";import"./chunk-aee1fa50.js";import"./chunk-f261274c.js";import"./chunk-4027890c.js";const f={class:"flex flex-col mt-3 flex-1"},k={class:"p-4 rounded-2xl bg-white"},x={class:"mb-2 text-sm text-gray-500"},b={class:"mt-3 flex flex-wrap items-center gap-2 button-container"},h={class:"mt-4"},V={class:"mt-4"},U={class:"flex items-center justify-between mb-2"},g={class:"space-y-2"},w={class:"shrink basis-[28%] md:basis-[22%] lg:basis-[18%]"},R={class:"grow basis-0 min-w-0"},C={class:"mt-4"},L={class:"mt-2"},j={class:"mt-4"},Q={class:"mt-2"},E=t(s({__name:"UrlParams",setup(t){const s=u({title:"URL 参数解析/构造"}),E=u({raw:"",base:"",autoEncode:!0,resultQuery:"",resultFull:""}),F=o([{key:"",value:""}]),$=e=>E.autoEncode?encodeURIComponent(e):e,O=()=>{let e=(E.raw||"").trim();const l=e.indexOf("#");l>=0&&(e=e.slice(0,l));let a="",t=e;const s=e.indexOf("?");if(s>=0&&(a=e.slice(0,s),t=e.slice(s+1)),t.startsWith("?")&&(t=t.slice(1)),E.base=a,!t)return F.value=[{key:"",value:""}],void B();const u=new URLSearchParams(t),o=[];u.forEach((e,l)=>{o.push({key:l,value:e})}),F.value=o.length?o:[{key:"",value:""}],B()},B=()=>{const e=F.value.filter(e=>""!==e.key).map(e=>{var l;return`${$(e.key)}=${$(null!=(l=e.value)?l:"")}`}).join("&");E.resultQuery=e?`?${e}`:"",E.resultFull=E.base?`${E.base}${E.resultQuery}`:E.resultQuery},I=()=>F.value.push({key:"",value:""}),P=()=>{E.raw="",E.base="",E.resultQuery="",E.resultFull="",F.value=[{key:"",value:""}]},q=()=>a(E.resultQuery),z=()=>a(E.resultFull),A=()=>{E.raw="https://example.com/path?a=1&b=2&name=%E5%BC%A0%E4%B8%89%20Lee&empty=&flag"};return r(F,B,{deep:!0}),r(()=>E.autoEncode,B),(a,t)=>{const u=d("el-link"),o=d("el-input"),r=d("el-button"),$=d("el-switch"),J=d("el-text");return n(),i("div",f,[m(e,{title:s.title},null,8,["title"]),c("div",k,[c("div",x,[t[6]||(t[6]=p(" 输入完整 URL 或查询串（如：?a=1&b=2），点击“解析”即可在下方编辑后重新拼接。 ",-1)),m(u,{class:"ml-2",type:"primary",onClick:A},{default:v(()=>t[5]||(t[5]=[p("填充示例",-1)])),_:1,__:[5]})]),m(o,{type:"textarea",rows:3,modelValue:E.raw,"onUpdate:modelValue":t[0]||(t[0]=e=>E.raw=e),placeholder:"输入 URL 或 ?a=1&b=2 形式的查询串"},null,8,["modelValue"]),c("div",b,[m(r,{type:"primary",onClick:O},{default:v(()=>t[7]||(t[7]=[p("解析",-1)])),_:1,__:[7]}),m(r,{onClick:B},{default:v(()=>t[8]||(t[8]=[p("重新拼接",-1)])),_:1,__:[8]}),m($,{modelValue:E.autoEncode,"onUpdate:modelValue":t[1]||(t[1]=e=>E.autoEncode=e),"active-text":"自动编码","inactive-text":"保持原样"},null,8,["modelValue"]),m(r,{type:"danger",onClick:P},{default:v(()=>t[9]||(t[9]=[p("清空",-1)])),_:1,__:[9]})]),c("div",h,[t[10]||(t[10]=c("div",{class:"text-sm text-gray-600 mb-2"},"基础 URL（解析时自动提取，可手动调整）：",-1)),m(o,{modelValue:E.base,"onUpdate:modelValue":t[2]||(t[2]=e=>E.base=e),placeholder:"示例：https://example.com/path"},null,8,["modelValue"])]),c("div",V,[c("div",U,[t[12]||(t[12]=c("div",{class:"text-sm text-gray-600"},"参数列表",-1)),m(r,{size:"small",onClick:I},{default:v(()=>t[11]||(t[11]=[p("添加参数",-1)])),_:1,__:[11]})]),c("div",g,[(n(!0),i(y,null,_(F.value,(e,l)=>(n(),i("div",{key:l,class:"flex gap-2 items-center"},[c("div",w,[m(o,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"key"},null,8,["modelValue","onUpdate:modelValue"])]),c("div",R,[m(o,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"value"},null,8,["modelValue","onUpdate:modelValue"])]),m(r,{type:"danger",link:"",onClick:e=>(e=>F.value.splice(e,1))(l)},{default:v(()=>t[13]||(t[13]=[p("删除",-1)])),_:2,__:[13]},1032,["onClick"])]))),128))])]),c("div",C,[t[15]||(t[15]=c("div",{class:"text-sm text-gray-600 mb-1"},"拼接结果（仅查询串）：",-1)),m(o,{modelValue:E.resultQuery,"onUpdate:modelValue":t[3]||(t[3]=e=>E.resultQuery=e),readonly:""},null,8,["modelValue"]),c("div",L,[m(r,{type:"primary",onClick:q},{default:v(()=>t[14]||(t[14]=[p("复制查询串",-1)])),_:1,__:[14]})])]),c("div",j,[t[17]||(t[17]=c("div",{class:"text-sm text-gray-600 mb-1"},"拼接结果（完整 URL）：",-1)),m(o,{modelValue:E.resultFull,"onUpdate:modelValue":t[4]||(t[4]=e=>E.resultFull=e),readonly:""},null,8,["modelValue"]),c("div",Q,[m(r,{type:"primary",onClick:z},{default:v(()=>t[16]||(t[16]=[p("复制完整 URL",-1)])),_:1,__:[16]})])])]),m(l,{title:"描述"},{default:v(()=>[m(J,null,{default:v(()=>t[18]||(t[18]=[p(" 一键解析 URL 查询参数，支持编辑参数后重新拼接；支持是否自动进行 URL 编码；可复制查询串或完整 URL。 ",-1)])),_:1,__:[18]})]),_:1})])}}}),[["__scopeId","data-v-af813e5e"]]);export{E as default};
