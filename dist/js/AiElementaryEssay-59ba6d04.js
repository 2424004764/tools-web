var l=(l,e,a)=>new Promise((u,t)=>{var o=l=>{try{s(a.next(l))}catch(e){t(e)}},n=l=>{try{s(a.throw(l))}catch(e){t(e)}},s=l=>l.done?u(l.value):Promise.resolve(l.value).then(o,n);s((a=a.apply(l,e)).next())});import{d as e,q as a,r as u,al as t,o,c as n,R as s,a as r,K as p,aj as d,aG as i,ae as c,O as v,D as m,P as h,J as g}from"./chunk-bb5ca2a1.js";import{a as x}from"./chunk-96adf8d3.js";import{_ as b}from"./chunk-5446628c.js";import{_ as f}from"./chunk-9c6aa90d.js";import"./chunk-0a8d181f.js";import"../assets/index-978e9918.js";import"./chunk-b045bb46.js";const y={class:"flex flex-col mt-3 flex-1"},k={class:"p-4 rounded-2xl bg-white"},U={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},$={class:"space-y-3"},w={class:"grid grid-cols-2 gap-2"},V={class:"grid grid-cols-2 gap-2"},j={class:"grid grid-cols-2 gap-2"},_={class:"flex items-center gap-2"},C={class:"flex items-center gap-2"},A={class:"flex items-center gap-2"},P={class:"flex items-center gap-2"},B={class:"flex items-center gap-2"},D={class:"flex items-center gap-2"},E={class:"flex items-center gap-2"},I={class:"flex gap-2"},K=["disabled"],R={class:"space-y-3"},T=e({__name:"AiElementaryEssay",setup(e){const T=a({title:"AI小学作文",desc:"按年级/题材/关键词生成贴合小学生水平的作文，支持字数、风格与结构控制。"}),q=u("NpgaKlHjioTlyo2B"),z=u("https://tool.fologde.com/proxy"),G=u("https://text.pollinations.ai"),H=u(""),J=u("三年级"),N=u("叙事"),O=u("童趣活泼"),S=u(300),F=u(""),L=u(""),M=u(!0),Q=u(!0),W=u(!1),X=u(!0),Y=u(!0),Z=u(!0),ll=u(!0),el=u(!1),al=u(""),ul=()=>l(this,null,function*(){el.value=!0,al.value="";try{const l=(()=>{const l=F.value.trim(),e=[];Y.value&&e.push("三段式结构"),Z.value&&e.push("首尾呼应"),X.value&&e.push("包含对话"),M.value&&e.push("比喻"),Q.value&&e.push("拟人"),W.value&&e.push("排比"),ll.value&&e.push("用词浅显");const a=e.length?`，要求：${e.join("、")}`:"",u=H.value.trim()?`，题目：《${H.value.trim()}》`:"，题目自拟（2-10字）",t=l?`，关键词：${l}`:"",o=L.value.trim()?`，其他要求：${L.value.trim().replace(/[\r\n]+/g," ").replace(/[，。；]+/g,"，")}`:"";return`${J.value}作文，约${S.value}字，${N.value}，${O.value}${t}${u}${a}${o}。请直接输出“标题：xxx”和“正文：...”的内容，不要附加解释。`})(),e=yield x.get(`${z.value}?path=${encodeURIComponent(l)}&target=${G.value}&params=_t=${Date.now()}`,{headers:{Authorization:"Bearer "+q.value}}),a="string"==typeof e.data?e.data:String(e.data);al.value=a}catch(l){alert("生成失败，请稍后重试")}finally{el.value=!1}}),tl=e=>l(this,null,function*(){try{yield navigator.clipboard.writeText(e),alert("已复制")}catch(l){alert("复制失败，请手动复制")}}),ol=()=>{H.value="",J.value="三年级",N.value="叙事",O.value="童趣活泼",S.value=300,F.value="",L.value="",M.value=!0,Q.value=!0,W.value=!1,X.value=!0,Y.value=!0,Z.value=!0,ll.value=!0,al.value=""};return(l,e)=>{const a=t("el-text");return o(),n("div",y,[s(b,{title:T.title},null,8,["title"]),r("div",k,[r("div",U,[r("div",$,[p(r("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>H.value=l),placeholder:"题目（可留空，自动生成）",class:"w-full p-2 border rounded"},null,512),[[d,H.value]]),r("div",w,[p(r("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>J.value=l),class:"w-full p-2 border rounded"},e[16]||(e[16]=[r("option",null,"一年级",-1),r("option",null,"二年级",-1),r("option",null,"三年级",-1),r("option",null,"四年级",-1),r("option",null,"五年级",-1),r("option",null,"六年级",-1)]),512),[[i,J.value]]),p(r("select",{"onUpdate:modelValue":e[2]||(e[2]=l=>N.value=l),class:"w-full p-2 border rounded"},e[17]||(e[17]=[r("option",null,"写人",-1),r("option",null,"叙事",-1),r("option",null,"写景",-1),r("option",null,"状物",-1),r("option",null,"应用文",-1)]),512),[[i,N.value]])]),r("div",V,[p(r("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>O.value=l),class:"w-full p-2 border rounded"},e[18]||(e[18]=[r("option",null,"童趣活泼",-1),r("option",null,"真诚朴实",-1),r("option",null,"优美细腻",-1),r("option",null,"幽默轻松",-1)]),512),[[i,O.value]]),p(r("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>S.value=l),class:"w-full p-2 border rounded"},e[19]||(e[19]=[r("option",{value:200},"约200字",-1),r("option",{value:300},"约300字",-1),r("option",{value:400},"约400字",-1),r("option",{value:500},"约500字",-1)]),512),[[i,S.value]])]),p(r("textarea",{"onUpdate:modelValue":e[5]||(e[5]=l=>F.value=l),placeholder:"关键词（用逗号/空格分隔，可留空）",class:"w-full p-2 border rounded min-h-[80px]"},null,512),[[d,F.value]]),p(r("textarea",{"onUpdate:modelValue":e[6]||(e[6]=l=>L.value=l),placeholder:"自定义要求（可留空），如：避免复杂成语，加入一处对话",class:"w-full p-2 border rounded min-h-[60px]"},null,512),[[d,L.value]]),r("div",j,[r("label",_,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=l=>Y.value=l)},null,512),[[c,Y.value]]),e[20]||(e[20]=v("三段式结构",-1))]),r("label",C,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=l=>Z.value=l)},null,512),[[c,Z.value]]),e[21]||(e[21]=v("首尾呼应",-1))]),r("label",A,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[9]||(e[9]=l=>X.value=l)},null,512),[[c,X.value]]),e[22]||(e[22]=v("包含对话",-1))]),r("label",P,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[10]||(e[10]=l=>M.value=l)},null,512),[[c,M.value]]),e[23]||(e[23]=v("比喻",-1))]),r("label",B,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[11]||(e[11]=l=>Q.value=l)},null,512),[[c,Q.value]]),e[24]||(e[24]=v("拟人",-1))]),r("label",D,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[12]||(e[12]=l=>W.value=l)},null,512),[[c,W.value]]),e[25]||(e[25]=v("排比",-1))]),r("label",E,[p(r("input",{type:"checkbox","onUpdate:modelValue":e[13]||(e[13]=l=>ll.value=l)},null,512),[[c,ll.value]]),e[26]||(e[26]=v("用词浅显",-1))])]),r("div",I,[r("button",{onClick:ul,disabled:el.value,class:m(["px-4 py-2 rounded text-white",el.value?"bg-gray-400":"bg-blue-600 hover:bg-blue-700"])},h(el.value?"生成中...":"生成作文"),11,K),r("button",{onClick:ol,class:"px-4 py-2 rounded border hover:bg-gray-50"}," 重置 "),r("button",{onClick:e[14]||(e[14]=l=>tl(al.value)),class:"px-4 py-2 rounded border hover:bg-gray-50"}," 复制结果 ")])]),r("div",R,[p(r("textarea",{"onUpdate:modelValue":e[15]||(e[15]=l=>al.value=l),readonly:"",class:"w-full p-3 border rounded min-h-[320px] bg-gray-50",placeholder:"生成的作文将显示在这里"},null,512),[[d,al.value]])])])]),s(f,{title:"描述"},{default:g(()=>[s(a,null,{default:g(()=>[v(h(T.desc),1)]),_:1})]),_:1})])}}});export{T as default};
