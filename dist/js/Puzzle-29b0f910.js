import{_ as l}from"./chunk-af583744.js";import{_ as e}from"./chunk-9c6aa90d.js";import{r as t}from"./chunk-0a8d181f.js";import{d as n,q as s,r,b as o,U as u,t as a,al as i,o as c,c as d,R as m,a as f,J as b,O as g,u as p,P as v,E as x,Q as h,a4 as k,D as y,M as P}from"./chunk-bb5ca2a1.js";import{_ as w}from"../assets/index-139225df.js";import"./chunk-96adf8d3.js";import"./chunk-b045bb46.js";const z={class:"flex flex-col mt-3 flex-1"},_={class:"p-4 rounded-2xl bg-white"},C={class:"flex flex-wrap gap-4 mb-6 items-center"},j={class:"flex items-center gap-2"},B={class:"flex gap-4 text-sm"},M={class:"flex items-center gap-1"},$={class:"font-bold text-blue-600"},I={class:"flex items-center gap-1"},A={class:"font-bold text-green-600"},S={class:"flex justify-center"},E=["onClick"],L={key:0},R={key:0,class:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg text-center"},U={class:"text-green-600"},V=w(n({__name:"Puzzle",setup(n){const w=s({title:"数字华容道"}),V=s({size:3,tiles:[],moves:0,time:0,isPlaying:!1,isCompleted:!1,timer:null}),D=r(3),T=()=>{V.size=D.value,V.moves=0,V.time=0,V.isPlaying=!1,V.isCompleted=!1;const l=V.size*V.size;V.tiles=[];for(let e=0;e<l-1;e++)V.tiles.push({id:e,value:e+1,currentPos:e,isBlank:!1});V.tiles.push({id:l-1,value:0,currentPos:l-1,isBlank:!0}),q()},q=()=>{const l=100+Math.floor(200*Math.random());let e=0;const t=()=>{for(let e=0;e<l;e++){const l=V.tiles.find(l=>l.isBlank);if(!l)continue;const e=l.currentPos,t=J(e);if(t.length>0){const l=t[Math.floor(Math.random()*t.length)];O(l,!1)}}V.tiles.every(l=>l.isBlank?l.currentPos===V.tiles.length-1:l.currentPos===l.value-1)&&e<10&&(e++,t())};t()},J=l=>{const e=[],t=V.size,n=[{row:-1,col:0},{row:1,col:0},{row:0,col:-1},{row:0,col:1}],s=Math.floor(l/t),r=l%t;for(const o of n){const l=s+o.row,n=r+o.col;if(l>=0&&l<t&&n>=0&&n<t){const s=l*t+n,r=V.tiles.find(l=>l.currentPos===s);r&&e.push(r)}}return e},O=(l,e=!0)=>{const t=V.tiles.find(l=>l.isBlank);if(!t)return;const n=t.currentPos,s=l.currentPos;J(n).find(e=>e.id===l.id)&&(l.currentPos=n,t.currentPos=s,e&&(V.moves++,V.isPlaying||V.isCompleted||F(),Q()))},Q=()=>{const l=V.size,e=l*l;V.tiles.every(l=>{if(l.isBlank)return l.currentPos===e-1;{const e=l.value-1;return l.currentPos===e}})&&(V.isCompleted=!0,V.isPlaying=!1,V.timer&&(clearInterval(V.timer),V.timer=null))},F=()=>{V.isPlaying=!0,V.timer=setInterval(()=>{V.time++},1e3)},G=()=>{V.timer&&(clearInterval(V.timer),V.timer=null),T()},H=l=>{const e=l%60;return`${Math.floor(l/60).toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},K=l=>{const e=V.size,t=Math.floor(l.currentPos/e);return{transform:`translate(${100*(l.currentPos%e)}%, ${100*t}%)`,width:100/e+"%",height:100/e+"%"}},N=o(()=>({gridTemplateColumns:`repeat(${V.size}, 1fr)`,gridTemplateRows:`repeat(${V.size}, 1fr)`})),W=l=>{if(V.isCompleted)return;const e=V.tiles.find(l=>l.isBlank);if(!e)return;const t=e.currentPos,n=J(t);let s=null;switch(l.key){case"ArrowUp":s=n.find(l=>l.currentPos===t+V.size)||null;break;case"ArrowDown":s=n.find(l=>l.currentPos===t-V.size)||null;break;case"ArrowLeft":s=n.find(l=>l.currentPos===t+1)||null;break;case"ArrowRight":s=n.find(l=>l.currentPos===t-1)||null}s&&O(s)};return u(()=>{V.timer&&(clearInterval(V.timer),V.timer=null),document.removeEventListener("keydown",W)}),a(()=>{T(),document.addEventListener("keydown",W)}),(n,s)=>{const r=i("el-option"),o=i("el-select"),u=i("el-button"),a=i("el-text");return c(),d("div",z,[m(l,{title:w.title},null,8,["title"]),f("div",_,[f("div",C,[f("div",j,[s[1]||(s[1]=f("span",{class:"text-sm font-medium"},"难度：",-1)),m(o,{modelValue:D.value,"onUpdate:modelValue":s[0]||(s[0]=l=>D.value=l),onChange:G,style:{width:"100px"}},{default:b(()=>[m(r,{label:"3x3",value:3}),m(r,{label:"4x4",value:4}),m(r,{label:"5x5",value:5})]),_:1},8,["modelValue"])]),m(u,{type:"primary",onClick:G,icon:p(t)},{default:b(()=>s[2]||(s[2]=[g(" 重新开始 ",-1)])),_:1,__:[2]},8,["icon"]),f("div",B,[f("div",M,[s[3]||(s[3]=f("span",{class:"text-gray-600"},"步数：",-1)),f("span",$,v(V.moves),1)]),f("div",I,[s[4]||(s[4]=f("span",{class:"text-gray-600"},"时间：",-1)),f("span",A,v(H(V.time)),1)])])]),f("div",S,[f("div",{class:"relative bg-gray-200 rounded-lg overflow-hidden shadow-lg",style:x({width:120*V.size+"px",height:120*V.size+"px"})},[f("div",{class:"absolute inset-0",style:x(N.value)},[(c(!0),d(h,null,k(V.size*V.size,l=>(c(),d("div",{key:l,class:"border border-gray-300 bg-gray-100"}))),128))],4),(c(!0),d(h,null,k(V.tiles,l=>(c(),d("div",{key:l.id,class:y(["absolute transition-all duration-200 ease-in-out cursor-pointer",[l.isBlank?"bg-transparent":"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg hover:shadow-xl","flex items-center justify-center font-bold text-lg"]]),style:x(K(l)),onClick:e=>O(l)},[l.isBlank?P("",!0):(c(),d("span",L,v(l.value),1))],14,E))),128))],4)]),V.isCompleted?(c(),d("div",R,[s[5]||(s[5]=f("div",{class:"text-green-800 font-bold text-lg mb-2"},"🎉 恭喜完成！",-1)),f("div",U," 用时："+v(H(V.time))+" | 步数："+v(V.moves),1)])):P("",!0)]),m(e,{title:"游戏说明"},{default:b(()=>[m(a,null,{default:b(()=>s[6]||(s[6]=[g(" 数字华容道是一款经典的益智游戏，起源于19世纪的欧洲。游戏目标是通过移动数字方块，将数字按1、2、3...的顺序排列，空白方块位于右下角。 ",-1),f("br",null,null,-1),f("br",null,null,-1),f("strong",null,"游戏规则：",-1),f("br",null,null,-1),g("• 点击与空白方块相邻的数字方块可以移动 ",-1),f("br",null,null,-1),g("• 将所有数字按顺序排列即可获胜 ",-1),f("br",null,null,-1),g("• 支持3x3、4x4、5x5三种难度 ",-1),f("br",null,null,-1),g("• 游戏会自动记录移动步数和用时 ",-1),f("br",null,null,-1),f("br",null,null,-1),f("strong",null,"操作方法：",-1),f("br",null,null,-1),g("• 鼠标点击：点击与空白方块相邻的数字方块进行移动 ",-1),f("br",null,null,-1),g("• 键盘控制：使用方向键移动空白方块周围的数字 ",-1),f("br",null,null,-1),g('• 重新开始：点击"重新开始"按钮可以重置游戏 ',-1),f("br",null,null,-1),g("• 难度切换：选择不同难度会重新开始游戏 ",-1),f("br",null,null,-1),f("br",null,null,-1),f("strong",null,"技巧提示：",-1),f("br",null,null,-1),g("• ",-1),f("strong",null,"逐行完成法",-1),g("：先完成第一行，再逐行完成，这是最常用的解法 ",-1),f("br",null,null,-1),g("• ",-1),f("strong",null,"角落优先法",-1),g("：先固定角落的数字，再处理边缘数字 ",-1),f("br",null,null,-1),g("• ",-1),f("strong",null,"循环移动法",-1),g("：利用空白方块的移动来调整数字位置 ",-1),f("br",null,null,-1),g("• ",-1),f("strong",null,"逆向思维",-1),g("：从目标状态倒推，思考如何到达当前状态 ",-1),f("br",null,null,-1),g("• ",-1),f("strong",null,"避免死路",-1),g("：移动前多思考几步，避免将数字移动到无法调整的位置 ",-1),f("br",null,null,-1),f("br",null,null,-1),f("strong",null,"难度说明：",-1),f("br",null,null,-1),g("• ",-1),f("strong",null,"3x3（简单）",-1),g("：适合初学者，通常10-50步内完成 ",-1),f("br",null,null,-1),g("• ",-1),f("strong",null,"4x4（中等）",-1),g("：有一定挑战性，通常50-200步内完成 ",-1),f("br",null,null,-1),g("• ",-1),f("strong",null,"5x5（困难）",-1),g("：高难度，通常需要200步以上，考验耐心和策略 ",-1),f("br",null,null,-1),f("br",null,null,-1),f("strong",null,"历史背景：",-1),f("br",null,null,-1),g("数字华容道最早出现在19世纪末的欧洲，最初是作为教育玩具使用。它不仅能锻炼逻辑思维，还能提高空间想象力和问题解决能力。现代版本通常使用数字1到8（3x3）或1到15（4x4），空白位置用于移动其他方块。 ",-1)])),_:1,__:[6]})]),_:1})])}}}),[["__scopeId","data-v-1afd64b4"]]);export{V as default};
