import{D as l}from"./chunk-7c0c6fbd.js";import{T as e}from"./chunk-f92b9743.js";import{r as t}from"./chunk-d6839cfd.js";import{d as n,q as s,r,b as o,U as u,t as i,al as a,o as c,c as d,R as m,a as b,J as f,O as g,u as p,P as v,E as x,Q as h,a4 as k,D as P,M as y}from"./chunk-bb5ca2a1.js";import{_ as w}from"../assets/index-4e015737.js";import"./chunk-5443edaa.js";import"./chunk-eb404ece.js";const z={class:"flex flex-col mt-3 flex-1"},_={class:"p-4 rounded-2xl bg-white"},C={class:"flex flex-wrap gap-4 mb-6 items-center"},j={class:"flex items-center gap-2"},B={class:"flex gap-4 text-sm"},M={class:"flex items-center gap-1"},$={class:"font-bold text-blue-600"},I={class:"flex items-center gap-1"},A={class:"font-bold text-green-600"},D={class:"flex justify-center"},E=["onClick"],S={key:0},T={key:0,class:"mt-6 p-4 bg-green-50 border border-green-200 rounded-lg text-center"},L={class:"text-green-600"},R=w(n({__name:"Puzzle",setup(n){const w=s({title:"数字华容道"}),R=s({size:3,tiles:[],moves:0,time:0,isPlaying:!1,isCompleted:!1,timer:null}),U=r(3),V=()=>{R.size=U.value,R.moves=0,R.time=0,R.isPlaying=!1,R.isCompleted=!1;const l=R.size*R.size;R.tiles=[];for(let e=0;e<l-1;e++)R.tiles.push({id:e,value:e+1,currentPos:e,isBlank:!1});R.tiles.push({id:l-1,value:0,currentPos:l-1,isBlank:!0}),q()},q=()=>{const l=100+Math.floor(200*Math.random());let e=0;const t=()=>{for(let e=0;e<l;e++){const l=R.tiles.find(l=>l.isBlank);if(!l)continue;const e=l.currentPos,t=F(e);if(t.length>0){const l=t[Math.floor(Math.random()*t.length)];J(l,!1)}}R.tiles.every(l=>l.isBlank?l.currentPos===R.tiles.length-1:l.currentPos===l.value-1)&&e<10&&(e++,t())};t()},F=l=>{const e=[],t=R.size,n=[{row:-1,col:0},{row:1,col:0},{row:0,col:-1},{row:0,col:1}],s=Math.floor(l/t),r=l%t;for(const o of n){const l=s+o.row,n=r+o.col;if(l>=0&&l<t&&n>=0&&n<t){const s=l*t+n,r=R.tiles.find(l=>l.currentPos===s);r&&e.push(r)}}return e},J=(l,e=!0)=>{const t=R.tiles.find(l=>l.isBlank);if(!t)return;const n=t.currentPos,s=l.currentPos;F(n).find(e=>e.id===l.id)&&(l.currentPos=n,t.currentPos=s,e&&(R.moves++,R.isPlaying||R.isCompleted||Q(),O()))},O=()=>{const l=R.size,e=l*l;R.tiles.every(l=>{if(l.isBlank)return l.currentPos===e-1;{const e=l.value-1;return l.currentPos===e}})&&(R.isCompleted=!0,R.isPlaying=!1,R.timer&&(clearInterval(R.timer),R.timer=null))},Q=()=>{R.isPlaying=!0,R.timer=setInterval(()=>{R.time++},1e3)},G=()=>{R.timer&&(clearInterval(R.timer),R.timer=null),V()},H=l=>{const e=l%60;return`${Math.floor(l/60).toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},K=l=>{const e=R.size,t=Math.floor(l.currentPos/e);return{transform:`translate(${100*(l.currentPos%e)}%, ${100*t}%)`,width:100/e+"%",height:100/e+"%"}},N=o(()=>({gridTemplateColumns:`repeat(${R.size}, 1fr)`,gridTemplateRows:`repeat(${R.size}, 1fr)`})),W=l=>{if(R.isCompleted)return;const e=R.tiles.find(l=>l.isBlank);if(!e)return;const t=e.currentPos,n=F(t);let s=null;switch(l.key){case"ArrowUp":s=n.find(l=>l.currentPos===t+R.size)||null;break;case"ArrowDown":s=n.find(l=>l.currentPos===t-R.size)||null;break;case"ArrowLeft":s=n.find(l=>l.currentPos===t+1)||null;break;case"ArrowRight":s=n.find(l=>l.currentPos===t-1)||null}s&&J(s)};return u(()=>{R.timer&&(clearInterval(R.timer),R.timer=null),document.removeEventListener("keydown",W)}),i(()=>{V(),document.addEventListener("keydown",W)}),(n,s)=>{const r=a("el-option"),o=a("el-select"),u=a("el-button"),i=a("el-text");return c(),d("div",z,[m(l,{title:w.title},null,8,["title"]),b("div",_,[b("div",C,[b("div",j,[s[1]||(s[1]=b("span",{class:"text-sm font-medium"},"难度：",-1)),m(o,{modelValue:U.value,"onUpdate:modelValue":s[0]||(s[0]=l=>U.value=l),onChange:G,style:{width:"100px"}},{default:f(()=>[m(r,{label:"3x3",value:3}),m(r,{label:"4x4",value:4}),m(r,{label:"5x5",value:5})]),_:1},8,["modelValue"])]),m(u,{type:"primary",onClick:G,icon:p(t)},{default:f(()=>s[2]||(s[2]=[g(" 重新开始 ",-1)])),_:1,__:[2]},8,["icon"]),b("div",B,[b("div",M,[s[3]||(s[3]=b("span",{class:"text-gray-600"},"步数：",-1)),b("span",$,v(R.moves),1)]),b("div",I,[s[4]||(s[4]=b("span",{class:"text-gray-600"},"时间：",-1)),b("span",A,v(H(R.time)),1)])])]),b("div",D,[b("div",{class:"relative bg-gray-200 rounded-lg overflow-hidden shadow-lg",style:x({width:120*R.size+"px",height:120*R.size+"px"})},[b("div",{class:"absolute inset-0",style:x(N.value)},[(c(!0),d(h,null,k(R.size*R.size,l=>(c(),d("div",{key:l,class:"border border-gray-300 bg-gray-100"}))),128))],4),(c(!0),d(h,null,k(R.tiles,l=>(c(),d("div",{key:l.id,class:P(["absolute transition-all duration-200 ease-in-out cursor-pointer",[l.isBlank?"bg-transparent":"bg-gradient-to-br from-blue-500 to-blue-600 text-white shadow-lg hover:shadow-xl","flex items-center justify-center font-bold text-lg"]]),style:x(K(l)),onClick:e=>J(l)},[l.isBlank?y("",!0):(c(),d("span",S,v(l.value),1))],14,E))),128))],4)]),R.isCompleted?(c(),d("div",T,[s[5]||(s[5]=b("div",{class:"text-green-800 font-bold text-lg mb-2"},"🎉 恭喜完成！",-1)),b("div",L," 用时："+v(H(R.time))+" | 步数："+v(R.moves),1)])):y("",!0)]),m(e,{title:"游戏说明"},{default:f(()=>[m(i,null,{default:f(()=>s[6]||(s[6]=[g(" 数字华容道是一款经典的益智游戏，起源于19世纪的欧洲。游戏目标是通过移动数字方块，将数字按1、2、3...的顺序排列，空白方块位于右下角。 ",-1),b("br",null,null,-1),b("br",null,null,-1),b("strong",null,"游戏规则：",-1),b("br",null,null,-1),g("• 点击与空白方块相邻的数字方块可以移动 ",-1),b("br",null,null,-1),g("• 将所有数字按顺序排列即可获胜 ",-1),b("br",null,null,-1),g("• 支持3x3、4x4、5x5三种难度 ",-1),b("br",null,null,-1),g("• 游戏会自动记录移动步数和用时 ",-1),b("br",null,null,-1),b("br",null,null,-1),b("strong",null,"操作方法：",-1),b("br",null,null,-1),g("• 鼠标点击：点击与空白方块相邻的数字方块进行移动 ",-1),b("br",null,null,-1),g("• 键盘控制：使用方向键移动空白方块周围的数字 ",-1),b("br",null,null,-1),g('• 重新开始：点击"重新开始"按钮可以重置游戏 ',-1),b("br",null,null,-1),g("• 难度切换：选择不同难度会重新开始游戏 ",-1),b("br",null,null,-1),b("br",null,null,-1),b("strong",null,"技巧提示：",-1),b("br",null,null,-1),g("• ",-1),b("strong",null,"逐行完成法",-1),g("：先完成第一行，再逐行完成，这是最常用的解法 ",-1),b("br",null,null,-1),g("• ",-1),b("strong",null,"角落优先法",-1),g("：先固定角落的数字，再处理边缘数字 ",-1),b("br",null,null,-1),g("• ",-1),b("strong",null,"循环移动法",-1),g("：利用空白方块的移动来调整数字位置 ",-1),b("br",null,null,-1),g("• ",-1),b("strong",null,"逆向思维",-1),g("：从目标状态倒推，思考如何到达当前状态 ",-1),b("br",null,null,-1),g("• ",-1),b("strong",null,"避免死路",-1),g("：移动前多思考几步，避免将数字移动到无法调整的位置 ",-1),b("br",null,null,-1),b("br",null,null,-1),b("strong",null,"难度说明：",-1),b("br",null,null,-1),g("• ",-1),b("strong",null,"3x3（简单）",-1),g("：适合初学者，通常10-50步内完成 ",-1),b("br",null,null,-1),g("• ",-1),b("strong",null,"4x4（中等）",-1),g("：有一定挑战性，通常50-200步内完成 ",-1),b("br",null,null,-1),g("• ",-1),b("strong",null,"5x5（困难）",-1),g("：高难度，通常需要200步以上，考验耐心和策略 ",-1),b("br",null,null,-1),b("br",null,null,-1),b("strong",null,"历史背景：",-1),b("br",null,null,-1),g("数字华容道最早出现在19世纪末的欧洲，最初是作为教育玩具使用。它不仅能锻炼逻辑思维，还能提高空间想象力和问题解决能力。现代版本通常使用数字1到8（3x3）或1到15（4x4），空白位置用于移动其他方块。 ",-1)])),_:1,__:[6]})]),_:1})])}}}),[["__scopeId","data-v-c28c0bcc"],["__file","D:/dev/nodejs/tool-web1/tools-web/src/components/Tools/Puzzle/Puzzle.vue"]]);export{R as default};
