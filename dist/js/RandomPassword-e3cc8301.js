var e=(e,l,a)=>new Promise((s,t)=>{var r=e=>{try{n(a.next(e))}catch(l){t(l)}},o=e=>{try{n(a.throw(e))}catch(l){t(l)}},n=e=>e.done?s(e.value):Promise.resolve(e.value).then(r,o);n((a=a.apply(e,l)).next())});import{D as l}from"./chunk-7c0c6fbd.js";import{T as a}from"./chunk-f92b9743.js";import{g as s,c as t,_ as r}from"../assets/index-4e015737.js";import{E as o}from"./chunk-d6839cfd.js";import{d as n,q as c,b as u,t as d,al as i,o as m,c as p,R as h,a as w,J as f,O as k,P as g,I as b,M as _,Q as x,a4 as v}from"./chunk-bb5ca2a1.js";import"./chunk-5443edaa.js";import"./chunk-eb404ece.js";const y={class:"flex flex-col mt-3 flex-1"},V={class:"p-4 rounded-2xl bg-white"},S={class:"mt-3"},U={class:"mt-3"},C={class:"mt-2"},L={class:"mt-3 mb-3 flex flex-wrap gap-2"},N={key:0,class:"space-y-2"},j={class:"flex items-center gap-3 flex-1 min-w-0"},P={class:"text-warm-700 font-semibold text-sm flex-shrink-0"},z=r(n({__name:"RandomPassword",setup(r){const n=c({title:"随机密码生成",char:"",pwLen:16,pwNum:5,resStr:"",autosize:{minRows:5},checkedUpper:!0,checkedLower:!0,checkedNum:!0,checkedSign:!1,charNum:"0123456789",charUpper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",charLower:"abcdefghijklmnopqrstuvwxyz",cahrSign:"~!@#$%^&*()_+"}),z=u(()=>n.resStr?n.resStr.split("\n").filter(e=>e.trim()):[]),A=()=>{if(""!=n.char)if(n.pwLen>100)o({message:"生成长度范围在1~100",type:"warning",duration:1500});else if(n.pwNum>100)o({message:"生成数量范围在1~100",type:"warning",duration:1500});else{n.resStr="";for(let e=1;e<=n.pwNum;e++){let l="\n";e==n.pwNum&&(l=""),n.resStr+=s(n.char,n.pwLen)+l}}else o({message:"包含字符不能为空",type:"warning",duration:1500})},E=(e,l)=>{switch(l){case 0:F(e,/\d+/g,n.charNum);break;case 1:F(e,/[a-z]/g,n.charLower);break;case 2:F(e,/[A-Z]/g,n.charUpper);break;case 3:F(e,/[~!@#$%^&*()_+]/g,n.cahrSign);break;default:n.char=""}},F=(e,l,a)=>{1==e?n.char+=a:n.char=n.char.replace(l,"")},R=l=>e(this,null,function*(){yield t(l),o.success("已复制")}),D=l=>e(this,null,function*(){yield t(l),o.success("已复制全部密码")}),M=u(()=>{const e=n.pwLen||0,l=new Set(n.char.split("")).size;if(e<=0||l<=0)return{entropy:0,label:"无",color:"#909399",percent:0};const a=e*Math.log2(l);let s="弱",t="#F56C6C",r=20;return a>=80?(s="极强",t="#409EFF",r=100):a>=60?(s="强",t="#67C23A",r=80):a>=36?(s="中等",t="#E6A23C",r=60):a>=28&&(s="较弱",t="#E6A23C",r=35),{entropy:a,label:s,color:t,percent:r}});return d(()=>{E(n.checkedNum,0),E(n.checkedLower,1),E(n.checkedUpper,2),E(n.checkedSign,3),A()}),(e,s)=>{const t=i("el-text"),r=i("el-checkbox"),o=i("el-input"),c=i("el-slider"),u=i("el-progress"),d=i("el-button");return m(),p("div",y,[h(l,{title:n.title},null,8,["title"]),w("div",V,[h(t,null,{default:f(()=>s[13]||(s[13]=[k("密码组合",-1)])),_:1,__:[13]}),w("div",null,[h(r,{modelValue:n.checkedNum,"onUpdate:modelValue":s[0]||(s[0]=e=>n.checkedNum=e),label:"数字(0-9)",onChange:s[1]||(s[1]=e=>E(e,0))},null,8,["modelValue"]),h(r,{modelValue:n.checkedLower,"onUpdate:modelValue":s[2]||(s[2]=e=>n.checkedLower=e),label:"小写字母(a-z)",onChange:s[3]||(s[3]=e=>E(e,1))},null,8,["modelValue"]),h(r,{modelValue:n.checkedUpper,"onUpdate:modelValue":s[4]||(s[4]=e=>n.checkedUpper=e),label:"大写字母(A-Z)",onChange:s[5]||(s[5]=e=>E(e,2))},null,8,["modelValue"]),h(r,{modelValue:n.checkedSign,"onUpdate:modelValue":s[6]||(s[6]=e=>n.checkedSign=e),label:"其他符号(~!@#$%^&*()-+_=,.)",onChange:s[7]||(s[7]=e=>E(e,3))},null,8,["modelValue"])]),w("div",null,[h(o,{class:"",modelValue:n.char,"onUpdate:modelValue":s[8]||(s[8]=e=>n.char=e)},{prepend:f(()=>s[14]||(s[14]=[k("包含字符:",-1)])),_:1},8,["modelValue"]),w("div",S,[h(t,null,{default:f(()=>[k("生成长度: "+g(n.pwLen),1)]),_:1}),h(c,{modelValue:n.pwLen,"onUpdate:modelValue":s[9]||(s[9]=e=>n.pwLen=e),min:1,max:100,step:1},null,8,["modelValue"])]),w("div",U,[h(t,null,{default:f(()=>[k("生成数量: "+g(n.pwNum),1)]),_:1}),h(c,{modelValue:n.pwNum,"onUpdate:modelValue":s[10]||(s[10]=e=>n.pwNum=e),min:1,max:100,step:1},null,8,["modelValue"])]),w("div",C,[h(t,null,{default:f(()=>[k("密码强度: "+g(M.value.label)+"（约 "+g(M.value.entropy.toFixed(1))+" bits）",1)]),_:1}),h(u,{percentage:M.value.percent,color:M.value.color,"stroke-width":8},null,8,["percentage","color"])])]),w("div",L,[h(d,{type:"primary",onClick:A,class:"flex-1 c-xs:w-auto"},{default:f(()=>s[15]||(s[15]=[k("生成密码",-1)])),_:1,__:[15]}),z.value.length>0?(m(),b(d,{key:0,onClick:s[11]||(s[11]=e=>D(n.resStr)),plain:"",class:"flex-1 c-xs:w-auto"},{default:f(()=>s[16]||(s[16]=[k(" 复制全部 ",-1)])),_:1,__:[16]})):_("",!0)]),z.value.length>0?(m(),p("div",N,[(m(!0),p(x,null,v(z.value,(e,l)=>(m(),p("div",{key:l,class:"flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200 hover:border-warm-400 hover:bg-warm-50 transition-all"},[w("div",j,[w("span",P,g(l+1),1),h(t,{class:"font-mono text-base break-all flex-1",style:{"word-break":"break-all"}},{default:f(()=>[k(g(e),1)]),_:2},1024)]),h(d,{type:"primary",size:"small",onClick:l=>R(e),class:"ml-2 flex-shrink-0"},{default:f(()=>[...s[17]||(s[17]=[k(" 复制 ",-1)])]),_:2,__:[17]},1032,["onClick"])]))),128))])):_("",!0),h(o,{modelValue:n.resStr,"onUpdate:modelValue":s[12]||(s[12]=e=>n.resStr=e),type:"hidden"},null,8,["modelValue"])]),h(a,{title:"描述"},{default:f(()=>[h(t,null,{default:f(()=>s[18]||(s[18]=[k(" 在线生成密码支持开启或关闭大小写 、数字 、特殊符号，支持自定义字符，长度；批量生成密码 ",-1)])),_:1,__:[18]}),h(t,{class:"block mt-2"},{default:f(()=>s[19]||(s[19]=[k(" bits（熵）说明：表示密码的随机信息量，值越大越难被穷举。约需要 2 的 bits 次方次尝试才能遍历所有可能； 一般参考：≥28 为较弱、≥36 为中等、≥60 为强、≥80 为极强。 ",-1)])),_:1,__:[19]})]),_:1})])}}}),[["__file","D:/dev/nodejs/tool-web1/tools-web/src/components/Tools/RandomPassword/RandomPassword.vue"]]);export{z as default};
