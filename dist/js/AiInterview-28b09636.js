import{d as e,aA as l,r as t,q as a,b as s,al as n,o as r,c as o,R as u,a as i,Q as d,a4 as c,P as p,O as v,M as y,K as b,aj as m,D as g,aF as f,a5 as x,W as h,J as k,v as w}from"./chunk-bb5ca2a1.js";import{a as A}from"./chunk-cdccf614.js";import{_ as q}from"./chunk-a96cebc7.js";import{_ as C}from"./chunk-9c6aa90d.js";import{c as j,_ as I}from"../assets/index-ffe4e112.js";import"./chunk-e922f209.js";import"./chunk-27701a41.js";const _={class:"flex flex-col mt-3 flex-1"},T={key:0,class:"space-y-6"},R={key:0,class:"p-4 rounded-2xl bg-white"},S={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},Q=["onClick"],V={class:"text-center"},z={class:"text-3xl mb-2"},D={class:"font-medium text-gray-800 mb-2"},M={class:"text-sm text-gray-600"},U={key:1,class:"p-4 rounded-2xl bg-white"},B={class:"flex items-center justify-between mb-4"},F={class:"flex items-center"},H={class:"text-2xl mr-3"},L={class:"text-lg font-medium text-gray-800"},P={class:"space-y-4"},$={class:"text-sm font-medium text-gray-700 mb-2"},E={key:0,class:"text-red-500"},J=["onUpdate:modelValue","placeholder","required"],K=["onUpdate:modelValue","placeholder","required"],G={class:"pt-4"},O=["disabled"],W={key:1,class:"p-4 rounded-2xl bg-white"},N={class:"mb-4 p-3 bg-blue-50 rounded-lg border-l-4 border-blue-500"},X={class:"flex items-center justify-between"},Y={class:"flex items-center"},Z={class:"text-lg mr-2"},ee={class:"font-medium text-blue-800"},le={class:"space-y-4"},te={class:"whitespace-pre-wrap"},ae=["onClick"],se={key:0,class:"flex justify-start"},ne={key:1,class:"text-center text-gray-400 py-8"},re={class:"flex gap-2"},oe=["disabled"],ue=["disabled"],ie=I(e({__name:"AiInterview",setup(e){const I=l(),ie=t("pk_xQpDqfF17TnTC8zA"),de=t("https://tool.fologde.com/proxy"),ce=t("https://gen.pollinations.ai"),pe=a({title:"AI面试",desc:"模拟真实面试场景，帮助您提升面试表现"}),ve=[{id:"general",title:"通用行业面试",description:"针对通用行业岗位的技术面试",icon:"💼",inputs:[{key:"position",label:"目标岗位",placeholder:"如：高级产品经理 / 软件工程师（后端） / 市场营销专员",required:!0},{key:"company",label:"公司/行业",placeholder:"如：字节跳动 / 阿里巴巴 / 快速消费品行业 / 金融科技",required:!0},{key:"experience",label:"经验水平",placeholder:"如：应届生 / 3年工作经验 / 资深专家",required:!0},{key:"resume",label:"我的简历/核心技能（越详细越好）",placeholder:"如：拥有5年后端开发经验，精通Java、Spring Boot、MySQL和Redis",required:!0}],template:'# 角色：AI面试官 (InterviewerAI)\n\n## 1. 你的身份与任务：\n你是一位经验丰富、专业且富有洞察力的AI面试官，名为 InterviewerAI。你的任务是根据我提供的目标岗位和个人简历，为我进行一场高度仿真的求职面试。你的目标是：\n- 提出与岗位高度相关的问题。\n- 评估我的回答，并提出有深度的追问。\n- 在面试结束后，给我提供全面、具体且有建设性的反馈。\n\n## 2. 面试流程：\n你将严格遵循以下流程：\n1.  **问候与确认**：首先，向我问好，并确认即将开始一场关于我目标岗位的模拟面试。\n2.  **正式面试**：\n    - 从经典的 "请做个自我介绍" 或 "请讲讲你为什么对这个岗位感兴趣" 开始。\n    - 融合不同类型的问题，包括但不限于：\n        - **行为问题 (Behavioral Questions)**：深入探究我过往的经历，并引导我使用STAR原则（Situation, Task, Action, Result）来回答。例如："请分享一个你处理过的最困难的项目。"\n        - **情景问题 (Situational Questions)**：提出假设性场景，考察我的应变能力和解决问题的思路。例如："如果我们产品的用户量下周突然翻倍，你会优先关注哪些技术问题？"\n        - **简历深挖 (Resume Deep Dive)**：针对我简历中的某一段具体经历或技能进行提问。\n        - **技术/专业问题 (Technical/Domain-specific Questions)**：根据岗位要求，提出相关的专业知识问题。\n        - **动机与文化契合度问题 (Motivation & Culture Fit)**：考察我申请该岗位的动机以及与公司文化的匹配度。\n    - **追问**：在我回答后，你必须像一个真正的面试官一样，针对我回答中的细节进行1-2次追问，以考察我思维的深度和逻辑的严谨性。\n3.  **向我提问环节**：在面试主要部分结束后，你会问我："你有什么想问我的吗？"并以该公司的面试官身份，尽力回答我的问题。\n4.  **面试结束与反馈**：在我表示没有更多问题后，你将宣布面试结束，并立即切换回AI助手角色，从以下几个维度给我提供详细的反馈：\n    - **总体评价**：对我整体表现的总结。\n    - **亮点分析**：指出我回答得好的地方，具体是哪个问题，好在哪里。\n    - **改进建议**：指出我回答中存在的问题，例如：逻辑不清晰、缺乏细节、未使用STAR原则、表达不够自信等，并给出具体的改进方法和回答范例。\n    - **STAR原则应用评估**：专门评估我的行为问题回答是否符合STAR原则，并指出缺失或薄弱的部分。\n\n## 3. 规则与约束：\n- **一次一问**：严格遵守一次只问一个问题的原则。\n- **耐心等待**：在我回答完毕前，请不要打断或提出下一个问题。\n- **保持角色**：在反馈环节之前，始终保持你作为面试官的专业、中立、友好的角色。\n\n---\n## 我的信息：\n- **目标岗位**：{position}\n- **公司/行业**：{company}\n- **经验水平**：{experience}\n- **我的简历/核心技能**：\n{resume}\n---\n好了，InterviewerAI，请你现在开始吧。'}],ye=t(null),be=t({}),me=t(!1),ge=t([]),fe=t(""),xe=t(!1),he=t(),ke=s(()=>{if(!ye.value)return"";let e=ye.value.template;return ye.value.inputs.forEach(l=>{const t=be.value[l.key]||"",a=new RegExp(`\\{${l.key}\\}`,"g");e=e.replace(a,t)}),e}),we=e=>{ye.value=e,be.value={},me.value=!1,ge.value=[]},Ae=s(()=>!!ye.value&&ye.value.inputs.every(e=>{var l;return!e.required||(null==(l=be.value[e.key])?void 0:l.trim())})),qe=()=>{Ae.value&&(me.value=!0,ge.value=[],w(()=>{je("您好！我已经准备好了，可以开始面试吗？")}))},Ce=()=>{ye.value=null,be.value={},me.value=!1,ge.value=[],fe.value=""},je=e=>{return l=this,t=null,a=function*(){var l,t,a,s;const n=e||fe.value.trim();if(n&&!xe.value){ge.value.push({type:"user",content:n}),fe.value="",w(()=>Ie()),xe.value=!0;try{const e={model:"nova-fast",messages:[{role:"system",content:ke.value},...ge.value.map(e=>({role:"user"===e.type?"user":"assistant",content:e.content}))]},n=(null==(s=null==(a=null==(t=null==(l=(yield A.post(de.value,e,{params:{target:`${ce.value}/v1/chat/completions`},headers:{Authorization:`Bearer ${ie.value}`,"Content-Type":"application/json"}})).data)?void 0:l.choices)?void 0:t[0])?void 0:a.message)?void 0:s.content)||"抱歉，我暂时无法回复。";ge.value.push({type:"assistant",content:n})}catch(r){ge.value.push({type:"assistant",content:"抱歉，请求出现错误，请稍后重试。"})}finally{xe.value=!1,w(()=>Ie())}}},new Promise((e,s)=>{var n=e=>{try{o(a.next(e))}catch(l){s(l)}},r=e=>{try{o(a.throw(e))}catch(l){s(l)}},o=l=>l.done?e(l.value):Promise.resolve(l.value).then(n,r);o((a=a.apply(l,t)).next())});var l,t,a},Ie=()=>{he.value&&(he.value.scrollTop=he.value.scrollHeight)},_e=e=>{const l=e.target;l.classList.add("button-pressed"),setTimeout(()=>{l.classList.remove("button-pressed")},150)};return(()=>{const e=I.query.prompt;if(e){const l=ve.find(l=>l.id===e);l&&we(l)}})(),(e,l)=>{var t,a;const s=n("el-text");return r(),o("div",_,[u(q,{title:pe.title},null,8,["title"]),me.value?(r(),o("div",W,[i("div",N,[i("div",X,[i("div",Y,[i("span",Z,p(null==(t=ye.value)?void 0:t.icon),1),i("span",ee,p(null==(a=ye.value)?void 0:a.title)+"进行中",1)]),i("button",{onClick:Ce,class:"text-blue-600 hover:text-blue-800 text-sm"}," 结束面试 ")])]),i("div",{ref_key:"chatContainerRef",ref:he,class:"h-[500px] overflow-y-auto border rounded-lg p-4 mb-4 bg-gray-50"},[i("div",le,[(r(!0),o(d,null,c(ge.value,(e,l)=>(r(),o("div",{key:l,class:g(["flex","user"===e.type?"justify-end":"justify-start"])},[i("div",{class:g(["max-w-[80%] rounded-lg p-3 relative group","user"===e.type?"bg-blue-500 text-white":"bg-white border text-gray-800"])},[i("div",te,p(e.content),1),"assistant"===e.type?(r(),o("button",{key:0,onClick:l=>{return t=e.content,j(t);var t},onMousedown:_e,onTouchstart:_e,class:"absolute top-1 right-1 opacity-0 group-hover:opacity-100 transition-opacity text-xs bg-gray-200 hover:bg-gray-300 text-gray-700 px-2 py-1 rounded"}," 复制 ",40,ae)):y("",!0)],2)],2))),128)),xe.value?(r(),o("div",se,l[4]||(l[4]=[f('<div class="bg-white border rounded-lg p-3 text-gray-500" data-v-fec9f7d7><span class="inline-flex items-center" data-v-fec9f7d7><svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" data-v-fec9f7d7><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4" data-v-fec9f7d7></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z" data-v-fec9f7d7></path></svg> 面试官正在思考... </span></div>',1)]))):y("",!0),0!==ge.value.length||xe.value?y("",!0):(r(),o("div",ne,l[5]||(l[5]=[i("p",null,"面试即将开始，请做好准备...",-1)])))])],512),i("div",re,[b(i("textarea",{"onUpdate:modelValue":l[0]||(l[0]=e=>fe.value=e),onKeydown:l[1]||(l[1]=x(h(e=>je(),["prevent"]),["enter"])),placeholder:"输入你的回答...",class:"flex-1 px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",rows:"2",disabled:xe.value},null,40,oe),[[m,fe.value]]),i("button",{onClick:l[2]||(l[2]=e=>je()),disabled:xe.value||!fe.value.trim(),class:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors self-end"},p(xe.value?"发送中...":"发送"),9,ue)])])):(r(),o("div",T,[ye.value?(r(),o("div",U,[i("div",B,[i("div",F,[i("span",H,p(ye.value.icon),1),i("h3",L,p(ye.value.title),1)]),i("button",{onClick:Ce,class:"text-gray-500 hover:text-gray-700 text-sm"}," 重新选择 ")]),i("div",P,[(r(!0),o(d,null,c(ye.value.inputs,e=>(r(),o("div",{key:e.key,class:"flex flex-col"},[i("label",$,[v(p(e.label)+" ",1),e.required?(r(),o("span",E,"*")):y("",!0)]),"resume"===e.key?b((r(),o("textarea",{key:0,"onUpdate:modelValue":l=>be.value[e.key]=l,placeholder:e.placeholder,required:e.required,class:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent min-h-[120px]"},null,8,J)),[[m,be.value[e.key]]]):b((r(),o("input",{key:1,"onUpdate:modelValue":l=>be.value[e.key]=l,placeholder:e.placeholder,required:e.required,class:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},null,8,K)),[[m,be.value[e.key]]])]))),128)),i("div",G,[i("button",{onClick:qe,disabled:!Ae.value,class:"w-full px-6 py-3 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium"}," 开始面试 ",8,O)])])])):(r(),o("div",R,[l[3]||(l[3]=i("h3",{class:"text-lg font-medium mb-4 text-gray-800"},"选择面试类型",-1)),i("div",S,[(r(),o(d,null,c(ve,e=>i("div",{key:e.id,onClick:l=>we(e),class:"p-4 border-2 border-gray-200 rounded-xl hover:border-blue-500 cursor-pointer transition-all duration-200 hover:shadow-md"},[i("div",V,[i("div",z,p(e.icon),1),i("h4",D,p(e.title),1),i("p",M,p(e.description),1)])],8,Q)),64))])]))])),u(C,{title:"功能说明",class:"mt-4"},{default:k(()=>[u(s,null,{default:k(()=>l[6]||(l[6]=[v(" AI智能面试助手，模拟真实面试场景，帮助您提升面试表现。 ",-1),i("br",null,null,-1),v("• ",-1),i("strong",null,"多种面试类型",-1),v("：涵盖通用行业岗位 ",-1),i("br",null,null,-1),v("• ",-1),i("strong",null,"个性化配置",-1),v("：根据目标岗位、经验年限等定制面试内容 ",-1),i("br",null,null,-1),v("• ",-1),i("strong",null,"智能对话",-1),v("：AI面试官根据回答动态调整问题难度和方向 ",-1),i("br",null,null,-1),v("• ",-1),i("strong",null,"专业指导",-1),v("：模拟真实面试流程，提供针对性的技术和能力考察 ",-1),i("br",null,null,-1),v("• ",-1),i("strong",null,"即时反馈",-1),v("：在对话中获得建议和指导，提升面试技巧 ",-1),i("br",null,null,-1),i("br",null,null,-1),i("strong",null,"使用建议：",-1),i("br",null,null,-1),v("1. 选择与目标岗位匹配的面试类型 ",-1),i("br",null,null,-1),v("2. 如实填写个人信息，获得更精准的面试体验 ",-1),i("br",null,null,-1),v("3. 认真对待每个问题，模拟真实面试状态 ",-1),i("br",null,null,-1),v("4. 主动询问面试技巧和改进建议 ",-1),i("br",null,null,-1),v("5. 可以多次练习，熟悉不同类型的面试风格 ",-1)])),_:1,__:[6]})]),_:1})])}}}),[["__scopeId","data-v-fec9f7d7"]]);export{ie as default};
