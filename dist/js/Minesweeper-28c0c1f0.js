import{d as e,q as t,r as a,t as l,U as s,al as i,o as r,c as d,R as n,a as o,P as c,I as g,J as u,O as b,M as v,E as m,Q as h,a4 as f,D as p,W as x,aF as y}from"./chunk-bb5ca2a1.js";import{D as w}from"./chunk-7c0c6fbd.js";import{T as M}from"./chunk-f92b9743.js";import{_ as S}from"../assets/index-4e015737.js";import"./chunk-d6839cfd.js";import"./chunk-5443edaa.js";import"./chunk-eb404ece.js";const k={class:"flex flex-col mt-3 ml-4 flex-1 mr-3"},_={class:"p-6 rounded-2xl bg-white shadow-sm border border-gray-200"},T={class:"max-w-4xl mx-auto"},C={class:"grid grid-cols-2 md:grid-cols-5 gap-4 mb-6"},j={class:"text-center bg-blue-50 p-3 rounded-lg border border-blue-200"},F={class:"text-xl font-bold text-blue-600"},R={class:"text-center bg-green-50 p-3 rounded-lg border border-green-200"},I={class:"text-xl font-bold text-green-600"},P={class:"text-center bg-red-50 p-3 rounded-lg border border-red-200"},$={class:"text-xl font-bold text-red-600"},z={class:"text-center bg-purple-50 p-3 rounded-lg border border-purple-200"},L={class:"text-xl font-bold text-purple-600"},O={class:"text-center bg-orange-50 p-3 rounded-lg border border-orange-200"},D={class:"text-xl font-bold text-orange-600"},W={class:"flex justify-center mb-6"},H={class:"flex justify-center mb-6"},A=["onClick","onContextmenu","onTouchstart","onTouchend"],E=["innerHTML"],q={key:0,class:"text-center mb-6"},J={class:"bg-green-50 border-2 border-green-300 rounded-lg p-4 shadow-md"},Q={class:"text-green-600"},U={key:0,class:"text-yellow-600 font-medium mt-2"},B={key:1,class:"text-center mb-6"},G={class:"bg-red-50 border-2 border-red-300 rounded-lg p-4 shadow-md"},K={class:"text-red-600"},N=S(e({__name:"Minesweeper",setup(e){const S=t({title:"æ‰«é›·"}),N=t({isPlaying:!1,gameOver:!1,won:!1,time:0,highScore:0,minesLeft:0,revealedCount:0}),V=t({width:window.innerWidth<768?7:16,height:window.innerWidth<768?7:16,mines:window.innerWidth<768?10:40,cellSize:window.innerWidth<768?35:30}),X=a([]);let Y=null;const Z=(e,t)=>{let a=0;for(let l=-1;l<=1;l++)for(let s=-1;s<=1;s++){const i=t+l,r=e+s;i>=0&&i<V.height&&r>=0&&r<V.width&&X.value[i][r].isMine&&a++}return a},ee=(e,t)=>{if(!X.value[t][e].isRevealed&&!X.value[t][e].isFlagged)if(0===N.revealedCount&&(((e,t)=>{let a=0;for(;a<V.mines;){const l=Math.floor(Math.random()*V.width),s=Math.floor(Math.random()*V.height);!X.value[s][l].isMine&&(Math.abs(l-e)>1||Math.abs(s-t)>1)&&(X.value[s][l].isMine=!0,a++)}for(let l=0;l<V.height;l++)for(let e=0;e<V.width;e++)X.value[l][e].isMine||(X.value[l][e].neighborMines=Z(e,l))})(e,t),N.isPlaying=!0,ae()),X.value[t][e].isRevealed=!0,N.revealedCount++,X.value[t][e].isMine)le();else{if(0===X.value[t][e].neighborMines)for(let a=-1;a<=1;a++)for(let l=-1;l<=1;l++){const s=t+a,i=e+l;s>=0&&s<V.height&&i>=0&&i<V.width&&!X.value[s][i].isRevealed&&!X.value[s][i].isFlagged&&ee(i,s)}N.revealedCount===V.width*V.height-V.mines&&se()}},te=(e,t)=>{X.value[t][e].isRevealed||X.value[t][e].isFlagged||(X.value[t][e].isFlagged=!0,N.minesLeft--)},ae=()=>{Y=setInterval(()=>{N.isPlaying&&N.time++},1e3)},le=()=>{N.isPlaying=!1,N.gameOver=!0;for(let e=0;e<V.height;e++)for(let t=0;t<V.width;t++)X.value[e][t].isMine&&(X.value[e][t].isRevealed=!0);Y&&(clearInterval(Y),Y=null)},se=()=>{N.isPlaying=!1,N.won=!0;for(let e=0;e<V.height;e++)for(let t=0;t<V.width;t++)X.value[e][t].isMine&&(X.value[e][t].isFlagged=!0);Y&&(clearInterval(Y),Y=null),(N.time<N.highScore||0===N.highScore)&&(N.highScore=N.time,localStorage.setItem("minesweeperHighScore",N.highScore.toString()))},ie=()=>{N.isPlaying=!1,N.gameOver=!1,N.won=!1,N.time=0,N.revealedCount=0,N.minesLeft=V.mines,X.value=Array(V.height).fill(null).map(()=>Array(V.width).fill(null).map(()=>({isMine:!1,isRevealed:!1,isFlagged:!1,neighborMines:0})))},re=()=>{Y&&(clearInterval(Y),Y=null),ie()},de=e=>`${Math.floor(e/60)}:${(e%60).toString().padStart(2,"0")}`,ne=e=>{const t="border border-gray-400 flex items-center justify-center font-bold transition-all duration-200";return e.isRevealed?(e.isMine,`${t} bg-gray-200 text-gray-800`):e.isFlagged?`${t} bg-yellow-400 text-yellow-800`:`${t} bg-gray-100 hover:bg-gray-200 text-gray-600`},oe=e=>e.isFlagged?"ğŸš©":e.isRevealed?e.isMine?'<img src="/images/logo/mines.png" alt="åœ°é›·" class="w-4 h-4" />':0===e.neighborMines?"":e.neighborMines.toString():"",ce=e=>{if(!e.isRevealed||e.isMine)return"";return{1:"text-blue-600",2:"text-green-600",3:"text-red-600",4:"text-purple-600",5:"text-yellow-600",6:"text-cyan-600",7:"text-pink-600",8:"text-gray-600"}[e.neighborMines]||""};let ge=0,ue=null,be=!1;return l(()=>{const e=localStorage.getItem("minesweeperHighScore");e&&(N.highScore=parseInt(e)),ie()}),s(()=>{Y&&clearInterval(Y)}),(e,t)=>{const a=i("el-button"),l=i("el-text");return r(),d("div",k,[n(w,{title:S.title},null,8,["title"]),o("div",_,[o("div",T,[o("div",C,[o("div",j,[t[1]||(t[1]=o("h3",{class:"text-sm font-medium text-blue-900"},"æ—¶é—´",-1)),o("p",F,c(de(N.time)),1)]),o("div",R,[t[2]||(t[2]=o("h3",{class:"text-sm font-medium text-green-900"},"æœ€é«˜åˆ†",-1)),o("p",I,c(de(N.highScore)),1)]),o("div",P,[t[3]||(t[3]=o("h3",{class:"text-sm font-medium text-red-900"},"å‰©ä½™åœ°é›·",-1)),o("p",$,c(N.minesLeft),1)]),o("div",z,[t[4]||(t[4]=o("h3",{class:"text-sm font-medium text-purple-900"},"æ¸¸æˆæ¿",-1)),o("p",L,c(V.width)+"Ã—"+c(V.height),1)]),o("div",O,[t[5]||(t[5]=o("h3",{class:"text-sm font-medium text-orange-900"},"åœ°é›·æ•°",-1)),o("p",D,c(V.mines),1)])]),o("div",W,[N.gameOver||N.won?(r(),g(a,{key:0,onClick:re,type:"success",class:"bg-green-500 hover:bg-green-600 border-green-600"},{default:u(()=>t[6]||(t[6]=[b(" é‡æ–°å¼€å§‹ ",-1)])),_:1,__:[6]})):v("",!0)]),o("div",H,[o("div",{class:"bg-gray-300 p-4 rounded-lg shadow-lg",style:m({display:"grid",gridTemplateColumns:`repeat(${V.width}, ${V.cellSize}px)`,gap:"1px"})},[(r(!0),d(h,null,f(X.value,(e,a)=>(r(),d(h,{key:`row-${a}`},[(r(!0),d(h,null,f(e,(e,l)=>(r(),d("div",{key:`${l}-${a}`,class:p(["cursor-pointer select-none",ne(e)]),style:m({width:V.cellSize+"px",height:V.cellSize+"px",fontSize:.4*V.cellSize+"px"}),onClick:e=>ee(l,a),onContextmenu:x(e=>te(l,a),["prevent"]),onTouchstart:e=>((e,t,a)=>{N.isPlaying&&!X.value[a][t].isRevealed&&(ge=Date.now(),be=!1,ue=setTimeout(()=>{X.value[a][t].isFlagged||te(t,a),be=!0},500))})(0,l,a),onTouchend:e=>((e,t,a)=>{if(!N.isPlaying)return;const l=Date.now()-ge;ue&&(clearTimeout(ue),ue=null),l<500&&!be&&ee(t,a)})(0,l,a),onTouchmove:t[0]||(t[0]=e=>{ue&&(clearTimeout(ue),ue=null)})},[o("span",{class:p(ce(e)),innerHTML:oe(e)},null,10,E)],46,A))),128))],64))),128))],4)]),N.won?(r(),d("div",q,[o("div",J,[t[7]||(t[7]=o("h3",{class:"text-lg font-medium text-green-900 mb-2"},"æ­å–œè·èƒœï¼",-1)),o("p",Q,"ç”¨æ—¶: "+c(de(N.time)),1),N.time<N.highScore||0===N.highScore?(r(),d("p",U," æ–°çºªå½•ï¼æ­å–œä½ åˆ›é€ äº†æ–°çš„æœ€å¿«æ—¶é—´ï¼ ")):v("",!0)])])):v("",!0),N.gameOver?(r(),d("div",B,[o("div",G,[t[8]||(t[8]=o("h3",{class:"text-lg font-medium text-red-900 mb-2"},"æ¸¸æˆç»“æŸï¼",-1)),o("p",K,"ç”¨æ—¶: "+c(de(N.time)),1),t[9]||(t[9]=o("p",{class:"text-red-600"},"è¸©åˆ°åœ°é›·äº†ï¼Œå†æ¥å†å‰ï¼",-1))])])):v("",!0),t[10]||(t[10]=y('<div class="bg-gray-50 rounded-lg p-4 border-2 border-gray-200 shadow-sm" data-v-fcb350a8><h3 class="text-lg font-medium text-gray-900 mb-3" data-v-fcb350a8>æ¸¸æˆè¯´æ˜</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600" data-v-fcb350a8><div class="bg-white p-3 rounded border border-gray-200" data-v-fcb350a8><p data-v-fcb350a8><strong class="text-blue-600" data-v-fcb350a8>æ¸¸æˆç›®æ ‡ï¼š</strong>æ‰¾å‡ºæ‰€æœ‰åœ°é›·ï¼Œé¿å…è¸©åˆ°åœ°é›·</p><p data-v-fcb350a8><strong class="text-blue-600" data-v-fcb350a8>æ“ä½œæ–¹å¼ï¼š</strong></p><ul class="list-disc list-inside ml-2 mt-1 space-y-1" data-v-fcb350a8><li data-v-fcb350a8>PCç«¯ï¼šå·¦é”®ç‚¹å‡»æ­ç¤ºï¼Œå³é”®æ ‡è®°åœ°é›·</li><li data-v-fcb350a8>ç§»åŠ¨ç«¯ï¼šçŸ­æŒ‰æ­ç¤ºï¼Œé•¿æŒ‰500æ¯«ç§’æ ‡è®°åœ°é›·</li></ul></div><div class="bg-white p-3 rounded border border-gray-200" data-v-fcb350a8><p data-v-fcb350a8><strong class="text-green-600" data-v-fcb350a8>æ•°å­—å«ä¹‰ï¼š</strong>æ•°å­—è¡¨ç¤ºå‘¨å›´8ä¸ªæ ¼å­ä¸­åœ°é›·çš„æ•°é‡</p><p data-v-fcb350a8><strong class="text-red-600" data-v-fcb350a8>æŒ‘æˆ˜ï¼š</strong>ç”¨æœ€çŸ­æ—¶é—´æ‰¾å‡ºæ‰€æœ‰åœ°é›·</p></div></div><div class="mt-4 bg-white p-4 rounded border border-gray-200" data-v-fcb350a8><h4 class="text-md font-medium text-gray-800 mb-2" data-v-fcb350a8>è¯¦ç»†ç©æ³•ï¼š</h4><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600" data-v-fcb350a8><div data-v-fcb350a8><p class="font-medium text-gray-700 mb-2" data-v-fcb350a8>ğŸ¯ æ¸¸æˆè§„åˆ™ï¼š</p><ul class="list-disc list-inside space-y-1" data-v-fcb350a8><li data-v-fcb350a8>æ¸¸æˆå¼€å§‹æ—¶ï¼Œåœ°é›·éšæœºåˆ†å¸ƒåœ¨æ ¼å­ä¸­</li><li data-v-fcb350a8>ç¬¬ä¸€æ¬¡ç‚¹å‡»æ°¸è¿œä¸ä¼šè¸©åˆ°åœ°é›·</li><li data-v-fcb350a8>æ•°å­—è¡¨ç¤ºå‘¨å›´8ä¸ªæ ¼å­ä¸­åœ°é›·çš„æ•°é‡</li><li data-v-fcb350a8>ç©ºç™½æ ¼å­ä¼šè‡ªåŠ¨æ­ç¤ºå‘¨å›´çš„æ ¼å­</li><li data-v-fcb350a8>æ ‡è®°æ‰€æœ‰åœ°é›·æˆ–æ­ç¤ºæ‰€æœ‰å®‰å…¨æ ¼å­è·èƒœ</li></ul></div><div data-v-fcb350a8><p class="font-medium text-gray-700 mb-2" data-v-fcb350a8>ğŸ® æ“ä½œæŠ€å·§ï¼š</p><ul class="list-disc list-inside space-y-1" data-v-fcb350a8><li data-v-fcb350a8>ä»è§’è½å¼€å§‹ï¼Œæ›´å®¹æ˜“æ‰¾åˆ°çªç ´å£</li><li data-v-fcb350a8>åˆ©ç”¨æ•°å­—ä¿¡æ¯æ¨ç†åœ°é›·ä½ç½®</li><li data-v-fcb350a8>æ ‡è®°ç¡®å®šçš„åœ°é›·ï¼Œé¿å…é‡å¤ç‚¹å‡»</li><li data-v-fcb350a8>æ³¨æ„å‰©ä½™åœ°é›·æ•°é‡ï¼Œå¸®åŠ©åˆ¤æ–­</li><li data-v-fcb350a8>é‡åˆ°å›°éš¾æ—¶ï¼Œå¯ä»¥é‡æ–°å¼€å§‹æ¸¸æˆ</li></ul></div></div><div class="mt-3 p-3 bg-yellow-50 rounded border border-yellow-200" data-v-fcb350a8><p class="text-sm text-yellow-800" data-v-fcb350a8><strong data-v-fcb350a8>ğŸ’¡ æç¤ºï¼š</strong>æ¸¸æˆä¼šè‡ªåŠ¨è®°å½•ä½ çš„æœ€å¿«å®Œæˆæ—¶é—´ï¼ŒæŒ‘æˆ˜è‡ªå·±çš„è®°å½•å§ï¼ </p></div></div></div>',1))])]),n(M,{title:"æè¿°"},{default:u(()=>[n(l,null,{default:u(()=>t[11]||(t[11]=[b(" ç»å…¸æ‰«é›·æ¸¸æˆï¼Œè€ƒéªŒä½ çš„é€»è¾‘æ¨ç†èƒ½åŠ›ï¼š",-1),o("br",null,null,-1),o("br",null,null,-1),b(" æ¸¸æˆç‰¹è‰²ï¼šç»å…¸æ‰«é›·ç©æ³•ï¼Œæ•°å­—æç¤ºç³»ç»Ÿï¼Œå®æ—¶è®¡æ—¶ç»Ÿè®¡",-1),o("br",null,null,-1),b(" æ“ä½œæ–¹å¼ï¼šå·¦é”®ç‚¹å‡»æ­ç¤ºæ ¼å­ï¼Œå³é”®æ ‡è®°åœ°é›·ï¼Œæ•°å­—è¡¨ç¤ºå‘¨å›´åœ°é›·æ•°",-1),o("br",null,null,-1),b(" æ¸¸æˆç›®æ ‡ï¼šæ‰¾å‡ºæ‰€æœ‰åœ°é›·ï¼Œé¿å…è¸©åˆ°åœ°é›·ï¼ŒæŒ‘æˆ˜æœ€å¿«æ—¶é—´",-1),o("br",null,null,-1),b(" è®­ç»ƒæ•ˆæœï¼šé”»ç‚¼é€»è¾‘æ€ç»´ã€æ¨ç†èƒ½åŠ›å’Œç©ºé—´åˆ¤æ–­èƒ½åŠ›",-1),o("br",null,null,-1),o("br",null,null,-1),b(" é€‚åˆæ‰€æœ‰å¹´é¾„æ®µï¼Œæ˜¯ç»å…¸çš„ç›Šæ™ºæ¸¸æˆã€‚ ",-1)])),_:1,__:[11]})]),_:1})])}}}),[["__scopeId","data-v-fcb350a8"],["__file","D:/dev/nodejs/tool-web1/tools-web/src/components/Tools/Minesweeper/Minesweeper.vue"]]);export{N as default};
