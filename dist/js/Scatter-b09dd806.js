import{b as e,t as l,S as a,a as t,r as u,u as s}from"./chunk-1e32bb76.js";import{_ as o}from"./chunk-222eeebe.js";import{_ as n}from"./chunk-9c6aa90d.js";import{i}from"./chunk-e73e11b1.js";import{h as d}from"./chunk-8b37ed0a.js";import{d as r,q as c,r as m,t as v,al as f,o as h,c as _,R as p,a as x,J as g,O as w}from"./chunk-bb5ca2a1.js";import{_ as b}from"../assets/index-ca88e876.js";import"./chunk-273e6dc9.js";import"./chunk-94d45690.js";const V={class:"flex flex-col mt-3 flex-1"},k={class:"p-4 rounded-2xl flex"},y={class:"w-4/6"},C={class:"flex flex-row-reverse mb-4"},U={class:"w-2/6 bg-white ml-3 rounded-lg p-3"},j={class:"mb-3"},z={class:"flex items-center ml-1"},A={class:"flex w-full"},B={class:"flex"},O={class:"flex mt-3"},S={class:"flex"},E={class:"flex"},R={class:"flex"},P={class:"flex"},F={class:"flex"},T={class:"flex"},I={class:"flex"},W={class:"flex"},q=b(r({__name:"Scatter",setup(r){const b=c({title:"散点图"}),q=m(),D=m(),G=m(),J=m(1),L=m(100),M=m(720),$=m(400),H=m("1"),N=m("#5470c6"),Y=m("center"),K=m("Tools-Web"),Q=m("在线图表制作工具"),X=m(!0),Z=m(!0),ee=m(!1),le=m("Tools-Web"),ae=()=>{let e=document.createElement("canvas"),l=e.getContext("2d");return e.width=e.height=100,l.textAlign="center",l.textBaseline="middle",l.globalAlpha=.08,l.font="20px Microsoft Yahei",l.translate(50,50),l.rotate(-Math.PI/4),l.fillText(le.value,0,0),e},te=e=>{var l,a,t,u,s;let o=q.value;switch(e){case"scale":let e=L.value/100;o.style.transform=`scale(${e})`;break;case"size":o.style.width=M.value+"px",o.style.height=$.value+"px",de();break;case"title":let n="",i="";!0===X.value&&(n=K.value),!0===Z.value&&(i=Q.value),null==(l=D.value)||l.setOption({title:{text:n,subtext:i,left:Y.value}});break;case"color":null==(a=D.value)||a.setOption({series:[{itemStyle:{color:N.value}}]});break;case"watermark":!0===ee.value?null==(t=D.value)||t.setOption({backgroundColor:{image:ae()}}):null==(u=D.value)||u.setOption({backgroundColor:"#fff"});break;case"data":null==(s=D.value)||s.setOption({series:[{data:ne.value}]})}},ue=()=>{},se=m([10,8.07,13,9.05,11,14,13.4,10,14,12.5,9.15,11.5,3.03,12.2,2.02,1.05,4.05,6.03,12,7.08,5.02,6.03]),oe=m([8.04,6.95,7.58,8.81,8.33,7.66,6.81,6.33,8.96,6.82,7.2,7.2,4.23,7.83,4.47,3.33,4.96,7.24,6.26,8.84,5.82,5.68,7.05]),ne=m([]),ie={backgroundColor:"#fff",title:{text:K.value,subtext:Q.value,left:Y.value},xAxis:{},yAxis:{},series:[{type:"scatter",symbolSize:30,data:ne.value}],tooltip:{}},de=()=>{D.value=i(q.value),D.value.clear(),D.value.resize({width:M.value,height:$.value}),D.value.setOption(ie),te("data")},re=()=>{var e;let l="1"==H.value?"png":"jpeg",a=null==(e=D.value)?void 0:e.getDataURL({type:l,pixelRatio:2});if(null!=a){var t=document.createElement("a");t.href=a,t.download="echart."+l,t.click()}},ce=m(!1),me=m({}),ve=()=>{1==ce.value?ce.value=!1:(ce.value=!0,a.locale("zh-cn",window.x_spreadsheet.$messages["zh-cn"]),new a("#x-spreadsheet",{showToolbar:!1,showBottomBar:!1,view:{height:()=>document.documentElement.clientHeight/2,width:()=>document.documentElement.clientWidth}}).loadData({styles:[{bgcolor:"#f4f5f8",textwrap:!0,color:"#900b09",border:{top:["thin","#0366d6"],bottom:["thin","#0366d6"],right:["thin","#0366d6"],left:["thin","#0366d6"]}}],rows:me.value}).change(e=>{let l=t(e);se.value=l[0],oe.value=l[1],te("data")}))},fe=m(),he=a=>{return t=this,o=null,n=function*(){const t=a.file,o=new FileReader;o.onload=a=>{try{if(!a.target)return;const t=a.target.result,o=u(t,{type:"binary"});let n=0,i=[],d=[];for(let e in o.Sheets){if(n>0)continue;const l=s.sheet_to_json(o.Sheets[e],{header:["0","1"]});if(0!=l.length){for(let e in l)if(null!=l[e]){let a=l;i.push(a[e][0]),d.push(a[e][1])}n++}}se.value=i,oe.value=d,ne.value=e([se.value,oe.value]),te("data"),me.value=l([se,oe])}catch(t){}},o.readAsArrayBuffer(t)},new Promise((e,l)=>{var a=e=>{try{s(n.next(e))}catch(a){l(a)}},u=e=>{try{s(n.throw(e))}catch(a){l(a)}},s=l=>l.done?e(l.value):Promise.resolve(l.value).then(a,u);s((n=n.apply(t,o)).next())});var t,o,n},_e=e=>{G.value.clearFiles();const l=e[0];l.uid=d(),G.value.handleStart(l),G.value.submit()};return v(()=>{ne.value=e([se.value,oe.value],"toCoord"),q.value=document.getElementById("main"),te("size"),de(),me.value=l([se,oe])}),(e,l)=>{const a=f("el-input-number"),t=f("el-text"),u=f("el-button"),s=f("el-radio"),i=f("el-radio-group"),d=f("el-upload"),r=f("el-tooltip"),c=f("el-collapse-item"),m=f("el-radio-button"),v=f("el-divider"),q=f("el-switch"),D=f("el-input"),ae=f("el-color-picker"),se=f("el-collapse"),oe=f("el-drawer");return h(),_("div",V,[p(o,{title:b.title},null,8,["title"]),x("div",k,[x("div",y,[x("div",C,[p(a,{modelValue:L.value,"onUpdate:modelValue":l[0]||(l[0]=e=>L.value=e),min:1,max:100,step:5,onChange:l[1]||(l[1]=e=>te("scale")),"step-strictly":""},null,8,["modelValue"]),p(t,null,{default:g(()=>l[26]||(l[26]=[w("缩放：",-1)])),_:1,__:[26]})]),l[27]||(l[27]=x("div",{class:"flex justify-center items-center max-h-[500px] max-w-[1000px] overflow-auto"},[x("div",{id:"main",class:"bg-white"})],-1))]),x("div",U,[x("div",j,[p(u,{class:"w-full mb-3",type:"primary",size:"large",onClick:re},{default:g(()=>l[28]||(l[28]=[w("下载图表",-1)])),_:1,__:[28]}),x("div",z,[p(t,null,{default:g(()=>l[29]||(l[29]=[w("文件类型",-1)])),_:1,__:[29]}),p(i,{modelValue:H.value,"onUpdate:modelValue":l[2]||(l[2]=e=>H.value=e),class:"ml-4"},{default:g(()=>[p(s,{size:"large",label:"1"},{default:g(()=>l[30]||(l[30]=[w("PNG",-1)])),_:1,__:[30]}),p(s,{size:"large",label:"2"},{default:g(()=>l[31]||(l[31]=[w("JPEG",-1)])),_:1,__:[31]})]),_:1},8,["modelValue"])]),x("div",A,[p(r,{class:"box-item",effect:"dark",content:"支持上传：xls, xlsx, csv文件",placement:"top-start"},{default:g(()=>[p(u,{class:"w-1/2"},{default:g(()=>[p(d,{"file-list":fe.value,"onUpdate:fileList":l[3]||(l[3]=e=>fe.value=e),class:"dataFileRef flex",ref_key:"dataFileRef",ref:G,accept:".xls,.xlsx,.csv","http-request":he,"on-exceed":_e,limit:1},{default:g(()=>l[32]||(l[32]=[w(" 上传数据 ",-1)])),_:1,__:[32]},8,["file-list"])]),_:1})]),_:1}),p(u,{class:"w-1/2",onClick:ve},{default:g(()=>l[33]||(l[33]=[w("编辑数据",-1)])),_:1,__:[33]})])]),p(se,{modelValue:J.value,"onUpdate:modelValue":l[24]||(l[24]=e=>J.value=e),onChange:ue,accordion:""},{default:g(()=>[p(c,{title:"画布设置",name:"1"},{default:g(()=>[x("div",B,[p(t,{class:"w-16 text-right"},{default:g(()=>l[34]||(l[34]=[w("宽度",-1)])),_:1,__:[34]}),p(a,{modelValue:M.value,"onUpdate:modelValue":l[4]||(l[4]=e=>M.value=e),min:1,max:4e3,step:10,"controls-position":"right",class:"h-8 w-60 max-w-[60%] ml-3",onChange:l[5]||(l[5]=e=>te("size"))},null,8,["modelValue"])]),x("div",O,[p(t,{class:"w-16 text-right"},{default:g(()=>l[35]||(l[35]=[w("高度",-1)])),_:1,__:[35]}),p(a,{modelValue:$.value,"onUpdate:modelValue":l[6]||(l[6]=e=>$.value=e),min:1,max:4e3,step:10,"controls-position":"right",class:"h-8 w-60 max-w-[60%] ml-3",onChange:l[7]||(l[7]=e=>te("size"))},null,8,["modelValue"])])]),_:1}),p(c,{title:"标题设置",name:"2"},{default:g(()=>[x("div",S,[p(t,{class:"w-16 text-right"},{default:g(()=>l[36]||(l[36]=[w("位置",-1)])),_:1,__:[36]}),p(i,{modelValue:Y.value,"onUpdate:modelValue":l[8]||(l[8]=e=>Y.value=e),class:"ml-3",onChange:l[9]||(l[9]=e=>te("title"))},{default:g(()=>[p(m,{label:"left",value:"left"},{default:g(()=>l[37]||(l[37]=[w("左",-1)])),_:1,__:[37]}),p(m,{label:"center",value:"center"},{default:g(()=>l[38]||(l[38]=[w("中",-1)])),_:1,__:[38]}),p(m,{label:"right",value:"right"},{default:g(()=>l[39]||(l[39]=[w("右",-1)])),_:1,__:[39]})]),_:1},8,["modelValue"])]),p(v,{"content-position":"left",class:"pl-10"},{default:g(()=>l[40]||(l[40]=[w("标题",-1)])),_:1,__:[40]}),x("div",E,[p(t,{class:"w-16 text-right"},{default:g(()=>l[41]||(l[41]=[w("显示",-1)])),_:1,__:[41]}),p(q,{modelValue:X.value,"onUpdate:modelValue":l[10]||(l[10]=e=>X.value=e),class:"ml-3",onChange:l[11]||(l[11]=e=>te("title"))},null,8,["modelValue"])]),x("div",R,[p(t,{class:"w-16 text-right"},{default:g(()=>l[42]||(l[42]=[w("标题",-1)])),_:1,__:[42]}),p(D,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:K.value,"onUpdate:modelValue":l[12]||(l[12]=e=>K.value=e),onBlur:l[13]||(l[13]=e=>te("title"))},null,8,["modelValue"])]),p(v,{"content-position":"left"},{default:g(()=>l[43]||(l[43]=[w("副标题",-1)])),_:1,__:[43]}),x("div",P,[p(t,{class:"w-16 text-right"},{default:g(()=>l[44]||(l[44]=[w("显示",-1)])),_:1,__:[44]}),p(q,{modelValue:Z.value,"onUpdate:modelValue":l[14]||(l[14]=e=>Z.value=e),class:"ml-3",onChange:l[15]||(l[15]=e=>te("title"))},null,8,["modelValue"])]),x("div",F,[p(t,{class:"w-16 text-right"},{default:g(()=>l[45]||(l[45]=[w("副标题",-1)])),_:1,__:[45]}),p(D,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:Q.value,"onUpdate:modelValue":l[16]||(l[16]=e=>Q.value=e),onBlur:l[17]||(l[17]=e=>te("title"))},null,8,["modelValue"])])]),_:1}),p(c,{title:"图形属性",name:"3"},{default:g(()=>[x("div",T,[p(t,{class:"w-16 text-right"},{default:g(()=>l[46]||(l[46]=[w("颜色",-1)])),_:1,__:[46]}),p(ae,{modelValue:N.value,"onUpdate:modelValue":l[18]||(l[18]=e=>N.value=e),class:"ml-3",onChange:l[19]||(l[19]=e=>te("color"))},null,8,["modelValue"])])]),_:1}),p(c,{title:"水印设置",name:"4"},{default:g(()=>[x("div",I,[p(t,{class:"w-16 text-right"},{default:g(()=>l[47]||(l[47]=[w("显示",-1)])),_:1,__:[47]}),p(q,{modelValue:ee.value,"onUpdate:modelValue":l[20]||(l[20]=e=>ee.value=e),class:"ml-3",onChange:l[21]||(l[21]=e=>te("watermark"))},null,8,["modelValue"])]),x("div",W,[p(t,{class:"w-16 text-right"},{default:g(()=>l[48]||(l[48]=[w("水印内容",-1)])),_:1,__:[48]}),p(D,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:le.value,"onUpdate:modelValue":l[22]||(l[22]=e=>le.value=e),onChange:l[23]||(l[23]=e=>te("watermark"))},null,8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])]),p(oe,{id:"x-spreadsheet",modelValue:ce.value,"onUpdate:modelValue":l[25]||(l[25]=e=>ce.value=e),direction:"btt","custom-class":"sheet",style:{}},null,8,["modelValue"]),p(n,{title:"描述"},{default:g(()=>[p(t,null,{default:g(()=>l[49]||(l[49]=[w(" 散点图更偏向于研究型图表，通过直观醒目的图形方式反映出变量随自变量而变化的大致趋势，可以帮助我们推断出不同维度数据之间的相关性，也经常用在地图的标注上。",-1),x("br",null,null,-1),w(" 在线图表制作工具，在线制作散点图",-1),x("br",null,null,-1),w(" 支持导入表格并在线编辑表格生成散点图，支持png和jpeg格式导出",-1),x("br",null,null,-1),w(" 支持超全的自定义配置，轻松实现你的个性化图表需求",-1),x("br",null,null,-1)])),_:1,__:[49]})]),_:1})])}}}),[["__scopeId","data-v-a5f246ab"]]);export{q as default};
