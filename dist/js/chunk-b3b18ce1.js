import{a as t}from"./chunk-7296d483.js";var e,A,i={exports:{}},n={exports:{}};function r(){return e?n.exports:(e=1,window,t=function(){return function(t){var e={};function A(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,A),n.l=!0,n.exports}return A.m=t,A.c=e,A.d=function(t,e,i){A.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},A.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},A.t=function(t,e){if(1&e&&(t=A(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(A.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)A.d(i,n,function(e){return t[e]}.bind(null,n));return i},A.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return A.d(e,"a",e),e},A.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},A.p="dist",A(A.s=33)}([function(t,e,A){t.exports=function(t,e){var A,i,n,r,o=Object.prototype.hasOwnProperty;for(n=1,r=arguments.length;n<r;n+=1)for(i in A=arguments[n])o.call(A,i)&&(t[i]=A[i]);return t}},function(t,e,A){t.exports=function(t){return t instanceof Array}},function(t,e,A){var i=A(1),n=A(6),r=A(7);t.exports=function(t,e,A){i(t)?n(t,e,A):r(t,e,A)}},function(t,e,A){t.exports=function(t){return void 0===t}},function(t,e,A){var i=A(22),n=A(2),r=A(6),o=A(7),s=A(37),a=0,c={getLength:function(t){var e=0;return o(t,function(){e+=1}),e},map:function(t,e,A){var i=[];return n(t,function(){i.push(e.apply(A||null,arguments))}),i},filter:function(t,e,A){var i=[];return r(t,function(t){e.apply(A||null,arguments)&&i.push(t)}),i},generateId:function(){return a+=1},isOldBrowser:i.msie&&i.version<9,sendHostName:function(){s("color-picker","UA-129987462-1")}};t.exports=c},function(t,e,A){var i=A(1);t.exports=function(t,e,A){var n,r;if(A=A||0,!i(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,A);for(r=e.length,n=A;A>=0&&n<r;n+=1)if(e[n]===t)return n;return-1}},function(t,e,A){t.exports=function(t,e,A){var i=0,n=t.length;for(A=A||null;i<n&&!1!==e.call(A,t[i],i,t);i+=1);}},function(t,e,A){t.exports=function(t,e,A){var i;for(i in A=A||null,t)if(t.hasOwnProperty(i)&&!1===e.call(A,t[i],i,t))break}},function(t,e,A){var i=A(39),n=A(13),r=A(41),o=A(3),s=A(9),a=A(19),c=A(4);function l(t,e){var A=c.generateId();o(e)&&(e=s.appendHTMLElement("div")),i(e,"tui-view-"+A),this.id=A,this.container=e,this.childs=new a(function(t){return t.id}),this.parent=null}l.prototype.addChild=function(t,e){e&&e.call(t,this),t.parent=this,this.childs.add(t)},l.prototype.removeChild=function(t,e){var A=r(t)?this.childs.items[t]:t;e&&e.call(A,this),this.childs.remove(A.id)},l.prototype.render=function(){this.childs.each(function(t){t.render()})},l.prototype.recursive=function(t,e){n(t)&&(e||t(this),this.childs.each(function(e){e.recursive(t)}))},l.prototype.resize=function(){for(var t=Array.prototype.slice.call(arguments),e=this.parent;e;)n(e._onResize)&&e._onResize.apply(e,t),e=e.parent},l.prototype._beforeDestroy=function(){},l.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},l.prototype.destroy=function(t){this.childs&&(this.childs.each(function(t){t.destroy(!0),t._destroy()}),this.childs.clear()),t||this._destroy()},l.prototype.getViewBound=function(){var t=this.container.getBoundingClientRect();return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}},t.exports=l},function(t,e,A){var i={appendHTMLElement:function(t,e,A){var i=document.createElement(t);return i.className=A||"",e?e.appendChild(i):document.body.appendChild(i),i}};t.exports=i},function(t,e,A){var i=A(0),n=A(20),r=A(11),o=A(21),s=A(1),a=A(13),c=A(2),l=/\s+/g;function u(){this.events=null,this.contexts=null}u.mixin=function(t){i(t.prototype,u.prototype)},u.prototype._getHandlerItem=function(t,e){var A={handler:t};return e&&(A.context=e),A},u.prototype._safeEvent=function(t){var e,A=this.events;return A||(A=this.events={}),t&&((e=A[t])||(e=[],A[t]=e),A=e),A},u.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},u.prototype._indexOfContext=function(t){for(var e=this._safeContext(),A=0;e[A];){if(t===e[A][0])return A;A+=1}return-1},u.prototype._memorizeContext=function(t){var e,A;n(t)&&(e=this._safeContext(),(A=this._indexOfContext(t))>-1?e[A][1]+=1:e.push([t,1]))},u.prototype._forgetContext=function(t){var e,A;n(t)&&(e=this._safeContext(),(A=this._indexOfContext(t))>-1&&(e[A][1]-=1,e[A][1]<=0&&e.splice(A,1)))},u.prototype._bindEvent=function(t,e,A){var i=this._safeEvent(t);this._memorizeContext(A),i.push(this._getHandlerItem(e,A))},u.prototype.on=function(t,e,A){var i=this;r(t)?(t=t.split(l),c(t,function(t){i._bindEvent(t,e,A)})):o(t)&&(A=e,c(t,function(t,e){i.on(e,t,A)}))},u.prototype.once=function(t,e,A){var i=this;if(o(t))return A=e,void c(t,function(t,e){i.once(e,t,A)});this.on(t,function n(){e.apply(A,arguments),i.off(t,n,A)},A)},u.prototype._spliceMatches=function(t,e){var A,i=0;if(s(t))for(A=t.length;i<A;i+=1)!0===e(t[i])&&(t.splice(i,1),A-=1,i-=1)},u.prototype._matchHandler=function(t){var e=this;return function(A){var i=t===A.handler;return i&&e._forgetContext(A.context),i}},u.prototype._matchContext=function(t){var e=this;return function(A){var i=t===A.context;return i&&e._forgetContext(A.context),i}},u.prototype._matchHandlerAndContext=function(t,e){var A=this;return function(i){var n=t===i.handler,r=e===i.context,o=n&&r;return o&&A._forgetContext(i.context),o}},u.prototype._offByEventName=function(t,e){var A=this,i=a(e),n=A._matchHandler(e);t=t.split(l),c(t,function(t){var e=A._safeEvent(t);i?A._spliceMatches(e,n):(c(e,function(t){A._forgetContext(t.context)}),A.events[t]=[])})},u.prototype._offByHandler=function(t){var e=this,A=this._matchHandler(t);c(this._safeEvent(),function(t){e._spliceMatches(t,A)})},u.prototype._offByObject=function(t,e){var A,i=this;this._indexOfContext(t)<0?c(t,function(t,e){i.off(e,t)}):r(e)?(A=this._matchContext(t),i._spliceMatches(this._safeEvent(e),A)):a(e)?(A=this._matchHandlerAndContext(e,t),c(this._safeEvent(),function(t){i._spliceMatches(t,A)})):(A=this._matchContext(t),c(this._safeEvent(),function(t){i._spliceMatches(t,A)}))},u.prototype.off=function(t,e){r(t)?this._offByEventName(t,e):arguments.length?a(t)?this._offByHandler(t):o(t)&&this._offByObject(t,e):(this.events={},this.contexts=[])},u.prototype.fire=function(t){this.invoke.apply(this,arguments)},u.prototype.invoke=function(t){var e,A,i,n;if(!this.hasListener(t))return!0;for(e=this._safeEvent(t),A=Array.prototype.slice.call(arguments,1),i=0;e[i];){if(!1===(n=e[i]).handler.apply(n.context,A))return!1;i+=1}return!0},u.prototype.hasListener=function(t){return this.getListenerLength(t)>0},u.prototype.getListenerLength=function(t){return this._safeEvent(t).length},t.exports=u},function(t,e,A){t.exports=function(t){return"string"==typeof t||t instanceof String}},function(t,e,A){var i=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,n={leadingZero:function(t,e){var A="",i=0;if((t+"").length>e)return t+"";for(;i<e-1;i+=1)A+="0";return(A+t).slice(-1*e)},isValidRGB:function(t){return i.test(t)},
// @license RGB <-> HSV conversion utilities based off of http://www.cs.rit.edu/~ncs/color/t_convert.html
hexToRGB:function(t){return!!n.isValidRGB(t)&&(t=t.substring(1),[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)])},rgbToHEX:function(t,e,A){var i="#"+n.leadingZero(t.toString(16),2)+n.leadingZero(e.toString(16),2)+n.leadingZero(A.toString(16),2);return!!n.isValidRGB(i)&&i},rgbToHSV:function(t,e,A){var i,n,r,o,s,a;if(t/=255,e/=255,A/=255,s=i=Math.max(t,e,A),a=i-(n=Math.min(t,e,A)),o=0===i?0:a/i,i===n)r=0;else{switch(i){case t:r=(e-A)/a+(e<A?6:0);break;case e:r=(A-t)/a+2;break;case A:r=(t-e)/a+4}r/=6}return[Math.round(360*r),Math.round(100*o),Math.round(100*s)]},hsvToRGB:function(t,e,A){var i,n,r,o,s,a,c,l;if(t=Math.max(0,Math.min(360,t)),e=Math.max(0,Math.min(100,e)),A=Math.max(0,Math.min(100,A)),A/=100,0==(e/=100))return i=n=r=A,[Math.round(255*i),Math.round(255*n),Math.round(255*r)];switch(a=A*(1-e),c=A*(1-e*(s=(t/=60)-(o=Math.floor(t)))),l=A*(1-e*(1-s)),o){case 0:i=A,n=l,r=a;break;case 1:i=c,n=A,r=a;break;case 2:i=a,n=A,r=l;break;case 3:i=a,n=c,r=A;break;case 4:i=l,n=a,r=A;break;default:i=A,n=a,r=c}return[Math.round(255*i),Math.round(255*n),Math.round(255*r)]}};t.exports=n},function(t,e,A){t.exports=function(t){return t instanceof Function}},function(t,e,A){var i=A(11),n=A(2),r=A(26);function o(t,e,A,i){function o(e){A.call(i||t,e||window.event)}"addEventListener"in t?t.addEventListener(e,o):"attachEvent"in t&&t.attachEvent("on"+e,o),function(t,e,A,i){var o=r(t,e),s=!1;n(o,function(t){return t.handler!==A||(s=!0,!1)}),s||o.push({handler:A,wrappedHandler:i})}(t,e,A,o)}t.exports=function(t,e,A,r){i(e)?n(e.split(/\s+/g),function(e){o(t,e,A,r)}):n(e,function(e,i){o(t,i,e,A)})}},function(t,e,A){t.exports=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}},function(t,e,A){t.exports=function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}},function(t,e,A){var i=A(11),n=A(2),r=A(26);function o(t,e,A){var i,o=r(t,e);A?(n(o,function(n,r){return A!==n.handler||(s(t,e,n.wrappedHandler),i=r,!1)}),o.splice(i,1)):(n(o,function(A){s(t,e,A.wrappedHandler)}),o.splice(0,o.length))}function s(t,e,A){"removeEventListener"in t?t.removeEventListener(e,A):"detachEvent"in t&&t.detachEvent("on"+e,A)}t.exports=function(t,e,A){i(e)?n(e.split(/\s+/g),function(e){o(t,e,A)}):n(e,function(e,A){o(t,A,e)})}},function(t,e,A){var i=A(50);t.exports=function(t,e){var A=i(e.prototype);A.constructor=t,t.prototype=A}},function(t,e,A){var i=A(6),n=A(7),r=A(0),o=A(1),s=A(20),a=A(13),c=A(21),l=A(4),u=Array.prototype.slice;function h(t){this.items={},this.length=0,a(t)&&(this.getItemID=t)}h.and=function(t){var e;return t=u.call(arguments),e=t.length,function(A){for(var i=0;i<e;i+=1)if(!t[i].call(null,A))return!1;return!0}},h.or=function(t){var e;return t=u.call(arguments),e=t.length,function(A){for(var i=1,n=t[0].call(null,A);i<e;i+=1)n=n||t[i].call(null,A);return n}},h.merge=function(t){var e={},A=new h(t.getItemID);return i(arguments,function(t){r(e,t.items)}),A.items=e,A.length=l.getLength(A.items),A},h.prototype.getItemID=function(t){return t._id+""},h.prototype.add=function(t){var e,A;arguments.length>1?i(u.call(arguments),function(t){this.add(t)},this):(e=this.getItemID(t),(A=this.items)[e]||(this.length+=1),A[e]=t)},h.prototype.remove=function(t){var e,A,i=[];return this.length?arguments.length>1?i=l.map(u.call(arguments),function(t){return this.remove(t)},this):(e=this.items,c(t)&&(t=this.getItemID(t)),e[t]?(this.length-=1,A=e[t],delete e[t],A):i):i},h.prototype.clear=function(){this.items={},this.length=0},h.prototype.has=function(t){var e,A;return!!this.length&&(e=a(t),A=!1,e?this.each(function(e){return!0!==t(e)||(A=!0,!1)}):(t=c(t)?this.getItemID(t):t,A=s(this.items[t])),A)},h.prototype.doWhenHas=function(t,e,A){var i=this.items[t];s(i)&&e.call(A||this,i)},h.prototype.find=function(t){var e=new h;return this.hasOwnProperty("getItemID")&&(e.getItemID=this.getItemID),this.each(function(A){!0===t(A)&&e.add(A)}),e},h.prototype.groupBy=function(t,e){var A,n,r={},s=a(t),c=this.getItemID;if(o(t)){if(i(t,function(t){r[t+""]=new h(c)}),!e)return r;t=e,s=!0}return this.each(function(e){s?n=t(e):(n=e[t],a(n)&&(n=n.apply(e))),(A=r[n])||(A=r[n]=new h(c)),A.add(e)}),r},h.prototype.single=function(){var t;return this.each(function(e){return t=e,!1},this),t},h.prototype.sort=function(t){var e=[];return this.each(function(t){e.push(t)}),a(t)&&(e=e.sort(t)),e},h.prototype.each=function(t,e){n(this.items,t,e||this)},h.prototype.toArray=function(){return this.length?l.map(this.items,function(t){return t}):[]},t.exports=h},function(t,e,A){var i=A(3),n=A(36);t.exports=function(t){return!i(t)&&!n(t)}},function(t,e,A){t.exports=function(t){return t===Object(t)}},function(t,e,A){var i,n,r,o,s,a,c,l,u,h,g={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};"undefined"!=typeof window&&window.navigator&&(r=window.navigator,o=r.appName.replace(/\s/g,"_"),s=r.userAgent,a=/MSIE\s([0-9]+[.0-9]*)/,c=/Trident.*rv:11\./,l=/Edge\/(\d+)\./,u={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},(h={Microsoft_Internet_Explorer:function(){var t=s.match(a);t?(g.msie=!0,g.version=parseFloat(t[1])):g.others=!0},Netscape:function(){var t=!1;if(c.exec(s))g.msie=!0,g.version=11,t=!0;else if(l.exec(s))g.edge=!0,g.version=s.match(l)[1],t=!0;else for(i in u)if(u.hasOwnProperty(i)&&(n=s.match(u[i]))&&n.length>1){g[i]=t=!0,g.version=parseFloat(n[1]||0);break}t||(g.others=!0)}})[o]&&h[o]()),t.exports=g},function(t,e,A){var i=A(3);t.exports=function(t){return t&&t.className?i(t.className.baseVal)?t.className:t.className.baseVal:""}},function(t,e,A){(function(e){var i=A(10),n=A(42),r=A(44),o=A(47),s=A(28),a=A(17),c=A(14),l=A(15),u=A(0);function h(t,e){c(e,"mousedown",this._onMouseDown,this),this.options=u({distance:10},t),this.container=e,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}h.prototype.destroy=function(){a(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},h.prototype._toggleDragEvent=function(t){var A=this.container;t?(n(A),c(window,"dragstart",l),c(e.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(r(A),a(window,"dragstart",l),a(e.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},h.prototype._getEventData=function(t){return{target:s(t),originEvent:t}},h.prototype._onMouseDown=function(t){0===o(t)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(t),this._toggleDragEvent(!0))},h.prototype._onMouseMove=function(t){var e=this.options.distance;l(t),this._isMoved=!0,this._distance<e?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(t)):this._toggleDragEvent(!1)},h.prototype._onMouseUp=function(t){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(t));this.fire("click",this._getEventData(t))},i.mixin(h),t.exports=h}).call(this,A(25))},function(t,e){var A;A=function(){return this}();try{A=A||new Function("return this")()}catch(i){"object"==typeof window&&(A=window)}t.exports=A},function(t,e,A){var i="_feEventKey";t.exports=function(t,e){var A,n=t[i];return n||(n=t[i]={}),(A=n[e])||(A=n[e]=[]),A}},function(t,e,A){t.exports=function(t){var e,A,i=document.documentElement.style;for(e=0,A=t.length;e<A;e+=1)if(t[e]in i)return t[e];return!1}},function(t,e,A){t.exports=function(t){return t.target||t.srcElement}},function(t,e,A){var i=A(10),n=A(28),r=A(17),o=A(14),s=A(30),a=A(0),c=A(18),l=A(9),u=A(12),h=A(8),g=A(51);function f(t,e){this.options=a({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},t),e=l.appendHTMLElement("div",e,this.options.cssPrefix+"palette-container"),h.call(this,t,e)}c(f,h),f.prototype._onClick=function(t){var e=this.options,A=n(t),i={};if(s(A,e.cssPrefix+"palette-button"))return i.color=A.value,void this.fire("_selectColor",i);s(A,e.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},f.prototype._onChange=function(t){var e=this.options,A=n(t),i={};s(A,e.cssPrefix+"palette-hex")&&(i.color=A.value,this.fire("_selectColor",i))},f.prototype._beforeDestroy=function(){this._toggleEvent(!1)},f.prototype._toggleEvent=function(t){var e,A=this.options,i=this.container,n=t?o:r;n(i,"click",this._onClick,this),(e=i.querySelector("."+A.cssPrefix+"palette-hex",i))&&n(e,"change",this._onChange,this)},f.prototype.render=function(t){var e,A=this.options;this._toggleEvent(!1),e=g({cssPrefix:A.cssPrefix,preset:A.preset,detailTxt:A.detailTxt,color:t,isValidRGB:u.isValidRGB,getItemClass:function(t){return t?"":" "+A.cssPrefix+"color-transparent"},isSelected:function(e){return e===t?" "+A.cssPrefix+"selected":""}}),this.container.innerHTML=e,this._toggleEvent(!0)},i.mixin(f),t.exports=f},function(t,e,A){var i=A(5),n=A(23);t.exports=function(t,e){var A;return t.classList?t.classList.contains(e):(A=n(t).split(/\s+/),i(e,A)>-1)}},function(t,e,A){var i=A(10),n=A(53),r=A(54),o=A(30),s=A(0),a=A(18),c=A(9),l=A(32),u=A(12),h=A(8),g=A(24),f=A(57),d=359.99;function p(t,e){(e=c.appendHTMLElement("div",e,t.cssPrefix+"slider-container")).style.display="none",h.call(this,t,e),this.options=s({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},t),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new g({distance:0},e),this.colorSliderPosLimitRange=[-7,112],this.huebarPosLimitRange=[-3,115],this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}a(p,h),p.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},p.prototype.toggle=function(t){this.container.style.display=t?"block":"none"},p.prototype.isVisible=function(){return"block"===this.container.style.display},p.prototype.render=function(t){var e,A,i=this.container,n=this.options,r=f.layout;u.isValidRGB(t)&&(r=(r=(r=(r=r.replace(/{{slider}}/,f.slider)).replace(/{{huebar}}/,f.huebar)).replace(/{{cssPrefix}}/g,n.cssPrefix)).replace(/{{id}}/g,n.id),this.container.innerHTML=r,this.sliderSvgElement=i.querySelector("."+n.cssPrefix+"svg-slider"),this.huebarSvgElement=i.querySelector("."+n.cssPrefix+"svg-huebar"),this.sliderHandleElement=i.querySelector("."+n.cssPrefix+"slider-handle"),this.huebarHandleElement=i.querySelector("."+n.cssPrefix+"huebar-handle"),this.baseColorElement=i.querySelector("."+n.cssPrefix+"slider-basecolor"),e=u.hexToRGB(t),A=u.rgbToHSV.apply(null,e),this.moveHue(A[0],!0),this.moveSaturationAndValue(A[1],A[2],!0))},p.prototype._setColorSliderPosMax=function(){var t=this.sliderSvgElement.getClientRects()[0];t&&(this.colorSliderPosLimitRange[1]=t.height-10)},p.prototype._moveColorSliderHandle=function(t,e,A){var i,n=this.sliderHandleElement;e=Math.max(this.colorSliderPosLimitRange[0],e),e=Math.min(this.colorSliderPosLimitRange[1],e),t=Math.max(this.colorSliderPosLimitRange[0],t),t=Math.min(this.colorSliderPosLimitRange[1],t),l.setTranslateXY(n,t,e),i=e>50?"white":"black",l.setStrokeColor(n,i),A||this.fire("_selectColor",{color:u.rgbToHEX.apply(null,this.getRGB())})},p.prototype.moveSaturationAndValue=function(t,e,A){var i,n,r,o;t=t||0,e=e||0,i=Math.abs(this.colorSliderPosLimitRange[0]),r=t*(n=this.colorSliderPosLimitRange[1])/100-i,o=n-e*n/100-i,this._moveColorSliderHandle(r,o,A)},p.prototype._moveColorSliderByPosition=function(t,e){var A=this.colorSliderPosLimitRange[0];this._moveColorSliderHandle(t+A,e+A)},p.prototype.getSaturationAndValue=function(){var t=Math.abs(this.colorSliderPosLimitRange[0]),e=t+this.colorSliderPosLimitRange[1],A=l.getTranslateXY(this.sliderHandleElement);return[(A[1]+t)/e*100,100-(A[0]+t)/e*100]},p.prototype._setHueBarPosMax=function(){var t=this.huebarSvgElement.getClientRects()[0];t&&(this.huebarPosLimitRange[1]=t.height-7)},p.prototype._moveHueHandle=function(t,e){var A,i,n=this.huebarHandleElement,r=this.baseColorElement;t=Math.max(this.huebarPosLimitRange[0],t),t=Math.min(this.huebarPosLimitRange[1],t),l.setTranslateY(n,t),A=u.hsvToRGB(this.getHue(),100,100),i=u.rgbToHEX.apply(null,A),l.setGradientColorStop(r,i),e||this.fire("_selectColor",{color:u.rgbToHEX.apply(null,this.getRGB())})},p.prototype.moveHue=function(t,e){var A,i;A=((i=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1])*(t=t||0)/d-i,this._moveHueHandle(A,e)},p.prototype._moveHueByPosition=function(t){var e=this.huebarPosLimitRange[0];this._moveHueHandle(t+e)},p.prototype.getHue=function(){var t,e,A=this.huebarHandleElement,i=l.getTranslateXY(A);return e=(t=Math.abs(this.huebarPosLimitRange[0]))+this.huebarPosLimitRange[1],(i[0]+t)*d/e},p.prototype.getHSV=function(){var t=this.getSaturationAndValue();return[this.getHue()].concat(t)},p.prototype.getRGB=function(){return u.hsvToRGB.apply(null,this.getHSV())},p.prototype._prepareColorSliderForMouseEvent=function(t){var e=this.options,A=r(t.target,"."+e.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:o(A,e.cssPrefix+"slider-left"),parentElement:A}},p.prototype._onClick=function(t){var e=this._prepareColorSliderForMouseEvent(t),A=n(t.originEvent,e.parentElement);e.isColorSlider?this._moveColorSliderByPosition(A[0],A[1]):this._moveHueByPosition(A[1]),this._dragDataCache=null},p.prototype._onDragStart=function(t){this._setColorSliderPosMax(),this._setHueBarPosMax(),this._prepareColorSliderForMouseEvent(t)},p.prototype._onDrag=function(t){var e=this._dragDataCache,A=n(t.originEvent,e.parentElement);e.isColorSlider?this._moveColorSliderByPosition(A[0],A[1]):this._moveHueByPosition(A[1])},p.prototype._onDragEnd=function(){this._dragDataCache=null},i.mixin(p),t.exports=p},function(t,e,A){var i=A(4).isOldBrowser,n=/[\.\-0-9]+/g,r={getTranslateXY:function(t){var e;return i?(e=t.style,[parseFloat(e.top),parseFloat(e.left)]):(e=t.getAttribute("transform"))?(e=e.match(n),[parseFloat(e[1]),parseFloat(e[0])]):[0,0]},setTranslateXY:function(t,e,A){i?(t.style.left=e+"px",t.style.top=A+"px"):t.setAttribute("transform","translate("+e+","+A+")")},setTranslateY:function(t,e){i?t.style.top=e+"px":t.setAttribute("transform","translate(-6,"+e+")")},setStrokeColor:function(t,e){i?t.strokecolor=e:t.setAttribute("stroke",e)},setGradientColorStop:function(t,e){i?t.color=e:t.setAttribute("stop-color",e)}};t.exports=r},function(t,e,A){A(34),t.exports=A(35)},function(t,e,A){},function(t,e,A){var i={Collection:A(19),View:A(8),Drag:A(24),create:A(48),Palette:A(29),Slider:A(31),colorutil:A(12),svgvml:A(32)};t.exports=i},function(t,e,A){t.exports=function(t){return null===t}},function(t,e,A){var i=A(3),n=A(38);t.exports=function(t,e){var A=location.hostname,r="TOAST UI "+t+" for "+A+": Statistics",o=window.localStorage.getItem(r);(i(window.tui)||!1!==window.tui.usageStatistics)&&(o&&!function(t){return(new Date).getTime()-t>6048e5}(o)||(window.localStorage.setItem(r,(new Date).getTime()),setTimeout(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||n("https://www.google-analytics.com/collect",{v:1,t:"event",tid:e,cid:A,dp:A,dh:t,el:t,ec:"use"})},1e3)))}},function(t,e,A){var i=A(7);t.exports=function(t,e){var A=document.createElement("img"),n="";return i(e,function(t,e){n+="&"+e+"="+t}),n=n.substring(1),A.src=t+"?"+n,A.style.display="none",document.body.appendChild(A),document.body.removeChild(A),A}},function(t,e,A){var i=A(2),n=A(5),r=A(23),o=A(40);t.exports=function(t){var e,A=Array.prototype.slice.call(arguments,1),s=t.classList,a=[];s?i(A,function(e){t.classList.add(e)}):((e=r(t))&&(A=[].concat(e.split(/\s+/),A)),i(A,function(t){n(t,a)<0&&a.push(t)}),o(t,a))}},function(t,e,A){var i=A(1),n=A(3);t.exports=function(t,e){e=(e=i(e)?e.join(" "):e).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),n(t.className.baseVal)?t.className=e:t.className.baseVal=e}},function(t,e,A){t.exports=function(t){return"number"==typeof t||t instanceof Number}},function(t,e,A){var i=A(14),n=A(15),r=A(43),o=A(27),s="onselectstart"in document,a=o(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);t.exports=function(t){t||(t=document),s?i(t,"selectstart",n):(t=t===document?document.documentElement:t,r(t,"prevUserSelect",t.style[a]),t.style[a]="none")}},function(t,e,A){var i=A(16);t.exports=function(t,e,A){t.dataset?t.dataset[e]=A:t.setAttribute("data-"+i(e),A)}},function(t,e,A){var i=A(17),n=A(15),r=A(45),o=A(46),s=A(27),a="onselectstart"in document,c="prevUserSelect",l=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);t.exports=function(t){t||(t=document),a?i(t,"selectstart",n):((t=t===document?document.documentElement:t).style[l]=r(t,c)||"auto",o(t,c))}},function(t,e,A){var i=A(16);t.exports=function(t,e){return t.dataset?t.dataset[e]:t.getAttribute("data-"+i(e))}},function(t,e,A){var i=A(16);t.exports=function(t,e){t.dataset?delete t.dataset[e]:t.removeAttribute("data-"+i(e))}},function(t,e,A){var i=A(22),n=A(5),r=["0","1","3","5","7"],o=["2","6"],s=["4"];t.exports=function(t){return i.msie&&i.version<=8?function(t){var e=String(t.button);return n(e,r)>-1?0:n(e,o)>-1?2:n(e,s)>-1?1:null}(t):t.button}},function(t,e,A){var i=A(10),n=A(0),r=A(4),o=A(12),s=A(49),a=A(29),c=A(31),l=0;function u(t){var e;if(!(this instanceof u))return new u(t);if(!(t=this.options=n({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:l+=1,usageStatistics:!0},t)).container)throw new Error("ColorPicker(): need container option.");e=this.layout=new s(t,t.container),this.palette=new a(t,e.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new c(t,e.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),e.addChild(this.palette),e.addChild(this.slider),this.render(t.color),t.usageStatistics&&r.sendHostName()}u.prototype._onSelectColorInPalette=function(t){var e=t.color,A=this.options;o.isValidRGB(e)||""===e?(this.fire("selectColor",{color:e,origin:"palette"}),A.color!==e&&(A.color=e,this.render(e))):this.render()},u.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},u.prototype._onSelectColorInSlider=function(t){var e=t.color,A=this.options;this.fire("selectColor",{color:e,origin:"slider"}),A.color!==e&&(A.color=e,this.palette.render(e))},u.prototype.setColor=function(t){if(!o.isValidRGB(t))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=t,this.render(t)},u.prototype.getColor=function(){return this.options.color},u.prototype.toggle=function(t){this.layout.container.style.display=t?"block":"none"},u.prototype.render=function(t){this.layout.render(t||this.options.color)},u.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},i.mixin(u),t.exports=u},function(t,e,A){var i=A(0),n=A(18),r=A(9),o=A(8);function s(t,e){this.options=i({cssPrefix:"tui-colorpicker-"},t),e=r.appendHTMLElement("div",e,this.options.cssPrefix+"container"),o.call(this,t,e),this.render()}n(s,o),s.prototype.render=function(t){this.recursive(function(e){e.render(t)},!0)},t.exports=s},function(t,e,A){t.exports=function(t){function e(){}return e.prototype=t,new e}},function(t,e,A){var i=A(52);t.exports=function(t){var e=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return i(e,t)}},function(t,e,A){var i=A(5),n=A(2),r=A(1),o=A(11),s=A(0),a=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,l=/\[\s?|\s?\]/,u=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,h=/\./,g=/^["']\w+["']$/,f=/"|'/g,d=/^-?\d+\.?\d*$/,p={if:function(t,e,A){var i=function(t,e){var A=[t],i=[],r=0,o=0;return n(e,function(t,n){0===t.indexOf("if")?r+=1:"/if"===t?r-=1:r||0!==t.indexOf("elseif")&&"else"!==t||(A.push("else"===t?["true"]:t.split(" ").slice(1)),i.push(e.slice(o,n)),o=n+1)}),i.push(e.slice(o)),{exps:A,sourcesInsideIf:i}}(t,e),r=!1,o="";return n(i.exps,function(t,e){return(r=y(t,A))&&(o=C(i.sourcesInsideIf[e],A)),!r}),o},each:function(t,e,A){var i=y(t,A),o=r(i)?"@index":"@key",a={},c="";return n(i,function(t,i){a[o]=i,a["@this"]=t,s(A,a),c+=C(e.slice(),A)}),c},with:function(t,e,A){var n=i("as",t),r=t[n+1],o=y(t.slice(0,n),A),a={};return a[r]=o,C(e,s(A,a))||""}},v=3==="a".split(/a/).length?function(t,e){return t.split(e)}:function(t,e){var A,i,n=[],r=0;for(e.global||(e=new RegExp(e,"g")),A=e.exec(t);null!==A;)i=A.index,n.push(t.slice(r,i)),r=i+A[0].length,A=e.exec(t);return n.push(t.slice(r)),n};function m(t,e){var A,i=e[t];return"true"===t?i=!0:"false"===t?i=!1:g.test(t)?i=t.replace(f,""):c.test(t)?i=m((A=t.split(l))[0],e)[m(A[1],e)]:u.test(t)?i=m((A=t.split(h))[0],e)[A[1]]:d.test(t)&&(i=parseFloat(t)),i}function B(t,e,A){for(var i,n,r,s,a=p[t],c=1,l=2,u=e[l];c&&o(u);)0===u.indexOf(t)?c+=1:0===u.indexOf("/"+t)&&(c-=1,i=l),u=e[l+=2];if(c)throw Error(t+" needs {{/"+t+"}} expression.");return e[0]=a(e[0].split(" ").slice(1),(n=0,r=i,(s=e.splice(n+1,r-n)).pop(),s),A),e}function y(t,e){var A=m(t[0],e);return A instanceof Function?function(t,e,A){var i=[];return n(e,function(t){i.push(m(t,A))}),t.apply(null,i)}(A,t.slice(1),e):A}function C(t,e){for(var A,i,n,r=1,s=t[r];o(s);)i=(A=s.split(" "))[0],p[i]?(n=B(i,t.splice(r,t.length-r),e),t=t.concat(n)):t[r]=y(A,e),s=t[r+=2];return t.join("")}t.exports=function(t,e){return C(v(t,a),e)}},function(t,e,A){var i=A(1);t.exports=function(t,e){var A,n=i(t),r=n?t[0]:t.clientX,o=n?t[1]:t.clientY;return e?[r-(A=e.getBoundingClientRect()).left-e.clientLeft,o-A.top-e.clientTop]:[r,o]}},function(t,e,A){var i=A(55);t.exports=function(t,e){var A=t.parentNode;if(i(t,e))return t;for(;A&&A!==document;){if(i(A,e))return A;A=A.parentNode}return null}},function(t,e,A){var i=A(5),n=A(56),r=Element.prototype,o=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||function(t){var e=this.document||this.ownerDocument;return i(this,n(e.querySelectorAll(t)))>-1};t.exports=function(t,e){return o.call(t,e)}},function(t,e,A){var i=A(6);t.exports=function(t){var e;try{e=Array.prototype.slice.call(t)}catch(A){e=[],i(t,function(t){e.push(t)})}return e}},function(t,e,A){(function(e){var i=A(4).isOldBrowser,n=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),r=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),o=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),s=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),a=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");i&&e.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),t.exports={layout:n,slider:i?o:r,huebar:i?a:s}}).call(this,A(25))}])},n.exports=t());var t}
/*!
 * TOAST UI ImageEditor
 * @version 3.15.3
 * @license MIT
 */self,A=function(t){return function(){var e={2777:function(t,e,A){
/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */
var i,n,r,o,s,a,c,l,u,h,g,f,d,p,v,m,B,y,C,w,b,I=I||{version:"4.6.0"};if(e.fabric=I,"undefined"!=typeof document&&"undefined"!=typeof window)document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?I.document=document:I.document=document.implementation.createHTMLDocument(""),I.window=window;else{var x=new(A(4960).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;I.document=x.document,I.jsdomImplForWrapper=A(6759).implForWrapper,I.nodeCanvas=A(6272).Canvas,I.window=x,DOMParser=I.window.DOMParser}function M(t,e){var A=t.canvas,i=e.targetCanvas,n=i.getContext("2d");n.translate(0,i.height),n.scale(1,-1);var r=A.height-i.height;n.drawImage(A,0,r,i.width,i.height,0,0,i.width,i.height)}function S(t,e){var A=e.targetCanvas.getContext("2d"),i=e.destinationWidth,n=e.destinationHeight,r=i*n*4,o=new Uint8Array(this.imageBuffer,0,r),s=new Uint8ClampedArray(this.imageBuffer,0,r);t.readPixels(0,0,i,n,t.RGBA,t.UNSIGNED_BYTE,o);var a=new ImageData(s,i,n);A.putImageData(a,0,0)}I.isTouchSupported="ontouchstart"in I.window||"ontouchstart"in I.document||I.window&&I.window.navigator&&I.window.navigator.maxTouchPoints>0,I.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,I.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],I.DPI=96,I.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",I.commaWsp="(?:\\s+,?\\s*|,\\s*)",I.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,I.reNonWord=/[ \n\.,;!\?\-]/,I.fontPaths={},I.iMatrix=[1,0,0,1,0,0],I.svgNS="http://www.w3.org/2000/svg",I.perfLimitSizeTotal=2097152,I.maxCacheSideLimit=4096,I.minCacheSideLimit=256,I.charWidthsCache={},I.textureSize=2048,I.disableStyleCopyPaste=!1,I.enableGLFiltering=!0,I.devicePixelRatio=I.window.devicePixelRatio||I.window.webkitDevicePixelRatio||I.window.mozDevicePixelRatio||1,I.browserShadowBlurConstant=1,I.arcToSegmentsCache={},I.boundsOfCurveCache={},I.cachesBoundsOfCurve=!0,I.forceGLPutImageData=!1,I.initFilterBackend=function(){return I.enableGLFiltering&&I.isWebglSupported&&I.isWebglSupported(I.textureSize)?new I.WebglFilterBackend({tileSize:I.textureSize}):I.Canvas2dFilterBackend?new I.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=I),function(){function t(t,e){if(this.__eventListeners[t]){var A=this.__eventListeners[t];e?A[A.indexOf(e)]=!1:I.util.array.fill(A,!1)}}function e(t,e){var A=function(){e.apply(this,arguments),this.off(t,A)}.bind(this);this.on(t,A)}I.Observable={fire:function(t,e){if(!this.__eventListeners)return this;var A=this.__eventListeners[t];if(!A)return this;for(var i=0,n=A.length;i<n;i++)A[i]&&A[i].call(this,e||{});return this.__eventListeners[t]=A.filter(function(t){return!1!==t}),this},on:function(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var A in t)this.on(A,t[A]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this},once:function(t,A){if(1===arguments.length)for(var i in t)e.call(this,i,t[i]);else e.call(this,t,A);return this},off:function(e,A){if(!this.__eventListeners)return this;if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"==typeof arguments[0])for(var i in e)t.call(this,i,e[i]);else t.call(this,e,A);return this}}}(),I.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,A){var i=this._objects;return A?i[e]=t:i.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,A=!1,i=0,n=arguments.length;i<n;i++)-1!==(t=e.indexOf(arguments[i]))&&(A=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[i]));return this.renderOnAddRemove&&A&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var A=this.getObjects(),i=0,n=A.length;i<n;i++)t.call(e,A[i],i,A);return this},getObjects:function(t){return void 0===t?this._objects.concat():this._objects.filter(function(e){return e.type===t})},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t,e){return this._objects.indexOf(t)>-1||!!e&&this._objects.some(function(e){return"function"==typeof e.contains&&e.contains(t,!0)})},complexity:function(){return this._objects.reduce(function(t,e){return t+=e.complexity?e.complexity():0},0)}},I.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof I.Gradient||this.set(e,new I.Gradient(t))},_initPattern:function(t,e,A){!t||!t.source||t instanceof I.Pattern?A&&A():this.set(e,new I.Pattern(t,A))},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},i=e,n=Math.sqrt,r=Math.atan2,o=Math.pow,s=Math.PI/180,a=Math.PI/2,I.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/a){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/a){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var A=t.indexOf(e);return-1!==A&&t.splice(A,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*s},radiansToDegrees:function(t){return t/s},rotatePoint:function(t,e,A){var i=new I.Point(t.x-e.x,t.y-e.y),n=I.util.rotateVector(i,A);return new I.Point(n.x,n.y).addEquals(e)},rotateVector:function(t,e){var A=I.util.sin(e),i=I.util.cos(e);return{x:t.x*i-t.y*A,y:t.x*A+t.y*i}},transformPoint:function(t,e,A){return A?new I.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new I.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t,e){if(e)for(var A=0;A<t.length;A++)t[A]=I.util.transformPoint(t[A],e);var i=[t[0].x,t[1].x,t[2].x,t[3].x],n=I.util.array.min(i),r=I.util.array.max(i)-n,o=[t[0].y,t[1].y,t[2].y,t[3].y],s=I.util.array.min(o);return{left:n,top:s,width:r,height:I.util.array.max(o)-s}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),A=[e*t[3],-e*t[1],-e*t[2],e*t[0]],i=I.util.transformPoint({x:t[4],y:t[5]},A,!0);return A[4]=-i.x,A[5]=-i.y,A},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var A=/\D{0,2}$/.exec(t),i=parseFloat(t);switch(e||(e=I.Text.DEFAULT_SVG_FONT_SIZE),A[0]){case"mm":return i*I.DPI/25.4;case"cm":return i*I.DPI/2.54;case"in":return i*I.DPI;case"pt":return i*I.DPI/72;case"pc":return i*I.DPI/72*12;case"em":return i*e;default:return i}},falseFunction:function(){return!1},getKlass:function(t,e){return t=I.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),I.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(t){if(!t)return I;var e,A=t.split("."),n=A.length,r=i||I.window;for(e=0;e<n;++e)r=r[A[e]];return r},loadImage:function(t,e,A,i){if(t){var n=I.util.createImage(),r=function(){e&&e.call(A,n,!1),n=n.onload=n.onerror=null};n.onload=r,n.onerror=function(){I.log("Error loading "+n.src),e&&e.call(A,null,!0),n=n.onload=n.onerror=null},0!==t.indexOf("data")&&null!=i&&(n.crossOrigin=i),"data:image/svg"===t.substring(0,14)&&(n.onload=null,I.util.loadImageInDom(n,r)),n.src=t}else e&&e.call(A,t)},loadImageInDom:function(t,e){var A=I.document.createElement("div");A.style.width=A.style.height="1px",A.style.left=A.style.top="-100%",A.style.position="absolute",A.appendChild(t),I.document.querySelector("body").appendChild(A),t.onload=function(){e(),A.parentNode.removeChild(A),A=null}},enlivenObjects:function(t,e,A,i){var n=[],r=0,o=(t=t||[]).length;function s(){++r===o&&e&&e(n.filter(function(t){return t}))}o?t.forEach(function(t,e){t&&t.type?I.util.getKlass(t.type,A).fromObject(t,function(A,r){r||(n[e]=A),i&&i(t,A,r),s()}):s()}):e&&e(n)},enlivenPatterns:function(t,e){function A(){++n===r&&e&&e(i)}var i=[],n=0,r=(t=t||[]).length;r?t.forEach(function(t,e){t&&t.source?new I.Pattern(t,function(t){i[e]=t,A()}):(i[e]=t,A())}):e&&e(i)},groupSVGElements:function(t,e,A){var i;return t&&1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),i=new I.Group(t,e),void 0!==A&&(i.sourcePath=A),i)},populateWithProperties:function(t,e,A){if(A&&"[object Array]"===Object.prototype.toString.call(A))for(var i=0,n=A.length;i<n;i++)A[i]in t&&(e[A[i]]=t[A[i]])},drawDashedLine:function(t,e,A,i,o,s){var a=i-e,c=o-A,l=n(a*a+c*c),u=r(c,a),h=s.length,g=0,f=!0;for(t.save(),t.translate(e,A),t.moveTo(0,0),t.rotate(u),e=0;l>e;)(e+=s[g++%h])>l&&(e=l),t[f?"lineTo":"moveTo"](e,0),f=!f;t.restore()},createCanvasElement:function(){return I.document.createElement("canvas")},copyCanvasElement:function(t){var e=I.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,A){return t.toDataURL("image/"+e,A)},createImage:function(){return I.document.createElement("img")},multiplyTransformMatrices:function(t,e,A){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],A?0:t[0]*e[4]+t[2]*e[5]+t[4],A?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=r(t[1],t[0]),A=o(t[0],2)+o(t[1],2),i=n(A),a=(t[0]*t[3]-t[2]*t[1])/i,c=r(t[0]*t[2]+t[1]*t[3],A);return{angle:e/s,scaleX:i,scaleY:a,skewX:c/s,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return I.iMatrix.concat();var e=I.util.degreesToRadians(t.angle),A=I.util.cos(e),i=I.util.sin(e);return[A,i,-i,A,0,0]},calcDimensionsMatrix:function(t){var e=void 0===t.scaleX?1:t.scaleX,A=void 0===t.scaleY?1:t.scaleY,i=[t.flipX?-e:e,0,0,t.flipY?-A:A,0,0],n=I.util.multiplyTransformMatrices,r=I.util.degreesToRadians;return t.skewX&&(i=n(i,[1,0,Math.tan(r(t.skewX)),1],!0)),t.skewY&&(i=n(i,[1,Math.tan(r(t.skewY)),0,1],!0)),i},composeMatrix:function(t){var e=[1,0,0,1,t.translateX||0,t.translateY||0],A=I.util.multiplyTransformMatrices;return t.angle&&(e=A(e,I.util.calcRotateMatrix(t))),(1!==t.scaleX||1!==t.scaleY||t.skewX||t.skewY||t.flipX||t.flipY)&&(e=A(e,I.util.calcDimensionsMatrix(t))),e},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,e,A,i){i>0&&(e>i?e-=i:e=0,A>i?A-=i:A=0);var n,r=!0,o=t.getImageData(e,A,2*i||1,2*i||1),s=o.data.length;for(n=3;n<s&&0!=(r=o.data[n]<=0);n+=4);return o=null,r},parsePreserveAspectRatioAttribute:function(t){var e,A="meet",i=t.split(" ");return i&&i.length&&("meet"!==(A=i.pop())&&"slice"!==A?(e=A,A="meet"):i.length&&(e=i.pop())),{meetOrSlice:A,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?I.charWidthsCache[t]&&delete I.charWidthsCache[t]:I.charWidthsCache={}},limitDimsByArea:function(t,e){var A=Math.sqrt(e*t),i=Math.floor(e/A);return{x:Math.floor(A),y:i}},capValue:function(t,e,A){return Math.max(t,Math.min(e,A))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map(function(t){return I.util.toFixed(t,I.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(t,e){var A=I.util.invertTransform(e),i=I.util.multiplyTransformMatrices(A,t.calcOwnMatrix());I.util.applyTransformToObject(t,i)},addTransformToObject:function(t,e){I.util.applyTransformToObject(t,I.util.multiplyTransformMatrices(e,t.calcOwnMatrix()))},applyTransformToObject:function(t,e){var A=I.util.qrDecompose(e),i=new I.Point(A.translateX,A.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",A.scaleX),t.set("scaleY",A.scaleY),t.skewX=A.skewX,t.skewY=A.skewY,t.angle=A.angle,t.setPositionByOrigin(i,"center","center")},sizeAfterTransform:function(t,e,A){var i=t/2,n=e/2,r=[{x:-i,y:-n},{x:i,y:-n},{x:-i,y:n},{x:i,y:n}],o=I.util.calcDimensionsMatrix(A),s=I.util.makeBoundingBoxFromPoints(r,o);return{x:s.width,y:s.height}}},function(){var t=Array.prototype.join,e={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},A={m:"l",M:"L"};function i(t,e,A,i,n,r,o,s,a,c,l){var u=I.util.cos(t),h=I.util.sin(t),g=I.util.cos(e),f=I.util.sin(e),d=A*n*g-i*r*f+o,p=i*n*g+A*r*f+s;return["C",c+a*(-A*n*h-i*r*u),l+a*(-i*n*h+A*r*u),d+a*(A*n*f+i*r*g),p+a*(i*n*f-A*r*g),d,p]}function n(t,e,A,n,o,s,a){var c=Math.PI,l=a*c/180,u=I.util.sin(l),h=I.util.cos(l),g=0,f=0,d=-h*t*.5-u*e*.5,p=-h*e*.5+u*t*.5,v=(A=Math.abs(A))*A,m=(n=Math.abs(n))*n,B=p*p,y=d*d,C=v*m-v*B-m*y,w=0;if(C<0){var b=Math.sqrt(1-C/(v*m));A*=b,n*=b}else w=(o===s?-1:1)*Math.sqrt(C/(v*B+m*y));var x=w*A*p/n,M=-w*n*d/A,S=h*x-u*M+.5*t,_=u*x+h*M+.5*e,Q=r(1,0,(d-x)/A,(p-M)/n),F=r((d-x)/A,(p-M)/n,(-d-x)/A,(-p-M)/n);0===s&&F>0?F-=2*c:1===s&&F<0&&(F+=2*c);for(var E=Math.ceil(Math.abs(F/c*2)),U=[],D=F/E,T=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),k=Q+D,O=0;O<E;O++)U[O]=i(Q,k,h,u,A,n,S,_,T,g,f),g=U[O][5],f=U[O][6],Q=k,k+=D;return U}function r(t,e,A,i){var n=Math.atan2(e,t),r=Math.atan2(i,A);return r>=n?r-n:2*Math.PI-(n-r)}function o(e,A,i,n,r,o,s,a){var c;if(I.cachesBoundsOfCurve&&(c=t.call(arguments),I.boundsOfCurveCache[c]))return I.boundsOfCurveCache[c];var l,u,h,g,f,d,p,v,m=Math.sqrt,B=Math.min,y=Math.max,C=Math.abs,w=[],b=[[],[]];u=6*e-12*i+6*r,l=-3*e+9*i-9*r+3*s,h=3*i-3*e;for(var x=0;x<2;++x)if(x>0&&(u=6*A-12*n+6*o,l=-3*A+9*n-9*o+3*a,h=3*n-3*A),C(l)<1e-12){if(C(u)<1e-12)continue;0<(g=-h/u)&&g<1&&w.push(g)}else(p=u*u-4*h*l)<0||(0<(f=(-u+(v=m(p)))/(2*l))&&f<1&&w.push(f),0<(d=(-u-v)/(2*l))&&d<1&&w.push(d));for(var M,S,_,Q=w.length,F=Q;Q--;)M=(_=1-(g=w[Q]))*_*_*e+3*_*_*g*i+3*_*g*g*r+g*g*g*s,b[0][Q]=M,S=_*_*_*A+3*_*_*g*n+3*_*g*g*o+g*g*g*a,b[1][Q]=S;b[0][F]=e,b[1][F]=A,b[0][F+1]=s,b[1][F+1]=a;var E=[{x:B.apply(null,b[0]),y:B.apply(null,b[1])},{x:y.apply(null,b[0]),y:y.apply(null,b[1])}];return I.cachesBoundsOfCurve&&(I.boundsOfCurveCache[c]=E),E}function s(t,e,A){for(var i=A[1],r=A[2],o=A[3],s=A[4],a=A[5],c=n(A[6]-t,A[7]-e,i,r,s,a,o),l=0,u=c.length;l<u;l++)c[l][1]+=t,c[l][2]+=e,c[l][3]+=t,c[l][4]+=e,c[l][5]+=t,c[l][6]+=e;return c}function a(t,e,A,i){return Math.sqrt((A-t)*(A-t)+(i-e)*(i-e))}function c(t,e,A,i,n,r,o,s){return function(a){var c,l=(c=a)*c*c,u=function(t){return 3*t*t*(1-t)}(a),h=function(t){return 3*t*(1-t)*(1-t)}(a),g=function(t){return(1-t)*(1-t)*(1-t)}(a);return{x:o*l+n*u+A*h+t*g,y:s*l+r*u+i*h+e*g}}}function l(t,e,A,i,n,r,o,s){return function(a){var c=1-a,l=3*c*c*(A-t)+6*c*a*(n-A)+3*a*a*(o-n),u=3*c*c*(i-e)+6*c*a*(r-i)+3*a*a*(s-r);return Math.atan2(u,l)}}function u(t,e,A,i,n,r){return function(o){var s,a=(s=o)*s,c=function(t){return 2*t*(1-t)}(o),l=function(t){return(1-t)*(1-t)}(o);return{x:n*a+A*c+t*l,y:r*a+i*c+e*l}}}function h(t,e,A,i,n,r){return function(o){var s=1-o,a=2*s*(A-t)+2*o*(n-A),c=2*s*(i-e)+2*o*(r-i);return Math.atan2(c,a)}}function g(t,e,A){var i,n,r={x:e,y:A},o=0;for(n=1;n<=100;n+=1)i=t(n/100),o+=a(r.x,r.y,i.x,i.y),r=i;return o}function f(t,e){for(var A,i,n,r=0,o=0,s=t.iterator,c={x:t.x,y:t.y},l=.01,u=t.angleFinder;o<e&&r<=1&&l>1e-4;)A=s(r),n=r,(i=a(c.x,c.y,A.x,A.y))+o>e?r-=l/=2:(c=A,r+=l,o+=i);return A.angle=u(n),A}function d(t){for(var e,A,i,n,r=0,o=t.length,s=0,f=0,d=0,p=0,v=[],m=0;m<o;m++){switch(i={x:s,y:f,command:(e=t[m])[0]},e[0]){case"M":i.length=0,d=s=e[1],p=f=e[2];break;case"L":i.length=a(s,f,e[1],e[2]),s=e[1],f=e[2];break;case"C":A=c(s,f,e[1],e[2],e[3],e[4],e[5],e[6]),n=l(s,f,e[1],e[2],e[3],e[4],e[5],e[6]),i.iterator=A,i.angleFinder=n,i.length=g(A,s,f),s=e[5],f=e[6];break;case"Q":A=u(s,f,e[1],e[2],e[3],e[4]),n=h(s,f,e[1],e[2],e[3],e[4]),i.iterator=A,i.angleFinder=n,i.length=g(A,s,f),s=e[3],f=e[4];break;case"Z":case"z":i.destX=d,i.destY=p,i.length=a(s,f,d,p),s=d,f=p}r+=i.length,v.push(i)}return v.push({length:r,x:s,y:f}),v}I.util.joinPath=function(t){return t.map(function(t){return t.join(" ")}).join(" ")},I.util.parsePath=function(t){var i,n,r,o,s,a=[],c=[],l=I.rePathCommand,u="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",h="("+u+")"+I.commaWsp,g="([01])"+I.commaWsp+"?",f=new RegExp(h+"?"+h+"?"+h+g+g+h+"?("+u+")","g");if(!t||!t.match)return a;for(var d,p=0,v=(s=t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi)).length;p<v;p++){o=(i=s[p]).slice(1).trim(),c.length=0;var m=i.charAt(0);if(d=[m],"a"===m.toLowerCase())for(var B;B=f.exec(o);)for(var y=1;y<B.length;y++)c.push(B[y]);else for(;r=l.exec(o);)c.push(r[0]);y=0;for(var C=c.length;y<C;y++)n=parseFloat(c[y]),isNaN(n)||d.push(n);var w=e[m.toLowerCase()],b=A[m]||m;if(d.length-1>w)for(var x=1,M=d.length;x<M;x+=w)a.push([m].concat(d.slice(x,x+w))),m=b;else a.push(d)}return a},I.util.makePathSimpler=function(t){var e,A,i,n,r,o,a=0,c=0,l=t.length,u=0,h=0,g=[];for(A=0;A<l;++A){switch(i=!1,(e=t[A].slice(0))[0]){case"l":e[0]="L",e[1]+=a,e[2]+=c;case"L":a=e[1],c=e[2];break;case"h":e[1]+=a;case"H":e[0]="L",e[2]=c,a=e[1];break;case"v":e[1]+=c;case"V":e[0]="L",c=e[1],e[1]=a,e[2]=c;break;case"m":e[0]="M",e[1]+=a,e[2]+=c;case"M":a=e[1],c=e[2],u=e[1],h=e[2];break;case"c":e[0]="C",e[1]+=a,e[2]+=c,e[3]+=a,e[4]+=c,e[5]+=a,e[6]+=c;case"C":r=e[3],o=e[4],a=e[5],c=e[6];break;case"s":e[0]="S",e[1]+=a,e[2]+=c,e[3]+=a,e[4]+=c;case"S":"C"===n?(r=2*a-r,o=2*c-o):(r=a,o=c),a=e[3],c=e[4],e[0]="C",e[5]=e[3],e[6]=e[4],e[3]=e[1],e[4]=e[2],e[1]=r,e[2]=o,r=e[3],o=e[4];break;case"q":e[0]="Q",e[1]+=a,e[2]+=c,e[3]+=a,e[4]+=c;case"Q":r=e[1],o=e[2],a=e[3],c=e[4];break;case"t":e[0]="T",e[1]+=a,e[2]+=c;case"T":"Q"===n?(r=2*a-r,o=2*c-o):(r=a,o=c),e[0]="Q",a=e[1],c=e[2],e[1]=r,e[2]=o,e[3]=a,e[4]=c;break;case"a":e[0]="A",e[6]+=a,e[7]+=c;case"A":i=!0,g=g.concat(s(a,c,e)),a=e[6],c=e[7];break;case"z":case"Z":a=u,c=h}i||g.push(e),n=e[0]}return g},I.util.getSmoothPathFromPoints=function(t,e){var A,i=[],n=new I.Point(t[0].x,t[0].y),r=new I.Point(t[1].x,t[1].y),o=t.length,s=1,a=0,c=o>2;for(e=e||0,c&&(s=t[2].x<r.x?-1:t[2].x===r.x?0:1,a=t[2].y<r.y?-1:t[2].y===r.y?0:1),i.push(["M",n.x-s*e,n.y-a*e]),A=1;A<o;A++){if(!n.eq(r)){var l=n.midPointFrom(r);i.push(["Q",n.x,n.y,l.x,l.y])}n=t[A],A+1<t.length&&(r=t[A+1])}return c&&(s=n.x>t[A-2].x?1:n.x===t[A-2].x?0:-1,a=n.y>t[A-2].y?1:n.y===t[A-2].y?0:-1),i.push(["L",n.x+s*e,n.y+a*e]),i},I.util.getPathSegmentsInfo=d,I.util.getBoundsOfCurve=o,I.util.getPointOnPath=function(t,e,A){A||(A=d(t));for(var i=0;e-A[i].length>0&&i<A.length-2;)e-=A[i].length,i++;var n,r=A[i],o=e/r.length,s=r.command,a=t[i];switch(s){case"M":return{x:r.x,y:r.y,angle:0};case"Z":case"z":return(n=new I.Point(r.x,r.y).lerp(new I.Point(r.destX,r.destY),o)).angle=Math.atan2(r.destY-r.y,r.destX-r.x),n;case"L":return(n=new I.Point(r.x,r.y).lerp(new I.Point(a[1],a[2]),o)).angle=Math.atan2(a[2]-r.y,a[1]-r.x),n;case"C":case"Q":return f(r,e)}},I.util.transformPath=function(t,e,A){return A&&(e=I.util.multiplyTransformMatrices(e,[1,0,0,1,-A.x,-A.y])),t.map(function(t){for(var A=t.slice(0),i={},n=1;n<t.length-1;n+=2)i.x=t[n],i.y=t[n+1],i=I.util.transformPoint(i,e),A[n]=i.x,A[n+1]=i.y;return A})},I.util.fromArcToBeizers=s,I.util.getBoundsOfArc=function(t,e,A,i,r,s,a,c,l){for(var u,h=0,g=0,f=[],d=n(c-t,l-e,A,i,s,a,r),p=0,v=d.length;p<v;p++)u=o(h,g,d[p][1],d[p][2],d[p][3],d[p][4],d[p][5],d[p][6]),f.push({x:u[0].x+t,y:u[0].y+e}),f.push({x:u[1].x+t,y:u[1].y+e}),h=d[p][5],g=d[p][6];return f},I.util.drawArc=function(t,e,A,i){s(e,A,i=i.slice(0).unshift("X")).forEach(function(e){t.bezierCurveTo.apply(t,e.slice(1))})}}(),function(){var t=Array.prototype.slice;function e(t,e,A){if(t&&0!==t.length){var i=t.length-1,n=e?t[i][e]:t[i];if(e)for(;i--;)A(t[i][e],n)&&(n=t[i][e]);else for(;i--;)A(t[i],n)&&(n=t[i]);return n}}I.util.array={fill:function(t,e){for(var A=t.length;A--;)t[A]=e;return t},invoke:function(e,A){for(var i=t.call(arguments,2),n=[],r=0,o=e.length;r<o;r++)n[r]=i.length?e[r][A].apply(e[r],i):e[r][A].call(e[r]);return n},min:function(t,A){return e(t,A,function(t,e){return t<e})},max:function(t,A){return e(t,A,function(t,e){return t>=e})}}}(),function(){function t(e,A,i){if(i)if(!I.isLikelyNode&&A instanceof Element)e=A;else if(A instanceof Array){e=[];for(var n=0,r=A.length;n<r;n++)e[n]=t({},A[n],i)}else if(A&&"object"==typeof A)for(var o in A)"canvas"===o||"group"===o?e[o]=null:A.hasOwnProperty(o)&&(e[o]=t({},A[o],i));else e=A;else for(var o in A)e[o]=A[o];return e}I.util.object={extend:t,clone:function(e,A){return t({},e,A)}},I.util.object.extend(I.util,I.Observable)}(),function(){function t(t,e){var A=t.charCodeAt(e);if(isNaN(A))return"";if(A<55296||A>57343)return t.charAt(e);if(55296<=A&&A<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var i=t.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1}I.util.string={camelize:function(t){return t.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var A,i=0,n=[];for(i=0;i<e.length;i++)!1!==(A=t(e,i))&&n.push(A);return n}}}(),function(){var t=Array.prototype.slice,e=function(){},A=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),i=function(t,e,i){for(var n in e)n in t.prototype&&"function"==typeof t.prototype[n]&&(e[n]+"").indexOf("callSuper")>-1?t.prototype[n]=function(t){return function(){var A=this.constructor.superclass;this.constructor.superclass=i;var n=e[t].apply(this,arguments);if(this.constructor.superclass=A,"initialize"!==t)return n}}(n):t.prototype[n]=e[n],A&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function n(){}function r(e){for(var A=null,i=this;i.constructor.superclass;){var n=i.constructor.superclass.prototype[e];if(i[e]!==n){A=n;break}i=i.constructor.superclass.prototype}if(A)return arguments.length>1?A.apply(this,t.call(arguments,1)):A.call(this)}I.util.createClass=function(){var A=null,o=t.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"==typeof o[0]&&(A=o.shift()),s.superclass=A,s.subclasses=[],A&&(n.prototype=A.prototype,s.prototype=new n,A.subclasses.push(s));for(var a=0,c=o.length;a<c;a++)i(s,o[a],A);return s.prototype.initialize||(s.prototype.initialize=e),s.prototype.constructor=s,s.prototype.callSuper=r,s}}(),c=!!I.document.createElement("div").attachEvent,l=["touchstart","touchmove","touchend"],I.util.addListener=function(t,e,A,i){t&&t.addEventListener(e,A,!c&&i)},I.util.removeListener=function(t,e,A,i){t&&t.removeEventListener(e,A,!c&&i)},I.util.getPointer=function(t){var e=t.target,A=I.util.getScrollLeftTop(e),i=function(t){var e=t.changedTouches;return e&&e[0]?e[0]:t}(t);return{x:i.clientX+A.left,y:i.clientY+A.top}},I.util.isTouchEvent=function(t){return l.indexOf(t.type)>-1||"touch"===t.pointerType},u=I.document.createElement("div"),h="string"==typeof u.style.opacity,g="string"==typeof u.style.filter,f=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,d=function(t){return t},h?d=function(t,e){return t.style.opacity=e,t}:g&&(d=function(t,e){var A=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(A.zoom=1),f.test(A.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",A.filter=A.filter.replace(f,e)):A.filter+=" alpha(opacity="+100*e+")",t}),I.util.setStyle=function(t,e){var A=t.style;if(!A)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?d(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var i in e)"opacity"===i?d(t,e[i]):A["float"===i||"cssFloat"===i?void 0===A.styleFloat?"cssFloat":"styleFloat":i]=e[i];return t},function(){var t,e,A,i,n=Array.prototype.slice,r=function(t){return n.call(t,0)};try{t=r(I.document.childNodes)instanceof Array}catch(a){}function o(t,e){var A=I.document.createElement(t);for(var i in e)"class"===i?A.className=e[i]:"for"===i?A.htmlFor=e[i]:A.setAttribute(i,e[i]);return A}function s(t){for(var e=0,A=0,i=I.document.documentElement,n=I.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===I.document?(e=n.scrollLeft||i.scrollLeft||0,A=n.scrollTop||i.scrollTop||0):(e+=t.scrollLeft||0,A+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:A}}t||(r=function(t){for(var e=new Array(t.length),A=t.length;A--;)e[A]=t[A];return e}),e=I.document.defaultView&&I.document.defaultView.getComputedStyle?function(t,e){var A=I.document.defaultView.getComputedStyle(t,null);return A?A[e]:void 0}:function(t,e){var A=t.style[e];return!A&&t.currentStyle&&(A=t.currentStyle[e]),A},A=I.document.documentElement.style,i="userSelect"in A?"userSelect":"MozUserSelect"in A?"MozUserSelect":"WebkitUserSelect"in A?"WebkitUserSelect":"KhtmlUserSelect"in A?"KhtmlUserSelect":"",I.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=I.util.falseFunction),i?t.style[i]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},I.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),i?t.style[i]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},I.util.setImageSmoothing=function(t,e){t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=e},I.util.getById=function(t){return"string"==typeof t?I.document.getElementById(t):t},I.util.toArray=r,I.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},I.util.makeElement=o,I.util.wrapElement=function(t,e,A){return"string"==typeof e&&(e=o(e,A)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},I.util.getScrollLeftTop=s,I.util.getElementOffset=function(t){var A,i,n=t&&t.ownerDocument,r={left:0,top:0},o={left:0,top:0},a={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!n)return o;for(var c in a)o[a[c]]+=parseInt(e(t,c),10)||0;return A=n.documentElement,void 0!==t.getBoundingClientRect&&(r=t.getBoundingClientRect()),i=s(t),{left:r.left+i.left-(A.clientLeft||0)+o.left,top:r.top+i.top-(A.clientTop||0)+o.top}},I.util.getNodeCanvas=function(t){var e=I.jsdomImplForWrapper(t);return e._canvas||e._image},I.util.cleanUpJsdomNode=function(t){if(I.isLikelyNode){var e=I.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}}(),function(){function t(){}I.util.request=function(e,A){A||(A={});var i=A.method?A.method.toUpperCase():"GET",n=A.onComplete||function(){},r=new I.window.XMLHttpRequest,o=A.body||A.parameters;return r.onreadystatechange=function(){4===r.readyState&&(n(r),r.onreadystatechange=t)},"GET"===i&&(o=null,"string"==typeof A.parameters&&(e=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(e,A.parameters))),r.open(i,e,!0),"POST"!==i&&"PUT"!==i||r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(o),r}}(),I.log=console.log,I.warn=console.warn,function(){function t(){return!1}function e(t,e,A,i){return-A*Math.cos(t/i*(Math.PI/2))+A+e}var A=I.window.requestAnimationFrame||I.window.webkitRequestAnimationFrame||I.window.mozRequestAnimationFrame||I.window.oRequestAnimationFrame||I.window.msRequestAnimationFrame||function(t){return I.window.setTimeout(t,1e3/60)},i=I.window.cancelAnimationFrame||I.window.clearTimeout;function n(){return A.apply(I.window,arguments)}I.util.animate=function(A){var i=!1;return n(function(r){A||(A={});var o,s=r||+new Date,a=A.duration||500,c=s+a,l=A.onChange||t,u=A.abort||t,h=A.onComplete||t,g=A.easing||e,f="startValue"in A?A.startValue:0,d="endValue"in A?A.endValue:100,p=A.byValue||d-f;A.onStart&&A.onStart(),function t(e){var A=(o=e||+new Date)>c?a:o-s,r=A/a,v=g(A,f,p,a),m=Math.abs((v-f)/p);if(!i){if(!u(v,m,r))return o>c?(l(d,1,1),void h(d,1,1)):(l(v,m,r),void n(t));h(d,1,1)}}(s)}),function(){i=!0}},I.util.requestAnimFrame=n,I.util.cancelAnimFrame=function(){return i.apply(I.window,arguments)}}(),function(){function t(t,e,A){var i="rgba("+parseInt(t[0]+A*(e[0]-t[0]),10)+","+parseInt(t[1]+A*(e[1]-t[1]),10)+","+parseInt(t[2]+A*(e[2]-t[2]),10);return i+=","+(t&&e?parseFloat(t[3]+A*(e[3]-t[3])):1),i+=")"}I.util.animateColor=function(e,A,i,n){var r=new I.Color(e).getSource(),o=new I.Color(A).getSource(),s=n.onComplete,a=n.onChange;return n=n||{},I.util.animate(I.util.object.extend(n,{duration:i||500,startValue:r,endValue:o,byValue:o,easing:function(e,A,i,r){return t(A,i,n.colorEasing?n.colorEasing(e,r):1-Math.cos(e/r*(Math.PI/2)))},onComplete:function(e,A,i){if(s)return s(t(o,o,0),A,i)},onChange:function(e,A,i){if(a){if(Array.isArray(e))return a(t(e,e,0),A,i);a(e,A,i)}}}))}}(),function(){function t(t,e,A,i){return t<Math.abs(e)?(t=e,i=A/4):i=0===e&&0===t?A/(2*Math.PI)*Math.asin(1):A/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:A,s:i}}function e(t,e,A){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*A-t.s)*(2*Math.PI)/t.p)}function A(t,e,A,n){return A-i(n-t,0,A,n)+e}function i(t,e,A,i){return(t/=i)<1/2.75?A*(7.5625*t*t)+e:t<2/2.75?A*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?A*(7.5625*(t-=2.25/2.75)*t+.9375)+e:A*(7.5625*(t-=2.625/2.75)*t+.984375)+e}I.util.ease={easeInQuad:function(t,e,A,i){return A*(t/=i)*t+e},easeOutQuad:function(t,e,A,i){return-A*(t/=i)*(t-2)+e},easeInOutQuad:function(t,e,A,i){return(t/=i/2)<1?A/2*t*t+e:-A/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,A,i){return A*(t/=i)*t*t+e},easeOutCubic:function(t,e,A,i){return A*((t=t/i-1)*t*t+1)+e},easeInOutCubic:function(t,e,A,i){return(t/=i/2)<1?A/2*t*t*t+e:A/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,A,i){return A*(t/=i)*t*t*t+e},easeOutQuart:function(t,e,A,i){return-A*((t=t/i-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,A,i){return(t/=i/2)<1?A/2*t*t*t*t+e:-A/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,A,i){return A*(t/=i)*t*t*t*t+e},easeOutQuint:function(t,e,A,i){return A*((t=t/i-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,A,i){return(t/=i/2)<1?A/2*t*t*t*t*t+e:A/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,A,i){return-A*Math.cos(t/i*(Math.PI/2))+A+e},easeOutSine:function(t,e,A,i){return A*Math.sin(t/i*(Math.PI/2))+e},easeInOutSine:function(t,e,A,i){return-A/2*(Math.cos(Math.PI*t/i)-1)+e},easeInExpo:function(t,e,A,i){return 0===t?e:A*Math.pow(2,10*(t/i-1))+e},easeOutExpo:function(t,e,A,i){return t===i?e+A:A*(1-Math.pow(2,-10*t/i))+e},easeInOutExpo:function(t,e,A,i){return 0===t?e:t===i?e+A:(t/=i/2)<1?A/2*Math.pow(2,10*(t-1))+e:A/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,A,i){return-A*(Math.sqrt(1-(t/=i)*t)-1)+e},easeOutCirc:function(t,e,A,i){return A*Math.sqrt(1-(t=t/i-1)*t)+e},easeInOutCirc:function(t,e,A,i){return(t/=i/2)<1?-A/2*(Math.sqrt(1-t*t)-1)+e:A/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(A,i,n,r){var o=0;return 0===A?i:1===(A/=r)?i+n:(o||(o=.3*r),-e(t(n,n,o,1.70158),A,r)+i)},easeOutElastic:function(e,A,i,n){var r=0;if(0===e)return A;if(1===(e/=n))return A+i;r||(r=.3*n);var o=t(i,i,r,1.70158);return o.a*Math.pow(2,-10*e)*Math.sin((e*n-o.s)*(2*Math.PI)/o.p)+o.c+A},easeInOutElastic:function(A,i,n,r){var o=0;if(0===A)return i;if(2==(A/=r/2))return i+n;o||(o=r*(.3*1.5));var s=t(n,n,o,1.70158);return A<1?-.5*e(s,A,r)+i:s.a*Math.pow(2,-10*(A-=1))*Math.sin((A*r-s.s)*(2*Math.PI)/s.p)*.5+s.c+i},easeInBack:function(t,e,A,i,n){return void 0===n&&(n=1.70158),A*(t/=i)*t*((n+1)*t-n)+e},easeOutBack:function(t,e,A,i,n){return void 0===n&&(n=1.70158),A*((t=t/i-1)*t*((n+1)*t+n)+1)+e},easeInOutBack:function(t,e,A,i,n){return void 0===n&&(n=1.70158),(t/=i/2)<1?A/2*(t*t*((1+(n*=1.525))*t-n))+e:A/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},easeInBounce:A,easeOutBounce:i,easeInOutBounce:function(t,e,n,r){return t<r/2?.5*A(2*t,0,n,r)+e:.5*i(2*t-r,0,n,r)+.5*n+e}}}(),function(t){var e=t.fabric||(t.fabric={}),A=e.util.object.extend,i=e.util.object.clone,n=e.util.toFixed,r=e.util.parseUnit,o=e.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},a={stroke:"strokeOpacity",fill:"fillOpacity"},c="font-size",l="clip-path";function u(t){return t in s?s[t]:t}function h(t,A,i,n){var s,a="[object Array]"===Object.prototype.toString.call(A);if("fill"!==t&&"stroke"!==t||"none"!==A){if("strokeUniform"===t)return"non-scaling-stroke"===A;if("strokeDashArray"===t)A="none"===A?null:A.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)A=i&&i.transformMatrix?o(i.transformMatrix,e.parseTransformAttribute(A)):e.parseTransformAttribute(A);else if("visible"===t)A="none"!==A&&"hidden"!==A,i&&!1===i.visible&&(A=!1);else if("opacity"===t)A=parseFloat(A),i&&void 0!==i.opacity&&(A*=i.opacity);else if("textAnchor"===t)A="start"===A?"left":"end"===A?"right":"center";else if("charSpacing"===t)s=r(A,n)/n*1e3;else if("paintFirst"===t){var c=A.indexOf("fill"),l=A.indexOf("stroke");A="fill",(c>-1&&l>-1&&l<c||-1===c&&l>-1)&&(A="stroke")}else{if("href"===t||"xlink:href"===t||"font"===t)return A;if("imageSmoothing"===t)return"optimizeQuality"===A;s=a?A.map(r):r(A,n)}}else A="";return!a&&isNaN(s)?A:s}function g(t){return new RegExp("^("+t.join("|")+")\\b","i")}function f(t,e){var A,i,n,r,o=[];for(n=0,r=e.length;n<r;n++)A=e[n],i=t.getElementsByTagName(A),o=o.concat(Array.prototype.slice.call(i));return o}function d(t,e){var A,i=!0;return(A=p(t,e.pop()))&&e.length&&(i=function(t,e){for(var A,i=!0;t.parentNode&&1===t.parentNode.nodeType&&e.length;)i&&(A=e.pop()),i=p(t=t.parentNode,A);return 0===e.length}(t,e)),A&&i&&0===e.length}function p(t,e){var A,i,n=t.nodeName,r=t.getAttribute("class"),o=t.getAttribute("id");if(A=new RegExp("^"+n,"i"),e=e.replace(A,""),o&&e.length&&(A=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),e=e.replace(A,"")),r&&e.length)for(i=(r=r.split(" ")).length;i--;)A=new RegExp("\\."+r[i]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(A,"");return 0===e.length}function v(t,e){var A;if(t.getElementById&&(A=t.getElementById(e)),A)return A;var i,n,r,o=t.getElementsByTagName("*");for(n=0,r=o.length;n<r;n++)if(e===(i=o[n]).getAttribute("id"))return i}e.svgValidTagNamesRegEx=g(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),e.svgViewBoxElementsRegEx=g(["symbol","image","marker","pattern","view","svg"]),e.svgInvalidAncestorsRegEx=g(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),e.svgValidParentsRegEx=g(["symbol","g","a","svg","clipPath","defs"]),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,A,i){t[i]=Math.tan(e.util.degreesToRadians(A[0]))}var A=e.iMatrix,i=e.reNum,n=e.commaWsp,r="(?:(?:(matrix)\\s*\\(\\s*("+i+")"+n+"("+i+")"+n+"("+i+")"+n+"("+i+")"+n+"("+i+")"+n+"("+i+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+i+")(?:"+n+"("+i+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+i+")(?:"+n+"("+i+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+i+")(?:"+n+"("+i+")"+n+"("+i+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+i+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+i+")\\s*\\)))",o=new RegExp("^\\s*(?:(?:"+r+"(?:"+n+"*"+r+")*)?)\\s*$"),s=new RegExp(r,"g");return function(i){var n=A.concat(),a=[];if(!i||i&&!o.test(i))return n;i.replace(s,function(i){var o=new RegExp(r).exec(i).filter(function(t){return!!t}),s=o[1],c=o.slice(2).map(parseFloat);switch(s){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(n,c);break;case"rotate":c[0]=e.util.degreesToRadians(c[0]),function(t,A){var i=e.util.cos(A[0]),n=e.util.sin(A[0]),r=0,o=0;3===A.length&&(r=A[1],o=A[2]),t[0]=i,t[1]=n,t[2]=-n,t[3]=i,t[4]=r-(i*r-n*o),t[5]=o-(n*r+i*o)}(n,c);break;case"scale":!function(t,e){var A=e[0],i=2===e.length?e[1]:e[0];t[0]=A,t[3]=i}(n,c);break;case"skewX":t(n,c,2);break;case"skewY":t(n,c,1);break;case"matrix":n=c}a.push(n.concat()),n=A.concat()});for(var c=a[0];a.length>1;)a.shift(),c=e.util.multiplyTransformMatrices(c,a[0]);return c}}();var m=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function B(t){if(!e.svgViewBoxElementsRegEx.test(t.nodeName))return{};var A,i,n,o,s,a,c=t.getAttribute("viewBox"),l=1,u=1,h=t.getAttribute("width"),g=t.getAttribute("height"),f=t.getAttribute("x")||0,d=t.getAttribute("y")||0,p=t.getAttribute("preserveAspectRatio")||"",v=!c||!(c=c.match(m)),B=!h||!g||"100%"===h||"100%"===g,y=v&&B,C={},w="",b=0,I=0;if(C.width=0,C.height=0,C.toBeParsed=y,v&&(f||d)&&t.parentNode&&"#document"!==t.parentNode.nodeName&&(w=" translate("+r(f)+" "+r(d)+") ",s=(t.getAttribute("transform")||"")+w,t.setAttribute("transform",s),t.removeAttribute("x"),t.removeAttribute("y")),y)return C;if(v)return C.width=r(h),C.height=r(g),C;if(A=-parseFloat(c[1]),i=-parseFloat(c[2]),n=parseFloat(c[3]),o=parseFloat(c[4]),C.minX=A,C.minY=i,C.viewBoxWidth=n,C.viewBoxHeight=o,B?(C.width=n,C.height=o):(C.width=r(h),C.height=r(g),l=C.width/n,u=C.height/o),"none"!==(p=e.util.parsePreserveAspectRatioAttribute(p)).alignX&&("meet"===p.meetOrSlice&&(u=l=l>u?u:l),"slice"===p.meetOrSlice&&(u=l=l>u?l:u),b=C.width-n*l,I=C.height-o*l,"Mid"===p.alignX&&(b/=2),"Mid"===p.alignY&&(I/=2),"Min"===p.alignX&&(b=0),"Min"===p.alignY&&(I=0)),1===l&&1===u&&0===A&&0===i&&0===f&&0===d)return C;if((f||d)&&"#document"!==t.parentNode.nodeName&&(w=" translate("+r(f)+" "+r(d)+") "),s=w+" matrix("+l+" 0 0 "+u+" "+(A*l+b)+" "+(i*u+I)+") ","svg"===t.nodeName){for(a=t.ownerDocument.createElementNS(e.svgNS,"g");t.firstChild;)a.appendChild(t.firstChild);t.appendChild(a)}else(a=t).removeAttribute("x"),a.removeAttribute("y"),s=a.getAttribute("transform")+s;return a.setAttribute("transform",s),C}function y(t,e){var A="xlink:href",i=v(t,e.getAttribute(A).substr(1));if(i&&i.getAttribute(A)&&y(t,i),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach(function(t){i&&!e.hasAttribute(t)&&i.hasAttribute(t)&&e.setAttribute(t,i.getAttribute(t))}),!e.children.length)for(var n=i.cloneNode(!0);n.firstChild;)e.appendChild(n.firstChild);e.removeAttribute(A)}e.parseSVGDocument=function(t,A,n,r){if(t){!function(t){for(var A=f(t,["use","svg:use"]),i=0;A.length&&i<A.length;){var n=A[i],r=n.getAttribute("xlink:href")||n.getAttribute("href");if(null===r)return;var o,s,a,c,l=r.substr(1),u=n.getAttribute("x")||0,h=n.getAttribute("y")||0,g=v(t,l).cloneNode(!0),d=(g.getAttribute("transform")||"")+" translate("+u+", "+h+")",p=A.length,m=e.svgNS;if(B(g),/^svg$/i.test(g.nodeName)){var y=g.ownerDocument.createElementNS(m,"g");for(s=0,c=(a=g.attributes).length;s<c;s++)o=a.item(s),y.setAttributeNS(m,o.nodeName,o.nodeValue);for(;g.firstChild;)y.appendChild(g.firstChild);g=y}for(s=0,c=(a=n.attributes).length;s<c;s++)"x"!==(o=a.item(s)).nodeName&&"y"!==o.nodeName&&"xlink:href"!==o.nodeName&&"href"!==o.nodeName&&("transform"===o.nodeName?d=o.nodeValue+" "+d:g.setAttribute(o.nodeName,o.nodeValue));g.setAttribute("transform",d),g.setAttribute("instantiated_by_use","1"),g.removeAttribute("id"),n.parentNode.replaceChild(g,n),A.length===p&&i++}}(t);var o,s,a=e.Object.__uid++,c=B(t),l=e.util.toArray(t.getElementsByTagName("*"));if(c.crossOrigin=r&&r.crossOrigin,c.svgUid=a,0===l.length&&e.isLikelyNode){var u=[];for(o=0,s=(l=t.selectNodes('//*[name(.)!="svg"]')).length;o<s;o++)u[o]=l[o];l=u}var h=l.filter(function(t){return B(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,e.svgInvalidAncestorsRegEx)});if(!h||h&&!h.length)A&&A([],{});else{var g={};l.filter(function(t){return"clipPath"===t.nodeName.replace("svg:","")}).forEach(function(t){var A=t.getAttribute("id");g[A]=e.util.toArray(t.getElementsByTagName("*")).filter(function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))})}),e.gradientDefs[a]=e.getGradientDefs(t),e.cssRules[a]=e.getCSSRules(t),e.clipPaths[a]=g,e.parseElements(h,function(t,i){A&&(A(t,c,i,l),delete e.gradientDefs[a],delete e.cssRules[a],delete e.clipPaths[a])},i(c),n,r)}}};var C=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");A(e,{parseFontDeclaration:function(t,e){var A=t.match(C);if(A){var i=A[1],n=A[3],o=A[4],s=A[5],a=A[6];i&&(e.fontStyle=i),n&&(e.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),o&&(e.fontSize=r(o)),a&&(e.fontFamily=a),s&&(e.lineHeight="normal"===s?1:s)}},getGradientDefs:function(t){var e,A=f(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),i=0,n={};for(i=A.length;i--;)(e=A[i]).getAttribute("xlink:href")&&y(t,e),n[e.getAttribute("id")]=e;return n},parseAttributes:function(t,i,o){if(t){var s,g,f,p={};void 0===o&&(o=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(p=e.parseAttributes(t.parentNode,i,o));var v=i.reduce(function(e,A){return(s=t.getAttribute(A))&&(e[A]=s),e},{}),m=A(function(t,A){var i={};for(var n in e.cssRules[A])if(d(t,n.split(" ")))for(var r in e.cssRules[A][n])i[r]=e.cssRules[A][n][r];return i}(t,o),e.parseStyleAttribute(t));v=A(v,m),m[l]&&t.setAttribute(l,m[l]),g=f=p.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,v[c]&&(v[c]=g=r(v[c],f));var B,y,C={};for(var w in v)y=h(B=u(w),v[w],p,g),C[B]=y;C&&C.font&&e.parseFontDeclaration(C.font,C);var b=A(p,C);return e.svgValidParentsRegEx.test(t.nodeName)?b:function(t){for(var A in a)if(void 0!==t[a[A]]&&""!==t[A]){if(void 0===t[A]){if(!e.Object.prototype[A])continue;t[A]=e.Object.prototype[A]}if(0!==t[A].indexOf("url(")){var i=new e.Color(t[A]);t[A]=i.setAlpha(n(i.getAlpha()*t[a[A]],2)).toRgba()}}return t}(b)}},parseElements:function(t,A,i,n,r){new e.ElementsParser(t,A,i,n,r).parse()},parseStyleAttribute:function(t){var e={},A=t.getAttribute("style");return A?("string"==typeof A?function(t,e){var A,i;t.replace(/;\s*$/,"").split(";").forEach(function(t){var n=t.split(":");A=n[0].trim().toLowerCase(),i=n[1].trim(),e[A]=i})}(A,e):function(t,e){var A,i;for(var n in t)void 0!==t[n]&&(A=n.toLowerCase(),i=t[n],e[A]=i)}(A,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,A,i=[];for(e=0,A=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<A;e+=2)i.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return i},getCSSRules:function(t){var A,i,n=t.getElementsByTagName("style"),r={};for(A=0,i=n.length;A<i;A++){var o=n[A].textContent;""!==(o=o.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&o.match(/[^{]*\{[\s\S]*?\}/g).map(function(t){return t.trim()}).forEach(function(t){var n=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),o={},s=n[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(A=0,i=s.length;A<i;A++){var a=s[A].split(/\s*:\s*/),c=a[0],l=a[1];o[c]=l}(t=n[1]).split(",").forEach(function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(r[t]?e.util.object.extend(r[t],o):r[t]=e.util.object.clone(o))})})}return r},loadSVGFromURL:function(t,A,i,n){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var r=t.responseXML;if(!r||!r.documentElement)return A&&A(null),!1;e.parseSVGDocument(r.documentElement,function(t,e,i,n){A&&A(t,e,i,n)},i,n)}})},loadSVGFromString:function(t,A,i,n){var r=(new e.window.DOMParser).parseFromString(t.trim(),"text/xml");e.parseSVGDocument(r.documentElement,function(t,e,i,n){A(t,e,i,n)},i,n)}})}(e),I.ElementsParser=function(t,e,A,i,n,r){this.elements=t,this.callback=e,this.options=A,this.reviver=i,this.svgUid=A&&A.svgUid||0,this.parsingOptions=n,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=r},(p=I.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},p.createObjects=function(){var t=this;this.elements.forEach(function(e,A){e.setAttribute("svgUid",t.svgUid),t.createObject(e,A)})},p.findTag=function(t){return I[I.util.string.capitalize(t.tagName.replace("svg:",""))]},p.createObject=function(t,e){var A=this.findTag(t);if(A&&A.fromElement)try{A.fromElement(t,this.createCallback(e,t),this.options)}catch(i){I.log(i)}else this.checkIfDone()},p.createCallback=function(t,e){var A=this;return function(i){var n;A.resolveGradient(i,e,"fill"),A.resolveGradient(i,e,"stroke"),i instanceof I.Image&&i._originalElement&&(n=i.parsePreserveAspectRatioAttribute(e)),i._removeTransformMatrix(n),A.resolveClipPath(i,e),A.reviver&&A.reviver(e,i),A.instances[t]=i,A.checkIfDone()}},p.extractPropertyDefinition=function(t,e,A){var i=t[e],n=this.regexUrl;if(n.test(i)){n.lastIndex=0;var r=n.exec(i)[1];return n.lastIndex=0,I[A][this.svgUid][r]}},p.resolveGradient=function(t,e,A){var i=this.extractPropertyDefinition(t,A,"gradientDefs");if(i){var n=e.getAttribute(A+"-opacity"),r=I.Gradient.fromElement(i,t,n,this.options);t.set(A,r)}},p.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},p.resolveClipPath=function(t,e){var A,i,n,r,o=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(o){n=[],i=I.util.invertTransform(t.calcTransformMatrix());for(var s=o[0].parentNode,a=e;a.parentNode&&a.getAttribute("clip-path")!==t.clipPath;)a=a.parentNode;a.parentNode.appendChild(s);for(var c=0;c<o.length;c++)A=o[c],this.findTag(A).fromElement(A,this.createClipPathCallback(t,n),this.options);o=1===n.length?n[0]:new I.Group(n),r=I.util.multiplyTransformMatrices(i,o.calcTransformMatrix()),o.clipPath&&this.resolveClipPath(o,a);var l=I.util.qrDecompose(r);o.flipX=!1,o.flipY=!1,o.set("scaleX",l.scaleX),o.set("scaleY",l.scaleY),o.angle=l.angle,o.skewX=l.skewX,o.skewY=0,o.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),t.clipPath=o}else delete t.clipPath},p.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter(function(t){return null!=t}),this.callback(this.instances,this.elements))},function(t){var e=t.fabric||(t.fabric={});function A(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=A,A.prototype={type:"point",constructor:A,add:function(t){return new A(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new A(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new A(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new A(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new A(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new A(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new A(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,A=this.y-t.y;return Math.sqrt(e*e+A*A)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new A(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new A(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,A=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=A},clone:function(){return new A(this.x,this.y)}})}(e),function(t){var e=t.fabric||(t.fabric={});function A(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=A,e.Intersection.prototype={constructor:A,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,i,n,r){var o,s=(r.x-n.x)*(t.y-n.y)-(r.y-n.y)*(t.x-n.x),a=(i.x-t.x)*(t.y-n.y)-(i.y-t.y)*(t.x-n.x),c=(r.y-n.y)*(i.x-t.x)-(r.x-n.x)*(i.y-t.y);if(0!==c){var l=s/c,u=a/c;0<=l&&l<=1&&0<=u&&u<=1?(o=new A("Intersection")).appendPoint(new e.Point(t.x+l*(i.x-t.x),t.y+l*(i.y-t.y))):o=new A}else o=new A(0===s||0===a?"Coincident":"Parallel");return o},e.Intersection.intersectLinePolygon=function(t,e,i){var n,r,o,s,a=new A,c=i.length;for(s=0;s<c;s++)n=i[s],r=i[(s+1)%c],o=A.intersectLineLine(t,e,n,r),a.appendPoints(o.points);return a.points.length>0&&(a.status="Intersection"),a},e.Intersection.intersectPolygonPolygon=function(t,e){var i,n=new A,r=t.length;for(i=0;i<r;i++){var o=t[i],s=t[(i+1)%r],a=A.intersectLinePolygon(o,s,e);n.appendPoints(a.points)}return n.points.length>0&&(n.status="Intersection"),n},e.Intersection.intersectPolygonRectangle=function(t,i,n){var r=i.min(n),o=i.max(n),s=new e.Point(o.x,r.y),a=new e.Point(r.x,o.y),c=A.intersectLinePolygon(r,s,t),l=A.intersectLinePolygon(s,o,t),u=A.intersectLinePolygon(o,a,t),h=A.intersectLinePolygon(a,r,t),g=new A;return g.appendPoints(c.points),g.appendPoints(l.points),g.appendPoints(u.points),g.appendPoints(h.points),g.points.length>0&&(g.status="Intersection"),g})}(e),function(t){var e=t.fabric||(t.fabric={});function A(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function i(t,e,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?t+6*(e-t)*A:A<.5?e:A<2/3?t+(e-t)*(2/3-A)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=A,e.Color.prototype={_tryParsingColor:function(t){var e;t in A.colorNameMap&&(t=A.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=A.sourceFromHex(t)),e||(e=A.sourceFromRgb(t)),e||(e=A.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,A,i){t/=255,A/=255,i/=255;var n,r,o,s=e.util.array.max([t,A,i]),a=e.util.array.min([t,A,i]);if(o=(s+a)/2,s===a)n=r=0;else{var c=s-a;switch(r=o>.5?c/(2-s-a):c/(s+a),s){case t:n=(A-i)/c+(A<i?6:0);break;case A:n=(i-t)/c+2;break;case i:n=(t-A)/c+4}n/=6}return[Math.round(360*n),Math.round(100*r),Math.round(100*o)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,A,i=this.getSource();return t=1===(t=i[0].toString(16)).length?"0"+t:t,e=1===(e=i[1].toString(16)).length?"0"+e:e,A=1===(A=i[2].toString(16)).length?"0"+A:A,t.toUpperCase()+e.toUpperCase()+A.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),A=t[3];return this.setSource([e,e,e,A]),this},toBlackWhite:function(t){var e=this.getSource(),A=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),i=e[3];return t=t||127,A=Number(A)<Number(t)?0:255,this.setSource([A,A,A,i]),this},overlayWith:function(t){t instanceof A||(t=new A(t));var e,i=[],n=this.getAlpha(),r=this.getSource(),o=t.getSource();for(e=0;e<3;e++)i.push(Math.round(.5*r[e]+.5*o[e]));return i[3]=n,this.setSource(i),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return A.fromSource(A.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(A.reRGBa);if(e){var i=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),n=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),r=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(i,10),parseInt(n,10),parseInt(r,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=A.fromRgb,e.Color.fromHsl=function(t){return A.fromSource(A.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(A.reHSLa);if(e){var n,r,o,s=(parseFloat(e[1])%360+360)%360/360,a=parseFloat(e[2])/(/%$/.test(e[2])?100:1),c=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===a)n=r=o=c;else{var l=c<=.5?c*(a+1):c+a-c*a,u=2*c-l;n=i(u,l,s+1/3),r=i(u,l,s),o=i(u,l,s-1/3)}return[Math.round(255*n),Math.round(255*r),Math.round(255*o),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=A.fromHsl,e.Color.fromHex=function(t){return A.fromSource(A.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(A.reHex)){var e=t.slice(t.indexOf("#")+1),i=3===e.length||4===e.length,n=8===e.length||4===e.length,r=i?e.charAt(0)+e.charAt(0):e.substring(0,2),o=i?e.charAt(1)+e.charAt(1):e.substring(2,4),s=i?e.charAt(2)+e.charAt(2):e.substring(4,6),a=n?i?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(r,16),parseInt(o,16),parseInt(s,16),parseFloat((parseInt(a,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new A;return e.setSource(t),e})}(e),function(t){var e=t.fabric||(t.fabric={}),A=["e","se","s","sw","w","nw","n","ne","e"],i=["ns","nesw","ew","nwse"],n={},r="left",o="top",s="right",a="bottom",c="center",l={top:a,bottom:o,left:s,right:r,center:c},u=e.util.radiansToDegrees,h=Math.sign||function(t){return(t>0)-(t<0)||+t};function g(t,e){var A=t.angle+u(Math.atan2(e.y,e.x))+360;return Math.round(A%360/45)}function f(t,A){var i=A.transform.target,n=i.canvas,r=e.util.object.clone(A);r.target=i,n&&n.fire("object:"+t,r),i.fire(t,A)}function d(t,e){var A=e.canvas,i=t[A.uniScaleKey];return A.uniformScaling&&!i||!A.uniformScaling&&i}function p(t){return t.originX===c&&t.originY===c}function v(t,e,A){var i=t.lockScalingX,n=t.lockScalingY;return!((!i||!n)&&(e||!i&&!n||!A)&&(!i||"x"!==e)&&(!n||"y"!==e))}function m(t,e,A,i){return{e:t,transform:e,pointer:{x:A,y:i}}}function B(t){return function(e,A,i,n){var r=A.target,o=r.getCenterPoint(),s=r.translateToOriginPoint(o,A.originX,A.originY),a=t(e,A,i,n);return r.setPositionByOrigin(s,A.originX,A.originY),a}}function y(t,e){return function(A,i,n,r){var o=e(A,i,n,r);return o&&f(t,m(A,i,n,r)),o}}function C(t,A,i,n,r){var o=t.target,s=o.controls[t.corner],a=o.canvas.getZoom(),c=o.padding/a,l=o.toLocalPoint(new e.Point(n,r),A,i);return l.x>=c&&(l.x-=c),l.x<=-c&&(l.x+=c),l.y>=c&&(l.y-=c),l.y<=c&&(l.y+=c),l.x-=s.offsetX,l.y-=s.offsetY,l}function w(t){return t.flipX!==t.flipY}function b(t,e,A,i,n){if(0!==t[e]){var r=n/t._getTransformedDimensions()[i]*t[A];t.set(A,r)}}function I(t,e,A,i){var n,c=e.target,l=c._getTransformedDimensions(0,c.skewY),h=C(e,e.originX,e.originY,A,i),g=Math.abs(2*h.x)-l.x,f=c.skewX;g<2?n=0:(n=u(Math.atan2(g/c.scaleX,l.y/c.scaleY)),e.originX===r&&e.originY===a&&(n=-n),e.originX===s&&e.originY===o&&(n=-n),w(c)&&(n=-n));var d=f!==n;if(d){var p=c._getTransformedDimensions().y;c.set("skewX",n),b(c,"skewY","scaleY","y",p)}return d}function x(t,e,A,i){var n,c=e.target,l=c._getTransformedDimensions(c.skewX,0),h=C(e,e.originX,e.originY,A,i),g=Math.abs(2*h.y)-l.y,f=c.skewY;g<2?n=0:(n=u(Math.atan2(g/c.scaleY,l.x/c.scaleX)),e.originX===r&&e.originY===a&&(n=-n),e.originX===s&&e.originY===o&&(n=-n),w(c)&&(n=-n));var d=f!==n;if(d){var p=c._getTransformedDimensions().x;c.set("skewY",n),b(c,"skewX","scaleX","x",p)}return d}function M(t,e,A,i,n){n=n||{};var r,o,s,a,c,u,g=e.target,f=g.lockScalingX,m=g.lockScalingY,B=n.by,y=d(t,g),w=v(g,B,y),b=e.gestureScale;if(w)return!1;if(b)o=e.scaleX*b,s=e.scaleY*b;else{if(r=C(e,e.originX,e.originY,A,i),c="y"!==B?h(r.x):1,u="x"!==B?h(r.y):1,e.signX||(e.signX=c),e.signY||(e.signY=u),g.lockScalingFlip&&(e.signX!==c||e.signY!==u))return!1;if(a=g._getTransformedDimensions(),y&&!B){var I=Math.abs(r.x)+Math.abs(r.y),x=e.original,M=I/(Math.abs(a.x*x.scaleX/g.scaleX)+Math.abs(a.y*x.scaleY/g.scaleY));o=x.scaleX*M,s=x.scaleY*M}else o=Math.abs(r.x*g.scaleX/a.x),s=Math.abs(r.y*g.scaleY/a.y);p(e)&&(o*=2,s*=2),e.signX!==c&&"y"!==B&&(e.originX=l[e.originX],o*=-1,e.signX=c),e.signY!==u&&"x"!==B&&(e.originY=l[e.originY],s*=-1,e.signY=u)}var S=g.scaleX,_=g.scaleY;return B?("x"===B&&g.set("scaleX",o),"y"===B&&g.set("scaleY",s)):(!f&&g.set("scaleX",o),!m&&g.set("scaleY",s)),S!==g.scaleX||_!==g.scaleY}n.scaleCursorStyleHandler=function(t,e,i){var n=d(t,i),r="";if(0!==e.x&&0===e.y?r="x":0===e.x&&0!==e.y&&(r="y"),v(i,r,n))return"not-allowed";var o=g(i,e);return A[o]+"-resize"},n.skewCursorStyleHandler=function(t,e,A){var n="not-allowed";if(0!==e.x&&A.lockSkewingY)return n;if(0!==e.y&&A.lockSkewingX)return n;var r=g(A,e)%4;return i[r]+"-resize"},n.scaleSkewCursorStyleHandler=function(t,e,A){return t[A.canvas.altActionKey]?n.skewCursorStyleHandler(t,e,A):n.scaleCursorStyleHandler(t,e,A)},n.rotationWithSnapping=y("rotating",B(function(t,e,A,i){var n=e,r=n.target,o=r.translateToOriginPoint(r.getCenterPoint(),n.originX,n.originY);if(r.lockRotation)return!1;var s,a=Math.atan2(n.ey-o.y,n.ex-o.x),c=Math.atan2(i-o.y,A-o.x),l=u(c-a+n.theta);if(r.snapAngle>0){var h=r.snapAngle,g=r.snapThreshold||h,f=Math.ceil(l/h)*h,d=Math.floor(l/h)*h;Math.abs(l-d)<g?l=d:Math.abs(l-f)<g&&(l=f)}return l<0&&(l=360+l),l%=360,s=r.angle!==l,r.angle=l,s})),n.scalingEqually=y("scaling",B(function(t,e,A,i){return M(t,e,A,i)})),n.scalingX=y("scaling",B(function(t,e,A,i){return M(t,e,A,i,{by:"x"})})),n.scalingY=y("scaling",B(function(t,e,A,i){return M(t,e,A,i,{by:"y"})})),n.scalingYOrSkewingX=function(t,e,A,i){return t[e.target.canvas.altActionKey]?n.skewHandlerX(t,e,A,i):n.scalingY(t,e,A,i)},n.scalingXOrSkewingY=function(t,e,A,i){return t[e.target.canvas.altActionKey]?n.skewHandlerY(t,e,A,i):n.scalingX(t,e,A,i)},n.changeWidth=y("resizing",B(function(t,e,A,i){var n=e.target,r=C(e,e.originX,e.originY,A,i),o=n.strokeWidth/(n.strokeUniform?n.scaleX:1),s=p(e)?2:1,a=n.width,c=Math.abs(r.x*s/n.scaleX)-o;return n.set("width",Math.max(c,0)),a!==c})),n.skewHandlerX=function(t,e,A,i){var n,a=e.target,l=a.skewX,u=e.originY;return!a.lockSkewingX&&(0===l?n=C(e,c,c,A,i).x>0?r:s:(l>0&&(n=u===o?r:s),l<0&&(n=u===o?s:r),w(a)&&(n=n===r?s:r)),e.originX=n,y("skewing",B(I))(t,e,A,i))},n.skewHandlerY=function(t,e,A,i){var n,s=e.target,l=s.skewY,u=e.originX;return!s.lockSkewingY&&(0===l?n=C(e,c,c,A,i).y>0?o:a:(l>0&&(n=u===r?o:a),l<0&&(n=u===r?a:o),w(s)&&(n=n===o?a:o)),e.originY=n,y("skewing",B(x))(t,e,A,i))},n.dragHandler=function(t,e,A,i){var n=e.target,r=A-e.offsetX,o=i-e.offsetY,s=!n.get("lockMovementX")&&n.left!==r,a=!n.get("lockMovementY")&&n.top!==o;return s&&n.set("left",r),a&&n.set("top",o),(s||a)&&f("moving",m(t,e,A,i)),s||a},n.scaleOrSkewActionName=function(t,e,A){var i=t[A.canvas.altActionKey];return 0===e.x?i?"skewX":"scaleY":0===e.y?i?"skewY":"scaleX":void 0},n.rotationStyleHandler=function(t,e,A){return A.lockRotation?"not-allowed":e.cursorStyle},n.fireEvent=f,n.wrapWithFixedAnchor=B,n.wrapWithFireEvent=y,n.getLocalPoint=C,e.controlsUtils=n}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.util.degreesToRadians,i=e.controlsUtils;i.renderCircleControl=function(t,e,A,i,n){i=i||{};var r,o=this.sizeX||i.cornerSize||n.cornerSize,s=this.sizeY||i.cornerSize||n.cornerSize,a=void 0!==i.transparentCorners?i.transparentCorners:n.transparentCorners,c=a?"stroke":"fill",l=!a&&(i.cornerStrokeColor||n.cornerStrokeColor),u=e,h=A;t.save(),t.fillStyle=i.cornerColor||n.cornerColor,t.strokeStyle=i.cornerStrokeColor||n.cornerStrokeColor,o>s?(r=o,t.scale(1,s/o),h=A*o/s):s>o?(r=s,t.scale(o/s,1),u=e*s/o):r=o,t.lineWidth=1,t.beginPath(),t.arc(u,h,r/2,0,2*Math.PI,!1),t[c](),l&&t.stroke(),t.restore()},i.renderSquareControl=function(t,e,i,n,r){n=n||{};var o=this.sizeX||n.cornerSize||r.cornerSize,s=this.sizeY||n.cornerSize||r.cornerSize,a=void 0!==n.transparentCorners?n.transparentCorners:r.transparentCorners,c=a?"stroke":"fill",l=!a&&(n.cornerStrokeColor||r.cornerStrokeColor),u=o/2,h=s/2;t.save(),t.fillStyle=n.cornerColor||r.cornerColor,t.strokeStyle=n.cornerStrokeColor||r.cornerStrokeColor,t.lineWidth=1,t.translate(e,i),t.rotate(A(r.angle)),t[c+"Rect"](-u,-h,o,s),l&&t.strokeRect(-u,-h,o,s),t.restore()}}(e),function(t){var e=t.fabric||(t.fabric={});e.Control=function(t){for(var e in t)this[e]=t[e]},e.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(t,e){return e.cursorStyle},getActionName:function(t,e){return e.actionName},getVisibility:function(t,e){var A=t._controlsVisibility;return A&&void 0!==A[e]?A[e]:this.visible},setVisibility:function(t){this.visible=t},positionHandler:function(t,A){return e.util.transformPoint({x:this.x*t.x+this.offsetX,y:this.y*t.y+this.offsetY},A)},calcCornerCoords:function(t,A,i,n,r){var o,s,a,c,l=r?this.touchSizeX:this.sizeX,u=r?this.touchSizeY:this.sizeY;if(l&&u&&l!==u){var h=Math.atan2(u,l),g=Math.sqrt(l*l+u*u)/2,f=h-e.util.degreesToRadians(t),d=Math.PI/2-h-e.util.degreesToRadians(t);o=g*e.util.cos(f),s=g*e.util.sin(f),a=g*e.util.cos(d),c=g*e.util.sin(d)}else g=.7071067812*(l&&u?l:A),f=e.util.degreesToRadians(45-t),o=a=g*e.util.cos(f),s=c=g*e.util.sin(f);return{tl:{x:i-c,y:n-a},tr:{x:i+o,y:n-s},bl:{x:i-o,y:n+s},br:{x:i+c,y:n+a}}},render:function(t,A,i,n,r){"circle"===((n=n||{}).cornerStyle||r.cornerStyle)?e.controlsUtils.renderCircleControl.call(this,t,A,i,n,r):e.controlsUtils.renderSquareControl.call(this,t,A,i,n,r)}}}(e),function(){function t(t,e){var A,i,n,r,o=t.getAttribute("style"),s=t.getAttribute("offset")||0;if(s=(s=parseFloat(s)/(/%$/.test(s)?100:1))<0?0:s>1?1:s,o){var a=o.split(/\s*;\s*/);for(""===a[a.length-1]&&a.pop(),r=a.length;r--;){var c=a[r].split(/\s*:\s*/),l=c[0].trim(),u=c[1].trim();"stop-color"===l?A=u:"stop-opacity"===l&&(n=u)}}return A||(A=t.getAttribute("stop-color")||"rgb(0,0,0)"),n||(n=t.getAttribute("stop-opacity")),i=(A=new I.Color(A)).getAlpha(),n=isNaN(parseFloat(n))?1:parseFloat(n),n*=i*e,{offset:s,color:A.toRgb(),opacity:n}}var e=I.util.object.clone;I.Gradient=I.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(t){t||(t={}),t.coords||(t.coords={});var e,A=this;Object.keys(t).forEach(function(e){A[e]=t[e]}),this.id?this.id+="_"+I.Object.__uid++:this.id=I.Object.__uid++,e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice()},addColorStop:function(t){for(var e in t){var A=new I.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:A.toRgb(),opacity:A.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return I.util.populateWithProperties(this,e,t),e},toSVG:function(t,A){var i,n,r,o,s=e(this.coords,!0),a=(A=A||{},e(this.colorStops,!0)),c=s.r1>s.r2,l=this.gradientTransform?this.gradientTransform.concat():I.iMatrix.concat(),u=-this.offsetX,h=-this.offsetY,g=!!A.additionalTransform,f="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(a.sort(function(t,e){return t.offset-e.offset}),"objectBoundingBox"===f?(u/=t.width,h/=t.height):(u+=t.width/2,h+=t.height/2),"path"===t.type&&"percentage"!==this.gradientUnits&&(u-=t.pathOffset.x,h-=t.pathOffset.y),l[4]-=u,l[5]-=h,o='id="SVGID_'+this.id+'" gradientUnits="'+f+'"',o+=' gradientTransform="'+(g?A.additionalTransform+" ":"")+I.util.matrixToSVG(l)+'" ',"linear"===this.type?r=["<linearGradient ",o,' x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,'">\n']:"radial"===this.type&&(r=["<radialGradient ",o,' cx="',c?s.x1:s.x2,'" cy="',c?s.y1:s.y2,'" r="',c?s.r1:s.r2,'" fx="',c?s.x2:s.x1,'" fy="',c?s.y2:s.y1,'">\n']),"radial"===this.type){if(c)for((a=a.concat()).reverse(),i=0,n=a.length;i<n;i++)a[i].offset=1-a[i].offset;var d=Math.min(s.r1,s.r2);if(d>0){var p=d/Math.max(s.r1,s.r2);for(i=0,n=a.length;i<n;i++)a[i].offset+=p*(1-a[i].offset)}}for(i=0,n=a.length;i<n;i++){var v=a[i];r.push("<stop ",'offset="',100*v.offset+"%",'" style="stop-color:',v.color,void 0!==v.opacity?";stop-opacity: "+v.opacity:";",'"/>\n')}return r.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),r.join("")},toLive:function(t){var e,A,i,n=I.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(n.x1,n.y1,n.x2,n.y2):"radial"===this.type&&(e=t.createRadialGradient(n.x1,n.y1,n.r1,n.x2,n.y2,n.r2)),A=0,i=this.colorStops.length;A<i;A++){var r=this.colorStops[A].color,o=this.colorStops[A].opacity,s=this.colorStops[A].offset;void 0!==o&&(r=new I.Color(r).setAlpha(o).toRgba()),e.addColorStop(s,r)}return e}}}),I.util.object.extend(I.Gradient,{fromElement:function(e,A,i,n){var r=parseFloat(i)/(/%$/.test(i)?100:1);r=r<0?0:r>1?1:r,isNaN(r)&&(r=1);var o,s,a,c,l=e.getElementsByTagName("stop"),u="userSpaceOnUse"===e.getAttribute("gradientUnits")?"pixels":"percentage",h=e.getAttribute("gradientTransform")||"",g=[],f=0,d=0;for("linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?(o="linear",s=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e)):(o="radial",s=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),a=l.length;a--;)g.push(t(l[a],r));return c=I.parseTransformAttribute(h),function(t,e,A,i){var n,r;Object.keys(e).forEach(function(t){"Infinity"===(n=e[t])?r=1:"-Infinity"===n?r=0:(r=parseFloat(e[t],10),"string"==typeof n&&/^(\d+\.\d+)%|(\d+)%$/.test(n)&&(r*=.01,"pixels"===i&&("x1"!==t&&"x2"!==t&&"r2"!==t||(r*=A.viewBoxWidth||A.width),"y1"!==t&&"y2"!==t||(r*=A.viewBoxHeight||A.height)))),e[t]=r})}(0,s,n,u),"pixels"===u&&(f=-A.left,d=-A.top),new I.Gradient({id:e.getAttribute("id"),type:o,coords:s,colorStops:g,gradientUnits:u,gradientTransform:c,offsetX:f,offsetY:d})}})}(),v=I.util.toFixed,I.Pattern=I.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=I.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else{var A=this;this.source=I.util.createImage(),I.util.loadImage(t.source,function(t,i){A.source=t,e&&e(A,i)},null,this.crossOrigin)}},toObject:function(t){var e,A,i=I.Object.NUM_FRACTION_DIGITS;return"string"==typeof this.source.src?e=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(e=this.source.toDataURL()),A={type:"pattern",source:e,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:v(this.offsetX,i),offsetY:v(this.offsetY,i),patternTransform:this.patternTransform?this.patternTransform.concat():null},I.util.populateWithProperties(this,A,t),A},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,A=e.width/t.width,i=e.height/t.height,n=this.offsetX/t.width,r=this.offsetY/t.height,o="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(i=1,r&&(i+=Math.abs(r))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(A=1,n&&(A+=Math.abs(n))),e.src?o=e.src:e.toDataURL&&(o=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+n+'" y="'+r+'" width="'+A+'" height="'+i+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+o+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e=this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}}),function(t){var e=t.fabric||(t.fabric={}),A=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(t){for(var A in"string"==typeof t&&(t=this._parseShadow(t)),t)this[A]=t[A];this.id=e.Object.__uid++},_parseShadow:function(t){var A=t.trim(),i=e.Shadow.reOffsetsAndBlur.exec(A)||[];return{color:(A.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseFloat(i[1],10)||0,offsetY:parseFloat(i[2],10)||0,blur:parseFloat(i[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var i=40,n=40,r=e.Object.NUM_FRACTION_DIGITS,o=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),s=new e.Color(this.color);return t.width&&t.height&&(i=100*A((Math.abs(o.x)+this.blur)/t.width,r)+20,n=100*A((Math.abs(o.y)+this.blur)/t.height,r)+20),t.flipX&&(o.x*=-1),t.flipY&&(o.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+n+'%" height="'+(100+2*n)+'%" x="-'+i+'%" width="'+(100+2*i)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+A(this.blur?this.blur/2:0,r)+'"></feGaussianBlur>\n\t<feOffset dx="'+A(o.x,r)+'" dy="'+A(o.y,r)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var t={},A=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(e){this[e]!==A[e]&&(t[e]=this[e])},this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){if(I.StaticCanvas)I.warn("fabric.StaticCanvas is already defined.");else{var t=I.util.object.extend,e=I.util.getElementOffset,A=I.util.removeFromArray,i=I.util.toFixed,n=I.util.transformPoint,r=I.util.invertTransform,o=I.util.getNodeCanvas,s=I.util.createCanvasElement,a=new Error("Could not initialize `canvas` element");I.StaticCanvas=I.util.createClass(I.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:I.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var A=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,A),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,A),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,A),e.overlayColor&&this.setOverlayColor(e.overlayColor,A),this.calcOffset()},_isRetinaScaling:function(){return 1!==I.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?I.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var t=I.devicePixelRatio;this.__initRetinaScaling(t,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(t,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(t,e,A){e.setAttribute("width",this.width*t),e.setAttribute("height",this.height*t),A.scale(t,t)},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,A){return this.__setBgOverlayImage("overlayImage",t,e,A)},setBackgroundImage:function(t,e,A){return this.__setBgOverlayImage("backgroundImage",t,e,A)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},__setBgOverlayImage:function(t,e,A,i){return"string"==typeof e?I.util.loadImage(e,function(e,n){if(e){var r=new I.Image(e,i);this[t]=r,r.canvas=this}A&&A(e,n)},this,i&&i.crossOrigin):(i&&e.setOptions(i),this[t]=e,e&&(e.canvas=this),A&&A(e,!1)),this},__setBgOverlayColor:function(t,e,A){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,A),this},_createCanvasElement:function(){var t=s();if(!t)throw a;if(t.style||(t.style={}),void 0===t.getContext)throw a;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=I.util.getById(t)||this._createCanvasElement(),I.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var A;for(var i in e=e||{},t)A=t[i],e.cssOnly||(this._setBackstoreDimension(i,t[i]),A+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(i,A);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,A,i,n=this._activeObject,r=this.backgroundImage,o=this.overlayImage;for(this.viewportTransform=t,A=0,i=this._objects.length;A<i;A++)(e=this._objects[A]).group||e.setCoords(!0);return n&&n.setCoords(),r&&r.setCoords(!0),o&&o.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var A=t,i=this.viewportTransform.slice(0);t=n(t,r(this.viewportTransform)),i[0]=e,i[3]=e;var o=n(t,i);return i[4]+=A.x-o.x,i[5]+=A.y-o.y,this.setViewportTransform(i)},setZoom:function(t){return this.zoomToPoint(new I.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new I.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=I.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,A=this.height,i=r(this.viewportTransform);return t.tl=n({x:0,y:0},i),t.br=n({x:e,y:A},i),t.tr=new I.Point(t.br.x,t.tl.y),t.bl=new I.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(I.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var A=this.viewportTransform,i=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),I.util.setImageSmoothing(t,this.imageSmoothingEnabled),this.fire("before:render",{ctx:t}),this._renderBackground(t),t.save(),t.transform(A[0],A[1],A[2],A[3],A[4],A[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),i&&(i.canvas=this,i.shouldCache(),i._transformDone=!0,i.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,A=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",A.transform(t),t.scale(1/A.zoomX,1/A.zoomY),t.drawImage(A._cacheCanvas,-A.cacheTranslationX,-A.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var A,i;for(A=0,i=e.length;A<i;++A)e[A]&&e[A].render(t)},_renderBackgroundOrOverlay:function(t,e){var A=this[e+"Color"],i=this[e+"Image"],n=this.viewportTransform,r=this[e+"Vpt"];if(A||i){if(A){t.save(),t.beginPath(),t.moveTo(0,0),t.lineTo(this.width,0),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.fillStyle=A.toLive?A.toLive(t,this):A,r&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),t.transform(1,0,0,1,A.offsetX||0,A.offsetY||0);var o=A.gradientTransform||A.patternTransform;o&&t.transform(o[0],o[1],o[2],o[3],o[4],o[5]),t.fill(),t.restore()}i&&(t.save(),r&&t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),i.render(t),t.restore())}},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new I.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new I.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new I.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new I.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new I.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=r(this.viewportTransform);return n({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,A){var i=this.clipPath,n={version:I.version,objects:this._toObjects(e,A)};return i&&!i.excludeFromExport&&(n.clipPath=this._toObject(this.clipPath,e,A)),t(n,this.__serializeBgOverlay(e,A)),I.util.populateWithProperties(this,n,A),n},_toObjects:function(t,e){return this._objects.filter(function(t){return!t.excludeFromExport}).map(function(A){return this._toObject(A,t,e)},this)},_toObject:function(t,e,A){var i;this.includeDefaultValues||(i=t.includeDefaultValues,t.includeDefaultValues=!1);var n=t[e](A);return this.includeDefaultValues||(t.includeDefaultValues=i),n},__serializeBgOverlay:function(t,e){var A={},i=this.backgroundImage,n=this.overlayImage,r=this.backgroundColor,o=this.overlayColor;return r&&r.toObject?r.excludeFromExport||(A.background=r.toObject(e)):r&&(A.background=r),o&&o.toObject?o.excludeFromExport||(A.overlay=o.toObject(e)):o&&(A.overlay=o),i&&!i.excludeFromExport&&(A.backgroundImage=this._toObject(i,t,e)),n&&!n.excludeFromExport&&(A.overlayImage=this._toObject(n,t,e)),A},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var A=[];return this._setSVGPreamble(A,t),this._setSVGHeader(A,t),this.clipPath&&A.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(A,"background"),this._setSVGBgOverlayImage(A,"backgroundImage",e),this._setSVGObjects(A,e),this.clipPath&&A.push("</g>\n"),this._setSVGBgOverlayColor(A,"overlay"),this._setSVGBgOverlayImage(A,"overlayImage",e),A.push("</svg>"),A.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var A,n=e.width||this.width,r=e.height||this.height,o='viewBox="0 0 '+this.width+" "+this.height+'" ',s=I.Object.NUM_FRACTION_DIGITS;e.viewBox?o='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(A=this.viewportTransform,o='viewBox="'+i(-A[4]/A[0],s)+" "+i(-A[5]/A[3],s)+" "+i(this.width/A[0],s)+" "+i(this.height/A[3],s)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',r,'" ',o,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",I.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+I.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this;return["background","overlay"].map(function(e){var A=t[e+"Color"];if(A&&A.toLive){var i=t[e+"Vpt"],n=t.viewportTransform,r={width:t.width/(i?n[0]:1),height:t.height/(i?n[3]:1)};return A.toSVG(r,{additionalTransform:i?I.util.matrixToSVG(n):""})}}).join("")},createSVGFontFacesMarkup:function(){var t,e,A,i,n,r,o,s,a="",c={},l=I.fontPaths,u=[];for(this._objects.forEach(function t(e){u.push(e),e._objects&&e._objects.forEach(t)}),o=0,s=u.length;o<s;o++)if(e=(t=u[o]).fontFamily,-1!==t.type.indexOf("text")&&!c[e]&&l[e]&&(c[e]=!0,t.styles))for(n in A=t.styles)for(r in i=A[n])!c[e=i[r].fontFamily]&&l[e]&&(c[e]=!0);for(var h in c)a+=["\t\t@font-face {\n","\t\t\tfont-family: '",h,"';\n","\t\t\tsrc: url('",l[h],"');\n","\t\t}\n"].join("");return a&&(a=['\t<style type="text/css">',"<![CDATA[\n",a,"]]>","</style>\n"].join("")),a},_setSVGObjects:function(t,e){var A,i,n,r=this._objects;for(i=0,n=r.length;i<n;i++)(A=r[i]).excludeFromExport||this._setSVGObject(t,A,e)},_setSVGObject:function(t,e,A){t.push(e.toSVG(A))},_setSVGBgOverlayImage:function(t,e,A){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(A))},_setSVGBgOverlayColor:function(t,e){var A=this[e+"Color"],i=this.viewportTransform,n=this.width,r=this.height;if(A)if(A.toLive){var o=A.repeat,s=I.util.invertTransform(i),a=this[e+"Vpt"]?I.util.matrixToSVG(s):"";t.push('<rect transform="'+a+" translate(",n/2,",",r/2,')"',' x="',A.offsetX-n/2,'" y="',A.offsetY-r/2,'" ','width="',"repeat-y"===o||"no-repeat"===o?A.source.width:n,'" height="',"repeat-x"===o||"no-repeat"===o?A.source.height:r,'" fill="url(#SVGID_'+A.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',A,'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,i,n,r=this._activeObject;if(t===r&&"activeSelection"===t.type)for(e=(n=r._objects).length;e--;)i=n[e],A(this._objects,i),this._objects.unshift(i);else A(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,i,n,r=this._activeObject;if(t===r&&"activeSelection"===t.type)for(n=r._objects,e=0;e<n.length;e++)i=n[e],A(this._objects,i),this._objects.push(i);else A(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var i,n,r,o,s,a=this._activeObject,c=0;if(t===a&&"activeSelection"===t.type)for(s=a._objects,i=0;i<s.length;i++)n=s[i],(r=this._objects.indexOf(n))>0+c&&(o=r-1,A(this._objects,n),this._objects.splice(o,0,n)),c++;else 0!==(r=this._objects.indexOf(t))&&(o=this._findNewLowerIndex(t,r,e),A(this._objects,t),this._objects.splice(o,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,A){var i,n;if(A){for(i=e,n=e-1;n>=0;--n)if(t.intersectsWithObject(this._objects[n])||t.isContainedWithinObject(this._objects[n])||this._objects[n].isContainedWithinObject(t)){i=n;break}}else i=e-1;return i},bringForward:function(t,e){if(!t)return this;var i,n,r,o,s,a=this._activeObject,c=0;if(t===a&&"activeSelection"===t.type)for(i=(s=a._objects).length;i--;)n=s[i],(r=this._objects.indexOf(n))<this._objects.length-1-c&&(o=r+1,A(this._objects,n),this._objects.splice(o,0,n)),c++;else(r=this._objects.indexOf(t))!==this._objects.length-1&&(o=this._findNewUpperIndex(t,r,e),A(this._objects,t),this._objects.splice(o,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,A){var i,n,r;if(A){for(i=e,n=e+1,r=this._objects.length;n<r;++n)if(t.intersectsWithObject(this._objects[n])||t.isContainedWithinObject(this._objects[n])||this._objects[n].isContainedWithinObject(t)){i=n;break}}else i=e+1;return i},moveTo:function(t,e){return A(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(I.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(t){t.dispose&&t.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),I.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(I.StaticCanvas.prototype,I.Observable),t(I.StaticCanvas.prototype,I.Collection),t(I.StaticCanvas.prototype,I.DataURLExporter),t(I.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=s();if(!e||!e.getContext)return null;var A=e.getContext("2d");return A&&"setLineDash"===t?void 0!==A.setLineDash:null}}),I.StaticCanvas.prototype.toJSON=I.StaticCanvas.prototype.toObject,I.isLikelyNode&&(I.StaticCanvas.prototype.createPNGStream=function(){var t=o(this.lowerCanvasEl);return t&&t.createPNGStream()},I.StaticCanvas.prototype.createJPEGStream=function(t){var e=o(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),I.BaseBrush=I.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas,e=this.shadow,A=t.contextTop,i=t.getZoom();t&&t._isRetinaScaling()&&(i*=I.devicePixelRatio),A.shadowColor=e.color,A.shadowBlur=e.blur*i,A.shadowOffsetX=e.offsetX*i,A.shadowOffsetY=e.offsetY*i}},needsFullRender:function(){return new I.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0},_isOutSideCanvas:function(t){return t.x<0||t.x>this.canvas.getWidth()||t.y<0||t.y>this.canvas.getHeight()}}),I.PencilBrush=I.util.createClass(I.BaseBrush,{decimate:.4,initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,A){var i=e.midPointFrom(A);return t.quadraticCurveTo(e.x,e.y,i.x,i.y),i},onMouseDown:function(t,e){this.canvas._isMainEvent(e.e)&&(this._prepareForDrawing(t),this._captureDrawingPath(t),this._render())},onMouseMove:function(t,e){if(this.canvas._isMainEvent(e.e)&&(!0!==this.limitedToCanvasSize||!this._isOutSideCanvas(t))&&this._captureDrawingPath(t)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var A=this._points,i=A.length,n=this.canvas.contextTop;this._saveAndTransform(n),this.oldEnd&&(n.beginPath(),n.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(n,A[i-2],A[i-1],!0),n.stroke(),n.restore()}},onMouseUp:function(t){return!this.canvas._isMainEvent(t.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(t){var e=new I.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1])||(this._points.push(t),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(t){var e=new I.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,A=this.canvas.contextTop,i=this._points[0],n=this._points[1];if(this._saveAndTransform(A),A.beginPath(),2===this._points.length&&i.x===n.x&&i.y===n.y){var r=this.width/1e3;i=new I.Point(i.x,i.y),n=new I.Point(n.x,n.y),i.x-=r,n.x+=r}for(A.moveTo(i.x,i.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(A,i,n),i=this._points[t],n=this._points[t+1];A.lineTo(i.x,i.y),A.stroke(),A.restore()},convertPointsToSVGPath:function(t){var e=this.width/1e3;return I.util.getSmoothPathFromPoints(t,e)},_isEmptySVGPath:function(t){return"M 0 0 Q 0 0 0 0 L 0 0"===I.util.joinPath(t)},createPath:function(t){var e=new I.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,e.shadow=new I.Shadow(this.shadow)),e},decimatePoints:function(t,e){if(t.length<=2)return t;var A,i=this.canvas.getZoom(),n=Math.pow(e/i,2),r=t.length-1,o=t[0],s=[o];for(A=1;A<r-1;A++)Math.pow(o.x-t[A].x,2)+Math.pow(o.y-t[A].y,2)>=n&&(o=t[A],s.push(o));return s.push(t[r]),s},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var t=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(t))this.canvas.requestRenderAll();else{var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:e}),this.canvas.add(e),this.canvas.requestRenderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}}}),I.CircleBrush=I.util.createClass(I.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),A=this.canvas.contextTop;this._saveAndTransform(A),this.dot(A,e),A.restore()},dot:function(t,e){t.fillStyle=e.fill,t.beginPath(),t.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),t.closePath(),t.fill()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,A=this.canvas.contextTop,i=this.points;for(this._saveAndTransform(A),t=0,e=i.length;t<e;t++)this.dot(A,i[t]);A.restore()},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(t),this._render()):this.drawDot(t))},onMouseUp:function(){var t,e,A=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var i=[];for(t=0,e=this.points.length;t<e;t++){var n=this.points[t],r=new I.Circle({radius:n.radius,left:n.x,top:n.y,originX:"center",originY:"center",fill:n.fill});this.shadow&&(r.shadow=new I.Shadow(this.shadow)),i.push(r)}var o=new I.Group(i);o.canvas=this.canvas,this.canvas.fire("before:path:created",{path:o}),this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=A,this.canvas.requestRenderAll()},addPoint:function(t){var e=new I.Point(t.x,t.y),A=I.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,i=new I.Color(this.color).setAlpha(I.util.getRandomInt(0,100)/100).toRgba();return e.radius=A,e.fill=i,this.points.push(e),e}}),I.SprayBrush=I.util.createClass(I.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){!0===this.limitedToCanvasSize&&this._isOutSideCanvas(t)||(this.addSprayChunk(t),this.render(this.sprayChunkPoints))},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],A=0,i=this.sprayChunks.length;A<i;A++)for(var n=this.sprayChunks[A],r=0,o=n.length;r<o;r++){var s=new I.Rect({width:n[r].width,height:n[r].width,left:n[r].x+1,top:n[r].y+1,originX:"center",originY:"center",fill:this.color});e.push(s)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var a=new I.Group(e);this.shadow&&a.set("shadow",new I.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:a}),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,A,i,n={};for(A=0,i=t.length;A<i;A++)n[e=t[A].left+""+t[A].top]||(n[e]=t[A]);var r=[];for(e in n)r.push(n[e]);return r},render:function(t){var e,A,i=this.canvas.contextTop;for(i.fillStyle=this.color,this._saveAndTransform(i),e=0,A=t.length;e<A;e++){var n=t[e];void 0!==n.opacity&&(i.globalAlpha=n.opacity),i.fillRect(n.x,n.y,n.width,n.width)}i.restore()},_render:function(){var t,e,A=this.canvas.contextTop;for(A.fillStyle=this.color,this._saveAndTransform(A),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);A.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,A,i,n,r=this.width/2;for(n=0;n<this.density;n++){e=I.util.getRandomInt(t.x-r,t.x+r),A=I.util.getRandomInt(t.y-r,t.y+r),i=this.dotWidthVariance?I.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var o=new I.Point(e,A);o.width=i,this.randomOpacity&&(o.opacity=I.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),I.PatternBrush=I.util.createClass(I.PencilBrush,{getPatternSrc:function(){var t=I.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),A=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new I.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-A.x,offsetY:-A.y}),e}}),function(){var t=I.util.getPointer,e=I.util.degreesToRadians,A=I.util.isTouchEvent;for(var i in I.Canvas=I.util.createClass(I.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=I.PencilBrush&&new I.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,A,i=this.getActiveObjects();if(i.length>0&&!this.preserveObjectStacking){e=[],A=[];for(var n=0,r=this._objects.length;n<r;n++)t=this._objects[n],-1===i.indexOf(t)?e.push(t):A.push(t);i.length>1&&(this._activeObject._objects=A),e.push.apply(e,A)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_normalizePointer:function(t,e){var A=t.calcTransformMatrix(),i=I.util.invertTransform(A),n=this.restorePointerVpt(e);return I.util.transformPoint(n,i)},isTargetTransparent:function(t,e,A){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var i=this._normalizePointer(t,{x:e,y:A}),n=Math.max(t.cacheTranslationX+i.x*t.zoomX,0),r=Math.max(t.cacheTranslationY+i.y*t.zoomY,0);return I.util.isTransparent(t._cacheContext,Math.round(n),Math.round(r),this.targetFindTolerance)}var o=this.contextCache,s=t.selectionBackgroundColor,a=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(o),o.save(),o.transform(a[0],a[1],a[2],a[3],a[4],a[5]),t.render(o),o.restore(),t.selectionBackgroundColor=s,I.util.isTransparent(o,e,A,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find(function(e){return!0===t[e]}):t[this.selectionKey]},_shouldClearSelection:function(t,e){var A=this.getActiveObjects(),i=this._activeObject;return!e||e&&i&&A.length>1&&-1===A.indexOf(e)&&i!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&i&&i!==e},_shouldCenterTransform:function(t,e,A){var i;if(t)return"scale"===e||"scaleX"===e||"scaleY"===e||"resizing"===e?i=this.centeredScaling||t.centeredScaling:"rotate"===e&&(i=this.centeredRotation||t.centeredRotation),i?!A:A},_getOriginFromCorner:function(t,e){var A={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?A.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(A.x="left"),"tl"===e||"mt"===e||"tr"===e?A.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(A.y="top"),A},_getActionFromCorner:function(t,e,A,i){if(!e||!t)return"drag";var n=i.controls[e];return n.getActionName(A,n,i)},_setupCurrentTransform:function(t,A,i){if(A){var n=this.getPointer(t),r=A.__corner,o=A.controls[r],s=i&&r?o.getActionHandler(t,A,o):I.controlsUtils.dragHandler,a=this._getActionFromCorner(i,r,t,A),c=this._getOriginFromCorner(A,r),l=t[this.centeredKey],u={target:A,action:a,actionHandler:s,corner:r,scaleX:A.scaleX,scaleY:A.scaleY,skewX:A.skewX,skewY:A.skewY,offsetX:n.x-A.left,offsetY:n.y-A.top,originX:c.x,originY:c.y,ex:n.x,ey:n.y,lastX:n.x,lastY:n.y,theta:e(A.angle),width:A.width*A.scaleX,shiftKey:t.shiftKey,altKey:l,original:I.util.saveObjectTransform(A)};this._shouldCenterTransform(A,a,l)&&(u.originX="center",u.originY="center"),u.original.originX=c.x,u.original.originY=c.y,this._currentTransform=u,this._beforeTransform(t)}},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,A=new I.Point(e.ex,e.ey),i=I.util.transformPoint(A,this.viewportTransform),n=new I.Point(e.ex+e.left,e.ey+e.top),r=I.util.transformPoint(n,this.viewportTransform),o=Math.min(i.x,r.x),s=Math.min(i.y,r.y),a=Math.max(i.x,r.x),c=Math.max(i.y,r.y),l=this.selectionLineWidth/2;this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(o,s,a-o,c-s)),this.selectionLineWidth&&this.selectionBorderColor&&(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,o+=l,s+=l,a-=l,c-=l,I.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(o,s,a-o,c-s))},findTarget:function(t,e){if(!this.skipTargetFind){var i,n,r=this.getPointer(t,!0),o=this._activeObject,s=this.getActiveObjects(),a=A(t),c=s.length>1&&!e||1===s.length;if(this.targets=[],c&&o._findTargetCorner(r,a))return o;if(s.length>1&&!e&&o===this._searchPossibleTargets([o],r))return o;if(1===s.length&&o===this._searchPossibleTargets([o],r)){if(!this.preserveObjectStacking)return o;i=o,n=this.targets,this.targets=[]}var l=this._searchPossibleTargets(this._objects,r);return t[this.altSelectionKey]&&l&&i&&l!==i&&(l=i,this.targets=n),l}},_checkTarget:function(t,e,A){if(e&&e.visible&&e.evented&&e.containsPoint(t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,A.x,A.y))return!0}},_searchPossibleTargets:function(t,e){for(var A,i,n=t.length;n--;){var r=t[n],o=r.group?this._normalizePointer(r.group,e):e;if(this._checkTarget(o,r,e)){(A=t[n]).subTargetCheck&&A instanceof I.Group&&(i=this._searchPossibleTargets(A._objects,e))&&this.targets.push(i);break}}return A},restorePointerVpt:function(t){return I.util.transformPoint(t,I.util.invertTransform(this.viewportTransform))},getPointer:function(e,A){if(this._absolutePointer&&!A)return this._absolutePointer;if(this._pointer&&A)return this._pointer;var i,n=t(e),r=this.upperCanvasEl,o=r.getBoundingClientRect(),s=o.width||0,a=o.height||0;s&&a||("top"in o&&"bottom"in o&&(a=Math.abs(o.top-o.bottom)),"right"in o&&"left"in o&&(s=Math.abs(o.right-o.left))),this.calcOffset(),n.x=n.x-this._offset.left,n.y=n.y-this._offset.top,A||(n=this.restorePointerVpt(n));var c=this.getRetinaScaling();return 1!==c&&(n.x/=c,n.y/=c),i=0===s||0===a?{width:1,height:1}:{width:r.width/s,height:r.height/a},{x:n.x*i.width,y:n.y*i.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,A=this.upperCanvasEl;A?A.className="":(A=this._createCanvasElement(),this.upperCanvasEl=A),I.util.addClass(A,"upper-canvas "+t),this.wrapperEl.appendChild(A),this._copyCanvasStyle(e,A),this._applyCanvasStyle(A),this.contextTop=A.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=I.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),I.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),I.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,A=this.height||t.height;I.util.setStyle(t,{position:"absolute",width:e+"px",height:A+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=A,I.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),t===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var A=!1,i=this.getActiveObjects(),n=[],r=[];t.forEach(function(t){-1===i.indexOf(t)&&(A=!0,t.fire("deselected",{e:e,target:t}),r.push(t))}),i.forEach(function(i){-1===t.indexOf(i)&&(A=!0,i.fire("selected",{e:e,target:i}),n.push(i))}),t.length>0&&i.length>0?A&&this.fire("selection:updated",{e:e,selected:n,deselected:r,updated:n[0]||r[0],target:this._activeObject}):i.length>0?this.fire("selection:created",{e:e,selected:n,target:this._activeObject}):t.length>0&&this.fire("selection:cleared",{e:e,deselected:r})},setActiveObject:function(t,e){var A=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(A,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&!!this._discardActiveObject(e,t)&&!t.onSelect({e:e})&&(this._activeObject=t,!0)},_discardActiveObject:function(t,e){var A=this._activeObject;if(A){if(A.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects(),A=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:A,e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){I.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,I.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,A){var i=this._realizeGroupTransformOnObject(t),n=this.callSuper("_toObject",t,e,A);return this._unwindGroupTransformOnObject(t,i),n},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach(function(A){e[A]=t[A]}),I.util.addTransformToObject(t,this._activeObject.calcOwnMatrix()),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,A){var i=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,A),this._unwindGroupTransformOnObject(e,i)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),I.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),I.StaticCanvas)"prototype"!==i&&(I.Canvas[i]=I.StaticCanvas[i])}(),function(){var t=I.util.addListener,e=I.util.removeListener,A={passive:!1};function i(t,e){return t.button&&t.button===e-1}I.util.object.extend(I.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(t,e){var i=this.upperCanvasEl,n=this._getEventPrefix();t(I.window,"resize",this._onResize),t(i,n+"down",this._onMouseDown),t(i,n+"move",this._onMouseMove,A),t(i,n+"out",this._onMouseOut),t(i,n+"enter",this._onMouseEnter),t(i,"wheel",this._onMouseWheel),t(i,"contextmenu",this._onContextMenu),t(i,"dblclick",this._onDoubleClick),t(i,"dragover",this._onDragOver),t(i,"dragenter",this._onDragEnter),t(i,"dragleave",this._onDragLeave),t(i,"drop",this._onDrop),this.enablePointerEvents||t(i,"touchstart",this._onTouchStart,A),"undefined"!=typeof eventjs&&e in eventjs&&(eventjs[e](i,"gesture",this._onGesture),eventjs[e](i,"drag",this._onDrag),eventjs[e](i,"orientation",this._onOrientationChange),eventjs[e](i,"shake",this._onShake),eventjs[e](i,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(e,"remove");var t=this._getEventPrefix();e(I.document,t+"up",this._onMouseUp),e(I.document,"touchend",this._onTouchEnd,A),e(I.document,t+"move",this._onMouseMove,A),e(I.document,"touchmove",this._onMouseMove,A)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t});var A=this;this._hoveredTargets.forEach(function(i){A.fire("mouse:out",{target:e,e:t}),i&&e.fire("mouseout",{e:t})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(t){t.isEditing&&t.hiddenTextarea.focus()})},_onMouseEnter:function(t){this._currentTransform||this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},getPointerId:function(t){var e=t.changedTouches;return e?e[0]&&e[0].identifier:this.enablePointerEvents?t.pointerId:-1},_isMainEvent:function(t){return!0===t.isPrimary||!1!==t.isPrimary&&("touchend"===t.type&&0===t.touches.length||!t.changedTouches||t.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(i){i.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(i)),this.__onMouseDown(i),this._resetTransformEventData();var n=this.upperCanvasEl,r=this._getEventPrefix();t(I.document,"touchend",this._onTouchEnd,A),t(I.document,"touchmove",this._onMouseMove,A),e(n,r+"down",this._onMouseDown)},_onMouseDown:function(i){this.__onMouseDown(i),this._resetTransformEventData();var n=this.upperCanvasEl,r=this._getEventPrefix();e(n,r+"move",this._onMouseMove,A),t(I.document,r+"up",this._onMouseUp),t(I.document,r+"move",this._onMouseMove,A)},_onTouchEnd:function(i){if(!(i.touches.length>0)){this.__onMouseUp(i),this._resetTransformEventData(),this.mainTouchId=null;var n=this._getEventPrefix();e(I.document,"touchend",this._onTouchEnd,A),e(I.document,"touchmove",this._onMouseMove,A);var r=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){t(r.upperCanvasEl,n+"down",r._onMouseDown),r._willAddMouseDown=0},400)}},_onMouseUp:function(i){this.__onMouseUp(i),this._resetTransformEventData();var n=this.upperCanvasEl,r=this._getEventPrefix();this._isMainEvent(i)&&(e(I.document,r+"up",this._onMouseUp),e(I.document,r+"move",this._onMouseMove,A),t(n,r+"move",this._onMouseMove,A))},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!=!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,A=this._currentTransform,n=this._groupSelector,r=!1,o=!n||0===n.left&&0===n.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),i(t,3))this.fireRightClick&&this._handleEvent(t,"up",3,o);else{if(i(t,2))return this.fireMiddleClick&&this._handleEvent(t,"up",2,o),void this._resetTransformEventData();if(this.isDrawingMode&&this._isCurrentlyDrawing)this._onMouseUpInDrawingMode(t);else if(this._isMainEvent(t)){if(A&&(this._finalizeCurrentTransform(t),r=A.actionPerformed),!o){var s=e===this._activeObject;this._maybeGroupObjects(t),r||(r=this._shouldRender(e)||!s&&e===this._activeObject)}if(e){if(e.selectable&&e!==this._activeObject&&"up"===e.activeOn)this.setActiveObject(e,t),r=!0;else{var a=e._findTargetCorner(this.getPointer(t,!0),I.util.isTouchEvent(t)),c=e.controls[a],l=c&&c.getMouseUpHandler(t,e,c);if(l){var u=this.getPointer(t);l(t,A,u.x,u.y)}}e.isMoving=!1}this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,o),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),r?this.requestRenderAll():o||this.renderTop()}}},_simpleEventHandler:function(t,e){var A=this.findTarget(e),i=this.targets,n={e:e,target:A,subTargets:i};if(this.fire(t,n),A&&A.fire(t,n),!i)return A;for(var r=0;r<i.length;r++)i[r].fire(t,n);return A},_handleEvent:function(t,e,A,i){var n=this._target,r=this.targets||[],o={e:t,target:n,subTargets:r,button:A||1,isClick:i||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};"up"===e&&(o.currentTarget=this.findTarget(t),o.currentSubTargets=this.targets),this.fire("mouse:"+e,o),n&&n.fire("mouse"+e,o);for(var s=0;s<r.length;s++)r[s].fire("mouse"+e,o)},_finalizeCurrentTransform:function(t){var e,A=this._currentTransform,i=A.target,n={e:t,target:i,transform:A,action:A.action};i._scaling&&(i._scaling=!1),i.setCoords(),(A.actionPerformed||this.stateful&&i.hasStateChanged())&&(A.actionPerformed&&(e=this._addEventOptions(n,A),this._fire(e,n)),this._fire("modified",n))},_addEventOptions:function(t,e){var A,i;switch(e.action){case"scaleX":A="scaled",i="x";break;case"scaleY":A="scaled",i="y";break;case"skewX":A="skewed",i="x";break;case"skewY":A="skewed",i="y";break;case"scale":A="scaled",i="equally";break;case"rotate":A="rotated";break;case"drag":A="moved"}return t.by=i,A},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll();var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e,{e:t,pointer:e}),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e,{e:t,pointer:e})}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){var e=this.getPointer(t);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:t,pointer:e}),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(i(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(i(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(this._isMainEvent(t)&&!this._currentTransform){var A=this._pointer;this._previousPointer=A;var n=this._shouldRender(e),r=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):r&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),e){var o=e===this._activeObject;e.selectable&&"down"===e.activeOn&&this.setActiveObject(e,t);var s=e._findTargetCorner(this.getPointer(t,!0),I.util.isTouchEvent(t));if(e.__corner=s,e===this._activeObject&&(s||!r)){this._setupCurrentTransform(t,e,o);var a=e.controls[s],c=(A=this.getPointer(t),a&&a.getMouseDownHandler(t,e,a));c&&c(t,this._currentTransform,A.x,A.y)}}this._handleEvent(t,"down"),(n||r)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e})},__onMouseMove:function(t){var e,A;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(this._isMainEvent(t)){var i=this._groupSelector;i?(A=this._absolutePointer,i.left=A.x-i.ex,i.top=A.y-i.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){var A=this._hoveredTarget,i=this._hoveredTargets,n=this.targets,r=Math.max(i.length,n.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:A,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var o=0;o<r;o++)this.fireSyntheticInOutEvents(n[o],e,{oldTarget:i[o],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=t,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(t,e){var A=this._draggedoverTarget,i=this._hoveredTargets,n=this.targets,r=Math.max(i.length,n.length);this.fireSyntheticInOutEvents(t,e,{oldTarget:A,evtOut:"dragleave",evtIn:"dragenter"});for(var o=0;o<r;o++)this.fireSyntheticInOutEvents(n[o],e,{oldTarget:i[o],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=t},fireSyntheticInOutEvents:function(t,e,A){var i,n,r,o=A.oldTarget,s=o!==t,a=A.canvasEvtIn,c=A.canvasEvtOut;s&&(i={e:e,target:t,previousTarget:o},n={e:e,target:o,nextTarget:t}),r=t&&s,o&&s&&(c&&this.fire(c,n),o.fire(A.evtOut,n)),r&&(a&&this.fire(a,i),t.fire(A.evtIn,i))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),A=this._currentTransform;A.reset=!1,A.shiftKey=t.shiftKey,A.altKey=t[this.centeredKey],this._performTransformAction(t,A,e),A.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,A){var i=A.x,n=A.y,r=e.action,o=!1,s=e.actionHandler;s&&(o=s(t,e,i,n)),"drag"===r&&o&&(e.target.isMoving=!0,this.setCursor(e.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||o},_fire:I.controlsUtils.fireEvent,_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var A=e.hoverCursor||this.hoverCursor,i=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,n=(!i||!i.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));n?this.setCursor(this.getCornerCursor(n,e,t)):(e.subTargetCheck&&this.targets.concat().reverse().map(function(t){A=t.hoverCursor||A}),this.setCursor(A))},getCornerCursor:function(t,e,A){var i=e.controls[t];return i.cursorStyleHandler(A,i,e)}})}(),m=Math.min,B=Math.max,I.util.object.extend(I.Canvas.prototype,{_shouldGroup:function(t,e){var A=this._activeObject;return A&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(A!==e||"activeSelection"===A.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var A=this._activeObject;A.__corner||(e!==A||(e=this.findTarget(t,!0))&&e.selectable)&&(A&&"activeSelection"===A.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var A=this._activeObject,i=A._objects.slice(0);A.contains(t)?(A.removeWithUpdate(t),this._hoveredTarget=t,this._hoveredTargets=this.targets.concat(),1===A.size()&&this._setActiveObject(A.item(0),e)):(A.addWithUpdate(t),this._hoveredTarget=A,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(i,e)},_createActiveSelection:function(t,e){var A=this.getActiveObjects(),i=this._createGroup(t);this._hoveredTarget=i,this._setActiveObject(i,e),this._fireSelectionEvents(A,e)},_createGroup:function(t){var e=this._objects,A=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new I.ActiveSelection(A,{canvas:this})},_groupSelectedObjects:function(t){var e,A=this._collectObjects(t);1===A.length?this.setActiveObject(A[0],t):A.length>1&&(e=new I.ActiveSelection(A.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(t){for(var e,A=[],i=this._groupSelector.ex,n=this._groupSelector.ey,r=i+this._groupSelector.left,o=n+this._groupSelector.top,s=new I.Point(m(i,r),m(n,o)),a=new I.Point(B(i,r),B(n,o)),c=!this.selectionFullyContained,l=i===r&&n===o,u=this._objects.length;u--&&!((e=this._objects[u])&&e.selectable&&e.visible&&(c&&e.intersectsWithRect(s,a,!0)||e.isContainedWithinRect(s,a,!0)||c&&e.containsPoint(s,null,!0)||c&&e.containsPoint(a,null,!0))&&(A.push(e),l)););return A.length>1&&(A=A.filter(function(e){return!e.onSelect({e:t})})),A},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}}),I.util.object.extend(I.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",A=t.quality||1,i=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),n=this.toCanvasElement(i,t);return I.util.toDataURL(n,e,A)},toCanvasElement:function(t,e){t=t||1;var A=((e=e||{}).width||this.width)*t,i=(e.height||this.height)*t,n=this.getZoom(),r=this.width,o=this.height,s=n*t,a=this.viewportTransform,c=(a[4]-(e.left||0))*t,l=(a[5]-(e.top||0))*t,u=this.interactive,h=[s,0,0,s,c,l],g=this.enableRetinaScaling,f=I.util.createCanvasElement(),d=this.contextTop;return f.width=A,f.height=i,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=h,this.width=A,this.height=i,this.calcViewportBoundaries(),this.renderCanvas(f.getContext("2d"),this._objects),this.viewportTransform=a,this.width=r,this.height=o,this.calcViewportBoundaries(),this.interactive=u,this.enableRetinaScaling=g,this.contextTop=d,f}}),I.util.object.extend(I.StaticCanvas.prototype,{loadFromJSON:function(t,e,A){if(t){var i="string"==typeof t?JSON.parse(t):I.util.object.clone(t),n=this,r=i.clipPath,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete i.clipPath,this._enlivenObjects(i.objects,function(t){n.clear(),n._setBgOverlay(i,function(){r?n._enlivenObjects([r],function(A){n.clipPath=A[0],n.__setupCanvas.call(n,i,t,o,e)}):n.__setupCanvas.call(n,i,t,o,e)})},A),this}},__setupCanvas:function(t,e,A,i){var n=this;e.forEach(function(t,e){n.insertAt(t,e)}),this.renderOnAddRemove=A,delete t.objects,delete t.backgroundImage,delete t.overlayImage,delete t.background,delete t.overlay,this._setOptions(t),this.renderAll(),i&&i()},_setBgOverlay:function(t,e){var A={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var i=function(){A.backgroundImage&&A.overlayImage&&A.backgroundColor&&A.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,A,i),this.__setBgOverlay("overlayImage",t.overlayImage,A,i),this.__setBgOverlay("backgroundColor",t.background,A,i),this.__setBgOverlay("overlayColor",t.overlay,A,i)}else e&&e()},__setBgOverlay:function(t,e,A,i){var n=this;if(!e)return A[t]=!0,void(i&&i());"backgroundImage"===t||"overlayImage"===t?I.util.enlivenObjects([e],function(e){n[t]=e[0],A[t]=!0,i&&i()}):this["set"+I.util.string.capitalize(t,!0)](e,function(){A[t]=!0,i&&i()})},_enlivenObjects:function(t,e,A){t&&0!==t.length?I.util.enlivenObjects(t,function(t){e&&e(t)},null,A):e&&e([])},_toDataURL:function(t,e){this.clone(function(A){e(A.toDataURL(t))})},_toDataURLWithMultiplier:function(t,e,A){this.clone(function(i){A(i.toDataURLWithMultiplier(t,e))})},clone:function(t,e){var A=JSON.stringify(this.toJSON(e));this.cloneWithoutData(function(e){e.loadFromJSON(A,function(){t&&t(e)})})},cloneWithoutData:function(t){var e=I.util.createCanvasElement();e.width=this.width,e.height=this.height;var A=new I.Canvas(e);this.backgroundImage?(A.setBackgroundImage(this.backgroundImage.src,function(){A.renderAll(),t&&t(A)}),A.backgroundImageOpacity=this.backgroundImageOpacity,A.backgroundImageStretch=this.backgroundImageStretch):t&&t(A)}}),function(t){var e=t.fabric||(t.fabric={}),A=e.util.object.extend,i=e.util.object.clone,n=e.util.toFixed,r=e.util.string.capitalize,o=e.util.degreesToRadians,s=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:s,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var A=e.perfLimitSizeTotal,i=t.width,n=t.height,r=e.maxCacheSideLimit,o=e.minCacheSideLimit;if(i<=r&&n<=r&&i*n<=A)return i<o&&(t.width=o),n<o&&(t.height=o),t;var s=i/n,a=e.util.limitDimsByArea(s,A),c=e.util.capValue,l=c(o,a.x,r),u=c(o,a.y,r);return i>l&&(t.zoomX/=i/l,t.width=l,t.capped=!0),n>u&&(t.zoomY/=n/u,t.height=u,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getTransformedDimensions(0,0),A=e.x*t.scaleX/this.scaleX,i=e.y*t.scaleY/this.scaleY;return{width:A+2,height:i+2,zoomX:t.scaleX,zoomY:t.scaleY,x:A,y:i}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var A=t._currentTransform.target,i=t._currentTransform.action;if(this===A&&i.slice&&"scale"===i.slice(0,5))return!1}var n,r,o=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),a=e.minCacheSideLimit,c=s.width,l=s.height,u=s.zoomX,h=s.zoomY,g=c!==this.cacheWidth||l!==this.cacheHeight,f=this.zoomX!==u||this.zoomY!==h,d=g||f,p=0,v=0,m=!1;if(g){var B=this._cacheCanvas.width,y=this._cacheCanvas.height,C=c>B||l>y;m=C||(c<.9*B||l<.9*y)&&B>a&&y>a,C&&!s.capped&&(c>a||l>a)&&(p=.1*c,v=.1*l)}return this instanceof e.Text&&this.path&&(d=!0,m=!0,p+=this.getHeightOfLine(0)*this.zoomX,v+=this.getHeightOfLine(0)*this.zoomY),!!d&&(m?(o.width=Math.ceil(c+p),o.height=Math.ceil(l+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,o.width,o.height)),n=s.x/2,r=s.y/2,this.cacheTranslationX=Math.round(o.width/2-n)+n,this.cacheTranslationY=Math.round(o.height/2-r)+r,this.cacheWidth=c,this.cacheHeight=l,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(u,h),this.zoomX=u,this.zoomY=h,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e=this.group&&!this.group._transformDone||this.group&&this.canvas&&t===this.canvas.contextTop,A=this.calcTransformMatrix(!e);t.transform(A[0],A[1],A[2],A[3],A[4],A[5])},toObject:function(t){var A=e.Object.NUM_FRACTION_DIGITS,i={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:n(this.left,A),top:n(this.top,A),width:n(this.width,A),height:n(this.height,A),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:n(this.strokeWidth,A),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:n(this.strokeMiterLimit,A),scaleX:n(this.scaleX,A),scaleY:n(this.scaleY,A),angle:n(this.angle,A),flipX:this.flipX,flipY:this.flipY,opacity:n(this.opacity,A),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:n(this.skewX,A),skewY:n(this.skewY,A)};return this.clipPath&&!this.clipPath.excludeFromExport&&(i.clipPath=this.clipPath.toObject(t),i.clipPath.inverted=this.clipPath.inverted,i.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,i,t),this.includeDefaultValues||(i=this._removeDefaultValues(i)),i},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var A=e.util.getKlass(t.type).prototype;return A.stateProperties.forEach(function(e){"left"!==e&&"top"!==e&&(t[e]===A[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(A[e])&&0===t[e].length&&0===A[e].length&&delete t[e])}),t},toString:function(){return"#<fabric."+r(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var t=e.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(t.scaleX),scaleY:Math.abs(t.scaleY)}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,A=t.scaleY;if(this.canvas){var i=this.canvas.getZoom(),n=this.canvas.getRetinaScaling();e*=i*n,A*=i*n}return{scaleX:e,scaleY:A}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,A){var i="scaleX"===t||"scaleY"===t,n=this[t]!==A,r=!1;return i&&(A=this._constrainScale(A)),"scaleX"===t&&A<0?(this.flipX=!this.flipX,A*=-1):"scaleY"===t&&A<0?(this.flipY=!this.flipY,A*=-1):"shadow"!==t||!A||A instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",A):A=new e.Shadow(A),this[t]=A,n&&(r=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,r&&this.group.set("dirty",!0)):r&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||!this.width&&!this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t){var A=this.clipPath;if(t.save(),A.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",A.absolutePositioned){var i=e.util.invertTransform(this.calcTransformMatrix());t.transform(i[0],i[1],i[2],i[3],i[4],i[5])}A.transform(t),t.scale(1/A.zoomX,1/A.zoomY),t.drawImage(A._cacheCanvas,-A.cacheTranslationX,-A.cacheTranslationY),t.restore()},drawObject:function(t,e){var A=this.fill,i=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):this._renderBackground(t),this._render(t),this._drawClipPath(t),this.fill=A,this.stroke=i},_drawClipPath:function(t){var e=this.clipPath;e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,A=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-A/2,e,A)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){var A=e.stroke;A&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,A.toLive?"percentage"===A.gradientUnits||A.gradientTransform||A.patternTransform?this._applyPatternForTransformedGradient(t,A):(t.strokeStyle=A.toLive(t,this),this._applyPatternGradientTransform(t,A)):t.strokeStyle=e.stroke)},_setFillStyles:function(t,e){var A=e.fill;A&&(A.toLive?(t.fillStyle=A.toLive(t,this),this._applyPatternGradientTransform(t,e.fill)):t.fillStyle=A)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e){e&&0!==e.length&&(1&e.length&&e.push.apply(e,e),t.setLineDash(e))},_renderControls:function(t,A){var i,n,r,s=this.getViewportTransform(),a=this.calcTransformMatrix();n=void 0!==(A=A||{}).hasBorders?A.hasBorders:this.hasBorders,r=void 0!==A.hasControls?A.hasControls:this.hasControls,a=e.util.multiplyTransformMatrices(s,a),i=e.util.qrDecompose(a),t.save(),t.translate(i.translateX,i.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),t.rotate(o(i.angle)),A.forActiveSelection||this.group?n&&this.drawBordersInGroup(t,i,A):n&&this.drawBorders(t,A),r&&this.drawControls(t,A),t.restore()},_setShadow:function(t){if(this.shadow){var A,i=this.shadow,n=this.canvas,r=n&&n.viewportTransform[0]||1,o=n&&n.viewportTransform[3]||1;A=i.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),n&&n._isRetinaScaling()&&(r*=e.devicePixelRatio,o*=e.devicePixelRatio),t.shadowColor=i.color,t.shadowBlur=i.blur*e.browserShadowBlurConstant*(r+o)*(A.scaleX+A.scaleY)/4,t.shadowOffsetX=i.offsetX*r*A.scaleX,t.shadowOffsetY=i.offsetY*o*A.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var A=e.gradientTransform||e.patternTransform,i=-this.width/2+e.offsetX||0,n=-this.height/2+e.offsetY||0;return"percentage"===e.gradientUnits?t.transform(this.width,0,0,this.height,i,n):t.transform(1,0,0,1,i,n),A&&t.transform(A[0],A[1],A[2],A[3],A[4],A[5]),{offsetX:i,offsetY:n}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_render:function(){},_renderFill:function(t){this.fill&&(t.save(),this._setFillStyles(t,this),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){if(this.stroke&&0!==this.strokeWidth){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&this.group){var e=this.getObjectScaling();t.scale(1/e.scaleX,1/e.scaleY)}else this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(t,this.strokeDashArray),this._setStrokeStyles(t,this),t.stroke(),t.restore()}},_applyPatternForTransformedGradient:function(t,A){var i,n=this._limitCacheSize(this._getCacheCanvasDimensions()),r=e.util.createCanvasElement(),o=this.canvas.getRetinaScaling(),s=n.x/this.scaleX/o,a=n.y/this.scaleY/o;r.width=s,r.height=a,(i=r.getContext("2d")).beginPath(),i.moveTo(0,0),i.lineTo(s,0),i.lineTo(s,a),i.lineTo(0,a),i.closePath(),i.translate(s/2,a/2),i.scale(n.zoomX/this.scaleX/o,n.zoomY/this.scaleY/o),this._applyPatternGradientTransform(i,A),i.fillStyle=A.toLive(t),i.fill(),t.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),t.scale(o*this.scaleX/n.zoomX,o*this.scaleY/n.zoomY),t.strokeStyle=i.createPattern(r,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var A=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),A=e.util.transformPoint(A,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,A.x+=t.offsetLeft,A.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(A,"center","center")},clone:function(t,A){var i=this.toObject(A);this.constructor.fromObject?this.constructor.fromObject(i,t):e.Object._fromObject("Object",i,t)},cloneAsImage:function(t,A){var i=this.toCanvasElement(A);return t&&t(new e.Image(i)),this},toCanvasElement:function(t){t||(t={});var A=e.util,i=A.saveObjectTransform(this),n=this.group,r=this.shadow,o=Math.abs,s=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);delete this.group,t.withoutTransform&&A.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var a,c,l,u,h=e.util.createCanvasElement(),g=this.getBoundingRect(!0,!0),f=this.shadow,d={x:0,y:0};f&&(c=f.blur,a=f.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),d.x=2*Math.round(o(f.offsetX)+c)*o(a.scaleX),d.y=2*Math.round(o(f.offsetY)+c)*o(a.scaleY)),l=g.width+d.x,u=g.height+d.y,h.width=Math.ceil(l),h.height=Math.ceil(u);var p=new e.StaticCanvas(h,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(p.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(p.width/2,p.height/2),"center","center");var v=this.canvas;p.add(this);var m=p.toCanvasElement(s||1,t);return this.shadow=r,this.set("canvas",v),n&&(this.group=n),this.set(i).setCoords(),p._objects=[],p.dispose(),p=null,m},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,A){A=A||this.canvas.getPointer(t);var i=new e.Point(A.x,A.y),n=this._getLeftTopCoords();return this.angle&&(i=e.util.rotatePoint(i,n,o(-this.angle))),{x:i.x-n.x,y:i.y-n.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),A(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,A,n,r){var o=e[t];A=i(A,!0),e.util.enlivenPatterns([A.fill,A.stroke],function(t){void 0!==t[0]&&(A.fill=t[0]),void 0!==t[1]&&(A.stroke=t[1]),e.util.enlivenObjects([A.clipPath],function(t){A.clipPath=t[0];var e=r?new o(A[r],A):new o(A);n&&n(e)})})},e.Object.__uid=0)}(e),y=I.util.degreesToRadians,C={left:-.5,center:0,right:.5},w={top:-.5,center:0,bottom:.5},I.util.object.extend(I.Object.prototype,{translateToGivenOrigin:function(t,e,A,i,n){var r,o,s,a=t.x,c=t.y;return"string"==typeof e?e=C[e]:e-=.5,"string"==typeof i?i=C[i]:i-=.5,"string"==typeof A?A=w[A]:A-=.5,"string"==typeof n?n=w[n]:n-=.5,o=n-A,((r=i-e)||o)&&(s=this._getTransformedDimensions(),a=t.x+r*s.x,c=t.y+o*s.y),new I.Point(a,c)},translateToCenterPoint:function(t,e,A){var i=this.translateToGivenOrigin(t,e,A,"center","center");return this.angle?I.util.rotatePoint(i,t,y(this.angle)):i},translateToOriginPoint:function(t,e,A){var i=this.translateToGivenOrigin(t,"center","center",e,A);return this.angle?I.util.rotatePoint(i,t,y(this.angle)):i},getCenterPoint:function(){var t=new I.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var A=this.getCenterPoint();return this.translateToOriginPoint(A,t,e)},toLocalPoint:function(t,e,A){var i,n,r=this.getCenterPoint();return i=void 0!==e&&void 0!==A?this.translateToGivenOrigin(r,"center","center",e,A):new I.Point(this.left,this.top),n=new I.Point(t.x,t.y),this.angle&&(n=I.util.rotatePoint(n,r,-y(this.angle))),n.subtractEquals(i)},setPositionByOrigin:function(t,e,A){var i=this.translateToCenterPoint(t,e,A),n=this.translateToOriginPoint(i,this.originX,this.originY);this.set("left",n.x),this.set("top",n.y)},adjustPosition:function(t){var e,A,i=y(this.angle),n=this.getScaledWidth(),r=I.util.cos(i)*n,o=I.util.sin(i)*n;e="string"==typeof this.originX?C[this.originX]:this.originX-.5,A="string"==typeof t?C[t]:t-.5,this.left+=r*(A-e),this.top+=o*(A-e),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var t=I.util,e=t.degreesToRadians,A=t.multiplyTransformMatrices,i=t.transformPoint;t.object.extend(I.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(t,e){return e?t?this.calcACoords():this.calcLineCoords():(this.aCoords&&this.lineCoords||this.setCoords(!0),t?this.aCoords:this.lineCoords)},getCoords:function(t,e){return A=this._getCoords(t,e),[new I.Point(A.tl.x,A.tl.y),new I.Point(A.tr.x,A.tr.y),new I.Point(A.br.x,A.br.y),new I.Point(A.bl.x,A.bl.y)];var A},intersectsWithRect:function(t,e,A,i){var n=this.getCoords(A,i);return"Intersection"===I.Intersection.intersectPolygonRectangle(n,t,e).status},intersectsWithObject:function(t,e,A){return"Intersection"===I.Intersection.intersectPolygonPolygon(this.getCoords(e,A),t.getCoords(e,A)).status||t.isContainedWithinObject(this,e,A)||this.isContainedWithinObject(t,e,A)},isContainedWithinObject:function(t,e,A){for(var i=this.getCoords(e,A),n=e?t.aCoords:t.lineCoords,r=0,o=t._getImageLines(n);r<4;r++)if(!t.containsPoint(i[r],o))return!1;return!0},isContainedWithinRect:function(t,e,A,i){var n=this.getBoundingRect(A,i);return n.left>=t.x&&n.left+n.width<=e.x&&n.top>=t.y&&n.top+n.height<=e.y},containsPoint:function(t,e,A,i){var n=this._getCoords(A,i),r=(e=e||this._getImageLines(n),this._findCrossPoints(t,e));return 0!==r&&r%2==1},isOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,A=this.canvas.vptCoords.br;return!!this.getCoords(!0,t).some(function(t){return t.x<=A.x&&t.x>=e.x&&t.y<=A.y&&t.y>=e.y})||!!this.intersectsWithRect(e,A,!0,t)||this._containsCenterOfCanvas(e,A,t)},_containsCenterOfCanvas:function(t,e,A){var i={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(i,null,!0,A)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,A=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,A,!0,t)||this.getCoords(!0,t).every(function(t){return(t.x>=A.x||t.x<=e.x)&&(t.y>=A.y||t.y<=e.y)})&&this._containsCenterOfCanvas(e,A,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var A,i,n,r=0;for(var o in e)if(!((n=e[o]).o.y<t.y&&n.d.y<t.y||n.o.y>=t.y&&n.d.y>=t.y||(n.o.x===n.d.x&&n.o.x>=t.x?i=n.o.x:(A=(n.d.y-n.o.y)/(n.d.x-n.o.x),i=-(t.y-0*t.x-(n.o.y-A*n.o.x))/(0-A)),i>=t.x&&(r+=1),2!==r)))break;return r},getBoundingRect:function(e,A){var i=this.getCoords(e,A);return t.makeBoundingBoxFromPoints(i)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var A=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/A)},scaleToHeight:function(t,e){var A=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/A)},calcCoords:function(t){return t?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var A=this.getViewportTransform(),n=this.padding,r=e(this.angle),o=t.cos(r)*n,s=t.sin(r)*n,a=o+s,c=o-s,l=this.calcACoords(),u={tl:i(l.tl,A),tr:i(l.tr,A),bl:i(l.bl,A),br:i(l.br,A)};return n&&(u.tl.x-=c,u.tl.y-=a,u.tr.x+=a,u.tr.y-=c,u.bl.x-=a,u.bl.y+=c,u.br.x+=c,u.br.y+=a),u},calcOCoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),i=this.getViewportTransform(),n=A(i,e),r=A(n,t),o=(r=A(r,[1/i[0],0,0,1/i[3],0,0]),this._calculateCurrentDimensions()),s={};return this.forEachControl(function(t,e,A){s[e]=t.positionHandler(o,r,A)}),s},calcACoords:function(){var t=this._calcRotateMatrix(),e=this._calcTranslateMatrix(),n=A(e,t),r=this._getTransformedDimensions(),o=r.x/2,s=r.y/2;return{tl:i({x:-o,y:-s},n),tr:i({x:o,y:-s},n),bl:i({x:-o,y:s},n),br:i({x:o,y:s},n)}},setCoords:function(t){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),t||(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords()),this},_calcRotateMatrix:function(){return t.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="_",A="";return!t&&this.group&&(A=this.group.transformMatrixKey(t)+e),A+this.top+e+this.left+e+this.scaleX+e+this.scaleY+e+this.skewX+e+this.skewY+e+this.angle+e+this.originX+e+this.originY+e+this.width+e+this.height+e+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){var e=this.calcOwnMatrix();if(t||!this.group)return e;var i=this.transformMatrixKey(t),n=this.matrixCache||(this.matrixCache={});return n.key===i?n.value:(this.group&&(e=A(this.group.calcTransformMatrix(!1),e)),n.key=i,n.value=e,e)},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),A=this.ownMatrixCache||(this.ownMatrixCache={});if(A.key===e)return A.value;var i=this._calcTranslateMatrix(),n={angle:this.angle,translateX:i[4],translateY:i[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return A.key=e,A.value=t.composeMatrix(n),A.value},_calcDimensionsTransformMatrix:function(e,A,i){return t.calcDimensionsMatrix({skewX:e,skewY:A,scaleX:this.scaleX*(i&&this.flipX?-1:1),scaleY:this.scaleY*(i&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(e,A){void 0===e&&(e=this.skewX),void 0===A&&(A=this.skewY);var i,n,r,o=0===e&&0===A;if(this.strokeUniform?(n=this.width,r=this.height):(n=(i=this._getNonTransformedDimensions()).x,r=i.y),o)return this._finalizeDimensions(n*this.scaleX,r*this.scaleY);var s=t.sizeAfterTransform(n,r,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:A});return this._finalizeDimensions(s.x,s.y)},_finalizeDimensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return i(e,t,!0).scalarAdd(2*this.padding)}})}(),I.util.object.extend(I.Object.prototype,{sendToBack:function(){return this.group?I.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?I.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?I.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas&&this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?I.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas&&this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?I.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas&&this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var A=new I.Color(e),i=t+": "+A.toRgb()+"; ",n=A.getAlpha();return 1!==n&&(i+=t+"-opacity: "+n.toString()+"; "),i}return t+": none; "}var e=I.util.toFixed;I.util.object.extend(I.Object.prototype,{getSvgStyles:function(e){var A=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):"none",r=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",a=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=void 0!==this.opacity?this.opacity:"1",l=this.visible?"":" visibility: hidden;",u=e?"":this.getSvgFilter(),h=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",i,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",a,"; ",h,"fill-rule: ",A,"; ","opacity: ",c,";",u,l].join("")},getSvgSpanStyles:function(e,A){var i="; ",n=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+i:"",r=e.strokeWidth?"stroke-width: "+e.strokeWidth+i:"",o=e.fontSize?"font-size: "+e.fontSize+"px"+i:"",s=e.fontStyle?"font-style: "+e.fontStyle+i:"",a=e.fontWeight?"font-weight: "+e.fontWeight+i:"",c=e.fill?t("fill",e.fill):"",l=e.stroke?t("stroke",e.stroke):"",u=this.getSvgTextDecoration(e);return u&&(u="text-decoration: "+u+i),[l,r,n,o,s,a,u,c,e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"",A?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return["overline","underline","line-through"].filter(function(e){return t[e.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,e){var A=t?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+I.util.matrixToSVG(A)+(e||"")+'" '},_setSVGBg:function(t){if(this.backgroundColor){var A=I.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,A),'" y="',e(-this.height/2,A),'" width="',e(this.width,A),'" height="',e(this.height,A),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(t),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(t),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var A=(e=e||{}).reviver,i=e.additionalTransform||"",n=[this.getSvgTransform(!0,i),this.getSvgCommons()].join(""),r=t.indexOf("COMMON_PARTS");return t[r]=n,A?A(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var A,i,n=(e=e||{}).noStyle,r=e.reviver,o=n?"":'style="'+this.getSvgStyles()+'" ',s=e.withShadow?'style="'+this.getSvgFilter()+'" ':"",a=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",l=a&&a.absolutePositioned,u=this.stroke,h=this.fill,g=this.shadow,f=[],d=t.indexOf("COMMON_PARTS"),p=e.additionalTransform;return a&&(a.clipPathId="CLIPPATH_"+I.Object.__uid++,i='<clipPath id="'+a.clipPathId+'" >\n'+a.toClipPathSVG(r)+"</clipPath>\n"),l&&f.push("<g ",s,this.getSvgCommons()," >\n"),f.push("<g ",this.getSvgTransform(!1),l?"":s+this.getSvgCommons()," >\n"),A=[o,c,n?"":this.addPaintOrder()," ",p?'transform="'+p+'" ':""].join(""),t[d]=A,h&&h.toLive&&f.push(h.toSVG(this)),u&&u.toLive&&f.push(u.toSVG(this)),g&&f.push(g.toSVG(this)),a&&f.push(i),f.push(t.join("")),f.push("</g>\n"),l&&f.push("</g>\n"),r?r(f.join("")):f.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=I.util.object.extend,e="stateProperties";function A(e,A,i){var n={};i.forEach(function(t){n[t]=e[t]}),t(e[A],n,!0)}function i(t,e,A){if(t===e)return!0;if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var n=0,r=t.length;n<r;n++)if(!i(t[n],e[n]))return!1;return!0}if(t&&"object"==typeof t){var o,s=Object.keys(t);if(!e||"object"!=typeof e||!A&&s.length!==Object.keys(e).length)return!1;for(n=0,r=s.length;n<r;n++)if("canvas"!==(o=s[n])&&"group"!==o&&!i(t[o],e[o]))return!1;return!0}}I.util.object.extend(I.Object.prototype,{hasStateChanged:function(t){var A="_"+(t=t||e);return Object.keys(this[A]).length<this[t].length||!i(this[A],this,!0)},saveState:function(t){var i=t&&t.propertySet||e,n="_"+i;return this[n]?(A(this,n,this[i]),t&&t.stateProperties&&A(this,n,t.stateProperties),this):this.setupState(t)},setupState:function(t){var A=(t=t||{}).propertySet||e;return t.propertySet=A,this["_"+A]={},this.saveState(t),this}})}(),function(){var t=I.util.degreesToRadians;I.util.object.extend(I.Object.prototype,{_findTargetCorner:function(t,e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var A,i,n,r=t.x,o=t.y,s=Object.keys(this.oCoords),a=s.length-1;for(this.__corner=0;a>=0;a--)if(n=s[a],this.isControlVisible(n)&&(i=this._getImageLines(e?this.oCoords[n].touchCorner:this.oCoords[n].corner),0!==(A=this._findCrossPoints({x:r,y:o},i))&&A%2==1))return this.__corner=n,n;return!1},forEachControl:function(t){for(var e in this.controls)t(this.controls[e],e,this)},_setCornerCoords:function(){var t=this.oCoords;for(var e in t){var A=this.controls[e];t[e].corner=A.calcCornerCoords(this.angle,this.cornerSize,t[e].x,t[e].y,!1),t[e].touchCorner=A.calcCornerCoords(this.angle,this.touchCornerSize,t[e].x,t[e].y,!0)}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var A=this.getCenterPoint(),i=this._calculateCurrentDimensions(),n=this.canvas.viewportTransform;return e.translate(A.x,A.y),e.scale(1/n[0],1/n[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-i.x/2,-i.y/2,i.x,i.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var A=this._calculateCurrentDimensions(),i=this.borderScaleFactor,n=A.x+i,r=A.y+i,o=void 0!==e.hasControls?e.hasControls:this.hasControls,s=!1;return t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray),t.strokeRect(-n/2,-r/2,n,r),o&&(t.beginPath(),this.forEachControl(function(e,A,i){e.withConnection&&e.getVisibility(i,A)&&(s=!0,t.moveTo(e.x*n,e.y*r),t.lineTo(e.x*n+e.offsetX,e.y*r+e.offsetY))}),s&&t.stroke()),t.restore(),this},drawBordersInGroup:function(t,e,A){A=A||{};var i=I.util.sizeAfterTransform(this.width,this.height,e),n=this.strokeWidth,r=this.strokeUniform,o=this.borderScaleFactor,s=i.x+n*(r?this.canvas.getZoom():e.scaleX)+o,a=i.y+n*(r?this.canvas.getZoom():e.scaleY)+o;return t.save(),this._setLineDash(t,A.borderDashArray||this.borderDashArray),t.strokeStyle=A.borderColor||this.borderColor,t.strokeRect(-s/2,-a/2,s,a),t.restore(),this},drawControls:function(t,e){e=e||{},t.save();var A,i,n=this.canvas.getRetinaScaling();return t.setTransform(n,0,0,n,0,0),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(A=this.group.calcTransformMatrix()),this.forEachControl(function(n,r,o){i=o.oCoords[r],n.getVisibility(o,r)&&(A&&(i=I.util.transformPoint(i,A)),n.render(t,i.x,i.y,e,o))}),t.restore(),this},isControlVisible:function(t){return this.controls[t]&&this.controls[t].getVisibility(this,t)},setControlVisible:function(t,e){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},onDeselect:function(){},onSelect:function(){}})}(),I.util.object.extend(I.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var A=function(){},i=(e=e||{}).onComplete||A,n=e.onChange||A,r=this;return I.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),r.requestRenderAll(),n()},onComplete:function(){t.setCoords(),i()}}),this},fxCenterObjectV:function(t,e){var A=function(){},i=(e=e||{}).onComplete||A,n=e.onChange||A,r=this;return I.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),r.requestRenderAll(),n()},onComplete:function(){t.setCoords(),i()}}),this},fxRemove:function(t,e){var A=function(){},i=(e=e||{}).onComplete||A,n=e.onChange||A,r=this;return I.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),r.requestRenderAll(),n()},onComplete:function(){r.remove(t),i()}}),this}}),I.util.object.extend(I.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,A=[];for(t in arguments[0])A.push(t);for(var i=0,n=A.length;i<n;i++)t=A[i],e=i!==n-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,A,i){var n,r=this;e=e.toString(),A=A?I.util.object.clone(A):{},~t.indexOf(".")&&(n=t.split("."));var o=r.colorProperties.indexOf(t)>-1||n&&r.colorProperties.indexOf(n[1])>-1,s=n?this.get(n[0])[n[1]]:this.get(t);"from"in A||(A.from=s),o||(e=~e.indexOf("=")?s+parseFloat(e.replace("=","")):parseFloat(e));var a={startValue:A.from,endValue:e,byValue:A.by,easing:A.easing,duration:A.duration,abort:A.abort&&function(t,e,i){return A.abort.call(r,t,e,i)},onChange:function(e,o,s){n?r[n[0]][n[1]]=e:r.set(t,e),i||A.onChange&&A.onChange(e,o,s)},onComplete:function(t,e,n){i||(r.setCoords(),A.onComplete&&A.onComplete(t,e,n))}};return o?I.util.animateColor(a.startValue,a.endValue,a.duration,a):I.util.animate(a)}}),function(t){var e=t.fabric||(t.fabric={}),A=e.util.object.extend,i=e.util.object.clone,n={x1:1,x2:1,y1:1,y2:1};function r(t,e){var A=t.origin,i=t.axis1,n=t.axis2,r=t.dimension,o=e.nearest,s=e.center,a=e.farthest;return function(){switch(this.get(A)){case o:return Math.min(this.get(i),this.get(n));case s:return Math.min(this.get(i),this.get(n))+.5*this.get(r);case a:return Math.max(this.get(i),this.get(n))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==n[t]&&this._setWidthHeight(),this},_getLeftToOriginX:r({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:r({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2),t.lineWidth=this.strokeWidth;var A=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=A},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return A(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,A=t*this.width*.5,i=e*this.height*.5;return{x1:A,x2:t*this.width*-.5,y1:i,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,i,n){n=n||{};var r=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),o=[r.x1||0,r.y1||0,r.x2||0,r.y2||0];i(new e.Line(o,A(r,n)))},e.Line.fromObject=function(t,A){var n=i(t,!0);n.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",n,function(t){delete t.points,A&&A(t)},"points")})}(e),function(t){var e=t.fabric||(t.fabric={}),A=Math.PI;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*A,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,i=(this.endAngle-this.startAngle)%(2*A);if(0===i)t=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var n=e.util.cos(this.startAngle)*this.radius,r=e.util.sin(this.startAngle)*this.radius,o=e.util.cos(this.endAngle)*this.radius,s=e.util.sin(this.endAngle)*this.radius,a=i>A?"1":"0";t=['<path d="M '+n+" "+r," A "+this.radius+" "+this.radius," 0 ",+a+" 1"," "+o+" "+s,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,A){var i,n=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(i=n)&&i.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");n.left=(n.left||0)-n.radius,n.top=(n.top||0)-n.radius,A(new e.Circle(n))},e.Circle.fromObject=function(t,A){e.Object._fromObject("Circle",t,A)})}(e),function(t){var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,A=this.height/2;t.beginPath(),t.moveTo(-e,A),t.lineTo(0,-A),t.lineTo(e,A),t.closePath(),this._renderPaintInOrder(t)},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),e.Triangle.fromObject=function(t,A){return e.Object._fromObject("Triangle",t,A)})}(e),function(t){var e=t.fabric||(t.fabric={}),A=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,A,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,A){var i=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,A(new e.Ellipse(i))},e.Ellipse.fromObject=function(t,A){e.Object._fromObject("Ellipse",t,A)})}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,A=this.ry?Math.min(this.ry,this.height/2):0,i=this.width,n=this.height,r=-this.width/2,o=-this.height/2,s=0!==e||0!==A,a=.4477152502;t.beginPath(),t.moveTo(r+e,o),t.lineTo(r+i-e,o),s&&t.bezierCurveTo(r+i-a*e,o,r+i,o+a*A,r+i,o+A),t.lineTo(r+i,o+n-A),s&&t.bezierCurveTo(r+i,o+n-a*A,r+i-a*e,o+n,r+i-e,o+n),t.lineTo(r+e,o+n),s&&t.bezierCurveTo(r+a*e,o+n,r,o+n-a*A,r,o+n-A),t.lineTo(r,o+A),s&&t.bezierCurveTo(r,o+a*A,r+a*e,o,r+e,o),t.closePath(),this._renderPaintInOrder(t)},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,i,n){if(!t)return i(null);n=n||{};var r=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);r.left=r.left||0,r.top=r.top||0,r.height=r.height||0,r.width=r.width||0;var o=new e.Rect(A(n?e.util.object.clone(n):{},r));o.visible=o.visible&&o.width>0&&o.height>0,i(o)},e.Rect.fromObject=function(t,A){return e.Object._fromObject("Rect",t,A)})}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.util.object.extend,i=e.util.array.min,n=e.util.array.max,r=e.util.toFixed;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e),this._setPositionDimensions(e)},_setPositionDimensions:function(t){var e,A=this._calcDimensions(t);this.width=A.width,this.height=A.height,t.fromSVG||(e=this.translateToGivenOrigin({x:A.left-this.strokeWidth/2,y:A.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),void 0===t.left&&(this.left=t.fromSVG?A.left:e.x),void 0===t.top&&(this.top=t.fromSVG?A.top:e.y),this.pathOffset={x:A.left+this.width/2,y:A.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=i(t,"x")||0,A=i(t,"y")||0;return{left:e,top:A,width:(n(t,"x")||0)-e,height:(n(t,"y")||0)-A}},toObject:function(t){return A(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],A=this.pathOffset.x,i=this.pathOffset.y,n=e.Object.NUM_FRACTION_DIGITS,o=0,s=this.points.length;o<s;o++)t.push(r(this.points[o].x-A,n),",",r(this.points[o].y-i,n)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,A=this.points.length,i=this.pathOffset.x,n=this.pathOffset.y;if(!A||isNaN(this.points[A-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-n);for(var r=0;r<A;r++)e=this.points[r],t.lineTo(e.x-i,e.y-n);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElementGenerator=function(t){return function(i,n,r){if(!i)return n(null);r||(r={});var o=e.parsePointsAttribute(i.getAttribute("points")),s=e.parseAttributes(i,e[t].ATTRIBUTE_NAMES);s.fromSVG=!0,n(new e[t](o,A(s,r)))}},e.Polyline.fromElement=e.Polyline.fromElementGenerator("Polyline"),e.Polyline.fromObject=function(t,A){return e.Object._fromObject("Polyline",t,A,"points")})}(e),function(t){var e=t.fabric||(t.fabric={});e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=e.Polyline.fromElementGenerator("Polygon"),e.Polygon.fromObject=function(t,A){e.Object._fromObject("Polygon",t,A,"points")})}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.util.array.min,i=e.util.array.max,n=e.util.object.extend,r=Object.prototype.toString,o=e.util.toFixed;e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,A){A=A||{},this.callSuper("initialize",A),t||(t=[]);var i="[object Array]"===r.call(t);this.path=e.util.makePathSimpler(i?t:e.util.parsePath(t)),this.path&&e.Polyline.prototype._setPositionDimensions.call(this,A)},_renderPathCommands:function(t){var e,A=0,i=0,n=0,r=0,o=0,s=0,a=-this.pathOffset.x,c=-this.pathOffset.y;t.beginPath();for(var l=0,u=this.path.length;l<u;++l)switch((e=this.path[l])[0]){case"L":n=e[1],r=e[2],t.lineTo(n+a,r+c);break;case"M":A=n=e[1],i=r=e[2],t.moveTo(n+a,r+c);break;case"C":n=e[5],r=e[6],o=e[3],s=e[4],t.bezierCurveTo(e[1]+a,e[2]+c,o+a,s+c,n+a,r+c);break;case"Q":t.quadraticCurveTo(e[1]+a,e[2]+c,e[3]+a,e[4]+c),n=e[3],r=e[4],o=e[1],s=e[2];break;case"z":case"Z":n=A,r=i,t.closePath()}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return n(this.callSuper("toObject",t),{path:this.path.map(function(t){return t.slice()})})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',e.util.joinPath(this.path),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+o(-this.pathOffset.x,t)+", "+o(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var t,n,r=[],o=[],s=0,a=0,c=0,l=0,u=0,h=this.path.length;u<h;++u){switch((t=this.path[u])[0]){case"L":c=t[1],l=t[2],n=[];break;case"M":s=c=t[1],a=l=t[2],n=[];break;case"C":n=e.util.getBoundsOfCurve(c,l,t[1],t[2],t[3],t[4],t[5],t[6]),c=t[5],l=t[6];break;case"Q":n=e.util.getBoundsOfCurve(c,l,t[1],t[2],t[1],t[2],t[3],t[4]),c=t[3],l=t[4];break;case"z":case"Z":c=s,l=a}n.forEach(function(t){r.push(t.x),o.push(t.y)}),r.push(c),o.push(l)}var g=A(r)||0,f=A(o)||0;return{left:g,top:f,width:(i(r)||0)-g,height:(i(o)||0)-f}}}),e.Path.fromObject=function(t,A){if("string"==typeof t.sourcePath){var i=t.sourcePath;e.loadSVGFromURL(i,function(e){var i=e[0];i.setOptions(t),A&&A(i)})}else e.Object._fromObject("Path",t,A,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,A,i){var r=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);r.fromSVG=!0,A(new e.Path(r.d,n(r,i)))})}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.util.array.min,i=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,A){e=e||{},this._objects=[],A&&this.callSuper("initialize",e),this._objects=t||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;if(A)this._updateObjectsACoords();else{var n=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),n||this._calcBounds(),this._updateObjectsCoords(n),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var A=t.left,i=t.top;t.set({left:A-e.x,top:i-e.y}),t.group=this,t.setCoords(!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){var A=!!this.group;return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(A&&e.util.removeTransformFromObject(t,this.group.calcTransformMatrix()),this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,A?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,A){var i=this._objects.length;if(this.useSetOnGroup)for(;i--;)this._objects[i].setOnGroup(t,A);if("canvas"===t)for(;i--;)this._objects[i]._set(t,A);e.Object.prototype._set.call(this,t,A)},toObject:function(t){var A=this.includeDefaultValues,i=this._objects.filter(function(t){return!t.excludeFromExport}).map(function(e){var i=e.includeDefaultValues;e.includeDefaultValues=A;var n=e.toObject(t);return e.includeDefaultValues=i,n}),n=e.Object.prototype.toObject.call(this,t);return n.objects=i,n},toDatalessObject:function(t){var A,i=this.sourcePath;if(i)A=i;else{var n=this.includeDefaultValues;A=this._objects.map(function(e){var A=e.includeDefaultValues;e.includeDefaultValues=n;var i=e.toDatalessObject(t);return e.includeDefaultValues=A,i})}var r=e.Object.prototype.toDatalessObject.call(this,t);return r.objects=A,r},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=e.Object.prototype.shouldCache.call(this);if(t)for(var A=0,i=this._objects.length;A<i;A++)if(this._objects[A].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(e.Object.prototype.willDrawShadow.call(this))return!0;for(var t=0,A=this._objects.length;t<A;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,A=this._objects.length;e<A;e++)this._objects[e].render(t);this._drawClipPath(t)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,A=this._objects.length;e<A;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var i=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-i/2,-n/2,i,n)}return!0}return!1},_restoreObjectsState:function(){var t=this.calcOwnMatrix();return this._objects.forEach(function(A){e.util.addTransformToObject(A,t),delete A.group,A.setCoords()}),this},realizeTransform:function(t,A){return e.util.addTransformToObject(t,A),t},destroy:function(){return this._objects.forEach(function(t){t.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,A=this.canvas;this._objects=[];var i=this.toObject();delete i.objects;var n=new e.ActiveSelection([]);return n.set(i),n.type="activeSelection",A.remove(this),t.forEach(function(t){t.group=n,t.dirty=!0,A.add(t)}),n.canvas=A,n._objects=t,A._activeObject=n,n.setCoords(),n}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject(function(t){t.setCoords(!0)}),this},_calcBounds:function(t){for(var e,A,i,n,r=[],o=[],s=["tr","br","bl","tl"],a=0,c=this._objects.length,l=s.length;a<c;++a){for(i=(e=this._objects[a]).calcACoords(),n=0;n<l;n++)A=s[n],r.push(i[A].x),o.push(i[A].y);e.aCoords=i}this._getBounds(r,o,t)},_getBounds:function(t,n,r){var o=new e.Point(A(t),A(n)),s=new e.Point(i(t),i(n)),a=o.y||0,c=o.x||0,l=s.x-o.x||0,u=s.y-o.y||0;this.width=l,this.height=u,r||this.setPositionByOrigin({x:c,y:a},"left","top")},_toSVG:function(t){for(var e=["<g ","COMMON_PARTS"," >\n"],A=0,i=this._objects.length;A<i;A++)e.push("\t\t",this._objects[A].toSVG(t));return e.push("</g>\n"),e},getSvgStyles:function(){var t=void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[t,this.getSvgFilter(),e].join("")},toClipPathSVG:function(t){for(var e=[],A=0,i=this._objects.length;A<i;A++)e.push("\t",this._objects[A].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,A){var i=t.objects,n=e.util.object.clone(t,!0);delete n.objects,"string"!=typeof i?e.util.enlivenObjects(i,function(i){e.util.enlivenObjects([t.clipPath],function(n){var r=e.util.object.clone(t,!0);r.clipPath=n[0],delete r.objects,A&&A(new e.Group(i,r,!0))})}):e.loadSVGFromURL(i,function(r){var o=e.util.groupSVGElements(r,t,i);o.set(n),A&&A(o)})})}(e),function(t){var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,A){A=A||{},this._objects=t||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;A.originX&&(this.originX=A.originX),A.originY&&(this.originY=A.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,A),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var A=e.Object.prototype.toObject.call(this),i=new e.Group([]);if(delete A.type,i.set(A),t.forEach(function(t){t.canvas.remove(t),t.group=i}),i._objects=t,!this.canvas)return i;var n=this.canvas;return n.add(i),n._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,A){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),void 0===(A=A||{}).hasControls&&(A.hasControls=!1),A.forActiveSelection=!0;for(var i=0,n=this._objects.length;i<n;i++)this._objects[i]._renderControls(t,A);t.restore()}}),e.ActiveSelection.fromObject=function(t,A){e.util.enlivenObjects(t.objects,function(i){delete t.objects,A&&A(new e.ActiveSelection(i,t,!0))})})}(e),function(t){var e=I.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?I.warn("fabric.Image is already defined."):(I.Image=I.util.createClass(I.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:I.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:I.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+I.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=I.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){I.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,A=this.height/2;t.beginPath(),t.moveTo(-e,-A),t.lineTo(e,-A),t.lineTo(e,A),t.lineTo(-e,A),t.lineTo(-e,-A),t.closePath()}},toObject:function(t){var A=[];this.filters.forEach(function(t){t&&A.push(t.toObject())});var i=e(this.callSuper("toObject",["cropX","cropY"].concat(t)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:A});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],A=[],i=this._element,n=-this.width/2,r=-this.height/2,o="",s="";if(!i)return[];if(this.hasCrop()){var a=I.Object.__uid++;e.push('<clipPath id="imageCrop_'+a+'">\n','\t<rect x="'+n+'" y="'+r+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),o=' clip-path="url(#imageCrop_'+a+')" '}if(this.imageSmoothing||(s='" image-rendering="optimizeSpeed'),A.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',n-this.cropX,'" y="',r-this.cropY,'" width="',i.width||i.naturalWidth,'" height="',i.height||i.height,s,'"',o,"></image>\n"),this.stroke||this.strokeDashArray){var c=this.fill;this.fill=null,t=["\t<rect ",'x="',n,'" y="',r,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=c}return e="fill"!==this.paintFirst?e.concat(t,A):e.concat(A,t)},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,A){return I.util.loadImage(t,function(t,i){this.setElement(t,A),this._setWidthHeight(),e&&e(this,i)},this,A&&A.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,A=this.getTotalObjectScaling(),i=A.scaleX,n=A.scaleY,r=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||i>e&&n>e)return this._element=r,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=i,void(this._lastScaleY=n);I.filterBackend||(I.filterBackend=I.initFilterBackend());var o=I.util.createCanvasElement(),s=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,a=r.width,c=r.height;o.width=a,o.height=c,this._element=o,this._lastScaleX=t.scaleX=i,this._lastScaleY=t.scaleY=n,I.filterBackend.applyFilters([t],r,a,c,this._element,s),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter(function(t){return t&&!t.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,A=e.naturalWidth||e.width,i=e.naturalHeight||e.height;if(this._element===this._originalElement){var n=I.util.createCanvasElement();n.width=A,n.height=i,this._element=n,this._filteredEl=n}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,A,i),this._lastScaleX=1,this._lastScaleY=1;return I.filterBackend||(I.filterBackend=I.initFilterBackend()),I.filterBackend.applyFilters(t,this._originalElement,A,i,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){I.util.setImageSmoothing(t,this.imageSmoothing),!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},drawCacheOnCanvas:function(t){I.util.setImageSmoothing(t,this.imageSmoothing),I.Object.prototype.drawCacheOnCanvas.call(this,t)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(t){var e=this._element;if(e){var A=this._filterScalingX,i=this._filterScalingY,n=this.width,r=this.height,o=Math.min,s=Math.max,a=s(this.cropX,0),c=s(this.cropY,0),l=e.naturalWidth||e.width,u=e.naturalHeight||e.height,h=a*A,g=c*i,f=o(n*A,l-h),d=o(r*i,u-g),p=-n/2,v=-r/2,m=o(n,l/A-a),B=o(r,u/i-c);e&&t.drawImage(e,h,g,f,d,p,v,m,B)}},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(I.util.getById(t),e),I.util.addClass(this.getElement(),I.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t)},_initFilters:function(t,e){t&&t.length?I.util.enlivenObjects(t,function(t){e&&e(t)},"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=I.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),A=this._element.width,i=this._element.height,n=1,r=1,o=0,s=0,a=0,c=0,l=this.width,u=this.height,h={width:l,height:u};return!e||"none"===e.alignX&&"none"===e.alignY?(n=l/A,r=u/i):("meet"===e.meetOrSlice&&(t=(l-A*(n=r=I.util.findScaleToFit(this._element,h)))/2,"Min"===e.alignX&&(o=-t),"Max"===e.alignX&&(o=t),t=(u-i*r)/2,"Min"===e.alignY&&(s=-t),"Max"===e.alignY&&(s=t)),"slice"===e.meetOrSlice&&(t=A-l/(n=r=I.util.findScaleToCover(this._element,h)),"Mid"===e.alignX&&(a=t/2),"Max"===e.alignX&&(a=t),t=i-u/r,"Mid"===e.alignY&&(c=t/2),"Max"===e.alignY&&(c=t),A=l/n,i=u/r)),{width:A,height:i,scaleX:n,scaleY:r,offsetLeft:o,offsetTop:s,cropX:a,cropY:c}}}),I.Image.CSS_CANVAS="canvas-img",I.Image.prototype.getSvgSrc=I.Image.prototype.getSrc,I.Image.fromObject=function(t,e){var A=I.util.object.clone(t);I.util.loadImage(A.src,function(t,i){i?e&&e(null,!0):I.Image.prototype._initFilters.call(A,A.filters,function(i){A.filters=i||[],I.Image.prototype._initFilters.call(A,[A.resizeFilter],function(i){A.resizeFilter=i[0],I.util.enlivenObjects([A.clipPath],function(i){A.clipPath=i[0];var n=new I.Image(t,A);e(n,!1)})})})},null,A.crossOrigin)},I.Image.fromURL=function(t,e,A){I.util.loadImage(t,function(t,i){e&&e(new I.Image(t,A),i)},null,A&&A.crossOrigin)},I.Image.ATTRIBUTE_NAMES=I.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),I.Image.fromElement=function(t,A,i){var n=I.parseAttributes(t,I.Image.ATTRIBUTE_NAMES);I.Image.fromURL(n["xlink:href"],A,e(i?I.util.object.clone(i):{},n))})}(e),I.util.object.extend(I.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},A=(t=t||{}).onComplete||e,i=t.onChange||e,n=this;return I.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){n.rotate(t),i()},onComplete:function(){n.setCoords(),A()}}),this}}),I.util.object.extend(I.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){function t(t,e){var A="precision "+e+" float;\nvoid main(){}",i=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(i,A),t.compileShader(i),!!t.getShaderParameter(i,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}I.isWebglSupported=function(e){if(I.isLikelyNode)return!1;e=e||I.WebglFilterBackend.prototype.tileSize;var A=document.createElement("canvas"),i=A.getContext("webgl")||A.getContext("experimental-webgl"),n=!1;if(i){I.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),n=I.maxTextureSize>=e;for(var r=["highp","mediump","lowp"],o=0;o<3;o++)if(t(i,r[o])){I.webGlPrecision=r[o];break}}return this.isSupported=n,n},I.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var A,i=void 0!==window.performance;try{new ImageData(1,1),A=!0}catch(u){A=!1}var n="undefined"!=typeof ArrayBuffer,r="undefined"!=typeof Uint8ClampedArray;if(i&&A&&n&&r){var o=I.util.createCanvasElement(),s=new ArrayBuffer(t*e*4);if(I.forceGLPutImageData)return this.imageBuffer=s,void(this.copyGLTo2D=S);var a,c,l={imageBuffer:s,destinationWidth:t,destinationHeight:e,targetCanvas:o};o.width=t,o.height=e,a=window.performance.now(),M.call(l,this.gl,l),c=window.performance.now()-a,a=window.performance.now(),S.call(l,this.gl,l),c>window.performance.now()-a?(this.imageBuffer=s,this.copyGLTo2D=S):this.copyGLTo2D=M}},createWebGLCanvas:function(t,e){var A=I.util.createCanvasElement();A.width=t,A.height=e;var i={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},n=A.getContext("webgl",i);n||(n=A.getContext("experimental-webgl",i)),n&&(n.clearColor(0,0,0,0),this.canvas=A,this.gl=n)},applyFilters:function(t,e,A,i,n,r){var o,s=this.gl;r&&(o=this.getCachedTexture(r,e));var a={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:A,sourceHeight:i,destinationWidth:A,destinationHeight:i,context:s,sourceTexture:this.createTexture(s,A,i,!o&&e),targetTexture:this.createTexture(s,A,i),originalTexture:o||this.createTexture(s,A,i,!o&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:n},c=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,c),t.forEach(function(t){t&&t.applyTo(a)}),function(t){var e=t.targetCanvas,A=e.width,i=e.height,n=t.destinationWidth,r=t.destinationHeight;A===n&&i===r||(e.width=n,e.height=r)}(a),this.copyGLTo2D(s,a),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(a.sourceTexture),s.deleteTexture(a.targetTexture),s.deleteFramebuffer(c),n.getContext("2d").setTransform(1,0,0,1,0,0),a},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,A,i){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),i?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,i):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,A,0,t.RGBA,t.UNSIGNED_BYTE,null),n},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var A=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=A,A},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:M,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var A=t.getExtension("WEBGL_debug_renderer_info");if(A){var i=t.getParameter(A.UNMASKED_RENDERER_WEBGL),n=t.getParameter(A.UNMASKED_VENDOR_WEBGL);i&&(e.renderer=i.toLowerCase()),n&&(e.vendor=n.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){var t=function(){};function e(){}I.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,A,i,n){var r=n.getContext("2d");r.drawImage(e,0,0,A,i);var o={sourceWidth:A,sourceHeight:i,imageData:r.getImageData(0,0,A,i),originalEl:e,originalImageData:r.getImageData(0,0,A,i),canvasEl:n,ctx:r,filterBackend:this};return t.forEach(function(t){t.applyTo(o)}),o.imageData.width===A&&o.imageData.height===i||(n.width=o.imageData.width,n.height=o.imageData.height),r.putImageData(o.imageData,0,0),o}}}(),I.Image=I.Image||{},I.Image.filters=I.Image.filters||{},I.Image.filters.BaseFilter=I.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,A){e=e||this.fragmentSource,A=A||this.vertexSource,"highp"!==I.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+I.webGlPrecision+" float"));var i=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(i,A),t.compileShader(i),!t.getShaderParameter(i,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(i));var n=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(n));var r=t.createProgram();if(t.attachShader(r,i),t.attachShader(r,n),t.linkProgram(r),!t.getProgramParameter(r,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(r));var o=this.getAttributeLocations(t,r),s=this.getUniformLocations(t,r)||{};return s.uStepW=t.getUniformLocation(r,"uStepW"),s.uStepH=t.getUniformLocation(r,"uStepH"),{program:r,attributeLocations:o,uniformLocations:s}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,A){var i=e.aPosition,n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,A,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,A,i=t.context;t.passes>1?(e=t.destinationWidth,A=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===A||(i.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(i,e,A)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,t.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=I.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var A=e[t].length;A--;)if(this[t][A]!==e[t][A])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,A=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(A.program),this.sendAttributeData(e,A.attributeLocations,t.aPosition),e.uniform1f(A.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(A.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,A.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,A){t.activeTexture(A),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),I.Image.filters.BaseFilter.fromObject=function(t,e){var A=new I.Image.filters[t.type](t);return e&&e(A),A},function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.ColorMatrix=i(A.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,A,i,n,r,o=t.imageData.data,s=o.length,a=this.matrix,c=this.colorsOnly;for(r=0;r<s;r+=4)e=o[r],A=o[r+1],i=o[r+2],c?(o[r]=e*a[0]+A*a[1]+i*a[2]+255*a[4],o[r+1]=e*a[5]+A*a[6]+i*a[7]+255*a[9],o[r+2]=e*a[10]+A*a[11]+i*a[12]+255*a[14]):(n=o[r+3],o[r]=e*a[0]+A*a[1]+i*a[2]+n*a[3]+255*a[4],o[r+1]=e*a[5]+A*a[6]+i*a[7]+n*a[8]+255*a[9],o[r+2]=e*a[10]+A*a[11]+i*a[12]+n*a[13]+255*a[14],o[r+3]=e*a[15]+A*a[16]+i*a[17]+n*a[18]+255*a[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var A=this.matrix,i=[A[0],A[1],A[2],A[3],A[5],A[6],A[7],A[8],A[10],A[11],A[12],A[13],A[15],A[16],A[17],A[18]],n=[A[4],A[9],A[14],A[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,i),t.uniform4fv(e.uConstants,n)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.Brightness=i(A.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,A=t.imageData.data,i=A.length,n=Math.round(255*this.brightness);for(e=0;e<i;e+=4)A[e]=A[e]+n,A[e+1]=A[e+1]+n,A[e+2]=A[e+2]+n}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.util.object.extend,i=e.Image.filters,n=e.util.createClass;i.Convolute=n(i.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),A=this.type+"_"+e+"_"+(this.opaque?1:0),i=this.fragmentSource[A];return t.programCache.hasOwnProperty(A)||(t.programCache[A]=this.createProgram(t.context,i)),t.programCache[A]},applyTo2d:function(t){var e,A,i,n,r,o,s,a,c,l,u,h,g,f=t.imageData,d=f.data,p=this.matrix,v=Math.round(Math.sqrt(p.length)),m=Math.floor(v/2),B=f.width,y=f.height,C=t.ctx.createImageData(B,y),w=C.data,b=this.opaque?1:0;for(u=0;u<y;u++)for(l=0;l<B;l++){for(r=4*(u*B+l),e=0,A=0,i=0,n=0,g=0;g<v;g++)for(h=0;h<v;h++)o=l+h-m,(s=u+g-m)<0||s>=y||o<0||o>=B||(a=4*(s*B+o),c=p[g*v+h],e+=d[a]*c,A+=d[a+1]*c,i+=d[a+2]*c,b||(n+=d[a+3]*c));w[r]=e,w[r+1]=A,w[r+2]=i,w[r+3]=b?d[r+3]:n}t.imageData=C},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return A(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.Grayscale=i(A.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,A,i=t.imageData.data,n=i.length,r=this.mode;for(e=0;e<n;e+=4)"average"===r?A=(i[e]+i[e+1]+i[e+2])/3:"lightness"===r?A=(Math.min(i[e],i[e+1],i[e+2])+Math.max(i[e],i[e+1],i[e+2]))/2:"luminosity"===r&&(A=.21*i[e]+.72*i[e+1]+.07*i[e+2]),i[e]=A,i[e+1]=A,i[e+2]=A},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var A=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,A)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.Invert=i(A.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,A=t.imageData.data,i=A.length;for(e=0;e<i;e+=4)A[e]=255-A[e],A[e+1]=255-A[e+1],A[e+2]=255-A[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.util.object.extend,i=e.Image.filters,n=e.util.createClass;i.Noise=n(i.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,A,i=t.imageData.data,n=i.length,r=this.noise;for(e=0,n=i.length;e<n;e+=4)A=(.5-Math.random())*r,i[e]+=A,i[e+1]+=A,i[e+2]+=A}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return A(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.Pixelate=i(A.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,A,i,n,r,o,s,a,c,l,u,h=t.imageData,g=h.data,f=h.height,d=h.width;for(A=0;A<f;A+=this.blocksize)for(i=0;i<d;i+=this.blocksize)for(n=g[e=4*A*d+4*i],r=g[e+1],o=g[e+2],s=g[e+3],l=Math.min(A+this.blocksize,f),u=Math.min(i+this.blocksize,d),a=A;a<l;a++)for(c=i;c<u;c++)g[e=4*a*d+4*c]=n,g[e+1]=r,g[e+2]=o,g[e+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.util.object.extend,i=e.Image.filters,n=e.util.createClass;i.RemoveColor=n(i.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var A,i,n,r,o=t.imageData.data,s=255*this.distance,a=new e.Color(this.color).getSource(),c=[a[0]-s,a[1]-s,a[2]-s],l=[a[0]+s,a[1]+s,a[2]+s];for(A=0;A<o.length;A+=4)i=o[A],n=o[A+1],r=o[A+2],i>c[0]&&n>c[1]&&r>c[2]&&i<l[0]&&n<l[1]&&r<l[2]&&(o[A+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,A){var i=new e.Color(this.color).getSource(),n=parseFloat(this.distance),r=[0+i[0]/255-n,0+i[1]/255-n,0+i[2]/255-n,1],o=[i[0]/255+n,i[1]/255+n,i[2]/255+n,1];t.uniform4fv(A.uLow,r),t.uniform4fv(A.uHigh,o)},toObject:function(){return A(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass,n={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var r in n)A[r]=i(A.ColorMatrix,{type:r,matrix:n[r],mainParameter:!1,colorsOnly:!0}),e.Image.filters[r].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric,A=e.Image.filters,i=e.util.createClass;A.BlendColor=i(A.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,A=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(A)||(e=this.buildSource(this.mode),t.programCache[A]=this.createProgram(t.context,e)),t.programCache[A]},applyTo2d:function(t){var A,i,n,r,o,s,a,c=t.imageData.data,l=c.length,u=1-this.alpha;A=(a=new e.Color(this.color).getSource())[0]*this.alpha,i=a[1]*this.alpha,n=a[2]*this.alpha;for(var h=0;h<l;h+=4)switch(r=c[h],o=c[h+1],s=c[h+2],this.mode){case"multiply":c[h]=r*A/255,c[h+1]=o*i/255,c[h+2]=s*n/255;break;case"screen":c[h]=255-(255-r)*(255-A)/255,c[h+1]=255-(255-o)*(255-i)/255,c[h+2]=255-(255-s)*(255-n)/255;break;case"add":c[h]=r+A,c[h+1]=o+i,c[h+2]=s+n;break;case"diff":case"difference":c[h]=Math.abs(r-A),c[h+1]=Math.abs(o-i),c[h+2]=Math.abs(s-n);break;case"subtract":c[h]=r-A,c[h+1]=o-i,c[h+2]=s-n;break;case"darken":c[h]=Math.min(r,A),c[h+1]=Math.min(o,i),c[h+2]=Math.min(s,n);break;case"lighten":c[h]=Math.max(r,A),c[h+1]=Math.max(o,i),c[h+2]=Math.max(s,n);break;case"overlay":c[h]=A<128?2*r*A/255:255-2*(255-r)*(255-A)/255,c[h+1]=i<128?2*o*i/255:255-2*(255-o)*(255-i)/255,c[h+2]=n<128?2*s*n/255:255-2*(255-s)*(255-n)/255;break;case"exclusion":c[h]=A+r-2*A*r/255,c[h+1]=i+o-2*i*o/255,c[h+2]=n+s-2*n*s/255;break;case"tint":c[h]=A+r*u,c[h+1]=i+o*u,c[h+2]=n+s*u}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,A){var i=new e.Color(this.color).getSource();i[0]=this.alpha*i[0]/255,i[1]=this.alpha*i[1]/255,i[2]=this.alpha*i[2]/255,i[3]=this.alpha,t.uniform4fv(A.uColor,i)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric,A=e.Image.filters,i=e.util.createClass;A.BlendImage=i(A.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,A=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,A)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,A=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,A,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,A=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/A,1]},applyTo2d:function(t){var A,i,n,r,o,s,a,c,l,u,h,g=t.imageData,f=t.filterBackend.resources,d=g.data,p=d.length,v=g.width,m=g.height,B=this.image;f.blendImage||(f.blendImage=e.util.createCanvasElement()),u=(l=f.blendImage).getContext("2d"),l.width!==v||l.height!==m?(l.width=v,l.height=m):u.clearRect(0,0,v,m),u.setTransform(B.scaleX,0,0,B.scaleY,B.left,B.top),u.drawImage(B._element,0,0,v,m),h=u.getImageData(0,0,v,m).data;for(var y=0;y<p;y+=4)switch(o=d[y],s=d[y+1],a=d[y+2],c=d[y+3],A=h[y],i=h[y+1],n=h[y+2],r=h[y+3],this.mode){case"multiply":d[y]=o*A/255,d[y+1]=s*i/255,d[y+2]=a*n/255,d[y+3]=c*r/255;break;case"mask":d[y+3]=r}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var A=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,A)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,A){e.Image.fromObject(t.image,function(i){var n=e.util.object.clone(t);n.image=i,A(new e.Image.filters.BlendImage(n))})}}(e),function(t){var e=t.fabric||(t.fabric={}),A=Math.pow,i=Math.floor,n=Math.sqrt,r=Math.abs,o=Math.round,s=Math.sin,a=Math.ceil,c=e.Image.filters,l=e.util.createClass;c.Resize=l(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),A=this.type+"_"+e;if(!t.programCache.hasOwnProperty(A)){var i=this.generateShader(e);t.programCache[A]=this.createProgram(t.context,i)}return t.programCache[A]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,A=this.getFilterWindow(),i=new Array(A),n=1;n<=A;n++)i[n-1]=t(n*e);return i},generateShader:function(t){for(var e=new Array(t),A=this.fragmentSourceTOP,i=1;i<=t;i++)e[i-1]=i+".0 * uDelta";return A+="uniform float uTaps["+t+"];\n",A+="void main() {\n",A+="  vec4 color = texture2D(uTexture, vTexCoord);\n",A+="  float sum = 1.0;\n",e.forEach(function(t,e){A+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",A+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",A+="  sum += 2.0 * uTaps["+e+"];\n"}),A+="  gl_FragColor = color / sum;\n",A+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var A=(e*=Math.PI)/t;return s(e)/e*s(A)/A}},applyTo2d:function(t){var e=t.imageData,A=this.scaleX,i=this.scaleY;this.rcpScaleX=1/A,this.rcpScaleY=1/i;var n,r=e.width,s=e.height,a=o(r*A),c=o(s*i);"sliceHack"===this.resizeType?n=this.sliceByTwo(t,r,s,a,c):"hermite"===this.resizeType?n=this.hermiteFastResize(t,r,s,a,c):"bilinear"===this.resizeType?n=this.bilinearFiltering(t,r,s,a,c):"lanczos"===this.resizeType&&(n=this.lanczosResize(t,r,s,a,c)),t.imageData=n},sliceByTwo:function(t,A,n,r,o){var s,a,c=t.imageData,l=.5,u=!1,h=!1,g=A*l,f=n*l,d=e.filterBackend.resources,p=0,v=0,m=A,B=0;for(d.sliceByTwo||(d.sliceByTwo=document.createElement("canvas")),((s=d.sliceByTwo).width<1.5*A||s.height<n)&&(s.width=1.5*A,s.height=n),(a=s.getContext("2d")).clearRect(0,0,1.5*A,n),a.putImageData(c,0,0),r=i(r),o=i(o);!u||!h;)A=g,n=f,r<i(g*l)?g=i(g*l):(g=r,u=!0),o<i(f*l)?f=i(f*l):(f=o,h=!0),a.drawImage(s,p,v,A,n,m,B,g,f),p=m,v=B,B+=f;return a.getImageData(p,v,r,o)},lanczosResize:function(t,e,o,s,c){var l=t.imageData.data,u=t.ctx.createImageData(s,c),h=u.data,g=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,d=this.rcpScaleY,p=2/this.rcpScaleX,v=2/this.rcpScaleY,m=a(f*this.lanczosLobes/2),B=a(d*this.lanczosLobes/2),y={},C={},w={};return function t(a){var b,I,x,M,S,_,Q,F,E,U,D;for(C.x=(a+.5)*f,w.x=i(C.x),b=0;b<c;b++){for(C.y=(b+.5)*d,w.y=i(C.y),S=0,_=0,Q=0,F=0,E=0,I=w.x-m;I<=w.x+m;I++)if(!(I<0||I>=e)){U=i(1e3*r(I-C.x)),y[U]||(y[U]={});for(var T=w.y-B;T<=w.y+B;T++)T<0||T>=o||(D=i(1e3*r(T-C.y)),y[U][D]||(y[U][D]=g(n(A(U*p,2)+A(D*v,2))/1e3)),(x=y[U][D])>0&&(S+=x,_+=x*l[M=4*(T*e+I)],Q+=x*l[M+1],F+=x*l[M+2],E+=x*l[M+3]))}h[M=4*(b*s+a)]=_/S,h[M+1]=Q/S,h[M+2]=F/S,h[M+3]=E/S}return++a<s?t(a):u}(0)},bilinearFiltering:function(t,e,A,n,r){var o,s,a,c,l,u,h,g,f,d=0,p=this.rcpScaleX,v=this.rcpScaleY,m=4*(e-1),B=t.imageData.data,y=t.ctx.createImageData(n,r),C=y.data;for(a=0;a<r;a++)for(c=0;c<n;c++)for(l=p*c-(o=i(p*c)),u=v*a-(s=i(v*a)),f=4*(s*e+o),h=0;h<4;h++)g=B[f+h]*(1-l)*(1-u)+B[f+4+h]*l*(1-u)+B[f+m+h]*u*(1-l)+B[f+m+4+h]*l*u,C[d++]=g;return y},hermiteFastResize:function(t,e,A,o,s){for(var c=this.rcpScaleX,l=this.rcpScaleY,u=a(c/2),h=a(l/2),g=t.imageData.data,f=t.ctx.createImageData(o,s),d=f.data,p=0;p<s;p++)for(var v=0;v<o;v++){for(var m=4*(v+p*o),B=0,y=0,C=0,w=0,b=0,I=0,x=0,M=(p+.5)*l,S=i(p*l);S<(p+1)*l;S++)for(var _=r(M-(S+.5))/h,Q=(v+.5)*c,F=_*_,E=i(v*c);E<(v+1)*c;E++){var U=r(Q-(E+.5))/u,D=n(F+U*U);D>1&&D<-1||(B=2*D*D*D-3*D*D+1)>0&&(x+=B*g[3+(U=4*(E+S*e))],C+=B,g[U+3]<255&&(B=B*g[U+3]/250),w+=B*g[U],b+=B*g[U+1],I+=B*g[U+2],y+=B)}d[m]=w/y,d[m+1]=b/y,d[m+2]=I/y,d[m+3]=x/C}return f},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.Contrast=i(A.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,A=t.imageData.data,i=A.length,n=Math.floor(255*this.contrast),r=259*(n+255)/(255*(259-n));for(e=0;e<i;e+=4)A[e]=r*(A[e]-128)+128,A[e+1]=r*(A[e+1]-128)+128,A[e+2]=r*(A[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.Saturation=i(A.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,A,i=t.imageData.data,n=i.length,r=-this.saturation;for(e=0;e<n;e+=4)A=Math.max(i[e],i[e+1],i[e+2]),i[e]+=A!==i[e]?(A-i[e])*r:0,i[e+1]+=A!==i[e+1]?(A-i[e+1])*r:0,i[e+2]+=A!==i[e+2]?(A-i[e+2])*r:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.Vibrance=i(A.BaseFilter,{type:"Vibrance",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uVibrance;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat max = max(color.r, max(color.g, color.b));\nfloat avg = (color.r + color.g + color.b) / 3.0;\nfloat amt = (abs(max - avg) * 2.0) * uVibrance;\ncolor.r += max != color.r ? (max - color.r) * amt : 0.00;\ncolor.g += max != color.g ? (max - color.g) * amt : 0.00;\ncolor.b += max != color.b ? (max - color.b) * amt : 0.00;\ngl_FragColor = color;\n}",vibrance:0,mainParameter:"vibrance",applyTo2d:function(t){if(0!==this.vibrance){var e,A,i,n,r=t.imageData.data,o=r.length,s=-this.vibrance;for(e=0;e<o;e+=4)A=Math.max(r[e],r[e+1],r[e+2]),i=(r[e]+r[e+1]+r[e+2])/3,n=2*Math.abs(A-i)/255*s,r[e]+=A!==r[e]?(A-r[e])*n:0,r[e+1]+=A!==r[e+1]?(A-r[e+1])*n:0,r[e+2]+=A!==r[e+2]?(A-r[e+2])*n:0}},getUniformLocations:function(t,e){return{uVibrance:t.getUniformLocation(e,"uVibrance")}},sendUniformData:function(t,e){t.uniform1f(e.uVibrance,-this.vibrance)}}),e.Image.filters.Vibrance.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.Blur=i(A.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var A,i,n=t.filterBackend.resources,r=t.imageData.width,o=t.imageData.height;n.blurLayer1||(n.blurLayer1=e.util.createCanvasElement(),n.blurLayer2=e.util.createCanvasElement()),A=n.blurLayer1,i=n.blurLayer2,A.width===r&&A.height===o||(i.width=A.width=r,i.height=A.height=o);var s,a,c,l,u=A.getContext("2d"),h=i.getContext("2d"),g=15,f=.06*this.blur*.5;for(u.putImageData(t.imageData,0,0),h.clearRect(0,0,r,o),l=-15;l<=g;l++)c=f*(a=l/g)*r+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(a),h.drawImage(A,c,s),u.drawImage(i,0,0),h.globalAlpha=1,h.clearRect(0,0,i.width,i.height);for(l=-15;l<=g;l++)c=f*(a=l/g)*o+(s=(Math.random()-.5)/4),h.globalAlpha=1-Math.abs(a),h.drawImage(A,s,c),u.drawImage(i,0,0),h.globalAlpha=1,h.clearRect(0,0,i.width,i.height);t.ctx.drawImage(A,0,0);var d=t.ctx.getImageData(0,0,A.width,A.height);return u.globalAlpha=1,u.clearRect(0,0,A.width,A.height),d},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var A=this.chooseRightDelta();t.uniform2fv(e.delta,A)},chooseRightDelta:function(){var t,e=1,A=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?A[0]=t:A[1]=t,A}}),A.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.Gamma=i(A.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],A.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,A=t.imageData.data,i=this.gamma,n=A.length,r=1/i[0],o=1/i[1],s=1/i[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,n=256;e<n;e++)this.rVals[e]=255*Math.pow(e/255,r),this.gVals[e]=255*Math.pow(e/255,o),this.bVals[e]=255*Math.pow(e/255,s);for(e=0,n=A.length;e<n;e+=4)A[e]=this.rVals[A[e]],A[e+1]=this.gVals[A[e+1]],A[e+2]=this.bVals[A[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.Composed=i(A.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach(function(e){e.applyTo(t)})},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(t){return t.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(t){return!t.isNeutralState()})}}),e.Image.filters.Composed.fromObject=function(t,A){var i=(t.subFilters||[]).map(function(t){return new e.Image.filters[t.type](t)}),n=new e.Image.filters.Composed({subFilters:i});return A&&A(n),n}}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.Image.filters,i=e.util.createClass;A.HueRotation=i(A.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,A=e.util.cos(t),i=e.util.sin(t),n=1/3,r=Math.sqrt(n)*i,o=1-A;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=A+o/3,this.matrix[1]=n*o-r,this.matrix[2]=n*o+r,this.matrix[5]=n*o+r,this.matrix[6]=A+n*o,this.matrix[7]=n*o-r,this.matrix[10]=n*o-r,this.matrix[11]=n*o+r,this.matrix[12]=A+n*o},isNeutralState:function(t){return this.calculateMatrix(),A.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),A.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){var e=t.fabric||(t.fabric={}),A=e.util.object.clone;if(e.Text)e.warn("fabric.Text is already defined");else{var i="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat(i),cacheProperties:e.Object.prototype.cacheProperties.concat(i),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var t=this.path;t&&(t.segmentsInfo=e.util.getPathSegmentsInfo(t.path))},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,A,i,n,r,o,s=0,a=this._textLines.length;s<a;s++)if(("justify"===this.textAlign||s!==a-1&&!this.isEndOfWrapping(s))&&(i=0,n=this._textLines[s],(e=this.getLineWidth(s))<this.width&&(o=this.textLines[s].match(this._reSpacesAndTabs)))){A=o.length,t=(this.width-e)/A;for(var c=0,l=n.length;c<=l;c++)r=this.__charBounds[s][c],this._reSpaceAndTab.test(n[c])?(r.width+=t,r.kernedWidth+=t,r.left+=i,i+=t):r.left+=i}},isEndOfWrapping:function(t){return t===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){var e=this.path;e&&!e.isNotVisible()&&e._render(t),this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,A){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,A)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,A=this._textLines.length;e<A;e++){var i=this.getLineWidth(e);i>t&&(t=i)}return t},_renderTextLine:function(t,e,A,i,n,r){this._renderChars(t,e,A,i,n,r)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,A,i,n,r,o,s,a=t.fillStyle,c=this._getLeftOffset(),l=this._getTopOffset(),u=0,h=0,g=this.path,f=0,d=this._textLines.length;f<d;f++)if(e=this.getHeightOfLine(f),this.textBackgroundColor||this.styleHas("textBackgroundColor",f)){i=this._textLines[f],A=this._getLineLeftOffset(f),h=0,u=0,n=this.getValueOfPropertyAt(f,0,"textBackgroundColor");for(var p=0,v=i.length;p<v;p++)r=this.__charBounds[f][p],o=this.getValueOfPropertyAt(f,p,"textBackgroundColor"),g?(t.save(),t.translate(r.renderLeft,r.renderTop),t.rotate(r.angle),t.fillStyle=o,o&&t.fillRect(-r.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),r.width,e/this.lineHeight),t.restore()):o!==n?(s=c+A+u,"rtl"===this.direction&&(s=this.width-s-h),t.fillStyle=n,n&&t.fillRect(s,l,h,e/this.lineHeight),u=r.left,h=r.width,n=o):h+=r.kernedWidth;o&&!g&&(s=c+A+u,"rtl"===this.direction&&(s=this.width-s-h),t.fillStyle=o,t.fillRect(s,l,h,e/this.lineHeight)),l+=e}else l+=e;t.fillStyle=a,this._removeShadow(t)}},getFontCache:function(t){var A=t.fontFamily.toLowerCase();e.charWidthsCache[A]||(e.charWidthsCache[A]={});var i=e.charWidthsCache[A],n=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return i[n]||(i[n]={}),i[n]},_measureChar:function(t,e,A,i){var n,r,o,s,a=this.getFontCache(e),c=A+t,l=this._getFontDeclaration(e)===this._getFontDeclaration(i),u=e.fontSize/this.CACHE_FONT_SIZE;if(A&&void 0!==a[A]&&(o=a[A]),void 0!==a[t]&&(s=n=a[t]),l&&void 0!==a[c]&&(s=(r=a[c])-o),void 0===n||void 0===o||void 0===r){var h=this.getMeasuringContext();this._setTextStyles(h,e,!0)}return void 0===n&&(s=n=h.measureText(t).width,a[t]=n),void 0===o&&l&&A&&(o=h.measureText(A).width,a[A]=o),l&&void 0===r&&(r=h.measureText(c).width,a[c]=r,s=r-o),{width:n*u,kernedWidth:s*u}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var A,i,n,r,o,s,a=0,c=this._textLines[t],l=new Array(c.length),u=0,h=this.path,g="right"===this.pathSide;for(this.__charBounds[t]=l,A=0;A<c.length;A++)i=c[A],r=this._getGraphemeBox(i,t,A,n),l[A]=r,a+=r.kernedWidth,n=i;if(l[A]={left:r?r.left+r.width:0,width:0,kernedWidth:0,height:this.fontSize},h){switch(s=h.segmentsInfo[h.segmentsInfo.length-1].length,(o=e.util.getPointOnPath(h.path,0,h.segmentsInfo)).x+=h.pathOffset.x,o.y+=h.pathOffset.y,this.textAlign){case"left":u=g?s-a:0;break;case"center":u=(s-a)/2;break;case"right":u=g?0:s-a}for(u+=this.pathStartOffset*(g?-1:1),A=g?c.length-1:0;g?A>=0:A<c.length;g?A--:A++)r=l[A],u>s?u%=s:u<0&&(u+=s),this._setGraphemeOnPath(u,r,o),u+=r.kernedWidth}return{width:a,numOfSpaces:0}},_setGraphemeOnPath:function(t,A,i){var n=t+A.kernedWidth/2,r=this.path,o=e.util.getPointOnPath(r.path,n,r.segmentsInfo);A.renderLeft=o.x-i.x,A.renderTop=o.y-i.y,A.angle=o.angle+("right"===this.pathSide?Math.PI:0)},_getGraphemeBox:function(t,e,A,i,n){var r,o=this.getCompleteStyleDeclaration(e,A),s=i?this.getCompleteStyleDeclaration(e,A-1):{},a=this._measureChar(t,o,i,s),c=a.kernedWidth,l=a.width;0!==this.charSpacing&&(l+=r=this._getWidthOfCharSpacing(),c+=r);var u={width:l,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(A>0&&!n){var h=this.__charBounds[e][A-1];u.left=h.left+h.width+a.kernedWidth-a.width}return u},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],A=this.getHeightOfChar(t,0),i=1,n=e.length;i<n;i++)A=Math.max(this.getHeightOfChar(t,i),A);return this.__lineHeights[t]=A*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,A=0,i=this._textLines.length;A<i;A++)t=this.getHeightOfLine(A),e+=A===i-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return"ltr"===this.direction?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var A=0,i=this._getLeftOffset(),n=this._getTopOffset(),r=0,o=this._textLines.length;r<o;r++){var s=this.getHeightOfLine(r),a=s/this.lineHeight,c=this._getLineLeftOffset(r);this._renderTextLine(e,t,this._textLines[r],i+c,n+A+a,r),A+=s}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,A,i,n,r){var o,s,a,c,l,u=this.getHeightOfLine(r),h=-1!==this.textAlign.indexOf("justify"),g="",f=0,d=this.path,p=!h&&0===this.charSpacing&&this.isEmptyStyles(r)&&!d,v="ltr"===this.direction,m="ltr"===this.direction?1:-1;if(e.save(),n-=u*this._fontSizeFraction/this.lineHeight,p)return e.canvas.setAttribute("dir",v?"ltr":"rtl"),e.direction=v?"ltr":"rtl",e.textAlign=v?"left":"right",this._renderChar(t,e,r,0,A.join(""),i,n,u),void e.restore();for(var B=0,y=A.length-1;B<=y;B++)c=B===y||this.charSpacing||d,g+=A[B],a=this.__charBounds[r][B],0===f?(i+=m*(a.kernedWidth-a.width),f+=a.width):f+=a.kernedWidth,h&&!c&&this._reSpaceAndTab.test(A[B])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(r,B),s=this.getCompleteStyleDeclaration(r,B+1),c=this._hasStyleChanged(o,s)),c&&(d?(e.save(),e.translate(a.renderLeft,a.renderTop),e.rotate(a.angle),this._renderChar(t,e,r,B,g,-f/2,0,u),e.restore()):(l=i,e.canvas.setAttribute("dir",v?"ltr":"rtl"),e.direction=v?"ltr":"rtl",e.textAlign=v?"left":"right",this._renderChar(t,e,r,B,g,l,n,u)),g="",o=s,i+=m*f,f=0);e.restore()},_applyPatternGradientTransformText:function(t){var A,i=e.util.createCanvasElement(),n=this.width+this.strokeWidth,r=this.height+this.strokeWidth;return i.width=n,i.height=r,(A=i.getContext("2d")).beginPath(),A.moveTo(0,0),A.lineTo(n,0),A.lineTo(n,r),A.lineTo(0,r),A.closePath(),A.translate(n/2,r/2),A.fillStyle=t.toLive(A),this._applyPatternGradientTransform(A,t),A.fill(),A.createPattern(i,"no-repeat")},handleFiller:function(t,e,A){var i,n;return A.toLive?"percentage"===A.gradientUnits||A.gradientTransform||A.patternTransform?(i=-this.width/2,n=-this.height/2,t.translate(i,n),t[e]=this._applyPatternGradientTransformText(A),{offsetX:i,offsetY:n}):(t[e]=A.toLive(t,this),this._applyPatternGradientTransform(t,A)):(t[e]=A,{offsetX:0,offsetY:0})},_setStrokeStyles:function(t,e){return t.lineWidth=e.strokeWidth,t.lineCap=this.strokeLineCap,t.lineDashOffset=this.strokeDashOffset,t.lineJoin=this.strokeLineJoin,t.miterLimit=this.strokeMiterLimit,this.handleFiller(t,"strokeStyle",e.stroke)},_setFillStyles:function(t,e){return this.handleFiller(t,"fillStyle",e.fill)},_renderChar:function(t,e,A,i,n,r,o){var s,a,c=this._getStyleDeclaration(A,i),l=this.getCompleteStyleDeclaration(A,i),u="fillText"===t&&l.fill,h="strokeText"===t&&l.stroke&&l.strokeWidth;(h||u)&&(e.save(),u&&(s=this._setFillStyles(e,l)),h&&(a=this._setStrokeStyles(e,l)),e.font=this._getFontDeclaration(l),c&&c.textBackgroundColor&&this._removeShadow(e),c&&c.deltaY&&(o+=c.deltaY),u&&e.fillText(n,r-s.offsetX,o-s.offsetY),h&&e.strokeText(n,r-a.offsetX,o-a.offsetY),e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,A){var i=this.get2DCursorLocation(t,!0),n=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),r=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),o={fontSize:n*A.size,deltaY:r+n*A.baseline};return this.setSelectionStyles(o,t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t),A=this.width-e,i=this.textAlign,n=this.direction,r=0,o=this.isEndOfWrapping(t);return"justify"===i||"justify-center"===i&&!o||"justify-right"===i&&!o||"justify-left"===i&&!o?0:("center"===i&&(r=A/2),"right"===i&&(r=A),"justify-center"===i&&(r=A/2),"justify-right"===i&&(r=A),"rtl"===n&&(r-=A),r)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:this.measureLine(t).width,this.__lineWidths[t]=e,e);var e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,A){var i=this._getStyleDeclaration(t,e);return i&&void 0!==i[A]?i[A]:this[A]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var A,i,n,r,o,s,a,c,l,u,h,g,f,d,p,v,m=this._getLeftOffset(),B=this._getTopOffset(),y=this.path,C=this._getWidthOfCharSpacing(),w=this.offsets[e],b=0,I=this._textLines.length;b<I;b++)if(A=this.getHeightOfLine(b),this[e]||this.styleHas(e,b)){a=this._textLines[b],d=A/this.lineHeight,r=this._getLineLeftOffset(b),u=0,h=0,c=this.getValueOfPropertyAt(b,0,e),v=this.getValueOfPropertyAt(b,0,"fill"),l=B+d*(1-this._fontSizeFraction),i=this.getHeightOfChar(b,0),o=this.getValueOfPropertyAt(b,0,"deltaY");for(var x=0,M=a.length;x<M;x++)if(g=this.__charBounds[b][x],f=this.getValueOfPropertyAt(b,x,e),p=this.getValueOfPropertyAt(b,x,"fill"),n=this.getHeightOfChar(b,x),s=this.getValueOfPropertyAt(b,x,"deltaY"),y&&f&&p)t.save(),t.fillStyle=v,t.translate(g.renderLeft,g.renderTop),t.rotate(g.angle),t.fillRect(-g.kernedWidth/2,w*n+s,g.kernedWidth,this.fontSize/15),t.restore();else if((f!==c||p!==v||n!==i||s!==o)&&h>0){var S=m+r+u;"rtl"===this.direction&&(S=this.width-S-h),c&&v&&(t.fillStyle=v,t.fillRect(S,l+w*i+o,h,this.fontSize/15)),u=g.left,h=g.width,c=f,v=p,i=n,o=s}else h+=g.kernedWidth;S=m+r+u,"rtl"===this.direction&&(S=this.width-S-h),t.fillStyle=p,f&&p&&t.fillRect(S,l+w*i+o,h-C,this.fontSize/15),B+=A}else B+=A;this._removeShadow(t)}},_getFontDeclaration:function(t,A){var i=t||this,n=this.fontFamily,r=e.Text.genericFonts.indexOf(n.toLowerCase())>-1,o=void 0===n||n.indexOf("'")>-1||n.indexOf(",")>-1||n.indexOf('"')>-1||r?i.fontFamily:'"'+i.fontFamily+'"';return[e.isLikelyNode?i.fontWeight:i.fontStyle,e.isLikelyNode?i.fontStyle:i.fontWeight,A?this.CACHE_FONT_SIZE+"px":i.fontSize+"px",o].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var A=t.split(this._reNewline),i=new Array(A.length),n=["\n"],r=[],o=0;o<A.length;o++)i[o]=e.util.string.graphemeSplit(A[o]),r=r.concat(i[o],n);return r.pop(),{_unwrappedLines:i,lines:A,graphemeText:r,graphemeLines:i}},toObject:function(t){var e=i.concat(t),n=this.callSuper("toObject",e);return n.styles=A(this.styles,!0),n.path&&(n.path=this.path.toObject()),n},set:function(t,e){this.callSuper("set",t,e);var A=!1,i=!1;if("object"==typeof t)for(var n in t)"path"===n&&this.setPathInfo(),A=A||-1!==this._dimensionAffectingProps.indexOf(n),i=i||"path"===n;else A=-1!==this._dimensionAffectingProps.indexOf(t),i="path"===t;return i&&this.setPathInfo(),A&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,i,n){if(!t)return i(null);var r=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),o=r.textAnchor||"left";if((n=e.util.object.extend(n?A(n):{},r)).top=n.top||0,n.left=n.left||0,r.textDecoration){var s=r.textDecoration;-1!==s.indexOf("underline")&&(n.underline=!0),-1!==s.indexOf("overline")&&(n.overline=!0),-1!==s.indexOf("line-through")&&(n.linethrough=!0),delete n.textDecoration}"dx"in r&&(n.left+=r.dx),"dy"in r&&(n.top+=r.dy),"fontSize"in n||(n.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var a="";"textContent"in t?a=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(a=t.firstChild.data),a=a.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=n.strokeWidth;n.strokeWidth=0;var l=new e.Text(a,n),u=l.getScaledHeight()/l.height,h=((l.height+l.strokeWidth)*l.lineHeight-l.height)*u,g=l.getScaledHeight()+h,f=0;"center"===o&&(f=l.getScaledWidth()/2),"right"===o&&(f=l.getScaledWidth()),l.set({left:l.left-f,top:l.top-(g-l.fontSize*(.07+l._fontSizeFraction))/l.lineHeight,strokeWidth:void 0!==c?c:1}),i(l)},e.Text.fromObject=function(t,i){var n=A(t),r=t.path;return delete n.path,e.Object._fromObject("Text",n,function(t){r?e.Object._fromObject("Path",r,function(e){t.set("path",e),i(t)},"path"):i(t)},"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text)}}(e),I.util.object.extend(I.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;var e=void 0===t?this.styles:{line:this.styles[t]};for(var A in e)for(var i in e[A])for(var n in e[A][i])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if(void 0!==e&&!this.styles[e])return!1;var A=void 0===e?this.styles:{0:this.styles[e]};for(var i in A)for(var n in A[i])if(void 0!==A[i][n][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,A,i=this.styles,n=0,r=!0,o=0;for(var s in i){for(var a in e=0,i[s]){var c;n++,(c=i[s][a]).hasOwnProperty(t)?(A?c[t]!==A&&(r=!1):A=c[t],c[t]===this[t]&&delete c[t]):r=!1,0!==Object.keys(c).length?e++:delete i[s][a]}0===e&&delete i[s]}for(var l=0;l<this._textLines.length;l++)o+=this._textLines[l].length;r&&n===o&&(this[t]=A,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,A,i,n=this.styles;for(A in n){for(i in e=n[A])delete e[i][t],0===Object.keys(e[i]).length&&delete e[i];0===Object.keys(e).length&&delete n[A]}}},_extendStyles:function(t,e){var A=this.get2DCursorLocation(t);this._getLineStyle(A.lineIndex)||this._setLineStyle(A.lineIndex),this._getStyleDeclaration(A.lineIndex,A.charIndex)||this._setStyleDeclaration(A.lineIndex,A.charIndex,{}),I.util.object.extend(this._getStyleDeclaration(A.lineIndex,A.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var A=e?this._unwrappedTextLines:this._textLines,i=A.length,n=0;n<i;n++){if(t<=A[n].length)return{lineIndex:n,charIndex:t};t-=A[n].length+this.missingNewlineOffset(n)}return{lineIndex:n-1,charIndex:A[n-1].length<t?A[n-1].length:t}},getSelectionStyles:function(t,e,A){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var i=[],n=t;n<e;n++)i.push(this.getStyleAtPosition(n,A));return i},getStyleAtPosition:function(t,e){var A=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(A.lineIndex,A.charIndex):this._getStyleDeclaration(A.lineIndex,A.charIndex))||{}},setSelectionStyles:function(t,e,A){void 0===e&&(e=this.selectionStart||0),void 0===A&&(A=this.selectionEnd||e);for(var i=e;i<A;i++)this._extendStyles(i,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var A=this.styles&&this.styles[t];return A?A[e]:null},getCompleteStyleDeclaration:function(t,e){for(var A,i=this._getStyleDeclaration(t,e)||{},n={},r=0;r<this._styleProperties.length;r++)n[A=this._styleProperties[r]]=void 0===i[A]?this[A]:i[A];return n},_setStyleDeclaration:function(t,e,A){this.styles[t][e]=A},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return!!this.styles[t]},_setLineStyle:function(t){this.styles[t]={}},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}I.IText=I.util.createClass(I.Text,I.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,A=this.canvas.viewportTransform;e.save(),e.transform(A[0],A[1],A[2],A[3],A[4],A[5]),this.transform(e),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this._getCursorBoundaries(),e=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(t,e):this.renderSelection(t,e),e.restore()}},_clearTextArea:function(t){var e=this.width+4,A=this.height+4;t.clearRect(-e/2,-A/2,e,A)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),A=this._getTopOffset(),i=this._getCursorBoundariesOffsets(t);return{left:e,top:A,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,A,i,n,r=0,o=0,s=this.get2DCursorLocation(t);i=s.charIndex,A=s.lineIndex;for(var a=0;a<A;a++)r+=this.getHeightOfLine(a);e=this._getLineLeftOffset(A);var c=this.__charBounds[A][i];return c&&(o=c.left),0!==this.charSpacing&&i===this._textLines[A].length&&(o-=this._getWidthOfCharSpacing()),n={top:r,left:e+(o>0?o:0)},"rtl"===this.direction&&(n.left*=-1),this.cursorOffsetCache=n,this.cursorOffsetCache},renderCursor:function(t,e){var A=this.get2DCursorLocation(),i=A.lineIndex,n=A.charIndex>0?A.charIndex-1:0,r=this.getValueOfPropertyAt(i,n,"fontSize"),o=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/o,a=t.topOffset,c=this.getValueOfPropertyAt(i,n,"deltaY");a+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-r*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,n,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-s/2,a+t.top+c,s,r)},renderSelection:function(t,e){for(var A=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,n=-1!==this.textAlign.indexOf("justify"),r=this.get2DCursorLocation(A),o=this.get2DCursorLocation(i),s=r.lineIndex,a=o.lineIndex,c=r.charIndex<0?0:r.charIndex,l=o.charIndex<0?0:o.charIndex,u=s;u<=a;u++){var h,g=this._getLineLeftOffset(u)||0,f=this.getHeightOfLine(u),d=0,p=0;if(u===s&&(d=this.__charBounds[s][c].left),u>=s&&u<a)p=n&&!this.isEndOfWrapping(u)?this.width:this.getLineWidth(u)||5;else if(u===a)if(0===l)p=this.__charBounds[a][l].left;else{var v=this._getWidthOfCharSpacing();p=this.__charBounds[a][l-1].left+this.__charBounds[a][l-1].width-v}h=f,(this.lineHeight<1||u===a&&this.lineHeight>1)&&(f/=this.lineHeight);var m=t.left+g+d,B=p-d,y=f,C=0;this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",y=1,C=f):e.fillStyle=this.selectionColor,"rtl"===this.direction&&(m=this.width-m-B),e.fillRect(m,t.top+t.topOffset+C,B,y),t.topOffset+=h}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),I.IText.fromObject=function(e,A){if(t(e),e.styles)for(var i in e.styles)for(var n in e.styles[i])t(e.styles[i][n]);I.Object._fromObject("IText",e,A,"text")}}(),b=I.util.object.clone,I.util.object.extend(I.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))})},initRemovedHandler:function(){var t=this;this.on("removed",function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],I.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))})},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.__isMousedown=!1})},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,A,i){var n;return n={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:A,onComplete:function(){n.isAborted||t[i]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return n.isAborted}}),n},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(t){var e=this,A=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){e._tick()},A)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,A=t-1;if(this._reSpace.test(this._text[A]))for(;this._reSpace.test(this._text[A]);)e++,A--;for(;/\S/.test(this._text[A])&&A>-1;)e++,A--;return t-e},findWordBoundaryRight:function(t){var e=0,A=t;if(this._reSpace.test(this._text[A]))for(;this._reSpace.test(this._text[A]);)e++,A++;for(;/\S/.test(this._text[A])&&A<this._text.length;)e++,A++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,A=t-1;!/\n/.test(this._text[A])&&A>-1;)e++,A--;return t-e},findLineBoundaryRight:function(t){for(var e=0,A=t;!/\n/.test(this._text[A])&&A<this._text.length;)e++,A++;return t+e},searchWordBoundary:function(t,e){for(var A=this._text,i=this._reSpace.test(A[t])?t-1:t,n=A[i],r=I.reNonWord;!r.test(n)&&i>0&&i<A.length;)n=A[i+=e];return r.test(n)&&(i+=1===e?0:1),i},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),A=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=A,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),A=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=A,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach(function(t){t.selected=!1,t.isEditing&&t.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),A=this.selectionStart,i=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&A!==i||A!==e&&i!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===A&&this.selectionEnd===i||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,A){var i=A.slice(0,t),n=I.util.string.graphemeSplit(i).length;if(t===e)return{selectionStart:n,selectionEnd:n};var r=A.slice(t,e);return{selectionStart:n,selectionEnd:n+I.util.string.graphemeSplit(r).length}},fromGraphemeToStringSelection:function(t,e,A){var i=A.slice(0,t).join("").length;return t===e?{selectionStart:i,selectionEnd:i}:{selectionStart:i,selectionEnd:i+A.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),A=this.get2DCursorLocation(t),i=A.lineIndex,n=A.charIndex,r=this.getValueOfPropertyAt(i,n,"fontSize")*this.lineHeight,o=e.leftOffset,s=this.calcTransformMatrix(),a={x:e.left+o,y:e.top+e.topOffset+r},c=this.canvas.getRetinaScaling(),l=this.canvas.upperCanvasEl,u=l.width/c,h=l.height/c,g=u-r,f=h-r,d=l.clientWidth/u,p=l.clientHeight/h;return a=I.util.transformPoint(a,s),(a=I.util.transformPoint(a,this.canvas.viewportTransform)).x*=d,a.y*=p,a.x<0&&(a.x=0),a.x>g&&(a.x=g),a.y<0&&(a.y=0),a.y>f&&(a.y=f),a.x+=this.canvas._offset.left,a.y+=this.canvas._offset.top,{left:a.x+"px",top:a.y+"px",fontSize:r+"px",charHeight:r}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text,e=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,e&&(e.blur&&e.blur(),e.parentNode&&e.parentNode.removeChild(e)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var A,i,n=this.get2DCursorLocation(t,!0),r=this.get2DCursorLocation(e,!0),o=n.lineIndex,s=n.charIndex,a=r.lineIndex,c=r.charIndex;if(o!==a){if(this.styles[o])for(A=s;A<this._unwrappedTextLines[o].length;A++)delete this.styles[o][A];if(this.styles[a])for(A=c;A<this._unwrappedTextLines[a].length;A++)(i=this.styles[a][A])&&(this.styles[o]||(this.styles[o]={}),this.styles[o][s+A-c]=i);for(A=o+1;A<=a;A++)delete this.styles[A];this.shiftLineStyles(a,o-a)}else if(this.styles[o]){i=this.styles[o];var l,u,h=c-s;for(A=s;A<c;A++)delete i[A];for(u in this.styles[o])(l=parseInt(u,10))>=c&&(i[l-h]=i[u],delete i[u])}},shiftLineStyles:function(t,e){var A=b(this.styles);for(var i in this.styles){var n=parseInt(i,10);n>t&&(this.styles[n+e]=A[n],A[n-e]||delete this.styles[n])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,e,A,i){var n,r={},o=!1,s=this._unwrappedTextLines[t].length===e;for(var a in A||(A=1),this.shiftLineStyles(t,A),this.styles[t]&&(n=this.styles[t][0===e?e:e-1]),this.styles[t]){var c=parseInt(a,10);c>=e&&(o=!0,r[c-e]=this.styles[t][a],s&&0===e||delete this.styles[t][a])}var l=!1;for(o&&!s&&(this.styles[t+A]=r,l=!0),l&&A--;A>0;)i&&i[A-1]?this.styles[t+A]={0:b(i[A-1])}:n?this.styles[t+A]={0:b(n)}:delete this.styles[t+A],A--;this._forceClearCache=!0},insertCharStyleObject:function(t,e,A,i){this.styles||(this.styles={});var n=this.styles[t],r=n?b(n):{};for(var o in A||(A=1),r){var s=parseInt(o,10);s>=e&&(n[s+A]=r[s],r[s-A]||delete n[s])}if(this._forceClearCache=!0,i)for(;A--;)Object.keys(i[A]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+A]=b(i[A]));else if(n)for(var a=n[e?e-1:1];a&&A--;)this.styles[t][e+A]=b(a)},insertNewStyleBlock:function(t,e,A){for(var i=this.get2DCursorLocation(e,!0),n=[0],r=0,o=0;o<t.length;o++)"\n"===t[o]?n[++r]=0:n[r]++;for(n[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,n[0],A),A=A&&A.slice(n[0]+1)),r&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+n[0],r),o=1;o<r;o++)n[o]>0?this.insertCharStyleObject(i.lineIndex+o,0,n[o],A):A&&(this.styles[i.lineIndex+o][0]=A[0]),A=A&&A.slice(n[o]+1);n[o]>0&&this.insertCharStyleObject(i.lineIndex+o,0,n[o],A)},setSelectionStartEndWithShift:function(t,e,A){A<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=A):A>t&&A<e?"right"===this._selectionDirection?this.selectionEnd=A:this.selectionStart=A:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=A)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}}),I.util.object.extend(I.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(t){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(t.e))},tripleClickHandler:function(t){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(t.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(t.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),A=this.selectionStart,i=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(A,i,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e,A=this.getLocalPointer(t),i=0,n=0,r=0,o=0,s=0,a=0,c=this._textLines.length;a<c&&r<=A.y;a++)r+=this.getHeightOfLine(a)*this.scaleY,s=a,a>0&&(o+=this._textLines[a-1].length+this.missingNewlineOffset(a-1));n=this._getLineLeftOffset(s)*this.scaleX,e=this._textLines[s],"rtl"===this.direction&&(A.x=this.width*this.scaleX-A.x+n);for(var l=0,u=e.length;l<u&&(i=n,(n+=this.__charBounds[s][l].kernedWidth*this.scaleX)<=A.x);l++)o++;return this._getNewSelectionStartFromOffset(A,i,n,o,u)},_getNewSelectionStartFromOffset:function(t,e,A,i,n){var r=t.x-e,o=A-t.x,s=i+(o>r||o<0?0:1);return this.flipX&&(s=n-s),s>this._text.length&&(s=this._text.length),s}}),I.util.object.extend(I.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=I.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingtop: "+t.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):I.document.body.appendChild(this.hiddenTextarea),I.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),I.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),I.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),I.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),I.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),I.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),I.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),I.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),I.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(I.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing){var e="rtl"===this.direction?this.keysMapRtl:this.keysMap;if(t.keyCode in e)this[e[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var A,i,n,r,o,s=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,a=this._text.length,c=s.length,l=c-a,u=this.selectionStart,h=this.selectionEnd,g=u!==h;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var f=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),d=u>f.selectionStart;g?(A=this._text.slice(u,h),l+=h-u):c<a&&(A=d?this._text.slice(h+l,h):this._text.slice(u,u-l)),i=s.slice(f.selectionEnd-l,f.selectionEnd),A&&A.length&&(i.length&&(n=this.getSelectionStyles(u,u+1,!1),n=i.map(function(){return n[0]})),g?(r=u,o=h):d?(r=h-A.length,o=h):(r=h,o=h+A.length),this.removeStyleFromTo(r,o)),i.length&&(e&&i.join("")===I.copiedText&&!I.disableStyleCopyPaste&&(n=I.copiedTextStyle),this.insertNewStyleBlock(i,u,n)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(I.copiedText=this.getSelectedText(),I.disableStyleCopyPaste?I.copiedTextStyle=null:I.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||I.window.clipboardData},_getWidthBeforeCursor:function(t,e){var A,i=this._getLineLeftOffset(t);return e>0&&(i+=(A=this.__charBounds[t][e-1]).left+A.width),i},getDownCursorOffset:function(t,e){var A=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(A),n=i.lineIndex;if(n===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-A;var r=i.charIndex,o=this._getWidthBeforeCursor(n,r),s=this._getIndexOnLine(n+1,o);return this._textLines[n].slice(r).length+s+1+this.missingNewlineOffset(n)},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var A=this._getSelectionForOffset(t,e),i=this.get2DCursorLocation(A),n=i.lineIndex;if(0===n||t.metaKey||33===t.keyCode)return-A;var r=i.charIndex,o=this._getWidthBeforeCursor(n,r),s=this._getIndexOnLine(n-1,o),a=this._textLines[n].slice(0,r),c=this.missingNewlineOffset(n-1);return-this._textLines[n-1].length+s-a.length+(1-c)},_getIndexOnLine:function(t,e){for(var A,i,n=this._textLines[t],r=this._getLineLeftOffset(t),o=0,s=0,a=n.length;s<a;s++)if((r+=A=this.__charBounds[t][s].width)>e){i=!0;var c=r-A,l=r,u=Math.abs(c-e);o=Math.abs(l-e)<u?s:s-1;break}return i||(o=n.length-1),o},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var A=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(A):this.moveCursorWithoutShift(A),0!==A&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,A){var i;if(t.altKey)i=this["findWordBoundary"+A](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===A?-1:1,!0;i=this["findLineBoundary"+A](this[e])}if(void 0!==typeof i&&this[e]!==i)return this[e]=i,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var A="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?A+="Shift":A+="outShift",this[A](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){void 0===e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,A,i){void 0===i&&(i=A),i>A&&this.removeStyleFromTo(A,i);var n=I.util.string.graphemeSplit(t);this.insertNewStyleBlock(n,A,e),this._text=[].concat(this._text.slice(0,A),n,this._text.slice(i)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var t=I.util.toFixed,e=/  +/g;I.util.object.extend(I.Text.prototype,{_toSVG:function(){var t=this._getSVGLeftTopOffsets(),e=this._getSVGTextAndBg(t.textTop,t.textLeft);return this._wrapSVGTextAndBg(e)},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var A,i=[],n=[],r=t;this._setSVGBg(n);for(var o=0,s=this._textLines.length;o<s;o++)A=this._getLineLeftOffset(o),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(n,o,e+A,r),this._setSVGTextLineText(i,o,e+A,r),r+=this.getHeightOfLine(o);return{textSpans:i,textBgRects:n}},_createTextCharSpan:function(A,i,n,r){var o=A!==A.trim()||A.match(e),s=this.getSvgSpanStyles(i,o),a=s?'style="'+s+'"':"",c=i.deltaY,l="",u=I.Object.NUM_FRACTION_DIGITS;return c&&(l=' dy="'+t(c,u)+'" '),['<tspan x="',t(n,u),'" y="',t(r,u),'" ',l,a,">",I.util.string.escapeXml(A),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,A,i){var n,r,o,s,a,c=this.getHeightOfLine(e),l=-1!==this.textAlign.indexOf("justify"),u="",h=0,g=this._textLines[e];i+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var f=0,d=g.length-1;f<=d;f++)a=f===d||this.charSpacing,u+=g[f],o=this.__charBounds[e][f],0===h?(A+=o.kernedWidth-o.width,h+=o.width):h+=o.kernedWidth,l&&!a&&this._reSpaceAndTab.test(g[f])&&(a=!0),a||(n=n||this.getCompleteStyleDeclaration(e,f),r=this.getCompleteStyleDeclaration(e,f+1),a=this._hasStyleChangedForSvg(n,r)),a&&(s=this._getStyleDeclaration(e,f)||{},t.push(this._createTextCharSpan(u,s,A,i)),u="",n=r,A+=h,h=0)},_pushTextBgRect:function(e,A,i,n,r,o){var s=I.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(A),' x="',t(i,s),'" y="',t(n,s),'" width="',t(r,s),'" height="',t(o,s),'"></rect>\n')},_setSVGTextLineBg:function(t,e,A,i){for(var n,r,o=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight,a=0,c=0,l=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),u=0,h=o.length;u<h;u++)n=this.__charBounds[e][u],(r=this.getValueOfPropertyAt(e,u,"textBackgroundColor"))!==l?(l&&this._pushTextBgRect(t,l,A+c,i,a,s),c=n.left,a=n.width,l=r):a+=n.kernedWidth;r&&this._pushTextBgRect(t,r,A+c,i,a,s)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new I.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,A=0,i=0;i<t;i++)A+=this.getHeightOfLine(i);return e=this.getHeightOfLine(i),{lineTop:A,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return I.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}})}(),function(t){var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,A=0,i=0,n={},r=0;r<t.graphemeLines.length;r++)"\n"===t.graphemeText[i]&&r>0?(A=0,i++,e++):!this.splitByGrapheme&&this._reSpaceAndTab.test(t.graphemeText[i])&&r>0&&(A++,i++),n[r]={line:e,offset:A},i+=t.graphemeLines[r].length,A+=t.graphemeLines[r].length;return n},styleHas:function(t,A){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[A];i&&(A=i.line)}return e.Text.prototype.styleHas.call(this,t,A)},isEmptyStyles:function(t){if(!this.styles)return!0;var e,A,i=0,n=!1,r=this._styleMap[t],o=this._styleMap[t+1];for(var s in r&&(t=r.line,i=r.offset),o&&(n=o.line===t,e=o.offset),A=void 0===t?this.styles:{line:this.styles[t]})for(var a in A[s])if(a>=i&&(!n||a<e))for(var c in A[s][a])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var A=this._styleMap[t];if(!A)return null;t=A.line,e=A.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,A){var i=this._styleMap[t];t=i.line,e=i.offset+e,this.styles[t][e]=A},_deleteStyleDeclaration:function(t,e){var A=this._styleMap[t];t=A.line,e=A.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return!!this.styles[e.line]},_setLineStyle:function(t){var e=this._styleMap[t];this.styles[e.line]={}},_wrapText:function(t,e){var A,i=[];for(this.isWrapping=!0,A=0;A<t.length;A++)i=i.concat(this._wrapLine(t[A],A,e));return this.isWrapping=!1,i},_measureWord:function(t,e,A){var i,n=0;A=A||0;for(var r=0,o=t.length;r<o;r++)n+=this._getGraphemeBox(t[r],e,r+A,i,!0).kernedWidth,i=t[r];return n},_wrapLine:function(t,A,i,n){var r=0,o=this.splitByGrapheme,s=[],a=[],c=o?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),l="",u=0,h=o?"":" ",g=0,f=0,d=0,p=!0,v=this._getWidthOfCharSpacing();n=n||0,0===c.length&&c.push([]),i-=n;for(var m=0;m<c.length;m++)l=o?c[m]:e.util.string.graphemeSplit(c[m]),g=this._measureWord(l,A,u),u+=l.length,(r+=f+g-v)>i&&!p?(s.push(a),a=[],r=g,p=!0):r+=v,p||o||a.push(h),a=a.concat(l),f=o?0:this._measureWord([h],A,u),u++,p=!1,g>d&&(d=g);return m&&s.push(a),d+n>this.dynamicMinWidth&&(this.dynamicMinWidth=d-v+n),s},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},missingNewlineOffset:function(t){return this.splitByGrapheme?this.isEndOfWrapping(t)?1:0:1},_splitTextIntoLines:function(t){for(var A=e.Text.prototype._splitTextIntoLines.call(this,t),i=this._wrapText(A.lines,this.width),n=new Array(i.length),r=0;r<i.length;r++)n[r]=i[r].join("");return A.lines=n,A.graphemeLines=i,A},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var t={};for(var e in this._styleMap)this._textLines[e]&&(t[this._styleMap[e].line]=1);for(var e in this.styles)t[e]||delete this.styles[e]},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,A){return e.Object._fromObject("Textbox",t,A,"text")}}(e),function(){var t=I.controlsUtils,e=t.scaleSkewCursorStyleHandler,A=t.scaleCursorStyleHandler,i=t.scalingEqually,n=t.scalingYOrSkewingX,r=t.scalingXOrSkewingY,o=t.scaleOrSkewActionName,s=I.Object.prototype.controls;if(s.ml=new I.Control({x:-.5,y:0,cursorStyleHandler:e,actionHandler:r,getActionName:o}),s.mr=new I.Control({x:.5,y:0,cursorStyleHandler:e,actionHandler:r,getActionName:o}),s.mb=new I.Control({x:0,y:.5,cursorStyleHandler:e,actionHandler:n,getActionName:o}),s.mt=new I.Control({x:0,y:-.5,cursorStyleHandler:e,actionHandler:n,getActionName:o}),s.tl=new I.Control({x:-.5,y:-.5,cursorStyleHandler:A,actionHandler:i}),s.tr=new I.Control({x:.5,y:-.5,cursorStyleHandler:A,actionHandler:i}),s.bl=new I.Control({x:-.5,y:.5,cursorStyleHandler:A,actionHandler:i}),s.br=new I.Control({x:.5,y:.5,cursorStyleHandler:A,actionHandler:i}),s.mtr=new I.Control({x:0,y:-.5,actionHandler:t.rotationWithSnapping,cursorStyleHandler:t.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),I.Textbox){var a=I.Textbox.prototype.controls={};a.mtr=s.mtr,a.tr=s.tr,a.br=s.br,a.tl=s.tl,a.bl=s.bl,a.mt=s.mt,a.mb=s.mb,a.mr=new I.Control({x:.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"}),a.ml=new I.Control({x:-.5,y:0,actionHandler:t.changeWidth,cursorStyleHandler:e,actionName:"resizing"})}}()},3053:function(t,e,A){var i=A(602);t.exports=function(t,e,A){var n,r;if(A=A||0,!i(e))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(e,t,A);for(r=e.length,n=A;A>=0&&n<r;n+=1)if(e[n]===t)return n;return-1}},8592:function(t,e,A){var i=A(602),n=A(6092),r=A(5573);t.exports=function(t,e,A){i(t)?n(t,e,A):r(t,e,A)}},6092:function(t){t.exports=function(t,e,A){var i=0,n=t.length;for(A=A||null;i<n&&!1!==e.call(A,t[i],i,t);i+=1);}},5573:function(t){t.exports=function(t,e,A){var i;for(i in A=A||null,t)if(t.hasOwnProperty(i)&&!1===e.call(A,t[i],i,t))break}},9052:function(t,e,A){var i=A(961),n=A(9886),r=A(2560),o=A(5393),s=A(602),a=A(5183),c=A(8592),l=/\s+/g;function u(){this.events=null,this.contexts=null}u.mixin=function(t){i(t.prototype,u.prototype)},u.prototype._getHandlerItem=function(t,e){var A={handler:t};return e&&(A.context=e),A},u.prototype._safeEvent=function(t){var e,A=this.events;return A||(A=this.events={}),t&&((e=A[t])||(e=[],A[t]=e),A=e),A},u.prototype._safeContext=function(){var t=this.contexts;return t||(t=this.contexts=[]),t},u.prototype._indexOfContext=function(t){for(var e=this._safeContext(),A=0;e[A];){if(t===e[A][0])return A;A+=1}return-1},u.prototype._memorizeContext=function(t){var e,A;n(t)&&(e=this._safeContext(),(A=this._indexOfContext(t))>-1?e[A][1]+=1:e.push([t,1]))},u.prototype._forgetContext=function(t){var e,A;n(t)&&(e=this._safeContext(),(A=this._indexOfContext(t))>-1&&(e[A][1]-=1,e[A][1]<=0&&e.splice(A,1)))},u.prototype._bindEvent=function(t,e,A){var i=this._safeEvent(t);this._memorizeContext(A),i.push(this._getHandlerItem(e,A))},u.prototype.on=function(t,e,A){var i=this;r(t)?(t=t.split(l),c(t,function(t){i._bindEvent(t,e,A)})):o(t)&&(A=e,c(t,function(t,e){i.on(e,t,A)}))},u.prototype.once=function(t,e,A){var i=this;if(o(t))return A=e,void c(t,function(t,e){i.once(e,t,A)});this.on(t,function n(){e.apply(A,arguments),i.off(t,n,A)},A)},u.prototype._spliceMatches=function(t,e){var A,i=0;if(s(t))for(A=t.length;i<A;i+=1)!0===e(t[i])&&(t.splice(i,1),A-=1,i-=1)},u.prototype._matchHandler=function(t){var e=this;return function(A){var i=t===A.handler;return i&&e._forgetContext(A.context),i}},u.prototype._matchContext=function(t){var e=this;return function(A){var i=t===A.context;return i&&e._forgetContext(A.context),i}},u.prototype._matchHandlerAndContext=function(t,e){var A=this;return function(i){var n=t===i.handler,r=e===i.context,o=n&&r;return o&&A._forgetContext(i.context),o}},u.prototype._offByEventName=function(t,e){var A=this,i=a(e),n=A._matchHandler(e);t=t.split(l),c(t,function(t){var e=A._safeEvent(t);i?A._spliceMatches(e,n):(c(e,function(t){A._forgetContext(t.context)}),A.events[t]=[])})},u.prototype._offByHandler=function(t){var e=this,A=this._matchHandler(t);c(this._safeEvent(),function(t){e._spliceMatches(t,A)})},u.prototype._offByObject=function(t,e){var A,i=this;this._indexOfContext(t)<0?c(t,function(t,e){i.off(e,t)}):r(e)?(A=this._matchContext(t),i._spliceMatches(this._safeEvent(e),A)):a(e)?(A=this._matchHandlerAndContext(e,t),c(this._safeEvent(),function(t){i._spliceMatches(t,A)})):(A=this._matchContext(t),c(this._safeEvent(),function(t){i._spliceMatches(t,A)}))},u.prototype.off=function(t,e){r(t)?this._offByEventName(t,e):arguments.length?a(t)?this._offByHandler(t):o(t)&&this._offByObject(t,e):(this.events={},this.contexts=[])},u.prototype.fire=function(t){this.invoke.apply(this,arguments)},u.prototype.invoke=function(t){var e,A,i,n;if(!this.hasListener(t))return!0;for(e=this._safeEvent(t),A=Array.prototype.slice.call(arguments,1),i=0;e[i];){if(!1===(n=e[i]).handler.apply(n.context,A))return!1;i+=1}return!0},u.prototype.hasListener=function(t){return this.getListenerLength(t)>0},u.prototype.getListenerLength=function(t){return this._safeEvent(t).length},t.exports=u},961:function(t){t.exports=function(t,e){var A,i,n,r,o=Object.prototype.hasOwnProperty;for(n=1,r=arguments.length;n<r;n+=1)for(i in A=arguments[n])o.call(A,i)&&(t[i]=A[i]);return t}},1610:function(t,e,A){var i=A(5695),n=A(3778);t.exports=function(t,e){for(var A=arguments,r=A[0],o=1,s=A.length;o<s;o+=1){if(i(r)||n(r))return;r=r[A[o]]}return r}},4564:function(t,e,A){var i=A(5573);t.exports=function(t,e){var A=document.createElement("img"),n="";return i(e,function(t,e){n+="&"+e+"="+t}),n=n.substring(1),A.src=t+"?"+n,A.style.display="none",document.body.appendChild(A),document.body.removeChild(A),A}},4729:function(t,e,A){var i=A(5695),n=A(4564);t.exports=function(t,e){var A=location.hostname,r="TOAST UI "+t+" for "+A+": Statistics",o=window.localStorage.getItem(r);(i(window.tui)||!1!==window.tui.usageStatistics)&&(o&&!function(t){return(new Date).getTime()-t>6048e5}(o)||(window.localStorage.setItem(r,(new Date).getTime()),setTimeout(function(){"interactive"!==document.readyState&&"complete"!==document.readyState||n("https://www.google-analytics.com/collect",{v:1,t:"event",tid:e,cid:A,dp:A,dh:t,el:t,ec:"use"})},1e3)))}},602:function(t){t.exports=function(t){return t instanceof Array}},9886:function(t,e,A){var i=A(5695),n=A(3778);t.exports=function(t){return!i(t)&&!n(t)}},5183:function(t){t.exports=function(t){return t instanceof Function}},3778:function(t){t.exports=function(t){return null===t}},5393:function(t){t.exports=function(t){return t===Object(t)}},2560:function(t){t.exports=function(t){return"string"==typeof t||t instanceof String}},5695:function(t){t.exports=function(t){return void 0===t}},4426:function(t,e,A){t.exports=A(4486)},9406:function(t,e,A){t.exports=A(4877)},789:function(t,e,A){t.exports=A(7178)},381:function(t,e,A){t.exports=A(5603)},7636:function(t,e,A){t.exports=A(1206)},1899:function(t,e,A){t.exports=A(6174)},899:function(t,e,A){t.exports=A(57)},8005:function(t,e,A){t.exports=A(4741)},6562:function(t,e,A){t.exports=A(8368)},9131:function(t,e,A){t.exports=A(3739)},4383:function(t,e,A){t.exports=A(172)},6065:function(t,e,A){t.exports=A(4963)},1734:function(t,e,A){t.exports=A(7820)},2461:function(t,e,A){t.exports=A(5636)},5214:function(t,e,A){t.exports=A(5059)},6397:function(t,e,A){t.exports=A(3969)},8189:function(t,e,A){t.exports=A(6618)},9146:function(t,e,A){t.exports=A(5279)},4496:function(t,e,A){t.exports=A(9562)},3972:function(t,e,A){t.exports=A(652)},7172:function(t,e,A){t.exports=A(2813)},1845:function(t,e,A){t.exports=A(8664)},662:function(t,e,A){t.exports=A(1457)},711:function(t,e,A){t.exports=A(2937)},6623:function(t,e,A){t.exports=A(9297)},7077:function(t,e,A){t.exports=A(8026)},9856:function(t,e,A){t.exports=A(2044)},4230:function(t,e,A){t.exports=A(2214)},184:function(t,e,A){t.exports=A(9256)},3742:function(t,e,A){t.exports=A(5659)},1801:function(t){var e={rect:1,circle:2,triangle:1},A={rect:{w:"width",h:"height"},circle:{w:"rx",h:"ry"},triangle:{w:"width",h:"height"}};function i(t,e,A){var i=t.x,n=t.y,r=e.x,o=e.y,s=A*Math.PI/180;return{originX:i>(r-i)*Math.cos(s)-(o-n)*Math.sin(s)+i?"right":"left",originY:n>(r-i)*Math.sin(s)+(o-n)*Math.cos(s)+n?"bottom":"top"}}t.exports={setOrigins:function(t){var e=t.getPointByOrigin("left","top"),A=t.getPointByOrigin("right","top"),i=t.getPointByOrigin("right","bottom"),n=t.getPointByOrigin("left","bottom");t.origins={lt:e,rt:A,rb:i,lb:n}},resize:function(t,n,r){(function(t){return"center"===t.originX&&"center"===t.originY})(t)&&(function(t,e){var A=e.getPointByOrigin("center","center"),n=i(A,t,-e.angle),r=n.originX,o=n.originY,s=e.getPointByOrigin(r,o),a=e.left-(A.x-s.x),c=e.top-(A.y-s.y);e.set({originX:r,originY:o,left:a,top:c}),e.setCoords()}(n,t),function(t){var e=t.originX,A=t.originY,i=e.substring(0,1)+A.substring(0,1);t.startPoint=t.origins[i]}(t)),r?function(t){var e=t.type,i=t.scaleX,n=t.scaleY,r=A[e],o=t[r.w]*i,s=t[r.h]*n;if(t.isRegular){var a=Math.max(i,n);o=t[r.w]*a,s=t[r.h]*a}var c={hasControls:!1,hasBorders:!1,scaleX:1,scaleY:1};c[r.w]=o,c[r.h]=s,t.set(c)}(t):function(t,i){var n=i.type,r=i.strokeWidth,o=i.startPoint,s=e[n],a=A[n],c=!("triangle"!==i.type),l={},u=Math.abs(o.x-t.x)/s,h=Math.abs(o.y-t.y)/s;u>r&&(u-=r/s),h>r&&(h-=r/s),i.isRegular&&(u=h=Math.max(u,h),c&&(h=Math.sqrt(3)/2*u)),l[a.w]=u,l[a.h]=h,i.set(l)}(n,t),function(t,e){var A=e.startPoint,n=i(A,t,-e.angle),r=n.originX,o=n.originY;e.setPositionByOrigin(A,r,o),e.setCoords()}(n,t)},adjustOriginToCenter:function(t){var e=t.getPointByOrigin("center","center"),A=t.originX,i=t.originY,n=t.getPointByOrigin(A,i),r=t.left+(e.x-n.x),o=t.top+(e.y-n.y);t.set({hasControls:!0,hasBorders:!0,originX:"center",originY:"center",left:r,top:o}),t.setCoords()}}},2221:function(t,e,A){A(5454),A(9173);var i=A(7545);t.exports=i.Array.from},5078:function(t,e,A){A(8118);var i=A(7545);t.exports=i.Array.isArray},6135:function(t,e,A){A(9106);var i=A(5607);t.exports=i("Array").concat},9510:function(t,e,A){A(1710);var i=A(5607);t.exports=i("Array").fill},3971:function(t,e,A){A(3436);var i=A(5607);t.exports=i("Array").filter},98:function(t,e,A){A(9823);var i=A(5607);t.exports=i("Array").forEach},2089:function(t,e,A){A(2276);var i=A(5607);t.exports=i("Array").indexOf},6209:function(t,e,A){A(3838);var i=A(5607);t.exports=i("Array").map},2671:function(t,e,A){A(5818);var i=A(5607);t.exports=i("Array").slice},1375:function(t,e,A){A(2178);var i=A(5607);t.exports=i("Array").splice},3528:function(t,e,A){A(665);var i=A(5607);t.exports=i("Function").bind},5739:function(t,e,A){A(8939),A(5454);var i=A(8703);t.exports=i},278:function(t,e,A){var i=A(3528),n=Function.prototype;t.exports=function(t){var e=t.bind;return t===n||t instanceof Function&&e===n.bind?i:e}},1484:function(t,e,A){var i=A(6135),n=Array.prototype;t.exports=function(t){var e=t.concat;return t===n||t instanceof Array&&e===n.concat?i:e}},7731:function(t,e,A){var i=A(9510),n=Array.prototype;t.exports=function(t){var e=t.fill;return t===n||t instanceof Array&&e===n.fill?i:e}},3669:function(t,e,A){var i=A(3971),n=Array.prototype;t.exports=function(t){var e=t.filter;return t===n||t instanceof Array&&e===n.filter?i:e}},2604:function(t,e,A){var i=A(2089),n=Array.prototype;t.exports=function(t){var e=t.indexOf;return t===n||t instanceof Array&&e===n.indexOf?i:e}},263:function(t,e,A){var i=A(6209),n=Array.prototype;t.exports=function(t){var e=t.map;return t===n||t instanceof Array&&e===n.map?i:e}},7663:function(t,e,A){var i=A(2671),n=Array.prototype;t.exports=function(t){var e=t.slice;return t===n||t instanceof Array&&e===n.slice?i:e}},5063:function(t,e,A){var i=A(1375),n=Array.prototype;t.exports=function(t){var e=t.splice;return t===n||t instanceof Array&&e===n.splice?i:e}},6813:function(t,e,A){var i=A(3842),n=String.prototype;t.exports=function(t){var e=t.trim;return"string"==typeof t||t===n||t instanceof String&&e===n.trim?i:e}},6285:function(t,e,A){A(2666);var i=A(7545);t.exports=i.Number.parseInt},3213:function(t,e,A){A(3113);var i=A(7545).Object;t.exports=function(t,e){return i.create(t,e)}},3512:function(t,e,A){A(297);var i=A(7545).Object,n=t.exports=function(t,e,A){return i.defineProperty(t,e,A)};i.defineProperty.sham&&(n.sham=!0)},8168:function(t,e,A){A(9234);var i=A(7545);t.exports=i.Object.getPrototypeOf},8651:function(t,e,A){A(2647);var i=A(7545);t.exports=i.Object.keys},3083:function(t,e,A){A(3222);var i=A(7545);t.exports=i.Object.setPrototypeOf},2987:function(t,e,A){A(4859);var i=A(7545);t.exports=i.parseFloat},2239:function(t,e,A){A(5706);var i=A(7545);t.exports=i.parseInt},3154:function(t,e,A){A(4242),A(8939),A(6663),A(9021),A(7884),A(8885),A(1868),A(5454);var i=A(7545);t.exports=i.Promise},6577:function(t,e,A){A(5397);var i=A(7545);t.exports=i.Reflect.construct},3842:function(t,e,A){A(957);var i=A(5607);t.exports=i("String").trim},5008:function(t,e,A){A(9106),A(6663),A(6187),A(9781),A(492),A(6681),A(9594),A(3665),A(9017),A(1250),A(9786),A(503),A(6565),A(9322),A(3610),A(6886),A(3514),A(8671),A(8556),A(1367);var i=A(7545);t.exports=i.Symbol},994:function(t,e,A){A(8939),A(6663),A(5454),A(3665);var i=A(9207);t.exports=i.f("iterator")},2813:function(t,e,A){var i=A(3822);t.exports=i},8664:function(t,e,A){var i=A(1434);t.exports=i},1457:function(t,e,A){var i=A(7710);t.exports=i},2937:function(t,e,A){var i=A(4741);t.exports=i},9297:function(t,e,A){var i=A(4963);t.exports=i},8026:function(t,e,A){var i=A(7820);t.exports=i},2044:function(t,e,A){var i=A(8980);t.exports=i},2214:function(t,e,A){var i=A(6672);t.exports=i},9256:function(t,e,A){var i=A(2285);A(177),A(9031),A(6658),A(1875),A(8658),A(4592),A(6680),t.exports=i},5659:function(t,e,A){var i=A(8535);t.exports=i},6235:function(t,e,A){var i=A(6447),n=A(9288);t.exports=function(t){if(i(t))return t;throw TypeError(n(t)+" is not a function")}},1404:function(t,e,A){var i=A(2091),n=A(9288);t.exports=function(t){if(i(t))return t;throw TypeError(n(t)+" is not a constructor")}},7757:function(t,e,A){var i=A(6447);t.exports=function(t){if("object"==typeof t||i(t))return t;throw TypeError("Can't set "+String(t)+" as a prototype")}},7423:function(t){t.exports=function(){}},6961:function(t){t.exports=function(t,e,A){if(t instanceof e)return t;throw TypeError("Incorrect "+(A?A+" ":"")+"invocation")}},1138:function(t,e,A){var i=A(5744);t.exports=function(t){if(i(t))return t;throw TypeError(String(t)+" is not an object")}},2724:function(t,e,A){var i=A(1795),n=A(7739),r=A(4104);t.exports=function(t){for(var e=i(this),A=r(e),o=arguments.length,s=n(o>1?arguments[1]:void 0,A),a=o>2?arguments[2]:void 0,c=void 0===a?A:n(a,A);c>s;)e[s++]=t;return e}},7397:function(t,e,A){var i=A(454).forEach,n=A(424)("forEach");t.exports=n?[].forEach:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}},841:function(t,e,A){var i=A(8043),n=A(1795),r=A(1635),o=A(6109),s=A(2091),a=A(4104),c=A(9361),l=A(1669),u=A(8703);t.exports=function(t){var e=n(t),A=s(this),h=arguments.length,g=h>1?arguments[1]:void 0,f=void 0!==g;f&&(g=i(g,h>2?arguments[2]:void 0,2));var d,p,v,m,B,y,C=u(e),w=0;if(!C||this==Array&&o(C))for(d=a(e),p=A?new this(d):Array(d);d>w;w++)y=f?g(e[w],w):e[w],c(p,w,y);else for(B=(m=l(e,C)).next,p=A?new this:[];!(v=B.call(m)).done;w++)y=f?r(m,g,[v.value,w],!0):v.value,c(p,w,y);return p.length=w,p}},8180:function(t,e,A){var i=A(101),n=A(7739),r=A(4104),o=function(t){return function(e,A,o){var s,a=i(e),c=r(a),l=n(o,c);if(t&&A!=A){for(;c>l;)if((s=a[l++])!=s)return!0}else for(;c>l;l++)if((t||l in a)&&a[l]===A)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},454:function(t,e,A){var i=A(8043),n=A(2202),r=A(1795),o=A(4104),s=A(1321),a=[].push,c=function(t){var e=1==t,A=2==t,c=3==t,l=4==t,u=6==t,h=7==t,g=5==t||u;return function(f,d,p,v){for(var m,B,y=r(f),C=n(y),w=i(d,p,3),b=o(C),I=0,x=v||s,M=e?x(f,b):A||h?x(f,0):void 0;b>I;I++)if((g||I in C)&&(B=w(m=C[I],I,y),t))if(e)M[I]=B;else if(B)switch(t){case 3:return!0;case 5:return m;case 6:return I;case 2:a.call(M,m)}else switch(t){case 4:return!1;case 7:a.call(M,m)}return u?-1:c||l?l:M}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},242:function(t,e,A){var i=A(6192),n=A(8182),r=A(4218),o=n("species");t.exports=function(t){return r>=51||!i(function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo})}},424:function(t,e,A){var i=A(6192);t.exports=function(t,e){var A=[][t];return!!A&&i(function(){A.call(null,e||function(){throw 1},1)})}},3712:function(t,e,A){var i=A(4770),n=A(2091),r=A(5744),o=A(8182)("species");t.exports=function(t){var e;return i(t)&&(e=t.constructor,(n(e)&&(e===Array||i(e.prototype))||r(e)&&null===(e=e[o]))&&(e=void 0)),void 0===e?Array:e}},1321:function(t,e,A){var i=A(3712);t.exports=function(t,e){return new(i(t))(0===e?0:e)}},1635:function(t,e,A){var i=A(1138),n=A(6639);t.exports=function(t,e,A,r){try{return r?e(i(A)[0],A[1]):e(A)}catch(o){n(t,"throw",o)}}},9770:function(t,e,A){var i=A(8182)("iterator"),n=!1;try{var r=0,o={next:function(){return{done:!!r++}},return:function(){n=!0}};o[i]=function(){return this},Array.from(o,function(){throw 2})}catch(s){}t.exports=function(t,e){if(!e&&!n)return!1;var A=!1;try{var r={};r[i]=function(){return{next:function(){return{done:A=!0}}}},t(r)}catch(s){}return A}},9272:function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},4696:function(t,e,A){var i=A(3471),n=A(6447),r=A(9272),o=A(8182)("toStringTag"),s="Arguments"==r(function(){return arguments}());t.exports=i?r:function(t){var e,A,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(A=function(t,e){try{return t[e]}catch(A){}}(e=Object(t),o))?A:s?r(e):"Object"==(i=r(e))&&n(e.callee)?"Arguments":i}},4635:function(t,e,A){var i=A(6192);t.exports=!i(function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})},5148:function(t,e,A){var i=A(4413).IteratorPrototype,n=A(2853),r=A(774),o=A(1284),s=A(7771),a=function(){return this};t.exports=function(t,e,A){var c=e+" Iterator";return t.prototype=n(i,{next:r(1,A)}),o(t,c,!1,!0),s[c]=a,t}},8711:function(t,e,A){var i=A(69),n=A(2760),r=A(774);t.exports=i?function(t,e,A){return n.f(t,e,r(1,A))}:function(t,e,A){return t[e]=A,t}},774:function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},9361:function(t,e,A){var i=A(77),n=A(2760),r=A(774);t.exports=function(t,e,A){var o=i(e);o in t?n.f(t,o,r(0,A)):t[o]=A}},7218:function(t,e,A){var i=A(3085),n=A(5546),r=A(2282),o=A(6447),s=A(5148),a=A(9341),c=A(4469),l=A(1284),u=A(8711),h=A(9482),g=A(8182),f=A(7771),d=A(4413),p=r.PROPER,v=r.CONFIGURABLE,m=d.IteratorPrototype,B=d.BUGGY_SAFARI_ITERATORS,y=g("iterator"),C="keys",w="values",b="entries",I=function(){return this};t.exports=function(t,e,A,r,g,d,x){s(A,e,r);var M,S,_,Q=function(t){if(t===g&&T)return T;if(!B&&t in U)return U[t];switch(t){case C:case w:case b:return function(){return new A(this,t)}}return function(){return new A(this)}},F=e+" Iterator",E=!1,U=t.prototype,D=U[y]||U["@@iterator"]||g&&U[g],T=!B&&D||Q(g),k="Array"==e&&U.entries||D;if(k&&(M=a(k.call(new t)))!==Object.prototype&&M.next&&(n||a(M)===m||(c?c(M,m):o(M[y])||h(M,y,I)),l(M,F,!0,!0),n&&(f[F]=I)),p&&g==w&&D&&D.name!==w&&(!n&&v?u(U,"name",w):(E=!0,T=function(){return D.call(this)})),g)if(S={values:Q(w),keys:d?T:Q(C),entries:Q(b)},x)for(_ in S)(B||E||!(_ in U))&&h(U,_,S[_]);else i({target:e,proto:!0,forced:B||E},S);return n&&!x||U[y]===T||h(U,y,T,{name:g}),f[e]=T,S}},1488:function(t,e,A){var i=A(7545),n=A(4500),r=A(9207),o=A(2760).f;t.exports=function(t){var e=i.Symbol||(i.Symbol={});n(e,t)||o(e,t,{value:r.f(t)})}},69:function(t,e,A){var i=A(6192);t.exports=!i(function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})},7449:function(t,e,A){var i=A(8576),n=A(5744),r=i.document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},7365:function(t){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},2957:function(t){t.exports="object"==typeof window},9347:function(t,e,A){var i=A(8989),n=A(8576);t.exports=/ipad|iphone|ipod/i.test(i)&&void 0!==n.Pebble},9536:function(t,e,A){var i=A(8989);t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},224:function(t,e,A){var i=A(9272),n=A(8576);t.exports="process"==i(n.process)},5914:function(t,e,A){var i=A(8989);t.exports=/web0s(?!.*chrome)/i.test(i)},8989:function(t,e,A){var i=A(150);t.exports=i("navigator","userAgent")||""},4218:function(t,e,A){var i,n,r=A(8576),o=A(8989),s=r.process,a=r.Deno,c=s&&s.versions||a&&a.version,l=c&&c.v8;l?n=(i=l.split("."))[0]<4?1:i[0]+i[1]:o&&(!(i=o.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=o.match(/Chrome\/(\d+)/))&&(n=i[1]),t.exports=n&&+n},5607:function(t,e,A){var i=A(7545);t.exports=function(t){return i[t+"Prototype"]}},2952:function(t){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3085:function(t,e,A){var i=A(8576),n=A(6447),r=A(5141).f,o=A(9245),s=A(7545),a=A(8043),c=A(8711),l=A(4500),u=function(t){var e=function(e,A,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,A)}return new t(e,A,i)}return t.apply(this,arguments)};return e.prototype=t.prototype,e};t.exports=function(t,e){var A,h,g,f,d,p,v,m,B=t.target,y=t.global,C=t.stat,w=t.proto,b=y?i:C?i[B]:(i[B]||{}).prototype,I=y?s:s[B]||c(s,B,{})[B],x=I.prototype;for(g in e)A=!o(y?g:B+(C?".":"#")+g,t.forced)&&b&&l(b,g),d=I[g],A&&(p=t.noTargetGet?(m=r(b,g))&&m.value:b[g]),f=A&&p?p:e[g],A&&typeof d==typeof f||(v=t.bind&&A?a(f,i):t.wrap&&A?u(f):w&&n(f)?a(Function.call,f):f,(t.sham||f&&f.sham||d&&d.sham)&&c(v,"sham",!0),c(I,g,v),w&&(l(s,h=B+"Prototype")||c(s,h,{}),c(s[h],g,f),t.real&&x&&!x[g]&&c(x,g,f)))}},6192:function(t){t.exports=function(t){try{return!!t()}catch(e){return!0}}},8043:function(t,e,A){var i=A(6235);t.exports=function(t,e,A){if(i(t),void 0===e)return t;switch(A){case 0:return function(){return t.call(e)};case 1:return function(A){return t.call(e,A)};case 2:return function(A,i){return t.call(e,A,i)};case 3:return function(A,i,n){return t.call(e,A,i,n)}}return function(){return t.apply(e,arguments)}}},6782:function(t,e,A){var i=A(6235),n=A(5744),r=[].slice,o={};t.exports=Function.bind||function(t){var e=i(this),A=r.call(arguments,1),s=function(){var i=A.concat(r.call(arguments));return this instanceof s?function(t,e,A){if(!(e in o)){for(var i=[],n=0;n<e;n++)i[n]="a["+n+"]";o[e]=Function("C,a","return new C("+i.join(",")+")")}return o[e](t,A)}(e,i.length,i):e.apply(t,i)};return n(e.prototype)&&(s.prototype=e.prototype),s}},2282:function(t,e,A){var i=A(69),n=A(4500),r=Function.prototype,o=i&&Object.getOwnPropertyDescriptor,s=n(r,"name"),a=s&&"something"===function(){}.name,c=s&&(!i||i&&o(r,"name").configurable);t.exports={EXISTS:s,PROPER:a,CONFIGURABLE:c}},150:function(t,e,A){var i=A(7545),n=A(8576),r=A(6447),o=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?o(i[t])||o(n[t]):i[t]&&i[t][e]||n[t]&&n[t][e]}},8703:function(t,e,A){var i=A(4696),n=A(5037),r=A(7771),o=A(8182)("iterator");t.exports=function(t){if(null!=t)return n(t,o)||n(t,"@@iterator")||r[i(t)]}},1669:function(t,e,A){var i=A(6235),n=A(1138),r=A(8703);t.exports=function(t,e){var A=arguments.length<2?r(t):e;if(i(A))return n(A.call(t));throw TypeError(String(t)+" is not iterable")}},5037:function(t,e,A){var i=A(6235);t.exports=function(t,e){var A=t[e];return null==A?void 0:i(A)}},8576:function(t,e,A){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof A.g&&A.g)||function(){return this}()||Function("return this")()},4500:function(t,e,A){var i=A(1795),n={}.hasOwnProperty;t.exports=Object.hasOwn||function(t,e){return n.call(i(t),e)}},4535:function(t){t.exports={}},3681:function(t,e,A){var i=A(8576);t.exports=function(t,e){var A=i.console;A&&A.error&&(1===arguments.length?A.error(t):A.error(t,e))}},7403:function(t,e,A){var i=A(150);t.exports=i("document","documentElement")},188:function(t,e,A){var i=A(69),n=A(6192),r=A(7449);t.exports=!i&&!n(function(){return 7!=Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a})},2202:function(t,e,A){var i=A(6192),n=A(9272),r="".split;t.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(t){return"String"==n(t)?r.call(t,""):Object(t)}:Object},9516:function(t,e,A){var i=A(6447),n=A(6434),r=Function.toString;i(n.inspectSource)||(n.inspectSource=function(t){return r.call(t)}),t.exports=n.inspectSource},273:function(t,e,A){var i=A(5744),n=A(8711);t.exports=function(t,e){i(e)&&"cause"in e&&n(t,"cause",t.cause)}},3326:function(t,e,A){var i,n,r,o=A(8921),s=A(8576),a=A(5744),c=A(8711),l=A(4500),u=A(6434),h=A(9766),g=A(4535),f="Object already initialized",d=s.WeakMap;if(o||u.state){var p=u.state||(u.state=new d),v=p.get,m=p.has,B=p.set;i=function(t,e){if(m.call(p,t))throw new TypeError(f);return e.facade=t,B.call(p,t,e),e},n=function(t){return v.call(p,t)||{}},r=function(t){return m.call(p,t)}}else{var y=h("state");g[y]=!0,i=function(t,e){if(l(t,y))throw new TypeError(f);return e.facade=t,c(t,y,e),e},n=function(t){return l(t,y)?t[y]:{}},r=function(t){return l(t,y)}}t.exports={set:i,get:n,has:r,enforce:function(t){return r(t)?n(t):i(t,{})},getterFor:function(t){return function(e){var A;if(!a(e)||(A=n(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return A}}}},6109:function(t,e,A){var i=A(8182),n=A(7771),r=i("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},4770:function(t,e,A){var i=A(9272);t.exports=Array.isArray||function(t){return"Array"==i(t)}},6447:function(t){t.exports=function(t){return"function"==typeof t}},2091:function(t,e,A){var i=A(6192),n=A(6447),r=A(4696),o=A(150),s=A(9516),a=[],c=o("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=l.exec,h=!l.exec(function(){}),g=function(t){if(!n(t))return!1;try{return c(Object,a,t),!0}catch(e){return!1}};t.exports=!c||i(function(){var t;return g(g.call)||!g(Object)||!g(function(){t=!0})||t})?function(t){if(!n(t))return!1;switch(r(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return h||!!u.call(l,s(t))}:g},9245:function(t,e,A){var i=A(6192),n=A(6447),r=/#|\.prototype\./,o=function(t,e){var A=a[s(t)];return A==l||A!=c&&(n(e)?i(e):!!e)},s=o.normalize=function(t){return String(t).replace(r,".").toLowerCase()},a=o.data={},c=o.NATIVE="N",l=o.POLYFILL="P";t.exports=o},5744:function(t,e,A){var i=A(6447);t.exports=function(t){return"object"==typeof t?null!==t:i(t)}},5546:function(t){t.exports=!0},3236:function(t,e,A){var i=A(6447),n=A(150),r=A(615);t.exports=r?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return i(e)&&Object(t)instanceof e}},3442:function(t,e,A){var i=A(1138),n=A(6109),r=A(4104),o=A(8043),s=A(1669),a=A(8703),c=A(6639),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,A){var u,h,g,f,d,p,v,m=A&&A.that,B=!(!A||!A.AS_ENTRIES),y=!(!A||!A.IS_ITERATOR),C=!(!A||!A.INTERRUPTED),w=o(e,m,1+B+C),b=function(t){return u&&c(u,"normal",t),new l(!0,t)},I=function(t){return B?(i(t),C?w(t[0],t[1],b):w(t[0],t[1])):C?w(t,b):w(t)};if(y)u=t;else{if(!(h=a(t)))throw TypeError(String(t)+" is not iterable");if(n(h)){for(g=0,f=r(t);f>g;g++)if((d=I(t[g]))&&d instanceof l)return d;return new l(!1)}u=s(t,h)}for(p=u.next;!(v=p.call(u)).done;){try{d=I(v.value)}catch(x){c(u,"throw",x)}if("object"==typeof d&&d&&d instanceof l)return d}return new l(!1)}},6639:function(t,e,A){var i=A(1138),n=A(5037);t.exports=function(t,e,A){var r,o;i(t);try{if(!(r=n(t,"return"))){if("throw"===e)throw A;return A}r=r.call(t)}catch(s){o=!0,r=s}if("throw"===e)throw A;if(o)throw r;return i(r),A}},4413:function(t,e,A){var i,n,r,o=A(6192),s=A(6447),a=A(2853),c=A(9341),l=A(9482),u=A(8182),h=A(5546),g=u("iterator"),f=!1;[].keys&&("next"in(r=[].keys())?(n=c(c(r)))!==Object.prototype&&(i=n):f=!0),null==i||o(function(){var t={};return i[g].call(t)!==t})?i={}:h&&(i=a(i)),s(i[g])||l(i,g,function(){return this}),t.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:f}},7771:function(t){t.exports={}},4104:function(t,e,A){var i=A(8445);t.exports=function(t){return i(t.length)}},2950:function(t,e,A){var i,n,r,o,s,a,c,l,u=A(8576),h=A(5141).f,g=A(7160).set,f=A(9536),d=A(9347),p=A(5914),v=A(224),m=u.MutationObserver||u.WebKitMutationObserver,B=u.document,y=u.process,C=u.Promise,w=h(u,"queueMicrotask"),b=w&&w.value;b||(i=function(){var t,e;for(v&&(t=y.domain)&&t.exit();n;){e=n.fn,n=n.next;try{e()}catch(A){throw n?o():r=void 0,A}}r=void 0,t&&t.enter()},f||v||p||!m||!B?!d&&C&&C.resolve?((c=C.resolve(void 0)).constructor=C,l=c.then,o=function(){l.call(c,i)}):o=v?function(){y.nextTick(i)}:function(){g.call(u,i)}:(s=!0,a=B.createTextNode(""),new m(i).observe(a,{characterData:!0}),o=function(){a.data=s=!s})),t.exports=b||function(t){var e={fn:t,next:void 0};r&&(r.next=e),n||(n=e,o()),r=e}},4471:function(t,e,A){var i=A(8576);t.exports=i.Promise},3045:function(t,e,A){var i=A(4218),n=A(6192);t.exports=!!Object.getOwnPropertySymbols&&!n(function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&i&&i<41})},4551:function(t,e,A){var i=A(6192),n=A(8182),r=A(5546),o=n("iterator");t.exports=!i(function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,A="";return t.pathname="c%20d",e.forEach(function(t,i){e.delete("b"),A+=i+t}),r&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==A||"x"!==new URL("http://x",void 0).host})},8921:function(t,e,A){var i=A(8576),n=A(6447),r=A(9516),o=i.WeakMap;t.exports=n(o)&&/native code/.test(r(o))},9438:function(t,e,A){var i=A(6235),n=function(t){var e,A;this.promise=new t(function(t,i){if(void 0!==e||void 0!==A)throw TypeError("Bad Promise constructor");e=t,A=i}),this.resolve=i(e),this.reject=i(A)};t.exports.f=function(t){return new n(t)}},15:function(t,e,A){var i=A(8576),n=A(6192),r=A(4845),o=A(4277).trim,s=A(1450),a=i.parseFloat,c=i.Symbol,l=c&&c.iterator,u=1/a(s+"-0")!=-1/0||l&&!n(function(){a(Object(l))});t.exports=u?function(t){var e=o(r(t)),A=a(e);return 0===A&&"-"==e.charAt(0)?-0:A}:a},2558:function(t,e,A){var i=A(8576),n=A(6192),r=A(4845),o=A(4277).trim,s=A(1450),a=i.parseInt,c=i.Symbol,l=c&&c.iterator,u=/^[+-]?0[Xx]/,h=8!==a(s+"08")||22!==a(s+"0x16")||l&&!n(function(){a(Object(l))});t.exports=h?function(t,e){var A=o(r(t));return a(A,e>>>0||(u.test(A)?16:10))}:a},2503:function(t,e,A){var i=A(69),n=A(6192),r=A(7653),o=A(4750),s=A(6007),a=A(1795),c=A(2202),l=Object.assign,u=Object.defineProperty;t.exports=!l||n(function(){if(i&&1!==l({b:1},l(u({},"a",{enumerable:!0,get:function(){u(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},A=Symbol(),n="abcdefghijklmnopqrst";return t[A]=7,n.split("").forEach(function(t){e[t]=t}),7!=l({},t)[A]||r(l({},e)).join("")!=n})?function(t,e){for(var A=a(t),n=arguments.length,l=1,u=o.f,h=s.f;n>l;)for(var g,f=c(arguments[l++]),d=u?r(f).concat(u(f)):r(f),p=d.length,v=0;p>v;)g=d[v++],i&&!h.call(f,g)||(A[g]=f[g]);return A}:l},2853:function(t,e,A){var i,n=A(1138),r=A(1187),o=A(2952),s=A(4535),a=A(7403),c=A(7449),l=A(9766),u="prototype",h="script",g=l("IE_PROTO"),f=function(){},d=function(t){return"<"+h+">"+t+"</"+h+">"},p=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},v=function(){try{i=new ActiveXObject("htmlfile")}catch(r){}var t,e,A;v="undefined"!=typeof document?document.domain&&i?p(i):(e=c("iframe"),A="java"+h+":",e.style.display="none",a.appendChild(e),e.src=String(A),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):p(i);for(var n=o.length;n--;)delete v[u][o[n]];return v()};s[g]=!0,t.exports=Object.create||function(t,e){var A;return null!==t?(f[u]=n(t),A=new f,f[u]=null,A[g]=t):A=v(),void 0===e?A:r(A,e)}},1187:function(t,e,A){var i=A(69),n=A(2760),r=A(1138),o=A(7653);t.exports=i?Object.defineProperties:function(t,e){r(t);for(var A,i=o(e),s=i.length,a=0;s>a;)n.f(t,A=i[a++],e[A]);return t}},2760:function(t,e,A){var i=A(69),n=A(188),r=A(1138),o=A(77),s=Object.defineProperty;e.f=i?s:function(t,e,A){if(r(t),e=o(e),r(A),n)try{return s(t,e,A)}catch(i){}if("get"in A||"set"in A)throw TypeError("Accessors not supported");return"value"in A&&(t[e]=A.value),t}},5141:function(t,e,A){var i=A(69),n=A(6007),r=A(774),o=A(101),s=A(77),a=A(4500),c=A(188),l=Object.getOwnPropertyDescriptor;e.f=i?l:function(t,e){if(t=o(t),e=s(e),c)try{return l(t,e)}catch(A){}if(a(t,e))return r(!n.f.call(t,e),t[e])}},4052:function(t,e,A){var i=A(101),n=A(2092).f,r={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==r.call(t)?function(t){try{return n(t)}catch(e){return o.slice()}}(t):n(i(t))}},2092:function(t,e,A){var i=A(7934),n=A(2952).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,n)}},4750:function(t,e){e.f=Object.getOwnPropertySymbols},9341:function(t,e,A){var i=A(4500),n=A(6447),r=A(1795),o=A(9766),s=A(4635),a=o("IE_PROTO"),c=Object.prototype;t.exports=s?Object.getPrototypeOf:function(t){var e=r(t);if(i(e,a))return e[a];var A=e.constructor;return n(A)&&e instanceof A?A.prototype:e instanceof Object?c:null}},7934:function(t,e,A){var i=A(4500),n=A(101),r=A(8180).indexOf,o=A(4535);t.exports=function(t,e){var A,s=n(t),a=0,c=[];for(A in s)!i(o,A)&&i(s,A)&&c.push(A);for(;e.length>a;)i(s,A=e[a++])&&(~r(c,A)||c.push(A));return c}},7653:function(t,e,A){var i=A(7934),n=A(2952);t.exports=Object.keys||function(t){return i(t,n)}},6007:function(t,e){var A={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,n=i&&!A.call({1:2},1);e.f=n?function(t){var e=i(this,t);return!!e&&e.enumerable}:A},4469:function(t,e,A){var i=A(1138),n=A(7757);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,A={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(A,[]),e=A instanceof Array}catch(r){}return function(A,r){return i(A),n(r),e?t.call(A,r):A.__proto__=r,A}}():void 0)},158:function(t,e,A){var i=A(3471),n=A(4696);t.exports=i?{}.toString:function(){return"[object "+n(this)+"]"}},380:function(t,e,A){var i=A(6447),n=A(5744);t.exports=function(t,e){var A,r;if("string"===e&&i(A=t.toString)&&!n(r=A.call(t)))return r;if(i(A=t.valueOf)&&!n(r=A.call(t)))return r;if("string"!==e&&i(A=t.toString)&&!n(r=A.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},7545:function(t){t.exports={}},892:function(t){t.exports=function(t){try{return{error:!1,value:t()}}catch(e){return{error:!0,value:e}}}},9126:function(t,e,A){var i=A(1138),n=A(5744),r=A(9438);t.exports=function(t,e){if(i(t),n(e)&&e.constructor===t)return e;var A=r.f(t);return(0,A.resolve)(e),A.promise}},533:function(t,e,A){var i=A(9482);t.exports=function(t,e,A){for(var n in e)A&&A.unsafe&&t[n]?t[n]=e[n]:i(t,n,e[n],A);return t}},9482:function(t,e,A){var i=A(8711);t.exports=function(t,e,A,n){n&&n.enumerable?t[e]=A:i(t,e,A)}},3209:function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},7613:function(t,e,A){var i=A(8576);t.exports=function(t,e){try{Object.defineProperty(i,t,{value:e,configurable:!0,writable:!0})}catch(A){i[t]=e}return e}},3656:function(t,e,A){var i=A(150),n=A(2760),r=A(8182),o=A(69),s=r("species");t.exports=function(t){var e=i(t),A=n.f;o&&e&&!e[s]&&A(e,s,{configurable:!0,get:function(){return this}})}},1284:function(t,e,A){var i=A(3471),n=A(2760).f,r=A(8711),o=A(4500),s=A(158),a=A(8182)("toStringTag");t.exports=function(t,e,A,c){if(t){var l=A?t:t.prototype;o(l,a)||n(l,a,{configurable:!0,value:e}),c&&!i&&r(l,"toString",s)}}},9766:function(t,e,A){var i=A(8717),n=A(2759),r=i("keys");t.exports=function(t){return r[t]||(r[t]=n(t))}},6434:function(t,e,A){var i=A(8576),n=A(7613),r="__core-js_shared__",o=i[r]||n(r,{});t.exports=o},8717:function(t,e,A){var i=A(5546),n=A(6434);(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.18.2",mode:i?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},4743:function(t,e,A){var i=A(1138),n=A(1404),r=A(8182)("species");t.exports=function(t,e){var A,o=i(t).constructor;return void 0===o||null==(A=i(o)[r])?e:n(A)}},863:function(t,e,A){var i=A(1941),n=A(4845),r=A(3209),o=function(t){return function(e,A){var o,s,a=n(r(e)),c=i(A),l=a.length;return c<0||c>=l?t?"":void 0:(o=a.charCodeAt(c))<55296||o>56319||c+1===l||(s=a.charCodeAt(c+1))<56320||s>57343?t?a.charAt(c):o:t?a.slice(c,c+2):s-56320+(o-55296<<10)+65536}};t.exports={codeAt:o(!1),charAt:o(!0)}},7977:function(t){var e=2147483647,A=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,n="Overflow: input needs wider integers to process",r=Math.floor,o=String.fromCharCode,s=function(t){return t+22+75*(t<26)},a=function(t,e,A){var i=0;for(t=A?r(t/700):t>>1,t+=r(t/e);t>455;i+=36)t=r(t/35);return r(i+36*t/(t+38))},c=function(t){var A=[];t=function(t){for(var e=[],A=0,i=t.length;A<i;){var n=t.charCodeAt(A++);if(n>=55296&&n<=56319&&A<i){var r=t.charCodeAt(A++);56320==(64512&r)?e.push(((1023&n)<<10)+(1023&r)+65536):(e.push(n),A--)}else e.push(n)}return e}(t);var i,c,l=t.length,u=128,h=0,g=72;for(i=0;i<t.length;i++)(c=t[i])<128&&A.push(o(c));var f=A.length,d=f;for(f&&A.push("-");d<l;){var p=e;for(i=0;i<t.length;i++)(c=t[i])>=u&&c<p&&(p=c);var v=d+1;if(p-u>r((e-h)/v))throw RangeError(n);for(h+=(p-u)*v,u=p,i=0;i<t.length;i++){if((c=t[i])<u&&++h>e)throw RangeError(n);if(c==u){for(var m=h,B=36;;B+=36){var y=B<=g?1:B>=g+26?26:B-g;if(m<y)break;var C=m-y,w=36-y;A.push(o(s(y+C%w))),m=r(C/w)}A.push(o(s(m))),g=a(h,v,d==f),h=0,++d}}++h,++u}return A.join("")};t.exports=function(t){var e,n,r=[],o=t.toLowerCase().replace(i,".").split(".");for(e=0;e<o.length;e++)n=o[e],r.push(A.test(n)?"xn--"+c(n):n);return r.join(".")}},6815:function(t,e,A){var i=A(2282).PROPER,n=A(6192),r=A(1450);t.exports=function(t){return n(function(){return!!r[t]()||""!==""[t]()||i&&r[t].name!==t})}},4277:function(t,e,A){var i=A(3209),n=A(4845),r="["+A(1450)+"]",o=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),a=function(t){return function(e){var A=n(i(e));return 1&t&&(A=A.replace(o,"")),2&t&&(A=A.replace(s,"")),A}};t.exports={start:a(1),end:a(2),trim:a(3)}},7160:function(t,e,A){var i,n,r,o,s=A(8576),a=A(6447),c=A(6192),l=A(8043),u=A(7403),h=A(7449),g=A(9536),f=A(224),d=s.setImmediate,p=s.clearImmediate,v=s.process,m=s.MessageChannel,B=s.Dispatch,y=0,C={},w="onreadystatechange";try{i=s.location}catch(S){}var b=function(t){if(C.hasOwnProperty(t)){var e=C[t];delete C[t],e()}},I=function(t){return function(){b(t)}},x=function(t){b(t.data)},M=function(t){s.postMessage(String(t),i.protocol+"//"+i.host)};d&&p||(d=function(t){for(var e=[],A=arguments.length,i=1;A>i;)e.push(arguments[i++]);return C[++y]=function(){(a(t)?t:Function(t)).apply(void 0,e)},n(y),y},p=function(t){delete C[t]},f?n=function(t){v.nextTick(I(t))}:B&&B.now?n=function(t){B.now(I(t))}:m&&!g?(o=(r=new m).port2,r.port1.onmessage=x,n=l(o.postMessage,o,1)):s.addEventListener&&a(s.postMessage)&&!s.importScripts&&i&&"file:"!==i.protocol&&!c(M)?(n=M,s.addEventListener("message",x,!1)):n=w in h("script")?function(t){u.appendChild(h("script"))[w]=function(){u.removeChild(this),b(t)}}:function(t){setTimeout(I(t),0)}),t.exports={set:d,clear:p}},7739:function(t,e,A){var i=A(1941),n=Math.max,r=Math.min;t.exports=function(t,e){var A=i(t);return A<0?n(A+e,0):r(A,e)}},101:function(t,e,A){var i=A(2202),n=A(3209);t.exports=function(t){return i(n(t))}},1941:function(t){var e=Math.ceil,A=Math.floor;t.exports=function(t){var i=+t;return i!=i||0===i?0:(i>0?A:e)(i)}},8445:function(t,e,A){var i=A(1941),n=Math.min;t.exports=function(t){return t>0?n(i(t),9007199254740991):0}},1795:function(t,e,A){var i=A(3209);t.exports=function(t){return Object(i(t))}},7888:function(t,e,A){var i=A(5744),n=A(3236),r=A(5037),o=A(380),s=A(8182)("toPrimitive");t.exports=function(t,e){if(!i(t)||n(t))return t;var A,a=r(t,s);if(a){if(void 0===e&&(e="default"),A=a.call(t,e),!i(A)||n(A))return A;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),o(t,e)}},77:function(t,e,A){var i=A(7888),n=A(3236);t.exports=function(t){var e=i(t,"string");return n(e)?e:String(e)}},3471:function(t,e,A){var i={};i[A(8182)("toStringTag")]="z",t.exports="[object z]"===String(i)},4845:function(t,e,A){var i=A(4696);t.exports=function(t){if("Symbol"===i(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)}},9288:function(t){t.exports=function(t){try{return String(t)}catch(e){return"Object"}}},2759:function(t){var e=0,A=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++e+A).toString(36)}},615:function(t,e,A){var i=A(3045);t.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9207:function(t,e,A){var i=A(8182);e.f=i},8182:function(t,e,A){var i=A(8576),n=A(8717),r=A(4500),o=A(2759),s=A(3045),a=A(615),c=n("wks"),l=i.Symbol,u=a?l:l&&l.withoutSetter||o;t.exports=function(t){return r(c,t)&&(s||"string"==typeof c[t])||(s&&r(l,t)?c[t]=l[t]:c[t]=u("Symbol."+t)),c[t]}},1450:function(t){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},4242:function(t,e,A){var i=A(3085),n=A(9341),r=A(4469),o=A(2853),s=A(8711),a=A(774),c=A(273),l=A(3442),u=A(4845),h=function(t,e){var A=this,i=arguments.length>2?arguments[2]:void 0;if(!(A instanceof h))return new h(t,e,i);r&&(A=r(new Error(void 0),n(A))),void 0!==e&&s(A,"message",u(e)),c(A,i);var o=[];return l(t,o.push,{that:o}),s(A,"errors",o),A};h.prototype=o(Error.prototype,{constructor:a(5,h),message:a(5,""),name:a(5,"AggregateError")}),i({global:!0},{AggregateError:h})},9106:function(t,e,A){var i=A(3085),n=A(6192),r=A(4770),o=A(5744),s=A(1795),a=A(4104),c=A(9361),l=A(1321),u=A(242),h=A(8182),g=A(4218),f=h("isConcatSpreadable"),d=9007199254740991,p="Maximum allowed index exceeded",v=g>=51||!n(function(){var t=[];return t[f]=!1,t.concat()[0]!==t}),m=u("concat"),B=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:r(t)};i({target:"Array",proto:!0,forced:!v||!m},{concat:function(t){var e,A,i,n,r,o=s(this),u=l(o,0),h=0;for(e=-1,i=arguments.length;e<i;e++)if(B(r=-1===e?o:arguments[e])){if(h+(n=a(r))>d)throw TypeError(p);for(A=0;A<n;A++,h++)A in r&&c(u,h,r[A])}else{if(h>=d)throw TypeError(p);c(u,h++,r)}return u.length=h,u}})},1710:function(t,e,A){var i=A(3085),n=A(2724),r=A(7423);i({target:"Array",proto:!0},{fill:n}),r("fill")},3436:function(t,e,A){var i=A(3085),n=A(454).filter;i({target:"Array",proto:!0,forced:!A(242)("filter")},{filter:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},9823:function(t,e,A){var i=A(3085),n=A(7397);i({target:"Array",proto:!0,forced:[].forEach!=n},{forEach:n})},9173:function(t,e,A){var i=A(3085),n=A(841);i({target:"Array",stat:!0,forced:!A(9770)(function(t){Array.from(t)})},{from:n})},2276:function(t,e,A){var i=A(3085),n=A(8180).indexOf,r=A(424),o=[].indexOf,s=!!o&&1/[1].indexOf(1,-0)<0,a=r("indexOf");i({target:"Array",proto:!0,forced:s||!a},{indexOf:function(t){return s?o.apply(this,arguments)||0:n(this,t,arguments.length>1?arguments[1]:void 0)}})},8118:function(t,e,A){A(3085)({target:"Array",stat:!0},{isArray:A(4770)})},8939:function(t,e,A){var i=A(101),n=A(7423),r=A(7771),o=A(3326),s=A(7218),a="Array Iterator",c=o.set,l=o.getterFor(a);t.exports=s(Array,"Array",function(t,e){c(this,{type:a,target:i(t),index:0,kind:e})},function(){var t=l(this),e=t.target,A=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==A?{value:i,done:!1}:"values"==A?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}},"values"),r.Arguments=r.Array,n("keys"),n("values"),n("entries")},3838:function(t,e,A){var i=A(3085),n=A(454).map;i({target:"Array",proto:!0,forced:!A(242)("map")},{map:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}})},5818:function(t,e,A){var i=A(3085),n=A(4770),r=A(2091),o=A(5744),s=A(7739),a=A(4104),c=A(101),l=A(9361),u=A(8182),h=A(242)("slice"),g=u("species"),f=[].slice,d=Math.max;i({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var A,i,u,h=c(this),p=a(h),v=s(t,p),m=s(void 0===e?p:e,p);if(n(h)&&(A=h.constructor,(r(A)&&(A===Array||n(A.prototype))||o(A)&&null===(A=A[g]))&&(A=void 0),A===Array||void 0===A))return f.call(h,v,m);for(i=new(void 0===A?Array:A)(d(m-v,0)),u=0;v<m;v++,u++)v in h&&l(i,u,h[v]);return i.length=u,i}})},2178:function(t,e,A){var i=A(3085),n=A(7739),r=A(1941),o=A(4104),s=A(1795),a=A(1321),c=A(9361),l=A(242)("splice"),u=Math.max,h=Math.min;i({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var A,i,l,g,f,d,p=s(this),v=o(p),m=n(t,v),B=arguments.length;if(0===B?A=i=0:1===B?(A=0,i=v-m):(A=B-2,i=h(u(r(e),0),v-m)),v+A-i>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=a(p,i),g=0;g<i;g++)(f=m+g)in p&&c(l,g,p[f]);if(l.length=i,A<i){for(g=m;g<v-i;g++)d=g+A,(f=g+i)in p?p[d]=p[f]:delete p[d];for(g=v;g>v-i+A;g--)delete p[g-1]}else if(A>i)for(g=v-i;g>m;g--)d=g+A-1,(f=g+i-1)in p?p[d]=p[f]:delete p[d];for(g=0;g<A;g++)p[g+m]=arguments[g+2];return p.length=v-i+A,l}})},665:function(t,e,A){A(3085)({target:"Function",proto:!0},{bind:A(6782)})},8671:function(t,e,A){var i=A(8576);A(1284)(i.JSON,"JSON",!0)},8556:function(){},2666:function(t,e,A){var i=A(3085),n=A(2558);i({target:"Number",stat:!0,forced:Number.parseInt!=n},{parseInt:n})},3113:function(t,e,A){A(3085)({target:"Object",stat:!0,sham:!A(69)},{create:A(2853)})},297:function(t,e,A){var i=A(3085),n=A(69);i({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperty:A(2760).f})},9234:function(t,e,A){var i=A(3085),n=A(6192),r=A(1795),o=A(9341),s=A(4635);i({target:"Object",stat:!0,forced:n(function(){o(1)}),sham:!s},{getPrototypeOf:function(t){return o(r(t))}})},2647:function(t,e,A){var i=A(3085),n=A(1795),r=A(7653);i({target:"Object",stat:!0,forced:A(6192)(function(){r(1)})},{keys:function(t){return r(n(t))}})},3222:function(t,e,A){A(3085)({target:"Object",stat:!0},{setPrototypeOf:A(4469)})},6663:function(){},4859:function(t,e,A){var i=A(3085),n=A(15);i({global:!0,forced:parseFloat!=n},{parseFloat:n})},5706:function(t,e,A){var i=A(3085),n=A(2558);i({global:!0,forced:parseInt!=n},{parseInt:n})},7884:function(t,e,A){var i=A(3085),n=A(6235),r=A(9438),o=A(892),s=A(3442);i({target:"Promise",stat:!0},{allSettled:function(t){var e=this,A=r.f(e),i=A.resolve,a=A.reject,c=o(function(){var A=n(e.resolve),r=[],o=0,a=1;s(t,function(t){var n=o++,s=!1;r.push(void 0),a++,A.call(e,t).then(function(t){s||(s=!0,r[n]={status:"fulfilled",value:t},--a||i(r))},function(t){s||(s=!0,r[n]={status:"rejected",reason:t},--a||i(r))})}),--a||i(r)});return c.error&&a(c.value),A.promise}})},8885:function(t,e,A){var i=A(3085),n=A(6235),r=A(150),o=A(9438),s=A(892),a=A(3442),c="No one promise resolved";i({target:"Promise",stat:!0},{any:function(t){var e=this,A=o.f(e),i=A.resolve,l=A.reject,u=s(function(){var A=n(e.resolve),o=[],s=0,u=1,h=!1;a(t,function(t){var n=s++,a=!1;o.push(void 0),u++,A.call(e,t).then(function(t){a||h||(h=!0,i(t))},function(t){a||h||(a=!0,o[n]=t,--u||l(new(r("AggregateError"))(o,c)))})}),--u||l(new(r("AggregateError"))(o,c))});return u.error&&l(u.value),A.promise}})},1868:function(t,e,A){var i=A(3085),n=A(5546),r=A(4471),o=A(6192),s=A(150),a=A(6447),c=A(4743),l=A(9126),u=A(9482);if(i({target:"Promise",proto:!0,real:!0,forced:!!r&&o(function(){r.prototype.finally.call({then:function(){}},function(){})})},{finally:function(t){var e=c(this,s("Promise")),A=a(t);return this.then(A?function(A){return l(e,t()).then(function(){return A})}:t,A?function(A){return l(e,t()).then(function(){throw A})}:t)}}),!n&&a(r)){var h=s("Promise").prototype.finally;r.prototype.finally!==h&&u(r.prototype,"finally",h,{unsafe:!0})}},9021:function(t,e,A){var i,n,r,o,s=A(3085),a=A(5546),c=A(8576),l=A(150),u=A(4471),h=A(9482),g=A(533),f=A(4469),d=A(1284),p=A(3656),v=A(6235),m=A(6447),B=A(5744),y=A(6961),C=A(9516),w=A(3442),b=A(9770),I=A(4743),x=A(7160).set,M=A(2950),S=A(9126),_=A(3681),Q=A(9438),F=A(892),E=A(3326),U=A(9245),D=A(8182),T=A(2957),k=A(224),O=A(4218),L=D("species"),H="Promise",j=E.get,P=E.set,N=E.getterFor(H),R=u&&u.prototype,z=u,G=R,K=c.TypeError,Y=c.document,W=c.process,X=Q.f,V=X,Z=!!(Y&&Y.createEvent&&c.dispatchEvent),J=m(c.PromiseRejectionEvent),q="unhandledrejection",$=!1,tt=U(H,function(){var t=C(z),e=t!==String(z);if(!e&&66===O)return!0;if(a&&!G.finally)return!0;if(O>=51&&/native code/.test(t))return!1;var A=new z(function(t){t(1)}),i=function(t){t(function(){},function(){})};return(A.constructor={})[L]=i,!($=A.then(function(){})instanceof i)||!e&&T&&!J}),et=tt||!b(function(t){z.all(t).catch(function(){})}),At=function(t){var e;return!(!B(t)||!m(e=t.then))&&e},it=function(t,e){if(!t.notified){t.notified=!0;var A=t.reactions;M(function(){for(var i=t.value,n=1==t.state,r=0;A.length>r;){var o,s,a,c=A[r++],l=n?c.ok:c.fail,u=c.resolve,h=c.reject,g=c.domain;try{l?(n||(2===t.rejection&&st(t),t.rejection=1),!0===l?o=i:(g&&g.enter(),o=l(i),g&&(g.exit(),a=!0)),o===c.promise?h(K("Promise-chain cycle")):(s=At(o))?s.call(o,u,h):u(o)):h(i)}catch(f){g&&!a&&g.exit(),h(f)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&rt(t)})}},nt=function(t,e,A){var i,n;Z?((i=Y.createEvent("Event")).promise=e,i.reason=A,i.initEvent(t,!1,!0),c.dispatchEvent(i)):i={promise:e,reason:A},!J&&(n=c["on"+t])?n(i):t===q&&_("Unhandled promise rejection",A)},rt=function(t){x.call(c,function(){var e,A=t.facade,i=t.value;if(ot(t)&&(e=F(function(){k?W.emit("unhandledRejection",i,A):nt(q,A,i)}),t.rejection=k||ot(t)?2:1,e.error))throw e.value})},ot=function(t){return 1!==t.rejection&&!t.parent},st=function(t){x.call(c,function(){var e=t.facade;k?W.emit("rejectionHandled",e):nt("rejectionhandled",e,t.value)})},at=function(t,e,A){return function(i){t(e,i,A)}},ct=function(t,e,A){t.done||(t.done=!0,A&&(t=A),t.value=e,t.state=2,it(t,!0))},lt=function(t,e,A){if(!t.done){t.done=!0,A&&(t=A);try{if(t.facade===e)throw K("Promise can't be resolved itself");var i=At(e);i?M(function(){var A={done:!1};try{i.call(e,at(lt,A,t),at(ct,A,t))}catch(n){ct(A,n,t)}}):(t.value=e,t.state=1,it(t,!1))}catch(n){ct({done:!1},n,t)}}};if(tt&&(G=(z=function(t){y(this,z,H),v(t),i.call(this);var e=j(this);try{t(at(lt,e),at(ct,e))}catch(A){ct(e,A)}}).prototype,(i=function(t){P(this,{type:H,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=g(G,{then:function(t,e){var A=N(this),i=X(I(this,z));return i.ok=!m(t)||t,i.fail=m(e)&&e,i.domain=k?W.domain:void 0,A.parent=!0,A.reactions.push(i),0!=A.state&&it(A,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),n=function(){var t=new i,e=j(t);this.promise=t,this.resolve=at(lt,e),this.reject=at(ct,e)},Q.f=X=function(t){return t===z||t===r?new n(t):V(t)},!a&&m(u)&&R!==Object.prototype)){o=R.then,$||(h(R,"then",function(t,e){var A=this;return new z(function(t,e){o.call(A,t,e)}).then(t,e)},{unsafe:!0}),h(R,"catch",G.catch,{unsafe:!0}));try{delete R.constructor}catch(ut){}f&&f(R,G)}s({global:!0,wrap:!0,forced:tt},{Promise:z}),d(z,H,!1,!0),p(H),r=l(H),s({target:H,stat:!0,forced:tt},{reject:function(t){var e=X(this);return e.reject.call(void 0,t),e.promise}}),s({target:H,stat:!0,forced:a||tt},{resolve:function(t){return S(a&&this===r?z:this,t)}}),s({target:H,stat:!0,forced:et},{all:function(t){var e=this,A=X(e),i=A.resolve,n=A.reject,r=F(function(){var A=v(e.resolve),r=[],o=0,s=1;w(t,function(t){var a=o++,c=!1;r.push(void 0),s++,A.call(e,t).then(function(t){c||(c=!0,r[a]=t,--s||i(r))},n)}),--s||i(r)});return r.error&&n(r.value),A.promise},race:function(t){var e=this,A=X(e),i=A.reject,n=F(function(){var n=v(e.resolve);w(t,function(t){n.call(e,t).then(A.resolve,i)})});return n.error&&i(n.value),A.promise}})},5397:function(t,e,A){var i=A(3085),n=A(150),r=A(1404),o=A(1138),s=A(5744),a=A(2853),c=A(6782),l=A(6192),u=n("Reflect","construct"),h=l(function(){function t(){}return!(u(function(){},[],t)instanceof t)}),g=!l(function(){u(function(){})}),f=h||g;i({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(t,e){r(t),o(e);var A=arguments.length<3?t:r(arguments[2]);if(g&&!h)return u(t,e,A);if(t==A){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var i=[null];return i.push.apply(i,e),new(c.apply(t,i))}var n=A.prototype,l=a(s(n)?n:Object.prototype),f=Function.apply.call(t,l,e);return s(f)?f:l}})},1367:function(){},5454:function(t,e,A){var i=A(863).charAt,n=A(4845),r=A(3326),o=A(7218),s="String Iterator",a=r.set,c=r.getterFor(s);o(String,"String",function(t){a(this,{type:s,string:n(t),index:0})},function(){var t,e=c(this),A=e.string,n=e.index;return n>=A.length?{value:void 0,done:!0}:(t=i(A,n),e.index+=t.length,{value:t,done:!1})})},957:function(t,e,A){var i=A(3085),n=A(4277).trim;i({target:"String",proto:!0,forced:A(6815)("trim")},{trim:function(){return n(this)}})},9781:function(t,e,A){A(1488)("asyncIterator")},492:function(){},6681:function(t,e,A){A(1488)("hasInstance")},9594:function(t,e,A){A(1488)("isConcatSpreadable")},3665:function(t,e,A){A(1488)("iterator")},6187:function(t,e,A){var i=A(3085),n=A(8576),r=A(150),o=A(5546),s=A(69),a=A(3045),c=A(6192),l=A(4500),u=A(4770),h=A(6447),g=A(5744),f=A(3236),d=A(1138),p=A(1795),v=A(101),m=A(77),B=A(4845),y=A(774),C=A(2853),w=A(7653),b=A(2092),I=A(4052),x=A(4750),M=A(5141),S=A(2760),_=A(6007),Q=A(9482),F=A(8717),E=A(9766),U=A(4535),D=A(2759),T=A(8182),k=A(9207),O=A(1488),L=A(1284),H=A(3326),j=A(454).forEach,P=E("hidden"),N="Symbol",R="prototype",z=T("toPrimitive"),G=H.set,K=H.getterFor(N),Y=Object[R],W=n.Symbol,X=r("JSON","stringify"),V=M.f,Z=S.f,J=I.f,q=_.f,$=F("symbols"),tt=F("op-symbols"),et=F("string-to-symbol-registry"),At=F("symbol-to-string-registry"),it=F("wks"),nt=n.QObject,rt=!nt||!nt[R]||!nt[R].findChild,ot=s&&c(function(){return 7!=C(Z({},"a",{get:function(){return Z(this,"a",{value:7}).a}})).a})?function(t,e,A){var i=V(Y,e);i&&delete Y[e],Z(t,e,A),i&&t!==Y&&Z(Y,e,i)}:Z,st=function(t,e){var A=$[t]=C(W[R]);return G(A,{type:N,tag:t,description:e}),s||(A.description=e),A},at=function(t,e,A){t===Y&&at(tt,e,A),d(t);var i=m(e);return d(A),l($,i)?(A.enumerable?(l(t,P)&&t[P][i]&&(t[P][i]=!1),A=C(A,{enumerable:y(0,!1)})):(l(t,P)||Z(t,P,y(1,{})),t[P][i]=!0),ot(t,i,A)):Z(t,i,A)},ct=function(t,e){d(t);var A=v(e),i=w(A).concat(gt(A));return j(i,function(e){s&&!lt.call(A,e)||at(t,e,A[e])}),t},lt=function(t){var e=m(t),A=q.call(this,e);return!(this===Y&&l($,e)&&!l(tt,e))&&(!(A||!l(this,e)||!l($,e)||l(this,P)&&this[P][e])||A)},ut=function(t,e){var A=v(t),i=m(e);if(A!==Y||!l($,i)||l(tt,i)){var n=V(A,i);return!n||!l($,i)||l(A,P)&&A[P][i]||(n.enumerable=!0),n}},ht=function(t){var e=J(v(t)),A=[];return j(e,function(t){l($,t)||l(U,t)||A.push(t)}),A},gt=function(t){var e=t===Y,A=J(e?tt:v(t)),i=[];return j(A,function(t){!l($,t)||e&&!l(Y,t)||i.push($[t])}),i};if(a||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?B(arguments[0]):void 0,e=D(t),A=function(t){this===Y&&A.call(tt,t),l(this,P)&&l(this[P],e)&&(this[P][e]=!1),ot(this,e,y(1,t))};return s&&rt&&ot(Y,e,{configurable:!0,set:A}),st(e,t)},Q(W[R],"toString",function(){return K(this).tag}),Q(W,"withoutSetter",function(t){return st(D(t),t)}),_.f=lt,S.f=at,M.f=ut,b.f=I.f=ht,x.f=gt,k.f=function(t){return st(T(t),t)},s&&(Z(W[R],"description",{configurable:!0,get:function(){return K(this).description}}),o||Q(Y,"propertyIsEnumerable",lt,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!a,sham:!a},{Symbol:W}),j(w(it),function(t){O(t)}),i({target:N,stat:!0,forced:!a},{for:function(t){var e=B(t);if(l(et,e))return et[e];var A=W(e);return et[e]=A,At[A]=e,A},keyFor:function(t){if(!f(t))throw TypeError(t+" is not a symbol");if(l(At,t))return At[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),i({target:"Object",stat:!0,forced:!a,sham:!s},{create:function(t,e){return void 0===e?C(t):ct(C(t),e)},defineProperty:at,defineProperties:ct,getOwnPropertyDescriptor:ut}),i({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:ht,getOwnPropertySymbols:gt}),i({target:"Object",stat:!0,forced:c(function(){x.f(1)})},{getOwnPropertySymbols:function(t){return x.f(p(t))}}),X&&i({target:"JSON",stat:!0,forced:!a||c(function(){var t=W();return"[null]"!=X([t])||"{}"!=X({a:t})||"{}"!=X(Object(t))})},{stringify:function(t,e,A){for(var i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);if(i=e,(g(e)||void 0!==t)&&!f(t))return u(e)||(e=function(t,e){if(h(i)&&(e=i.call(this,t,e)),!f(e))return e}),n[1]=e,X.apply(null,n)}}),!W[R][z]){var ft=W[R].valueOf;Q(W[R],z,function(){return ft.apply(this,arguments)})}L(W,N),U[P]=!0},1250:function(t,e,A){A(1488)("matchAll")},9017:function(t,e,A){A(1488)("match")},9786:function(t,e,A){A(1488)("replace")},503:function(t,e,A){A(1488)("search")},6565:function(t,e,A){A(1488)("species")},9322:function(t,e,A){A(1488)("split")},3610:function(t,e,A){A(1488)("toPrimitive")},6886:function(t,e,A){A(1488)("toStringTag")},3514:function(t,e,A){A(1488)("unscopables")},177:function(t,e,A){A(1488)("asyncDispose")},9031:function(t,e,A){A(1488)("dispose")},6658:function(t,e,A){A(1488)("matcher")},1875:function(t,e,A){A(1488)("metadata")},8658:function(t,e,A){A(1488)("observable")},4592:function(t,e,A){A(1488)("patternMatch")},6680:function(t,e,A){A(1488)("replaceAll")},162:function(t,e,A){A(8939);var i=A(7365),n=A(8576),r=A(4696),o=A(8711),s=A(7771),a=A(8182)("toStringTag");for(var c in i){var l=n[c],u=l&&l.prototype;u&&r(u)!==a&&o(u,a,c),s[c]=s.Array}},2906:function(t,e,A){var i=A(3085),n=A(8576),r=A(6447),o=A(8989),s=[].slice,a=function(t){return function(e,A){var i=arguments.length>2,n=i?s.call(arguments,2):void 0;return t(i?function(){(r(e)?e:Function(e)).apply(this,n)}:e,A)}};i({global:!0,bind:!0,forced:/MSIE .\./.test(o)},{setTimeout:a(n.setTimeout),setInterval:a(n.setInterval)})},9336:function(t,e,A){A(8939);var i=A(3085),n=A(150),r=A(4551),o=A(9482),s=A(533),a=A(1284),c=A(5148),l=A(3326),u=A(6961),h=A(6447),g=A(4500),f=A(8043),d=A(4696),p=A(1138),v=A(5744),m=A(4845),B=A(2853),y=A(774),C=A(1669),w=A(8703),b=A(8182),I=n("fetch"),x=n("Request"),M=x&&x.prototype,S=n("Headers"),_=b("iterator"),Q="URLSearchParams",F=Q+"Iterator",E=l.set,U=l.getterFor(Q),D=l.getterFor(F),T=/\+/g,k=Array(4),O=function(t){return k[t-1]||(k[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},L=function(t){try{return decodeURIComponent(t)}catch(e){return t}},H=function(t){var e=t.replace(T," "),A=4;try{return decodeURIComponent(e)}catch(i){for(;A;)e=e.replace(O(A--),L);return e}},j=/[!'()~]|%20/g,P={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},N=function(t){return P[t]},R=function(t){return encodeURIComponent(t).replace(j,N)},z=function(t,e){if(e)for(var A,i,n=e.split("&"),r=0;r<n.length;)(A=n[r++]).length&&(i=A.split("="),t.push({key:H(i.shift()),value:H(i.join("="))}))},G=function(t){this.entries.length=0,z(this.entries,t)},K=function(t,e){if(t<e)throw TypeError("Not enough arguments")},Y=c(function(t,e){E(this,{type:F,iterator:C(U(t).entries),kind:e})},"Iterator",function(){var t=D(this),e=t.kind,A=t.iterator.next(),i=A.value;return A.done||(A.value="keys"===e?i.key:"values"===e?i.value:[i.key,i.value]),A}),W=function(){u(this,W,Q);var t,e,A,i,n,r,o,s,a,c=arguments.length>0?arguments[0]:void 0,l=[];if(E(this,{type:Q,entries:l,updateURL:function(){},updateSearchParams:G}),void 0!==c)if(v(c))if(t=w(c))for(A=(e=C(c,t)).next;!(i=A.call(e)).done;){if((o=(r=(n=C(p(i.value))).next).call(n)).done||(s=r.call(n)).done||!r.call(n).done)throw TypeError("Expected sequence with length 2");l.push({key:m(o.value),value:m(s.value)})}else for(a in c)g(c,a)&&l.push({key:a,value:m(c[a])});else z(l,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:m(c))},X=W.prototype;if(s(X,{append:function(t,e){K(arguments.length,2);var A=U(this);A.entries.push({key:m(t),value:m(e)}),A.updateURL()},delete:function(t){K(arguments.length,1);for(var e=U(this),A=e.entries,i=m(t),n=0;n<A.length;)A[n].key===i?A.splice(n,1):n++;e.updateURL()},get:function(t){K(arguments.length,1);for(var e=U(this).entries,A=m(t),i=0;i<e.length;i++)if(e[i].key===A)return e[i].value;return null},getAll:function(t){K(arguments.length,1);for(var e=U(this).entries,A=m(t),i=[],n=0;n<e.length;n++)e[n].key===A&&i.push(e[n].value);return i},has:function(t){K(arguments.length,1);for(var e=U(this).entries,A=m(t),i=0;i<e.length;)if(e[i++].key===A)return!0;return!1},set:function(t,e){K(arguments.length,1);for(var A,i=U(this),n=i.entries,r=!1,o=m(t),s=m(e),a=0;a<n.length;a++)(A=n[a]).key===o&&(r?n.splice(a--,1):(r=!0,A.value=s));r||n.push({key:o,value:s}),i.updateURL()},sort:function(){var t,e,A,i=U(this),n=i.entries,r=n.slice();for(n.length=0,A=0;A<r.length;A++){for(t=r[A],e=0;e<A;e++)if(n[e].key>t.key){n.splice(e,0,t);break}e===A&&n.push(t)}i.updateURL()},forEach:function(t){for(var e,A=U(this).entries,i=f(t,arguments.length>1?arguments[1]:void 0,3),n=0;n<A.length;)i((e=A[n++]).value,e.key,this)},keys:function(){return new Y(this,"keys")},values:function(){return new Y(this,"values")},entries:function(){return new Y(this,"entries")}},{enumerable:!0}),o(X,_,X.entries,{name:"entries"}),o(X,"toString",function(){for(var t,e=U(this).entries,A=[],i=0;i<e.length;)t=e[i++],A.push(R(t.key)+"="+R(t.value));return A.join("&")},{enumerable:!0}),a(W,Q),i({global:!0,forced:!r},{URLSearchParams:W}),!r&&h(S)){var V=function(t){if(v(t)){var e,A=t.body;if(d(A)===Q)return(e=t.headers?new S(t.headers):new S).has("content-type")||e.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),B(t,{body:y(0,String(A)),headers:y(0,e)})}return t};if(h(I)&&i({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(t,arguments.length>1?V(arguments[1]):{})}}),h(x)){var Z=function(t){return u(this,Z,"Request"),new x(t,arguments.length>1?V(arguments[1]):{})};M.constructor=Z,Z.prototype=M,i({global:!0,forced:!0},{Request:Z})}}t.exports={URLSearchParams:W,getState:U}},4948:function(t,e,A){A(5454);var i,n=A(3085),r=A(69),o=A(4551),s=A(8576),a=A(1187),c=A(9482),l=A(6961),u=A(4500),h=A(2503),g=A(841),f=A(863).codeAt,d=A(7977),p=A(4845),v=A(1284),m=A(9336),B=A(3326),y=s.URL,C=m.URLSearchParams,w=m.getState,b=B.set,I=B.getterFor("URL"),x=Math.floor,M=Math.pow,S="Invalid scheme",_="Invalid host",Q="Invalid port",F=/[A-Za-z]/,E=/[\d+-.A-Za-z]/,U=/\d/,D=/^0x/i,T=/^[0-7]+$/,k=/^\d+$/,O=/^[\dA-Fa-f]+$/,L=/[\0\t\n\r #%/:<>?@[\\\]^|]/,H=/[\0\t\n\r #/:<>?@[\\\]^|]/,j=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,P=/[\t\n\r]/g,N=function(t,e){var A,i,n;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return _;if(!(A=z(e.slice(1,-1))))return _;t.host=A}else if(J(t)){if(e=d(e),L.test(e))return _;if(null===(A=R(e)))return _;t.host=A}else{if(H.test(e))return _;for(A="",i=g(e),n=0;n<i.length;n++)A+=V(i[n],K);t.host=A}},R=function(t){var e,A,i,n,r,o,s,a=t.split(".");if(a.length&&""==a[a.length-1]&&a.pop(),(e=a.length)>4)return t;for(A=[],i=0;i<e;i++){if(""==(n=a[i]))return t;if(r=10,n.length>1&&"0"==n.charAt(0)&&(r=D.test(n)?16:8,n=n.slice(8==r?1:2)),""===n)o=0;else{if(!(10==r?k:8==r?T:O).test(n))return t;o=parseInt(n,r)}A.push(o)}for(i=0;i<e;i++)if(o=A[i],i==e-1){if(o>=M(256,5-e))return null}else if(o>255)return null;for(s=A.pop(),i=0;i<A.length;i++)s+=A[i]*M(256,3-i);return s},z=function(t){var e,A,i,n,r,o,s,a=[0,0,0,0,0,0,0,0],c=0,l=null,u=0,h=function(){return t.charAt(u)};if(":"==h()){if(":"!=t.charAt(1))return;u+=2,l=++c}for(;h();){if(8==c)return;if(":"!=h()){for(e=A=0;A<4&&O.test(h());)e=16*e+parseInt(h(),16),u++,A++;if("."==h()){if(0==A)return;if(u-=A,c>6)return;for(i=0;h();){if(n=null,i>0){if(!("."==h()&&i<4))return;u++}if(!U.test(h()))return;for(;U.test(h());){if(r=parseInt(h(),10),null===n)n=r;else{if(0==n)return;n=10*n+r}if(n>255)return;u++}a[c]=256*a[c]+n,2!=++i&&4!=i||c++}if(4!=i)return;break}if(":"==h()){if(u++,!h())return}else if(h())return;a[c++]=e}else{if(null!==l)return;u++,l=++c}}if(null!==l)for(o=c-l,c=7;0!=c&&o>0;)s=a[c],a[c--]=a[l+o-1],a[l+--o]=s;else if(8!=c)return;return a},G=function(t){var e,A,i,n;if("number"==typeof t){for(e=[],A=0;A<4;A++)e.unshift(t%256),t=x(t/256);return e.join(".")}if("object"==typeof t){for(e="",i=function(t){for(var e=null,A=1,i=null,n=0,r=0;r<8;r++)0!==t[r]?(n>A&&(e=i,A=n),i=null,n=0):(null===i&&(i=r),++n);return n>A&&(e=i,A=n),e}(t),A=0;A<8;A++)n&&0===t[A]||(n&&(n=!1),i===A?(e+=A?":":"::",n=!0):(e+=t[A].toString(16),A<7&&(e+=":")));return"["+e+"]"}return t},K={},Y=h({},K,{" ":1,'"':1,"<":1,">":1,"`":1}),W=h({},Y,{"#":1,"?":1,"{":1,"}":1}),X=h({},W,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),V=function(t,e){var A=f(t,0);return A>32&&A<127&&!u(e,t)?t:encodeURIComponent(t)},Z={ftp:21,file:null,http:80,https:443,ws:80,wss:443},J=function(t){return u(Z,t.scheme)},q=function(t){return""!=t.username||""!=t.password},$=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},tt=function(t,e){var A;return 2==t.length&&F.test(t.charAt(0))&&(":"==(A=t.charAt(1))||!e&&"|"==A)},et=function(t){var e;return t.length>1&&tt(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},At=function(t){var e=t.path,A=e.length;!A||"file"==t.scheme&&1==A&&tt(e[0],!0)||e.pop()},it=function(t){return"."===t||"%2e"===t.toLowerCase()},nt=function(t){return".."===(t=t.toLowerCase())||"%2e."===t||".%2e"===t||"%2e%2e"===t},rt={},ot={},st={},at={},ct={},lt={},ut={},ht={},gt={},ft={},dt={},pt={},vt={},mt={},Bt={},yt={},Ct={},wt={},bt={},It={},xt={},Mt=function(t,e,A,n){var r,o,s,a,c=A||rt,l=0,h="",f=!1,d=!1,p=!1;for(A||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(j,"")),e=e.replace(P,""),r=g(e);l<=r.length;){switch(o=r[l],c){case rt:if(!o||!F.test(o)){if(A)return S;c=st;continue}h+=o.toLowerCase(),c=ot;break;case ot:if(o&&(E.test(o)||"+"==o||"-"==o||"."==o))h+=o.toLowerCase();else{if(":"!=o){if(A)return S;h="",c=st,l=0;continue}if(A&&(J(t)!=u(Z,h)||"file"==h&&(q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,A)return void(J(t)&&Z[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?c=mt:J(t)&&n&&n.scheme==t.scheme?c=at:J(t)?c=ht:"/"==r[l+1]?(c=ct,l++):(t.cannotBeABaseURL=!0,t.path.push(""),c=bt)}break;case st:if(!n||n.cannotBeABaseURL&&"#"!=o)return S;if(n.cannotBeABaseURL&&"#"==o){t.scheme=n.scheme,t.path=n.path.slice(),t.query=n.query,t.fragment="",t.cannotBeABaseURL=!0,c=xt;break}c="file"==n.scheme?mt:lt;continue;case at:if("/"!=o||"/"!=r[l+1]){c=lt;continue}c=gt,l++;break;case ct:if("/"==o){c=ft;break}c=wt;continue;case lt:if(t.scheme=n.scheme,o==i)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query;else if("/"==o||"\\"==o&&J(t))c=ut;else if("?"==o)t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query="",c=It;else{if("#"!=o){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.path.pop(),c=wt;continue}t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,t.path=n.path.slice(),t.query=n.query,t.fragment="",c=xt}break;case ut:if(!J(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=n.username,t.password=n.password,t.host=n.host,t.port=n.port,c=wt;continue}c=ft}else c=gt;break;case ht:if(c=gt,"/"!=o||"/"!=h.charAt(l+1))continue;l++;break;case gt:if("/"!=o&&"\\"!=o){c=ft;continue}break;case ft:if("@"==o){f&&(h="%40"+h),f=!0,s=g(h);for(var v=0;v<s.length;v++){var m=s[v];if(":"!=m||p){var B=V(m,X);p?t.password+=B:t.username+=B}else p=!0}h=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&J(t)){if(f&&""==h)return"Invalid authority";l-=g(h).length+1,h="",c=dt}else h+=o;break;case dt:case pt:if(A&&"file"==t.scheme){c=yt;continue}if(":"!=o||d){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&J(t)){if(J(t)&&""==h)return _;if(A&&""==h&&(q(t)||null!==t.port))return;if(a=N(t,h))return a;if(h="",c=Ct,A)return;continue}"["==o?d=!0:"]"==o&&(d=!1),h+=o}else{if(""==h)return _;if(a=N(t,h))return a;if(h="",c=vt,A==pt)return}break;case vt:if(!U.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&J(t)||A){if(""!=h){var y=parseInt(h,10);if(y>65535)return Q;t.port=J(t)&&y===Z[t.scheme]?null:y,h=""}if(A)return;c=Ct;continue}return Q}h+=o;break;case mt:if(t.scheme="file","/"==o||"\\"==o)c=Bt;else{if(!n||"file"!=n.scheme){c=wt;continue}if(o==i)t.host=n.host,t.path=n.path.slice(),t.query=n.query;else if("?"==o)t.host=n.host,t.path=n.path.slice(),t.query="",c=It;else{if("#"!=o){et(r.slice(l).join(""))||(t.host=n.host,t.path=n.path.slice(),At(t)),c=wt;continue}t.host=n.host,t.path=n.path.slice(),t.query=n.query,t.fragment="",c=xt}}break;case Bt:if("/"==o||"\\"==o){c=yt;break}n&&"file"==n.scheme&&!et(r.slice(l).join(""))&&(tt(n.path[0],!0)?t.path.push(n.path[0]):t.host=n.host),c=wt;continue;case yt:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!A&&tt(h))c=wt;else if(""==h){if(t.host="",A)return;c=Ct}else{if(a=N(t,h))return a;if("localhost"==t.host&&(t.host=""),A)return;h="",c=Ct}continue}h+=o;break;case Ct:if(J(t)){if(c=wt,"/"!=o&&"\\"!=o)continue}else if(A||"?"!=o)if(A||"#"!=o){if(o!=i&&(c=wt,"/"!=o))continue}else t.fragment="",c=xt;else t.query="",c=It;break;case wt:if(o==i||"/"==o||"\\"==o&&J(t)||!A&&("?"==o||"#"==o)){if(nt(h)?(At(t),"/"==o||"\\"==o&&J(t)||t.path.push("")):it(h)?"/"==o||"\\"==o&&J(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&tt(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(o==i||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",c=It):"#"==o&&(t.fragment="",c=xt)}else h+=V(o,W);break;case bt:"?"==o?(t.query="",c=It):"#"==o?(t.fragment="",c=xt):o!=i&&(t.path[0]+=V(o,K));break;case It:A||"#"!=o?o!=i&&("'"==o&&J(t)?t.query+="%27":t.query+="#"==o?"%23":V(o,K)):(t.fragment="",c=xt);break;case xt:o!=i&&(t.fragment+=V(o,Y))}l++}},St=function(t){var e,A,i=l(this,St,"URL"),n=arguments.length>1?arguments[1]:void 0,o=p(t),s=b(i,{type:"URL"});if(void 0!==n)if(n instanceof St)e=I(n);else if(A=Mt(e={},p(n)))throw TypeError(A);if(A=Mt(s,o,null,e))throw TypeError(A);var a=s.searchParams=new C,c=w(a);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(a)||null},r||(i.href=Qt.call(i),i.origin=Ft.call(i),i.protocol=Et.call(i),i.username=Ut.call(i),i.password=Dt.call(i),i.host=Tt.call(i),i.hostname=kt.call(i),i.port=Ot.call(i),i.pathname=Lt.call(i),i.search=Ht.call(i),i.searchParams=jt.call(i),i.hash=Pt.call(i))},_t=St.prototype,Qt=function(){var t=I(this),e=t.scheme,A=t.username,i=t.password,n=t.host,r=t.port,o=t.path,s=t.query,a=t.fragment,c=e+":";return null!==n?(c+="//",q(t)&&(c+=A+(i?":"+i:"")+"@"),c+=G(n),null!==r&&(c+=":"+r)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==a&&(c+="#"+a),c},Ft=function(){var t=I(this),e=t.scheme,A=t.port;if("blob"==e)try{return new St(e.path[0]).origin}catch(i){return"null"}return"file"!=e&&J(t)?e+"://"+G(t.host)+(null!==A?":"+A:""):"null"},Et=function(){return I(this).scheme+":"},Ut=function(){return I(this).username},Dt=function(){return I(this).password},Tt=function(){var t=I(this),e=t.host,A=t.port;return null===e?"":null===A?G(e):G(e)+":"+A},kt=function(){var t=I(this).host;return null===t?"":G(t)},Ot=function(){var t=I(this).port;return null===t?"":String(t)},Lt=function(){var t=I(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ht=function(){var t=I(this).query;return t?"?"+t:""},jt=function(){return I(this).searchParams},Pt=function(){var t=I(this).fragment;return t?"#"+t:""},Nt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(r&&a(_t,{href:Nt(Qt,function(t){var e=I(this),A=p(t),i=Mt(e,A);if(i)throw TypeError(i);w(e.searchParams).updateSearchParams(e.query)}),origin:Nt(Ft),protocol:Nt(Et,function(t){var e=I(this);Mt(e,p(t)+":",rt)}),username:Nt(Ut,function(t){var e=I(this),A=g(p(t));if(!$(e)){e.username="";for(var i=0;i<A.length;i++)e.username+=V(A[i],X)}}),password:Nt(Dt,function(t){var e=I(this),A=g(p(t));if(!$(e)){e.password="";for(var i=0;i<A.length;i++)e.password+=V(A[i],X)}}),host:Nt(Tt,function(t){var e=I(this);e.cannotBeABaseURL||Mt(e,p(t),dt)}),hostname:Nt(kt,function(t){var e=I(this);e.cannotBeABaseURL||Mt(e,p(t),pt)}),port:Nt(Ot,function(t){var e=I(this);$(e)||(""==(t=p(t))?e.port=null:Mt(e,t,vt))}),pathname:Nt(Lt,function(t){var e=I(this);e.cannotBeABaseURL||(e.path=[],Mt(e,p(t),Ct))}),search:Nt(Ht,function(t){var e=I(this);""==(t=p(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Mt(e,t,It)),w(e.searchParams).updateSearchParams(e.query)}),searchParams:Nt(jt),hash:Nt(Pt,function(t){var e=I(this);""!=(t=p(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Mt(e,t,xt)):e.fragment=null})}),c(_t,"toJSON",function(){return Qt.call(this)},{enumerable:!0}),c(_t,"toString",function(){return Qt.call(this)},{enumerable:!0}),y){var Rt=y.createObjectURL,zt=y.revokeObjectURL;Rt&&c(St,"createObjectURL",function(t){return Rt.apply(y,arguments)}),zt&&c(St,"revokeObjectURL",function(t){return zt.apply(y,arguments)})}v(St,"URL"),n({global:!0,forced:!o,sham:!r},{URL:St})},9801:function(){},3822:function(t,e,A){var i=A(2221);t.exports=i},1434:function(t,e,A){var i=A(5078);t.exports=i},6899:function(t,e,A){var i=A(98);t.exports=i},7710:function(t,e,A){var i=A(5739);A(162),t.exports=i},4486:function(t,e,A){var i=A(278);t.exports=i},4877:function(t,e,A){var i=A(1484);t.exports=i},7178:function(t,e,A){var i=A(7731);t.exports=i},5603:function(t,e,A){var i=A(3669);t.exports=i},1206:function(t,e,A){A(162);var i=A(6899),n=A(4696),r=Array.prototype,o={DOMTokenList:!0,NodeList:!0};t.exports=function(t){var e=t.forEach;return t===r||t instanceof Array&&e===r.forEach||o.hasOwnProperty(n(t))?i:e}},6174:function(t,e,A){var i=A(2604);t.exports=i},57:function(t,e,A){var i=A(263);t.exports=i},4741:function(t,e,A){var i=A(7663);t.exports=i},8368:function(t,e,A){var i=A(5063);t.exports=i},3739:function(t,e,A){var i=A(6813);t.exports=i},172:function(t,e,A){var i=A(6285);t.exports=i},4963:function(t,e,A){var i=A(3213);t.exports=i},7820:function(t,e,A){var i=A(3512);t.exports=i},8980:function(t,e,A){var i=A(8168);t.exports=i},5636:function(t,e,A){var i=A(8651);t.exports=i},6672:function(t,e,A){var i=A(3083);t.exports=i},5059:function(t,e,A){var i=A(2987);t.exports=i},3969:function(t,e,A){var i=A(2239);t.exports=i},6618:function(t,e,A){var i=A(3154);A(162),t.exports=i},5279:function(t,e,A){var i=A(6577);t.exports=i},9562:function(t,e,A){A(2906);var i=A(7545);t.exports=i.setTimeout},2285:function(t,e,A){var i=A(5008);A(162),t.exports=i},8535:function(t,e,A){var i=A(994);A(162),t.exports=i},652:function(t,e,A){var i=A(5668);t.exports=i},5668:function(t,e,A){A(4948),A(9801),A(9336);var i=A(7545);t.exports=i.URL},2534:function(t){t.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyBkaXNwbGF5PSJub25lIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIj4KPGRlZnMgaWQ9InR1aS1pbWFnZS1lZGl0b3Itc3ZnLWRlZmF1bHQtaWNvbnMiPgo8c3ltYm9sIGlkPSJpYy1hcHBseSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNNCAxMi4wMTFsNSA1TDIwLjAxMSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1jYW5jZWwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTYgNmwxMiAxMk0xOCA2TDYgMTgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBkPSJNMCAwaDI0djI0SDB6IiBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIC8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik00IDBoMXYyMGExIDEgMCAwIDEtMS0xVjB6TTIwIDE3aC0xVjVoMXYxMnptMCAydjVoLTF2LTVoMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMTloMTl2MUg1ek00Ljc2MiA0djFIMFY0aDQuNzYyek03IDRoMTJhMSAxIDAgMCAxIDEgMUg3VjR6Ii8+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1yZXNpemUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIi8+CiAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNIDE4Ljk4ODI4MSAzLjAxMTcxOSBDIDE4LjgwMDc4MSAyLjgyNDIxOSAxOC41IDIuODI0MjE5IDE4LjMxMjUgMy4wMTE3MTkgTCAxMS42MjEwOTQgOS43MDcwMzEgQyAxMS40Mjk2ODggOS44OTQ1MzEgMTEuNDI5Njg4IDEwLjE5NTMxMiAxMS42MjEwOTQgMTAuMzc4OTA2IEMgMTEuNzEwOTM4IDEwLjQ3MjY1NiAxMS44MzU5MzggMTAuNTE5NTMxIDExLjk1NzAzMSAxMC41MTk1MzEgQyAxMi4wNzgxMjUgMTAuNTE5NTMxIDEyLjIwMzEyNSAxMC40NzI2NTYgMTIuMjkyOTY5IDEwLjM3ODkwNiBMIDE4Ljk4ODI4MSAzLjY4NzUgQyAxOS4xNzU3ODEgMy41IDE5LjE3NTc4MSAzLjE5OTIxOSAxOC45ODgyODEgMy4wMTE3MTkgWiBNIDE4Ljk4ODI4MSAzLjAxMTcxOSAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEMgMTguMzg2NzE5IDIuODY3MTg4IDE4LjE3MTg3NSAzLjA4MjAzMSAxOC4xNzE4NzUgMy4zNDc2NTYgTCAxOC4xNzE4NzUgOS4wODU5MzggQyAxOC4xNzE4NzUgOS4zNDc2NTYgMTguMzg2NzE5IDkuNTYyNSAxOC42NTIzNDQgOS41NjI1IEMgMTguOTE3OTY5IDkuNTYyNSAxOS4xMzI4MTIgOS4zNDc2NTYgMTkuMTMyODEyIDkuMDg1OTM4IEwgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTguNjUyMzQ0IDIuODY3MTg4IEwgMTIuOTE0MDYyIDIuODY3MTg4IEMgMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjQzNzUgMy4wODIwMzEgMTIuNDM3NSAzLjM0NzY1NiBDIDEyLjQzNzUgMy42MTMyODEgMTIuNjUyMzQ0IDMuODI4MTI1IDEyLjkxNDA2MiAzLjgyODEyNSBMIDE4LjY1MjM0NCAzLjgyODEyNSBDIDE4LjkxNzk2OSAzLjgyODEyNSAxOS4xMzI4MTIgMy42MTMyODEgMTkuMTMyODEyIDMuMzQ3NjU2IEMgMTkuMTMyODEyIDMuMDgyMDMxIDE4LjkxNzk2OSAyLjg2NzE4OCAxOC42NTIzNDQgMi44NjcxODggWiBNIDE4LjY1MjM0NCAyLjg2NzE4OCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMTAuMzc4OTA2IDExLjYyMTA5NCBDIDEwLjE5NTMxMiAxMS40MzM1OTQgOS44OTA2MjUgMTEuNDMzNTk0IDkuNzAzMTI1IDExLjYyMTA5NCBMIDMuMDA3ODEyIDE4LjMxNjQwNiBDIDIuODIwMzEyIDE4LjUgMi44MjAzMTIgMTguODA0Njg4IDMuMDA3ODEyIDE4Ljk5MjE4OCBDIDMuMTA1NDY5IDE5LjA4NTkzOCAzLjIyNjU2MiAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy40Njg3NSAxOS4xMzI4MTIgMy41ODk4NDQgMTkuMDg1OTM4IDMuNjgzNTk0IDE4Ljk5MjE4OCBMIDEwLjM3ODkwNiAxMi4yOTY4NzUgQyAxMC41NjY0MDYgMTIuMTA5Mzc1IDEwLjU2NjQwNiAxMS44MDQ2ODggMTAuMzc4OTA2IDExLjYyMTA5NCBaIE0gMTAuMzc4OTA2IDExLjYyMTA5NCAiLz4KICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0gMy4zNDc2NTYgMTIuNDM3NSBDIDMuMDgyMDMxIDEyLjQzNzUgMi44NjcxODggMTIuNjUyMzQ0IDIuODY3MTg4IDEyLjkxNDA2MiBMIDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEMgMy42MTMyODEgMTkuMTMyODEyIDMuODI4MTI1IDE4LjkxNzk2OSAzLjgyODEyNSAxOC42NTIzNDQgTCAzLjgyODEyNSAxMi45MTQwNjIgQyAzLjgyODEyNSAxMi42NTIzNDQgMy42MTMyODEgMTIuNDM3NSAzLjM0NzY1NiAxMi40Mzc1IFogTSAzLjM0NzY1NiAxMi40Mzc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSA5LjA4NTkzOCAxOC4xNzE4NzUgTCAzLjM0NzY1NiAxOC4xNzE4NzUgQyAzLjA4MjAzMSAxOC4xNzE4NzUgMi44NjcxODggMTguMzg2NzE5IDIuODY3MTg4IDE4LjY1MjM0NCBDIDIuODY3MTg4IDE4LjkxNzk2OSAzLjA4MjAzMSAxOS4xMzI4MTIgMy4zNDc2NTYgMTkuMTMyODEyIEwgOS4wODU5MzggMTkuMTMyODEyIEMgOS4zNDc2NTYgMTkuMTMyODEyIDkuNTYyNSAxOC45MTc5NjkgOS41NjI1IDE4LjY1MjM0NCBDIDkuNTYyNSAxOC4zODY3MTkgOS4zNDc2NTYgMTguMTcxODc1IDkuMDg1OTM4IDE4LjE3MTg3NSBaIE0gOS4wODU5MzggMTguMTcxODc1ICIvPgogIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTSAyMC41NjI1IDAgTCAxLjQzNzUgMCBDIDAuNjQ0NTMxIDAgMCAwLjY0NDUzMSAwIDEuNDM3NSBMIDAgMjAuNTYyNSBDIDAgMjEuMzU1NDY5IDAuNjQ0NTMxIDIyIDEuNDM3NSAyMiBMIDIwLjU2MjUgMjIgQyAyMS4zNTU0NjkgMjIgMjIgMjEuMzU1NDY5IDIyIDIwLjU2MjUgTCAyMiAxLjQzNzUgQyAyMiAwLjY0NDUzMSAyMS4zNTU0NjkgMCAyMC41NjI1IDAgWiBNIDIxLjA0Mjk2OSAyMC41NjI1IEMgMjEuMDQyOTY5IDIwLjgyODEyNSAyMC44MjgxMjUgMjEuMDQyOTY5IDIwLjU2MjUgMjEuMDQyOTY5IEwgMS40Mzc1IDIxLjA0Mjk2OSBDIDEuMTcxODc1IDIxLjA0Mjk2OSAwLjk1NzAzMSAyMC44MjgxMjUgMC45NTcwMzEgMjAuNTYyNSBMIDAuOTU3MDMxIDEuNDM3NSBDIDAuOTU3MDMxIDEuMTcxODc1IDEuMTcxODc1IDAuOTU3MDMxIDEuNDM3NSAwLjk1NzAzMSBMIDIwLjU2MjUgMC45NTcwMzEgQyAyMC44MjgxMjUgMC45NTcwMzEgMjEuMDQyOTY5IDEuMTcxODc1IDIxLjA0Mjk2OSAxLjQzNzUgWiBNIDIxLjA0Mjk2OSAyMC41NjI1ICIvPgo8L3N5bWJvbD4KPCEtLSAgLS0+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZS1hbGwiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik01IDIzSDNhMSAxIDAgMCAxLTEtMVY2aDF2MTZoMnYxem0xNi0xMGgtMVY2aDF2N3pNOSAxM0g4di0zaDF2M3ptMyAwaC0xdi0zaDF2M3ptMyAwaC0xdi0zaDF2M3pNMTQuNzk0IDMuNzk0TDEzIDJoLTNMOC4yMDYgMy43OTRBLjk2My45NjMgMCAwIDEgOCAyLjVsLjcwMy0xLjA1NUExIDEgMCAwIDEgOS41MzUgMWgzLjkzYTEgMSAwIDAgMSAuODMyLjQ0NUwxNSAyLjVhLjk2NS45NjUgMCAwIDEtLjIwNiAxLjI5NHpNMTQuMTk3IDRIOC44MDNoNS4zOTR6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDNoMjN2MUgwek0xMS4yODYgMjFIOC43MTRMOCAyM0g3bDEtMi44VjIwaC4wNzFMOS41IDE2aDFsMS40MjkgNEgxMnYuMmwxIDIuOGgtMWwtLjcxNC0yem0tLjM1Ny0xTDEwIDE3LjQgOS4wNzEgMjBoMS44NTh6TTIwIDIyaDN2MWgtNHYtN2gxdjZ6bS01IDBoM3YxaC00di03aDF2NnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRlbGV0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTMgNnYxNmgxN1Y2aDF2MTZhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNmgxek0xNC43OTQgMy43OTRMMTMgMmgtM0w4LjIwNiAzLjc5NEEuOTYzLjk2MyAwIDAgMSA4IDIuNWwuNzAzLTEuMDU1QTEgMSAwIDAgMSA5LjUzNSAxaDMuOTNhMSAxIDAgMCAxIC44MzIuNDQ1TDE1IDIuNWEuOTY1Ljk2NSAwIDAgMS0uMjA2IDEuMjk0ek0xNC4xOTcgNEg4LjgwM2g1LjM5NHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTAgM2gyM3YxSDB6TTggMTBoMXY2SDh2LTZ6bTMgMGgxdjZoLTF2LTZ6bTMgMGgxdjZoLTF2LTZ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1kcmF3LWZyZWUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMjAuOTI5QzIuNTk0IDEwLjk3NiA0LjMyMyA2IDcuNjg2IDZjNS44NzIgMCAyLjUyNCAxOSA3LjY5NyAxOXMxLjg5LTE0LjkyOSA2LjQxNC0xNC45MjkgMS4zNTcgMTAuODU4IDUuMTMgMTAuODU4YzEuODAyIDAgMi42NTctMi4yNjIgMi41NjYtNi43ODYiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWRyYXctbGluZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIgMTUuNWgyOCIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZHJhdyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIuNSAyMS41SDVjLjI0NSAwIC40OC0uMDU4LjY5MS0uMTY4bC4xMjQtLjA2NS4xNC4wMWMuNDI5LjAyOC44NS0uMTI3IDEuMTYtLjQzN0wyMi41NSA1LjQwNWEuNS41IDAgMCAwIDAtLjcwN2wtMy4yNDYtMy4yNDVhLjUuNSAwIDAgMC0uNzA3IDBMMy4xNjIgMTYuODg4YTEuNDk1IDEuNDk1IDAgMCAwLS40MzcgMS4xNTVsLjAxLjE0LS4wNjUuMTIzYy0uMTExLjIxMi0uMTcuNDQ4LS4xNy42OTR2Mi41eiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTYuNDE0IDMuNzA3bDMuODkgMy44OS0uNzA4LjcwNi0zLjg4OS0zLjg4OXoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWZpbHRlciIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTEyIDd2MUgyVjdoMTB6bTYgMGg0djFoLTRWN3pNMTIgMTZ2MWgxMHYtMUgxMnptLTYgMEgydjFoNHYtMXoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTguNSAyMGEzLjUgMy41IDAgMSAxIDAtNyAzLjUgMy41IDAgMCAxIDAgN3ptMC0xYTIuNSAyLjUgMCAxIDAgMC01IDIuNSAyLjUgMCAwIDAgMCA1ek0xNS41IDExYTMuNSAzLjUgMCAxIDEgMC03IDMuNSAzLjUgMCAwIDEgMCA3em0wLTFhMi41IDIuNSAwIDEgMCAwLTUgMi41IDIuNSAwIDAgMCAwIDV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXJlc2V0IiB2aWV3Qm94PSIwIDAgMzEgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMzEgMEgwdjMyaDMxeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjggMTZhOCA4IDAgMCAxLTggOEgzdi0xaDF2LTdIM2E4IDggMCAwIDEgOC04aDE3djFoLTF2N2gxek0xMSA5YTcgNyAwIDAgMC03IDd2N2gxNmE3IDcgMCAwIDAgNy03VjlIMTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0yNCA1bDMuNSAzLjVMMjQgMTJNNyAyMGwtMy41IDMuNUw3IDI3Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwLXgiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGQ9Ik0zMiAzMkgwVjBoMzJ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNyAzMmgtMVYwaDF6TTI3LjE2NyAxMWwuNSAzaC0xLjAzbC0uNTQ2LTNoMS4wNzZ6bS0uNS0zaC0xLjEyMkwyNSA1aC01VjRoNS4xNTNhMSAxIDAgMCAxIC45ODYuODM2TDI2LjY2NyA4em0xLjUgOWwuNSAzaC0uOTRsLS41NDUtM2guOTg1em0xIDZsLjYzOSAzLjgzNkExIDEgMCAwIDEgMjguODE5IDI4SDI2di0xaDNsLS43MjYtNGguODk0ek0yMyAyOGgtM3YtMWgzdjF6TTEzIDR2MUg3TDMgMjdoMTB2MUgzLjE4YTEgMSAwIDAgMS0uOTg2LTEuMTY0bDMuNjY2LTIyQTEgMSAwIDAgMSA2Ljg0NyA0SDEzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtZmxpcC15IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwdjMyaDMyVjB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0wIDE2djFoMzJ2LTF6TTExIDI3LjE2N2wzIC41di0xLjAzbC0zLS41NDZ2MS4wNzZ6bS0zLS41di0xLjEyMkw1IDI1di01SDR2NS4xNTNhMSAxIDAgMCAwIC44MzYuOTg2TDggMjYuNjY3em05IDEuNWwzIC41di0uOTRsLTMtLjU0NXYuOTg1em02IDFsMy44MzYuNjM5QTEgMSAwIDAgMCAyOCAyOC44MlYyNmgtMXYzbC00LS43Mjd2Ljg5NHpNMjggMjN2LTNoLTF2M2gxek00IDEzaDFWN2wyMi00djEwaDFWMy4xOGExIDEgMCAwIDAtMS4xNjQtLjk4NmwtMjIgMy42NjdBMSAxIDAgMCAwIDQgNi44NDdWMTN6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgc3Ryb2tlPSJub25lIiBkPSJNMTEgMGgxdjI0aC0xek0xOSAyMXYtMWgydi0yaDF2MmExIDEgMCAwIDEtMSAxaC0yem0tMiAwaC0zdi0xaDN2MXptNS01aC0xdi0zaDF2M3ptMC01aC0xVjhoMXYzem0wLTVoLTFWNGgtMlYzaDJhMSAxIDAgMCAxIDEgMXYyem0tNS0zdjFoLTNWM2gzek05IDN2MUgydjE2aDd2MUgyYTEgMSAwIDAgMS0xLTFWNGExIDEgMCAwIDEgMS0xaDd6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBkPSJNMCAwSDI0VjI0SDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtNzQwIC0xNikgdHJhbnNsYXRlKDU0NyA4KSB0cmFuc2xhdGUoMTkzIDgpIi8+CiAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBzdHJva2U9Im5vbmUiIGQ9Ik0xMi41IDFDMTguMjk5IDEgMjMgNS43MDEgMjMgMTEuNVMxOC4yOTkgMjIgMTIuNSAyMmMtNS4yOSAwLTkuNjY1LTMuOTExLTEwLjM5NC04Ljk5OWgxLjAxMkMzLjgzOCAxNy41MzQgNy43NjQgMjEgMTIuNSAyMWM1LjI0NyAwIDkuNS00LjI1MyA5LjUtOS41UzE3Ljc0NyAyIDEyLjUgMkM4LjQ5IDIgNS4wNiA0LjQ4NSAzLjY2NiA4SDNoNHYxSDJWNGgxdjMuMDIyQzQuNjggMy40NjIgOC4zMDMgMSAxMi41IDF6bS41IDVsLS4wMDEgNS4yOTEgMi41MzcgMi41MzctLjcwOC43MDhMMTIuMjkyIDEySDEyVjZoMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC03NDAgLTE2KSB0cmFuc2xhdGUoNTQ3IDgpIHRyYW5zbGF0ZSgxOTMgOCkiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktY2hlY2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBzdHJva2U9IiM1NTU1NTUiIGQ9Ik00LjUgLTFMMS41IDIgNi41IDciIHRyYW5zZm9ybT0idHJhbnNsYXRlKC02MCAtODA0KSB0cmFuc2xhdGUoNjAgODA0KSB0cmFuc2xhdGUoMiAzKSByb3RhdGUoLTkwIDQgMykiIC8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWNyb3AiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDBoMXYxMGMtLjU1MiAwLTEtLjQ0OC0xLTFWMHpNMTAgOXYzSDlWOWgxek05IDJoMXY2SDlWMnoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC04NCAtODA0KSB0cmFuc2xhdGUoODQgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDlIMTJWMTBIMnpNOSAyYy41MTMgMCAuOTM2LjM4Ni45OTMuODgzTDEwIDNIM1YyaDZ6TTIgM0gwVjJoMnYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTg0IC04MDQpIHRyYW5zbGF0ZSg4NCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8IS0tIFRoaXMgaWNvbiBtYWRlIGJ5IFBpeGVsIHBlcmZlY3QgZnJvbSB3d3cuZmxhdGljb24uY29tIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJlc2l6ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjQ5MjE4OCAxLjUwNzgxMiBDIDkuMzk4NDM4IDEuNDE0MDYyIDkuMjUgMS40MTQwNjIgOS4xNTYyNSAxLjUwNzgxMiBMIDUuODEyNSA0Ljg1MTU2MiBDIDUuNzE0ODQ0IDQuOTQ1MzEyIDUuNzE0ODQ0IDUuMDk3NjU2IDUuODEyNSA1LjE4NzUgQyA1Ljg1NTQ2OSA1LjIzNDM3NSA1LjkxNzk2OSA1LjI1NzgxMiA1Ljk3NjU2MiA1LjI1NzgxMiBDIDYuMDM5MDYyIDUuMjU3ODEyIDYuMTAxNTYyIDUuMjM0Mzc1IDYuMTQ4NDM4IDUuMTg3NSBMIDkuNDkyMTg4IDEuODQzNzUgQyA5LjU4NTkzOCAxLjc1IDkuNTg1OTM4IDEuNjAxNTYyIDkuNDkyMTg4IDEuNTA3ODEyIFogTSA5LjQ5MjE4OCAxLjUwNzgxMiAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gOS4zMjgxMjUgMS40MzM1OTQgQyA5LjE5NTMxMiAxLjQzMzU5NCA5LjA4NTkzOCAxLjUzOTA2MiA5LjA4NTkzOCAxLjY3MTg3NSBMIDkuMDg1OTM4IDQuNTQyOTY5IEMgOS4wODU5MzggNC42NzE4NzUgOS4xOTUzMTIgNC43ODEyNSA5LjMyODEyNSA0Ljc4MTI1IEMgOS40NjA5MzggNC43ODEyNSA5LjU2NjQwNiA0LjY3MTg3NSA5LjU2NjQwNiA0LjU0Mjk2OSBMIDkuNTY2NDA2IDEuNjcxODc1IEMgOS41NjY0MDYgMS41MzkwNjIgOS40NjA5MzggMS40MzM1OTQgOS4zMjgxMjUgMS40MzM1OTQgWiBNIDkuMzI4MTI1IDEuNDMzNTk0ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSA5LjMyODEyNSAxLjQzMzU5NCBMIDYuNDU3MDMxIDEuNDMzNTk0IEMgNi4zMjgxMjUgMS40MzM1OTQgNi4yMTg3NSAxLjUzOTA2MiA2LjIxODc1IDEuNjcxODc1IEMgNi4yMTg3NSAxLjgwNDY4OCA2LjMyODEyNSAxLjkxNDA2MiA2LjQ1NzAzMSAxLjkxNDA2MiBMIDkuMzI4MTI1IDEuOTE0MDYyIEMgOS40NjA5MzggMS45MTQwNjIgOS41NjY0MDYgMS44MDQ2ODggOS41NjY0MDYgMS42NzE4NzUgQyA5LjU2NjQwNiAxLjUzOTA2MiA5LjQ2MDkzOCAxLjQzMzU5NCA5LjMyODEyNSAxLjQzMzU5NCBaIE0gOS4zMjgxMjUgMS40MzM1OTQgIi8+CiAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNIDUuMTg3NSA1LjgxMjUgQyA1LjA5NzY1NiA1LjcxODc1IDQuOTQ1MzEyIDUuNzE4NzUgNC44NTE1NjIgNS44MTI1IEwgMS41MDM5MDYgOS4xNTYyNSBDIDEuNDEwMTU2IDkuMjUgMS40MTAxNTYgOS40MDIzNDQgMS41MDM5MDYgOS40OTYwOTQgQyAxLjU1NDY4OCA5LjU0Mjk2OSAxLjYxMzI4MSA5LjU2NjQwNiAxLjY3MTg3NSA5LjU2NjQwNiBDIDEuNzM0Mzc1IDkuNTY2NDA2IDEuNzk2ODc1IDkuNTQyOTY5IDEuODQzNzUgOS40OTYwOTQgTCA1LjE4NzUgNi4xNDg0MzggQyA1LjI4MTI1IDYuMDU0Njg4IDUuMjgxMjUgNS45MDIzNDQgNS4xODc1IDUuODEyNSBaIE0gNS4xODc1IDUuODEyNSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gMS42NzE4NzUgNi4yMTg3NSBDIDEuNTM5MDYyIDYuMjE4NzUgMS40MzM1OTQgNi4zMjgxMjUgMS40MzM1OTQgNi40NTcwMzEgTCAxLjQzMzU5NCA5LjMyODEyNSBDIDEuNDMzNTk0IDkuNDYwOTM4IDEuNTM5MDYyIDkuNTY2NDA2IDEuNjcxODc1IDkuNTY2NDA2IEMgMS44MDQ2ODggOS41NjY0MDYgMS45MTQwNjIgOS40NjA5MzggMS45MTQwNjIgOS4zMjgxMjUgTCAxLjkxNDA2MiA2LjQ1NzAzMSBDIDEuOTE0MDYyIDYuMzI4MTI1IDEuODA0Njg4IDYuMjE4NzUgMS42NzE4NzUgNi4yMTg3NSBaIE0gMS42NzE4NzUgNi4yMTg3NSAiLz4KICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0gNC41NDI5NjkgOS4wODU5MzggTCAxLjY3MTg3NSA5LjA4NTkzOCBDIDEuNTM5MDYyIDkuMDg1OTM4IDEuNDMzNTk0IDkuMTk1MzEyIDEuNDMzNTk0IDkuMzI4MTI1IEMgMS40MzM1OTQgOS40NjA5MzggMS41MzkwNjIgOS41NjY0MDYgMS42NzE4NzUgOS41NjY0MDYgTCA0LjU0Mjk2OSA5LjU2NjQwNiBDIDQuNjcxODc1IDkuNTY2NDA2IDQuNzgxMjUgOS40NjA5MzggNC43ODEyNSA5LjMyODEyNSBDIDQuNzgxMjUgOS4xOTUzMTIgNC42NzE4NzUgOS4wODU5MzggNC41NDI5NjkgOS4wODU5MzggWiBNIDQuNTQyOTY5IDkuMDg1OTM4ICIvPgogICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTSAxMC4yODEyNSAwIEwgMC43MTg3NSAwIEMgMC4zMjAzMTIgMCAwIDAuMzIwMzEyIDAgMC43MTg3NSBMIDAgMTAuMjgxMjUgQyAwIDEwLjY3OTY4OCAwLjMyMDMxMiAxMSAwLjcxODc1IDExIEwgMTAuMjgxMjUgMTEgQyAxMC42Nzk2ODggMTEgMTEgMTAuNjc5Njg4IDExIDEwLjI4MTI1IEwgMTEgMC43MTg3NSBDIDExIDAuMzIwMzEyIDEwLjY3OTY4OCAwIDEwLjI4MTI1IDAgWiBNIDEwLjUyMzQzOCAxMC4yODEyNSBDIDEwLjUyMzQzOCAxMC40MTQwNjIgMTAuNDE0MDYyIDEwLjUyMzQzOCAxMC4yODEyNSAxMC41MjM0MzggTCAwLjcxODc1IDEwLjUyMzQzOCBDIDAuNTg1OTM4IDEwLjUyMzQzOCAwLjQ3NjU2MiAxMC40MTQwNjIgMC40NzY1NjIgMTAuMjgxMjUgTCAwLjQ3NjU2MiAwLjcxODc1IEMgMC40NzY1NjIgMC41ODU5MzggMC41ODU5MzggMC40NzY1NjIgMC43MTg3NSAwLjQ3NjU2MiBMIDEwLjI4MTI1IDAuNDc2NTYyIEMgMTAuNDE0MDYyIDAuNDc2NTYyIDEwLjUyMzQzOCAwLjU4NTkzOCAxMC41MjM0MzggMC43MTg3NSBaIE0gMTAuNTIzNDM4IDEwLjI4MTI1ICIvPgogIDwvZz4KPC9zeW1ib2w+CjwhLS0gIC0tPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWRyYXciIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDFIMTJWMTNIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBkPSJNOS42MjIgMS41ODRsMS44MzUgMS42NTgtOC4zMSA4LjQwN0wuNSAxMi41VjExbDkuMTIyLTkuNDE2eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTE1NiAtODA0KSB0cmFuc2xhdGUoMTU2IDgwMykiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNNy42MjggMy43NTNMMTAuMzc4IDMuNzUzIDEwLjM3OCA0LjI1MyA3LjYyOCA0LjI1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNTYgLTgwNCkgdHJhbnNsYXRlKDE1NiA4MDMpIHJvdGF0ZSg0NSA5LjAwMyA0LjAwMykiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZmlsdGVyIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xMiAzdjFIOVYzaDN6TTcgNEgwVjNoN3YxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI3NiAtODA0KSB0cmFuc2xhdGUoMjc2IDgwNCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMTIgOHYxSDlWOGgzek03IDlIMFY4aDd2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNzYgLTgwNCkgdHJhbnNsYXRlKDI3NiA4MDQpIG1hdHJpeCgtMSAwIDAgMSAxMiAwKSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik04IDFjMS4xMDUgMCAyIC44OTUgMiAycy0uODk1IDItMiAyLTItLjg5NS0yLTIgLjg5NS0yIDItMnptMCAxYy0uNTUyIDAtMSAuNDQ4LTEgMXMuNDQ4IDEgMSAxIDEtLjQ0OCAxLTEtLjQ0OC0xLTEtMXpNNCA3YzEuMTA1IDAgMiAuODk1IDIgMnMtLjg5NSAyLTIgMi0yLS44OTUtMi0yIC44OTUtMiAyLTJ6bTAgMWMtLjU1MiAwLTEgLjQ0OC0xIDFzLjQ0OCAxIDEgMSAxLS40NDggMS0xLS40NDgtMS0xLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjc2IC04MDQpIHRyYW5zbGF0ZSgyNzYgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1mbGlwIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTA4IC04MDQpIHRyYW5zbGF0ZSgxMDggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik02IDBMNyAwIDcgMTIgNiAxMnpNMTEgMTBWOWgxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIMTB2LTFoMXpNNSAxdjFIMXY4aDR2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjV2LTljMC0uMjc2LjIyNC0uNS41LS41SDV6bTcgNXYyaC0xVjZoMXptMC0zdjJoLTFWM2gxek05IDF2MUg3VjFoMnptMi41IDBjLjI3NiAwIC41LjIyNC41LjVWMmgtMlYxaDEuNXpNOSAxMUg3di0xaDJ2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMDggLTgwNCkgdHJhbnNsYXRlKDEwOCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LWljb24iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iMS4xIiBkPSJNNiA5LjU2OEwyLjYwMSAxMSAyLjk3NSA3LjQ2NyAwLjUgNC44MiA0LjEzIDQuMDY4IDYgMSA3Ljg3IDQuMDY4IDExLjUgNC44MiA5LjAyNSA3LjQ2NyA5LjM5OSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMDQgLTgwNCkgdHJhbnNsYXRlKDIwNCA4MDQpIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LW1hc2siIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yNTIgLTgwNCkgdHJhbnNsYXRlKDI1MiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMEgxMlYxMkgweiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI2IiBjeT0iNiIgcj0iMi41IiBzdHJva2U9IiM0NDQiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgMGMuMjc2IDAgLjUuMjI0LjUuNXYxMWMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41Vi41QzAgLjIyNC4yMjQgMCAuNSAwaDExek0xMSAxSDF2MTBoMTBWMXoiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oaXN0b3J5LXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxkZWZzPgogICAgICAgIDxwYXRoIGlkPSJyZm40cnlsZmZhIiBkPSJNNyAxMmMtLjMzNSAwLS42NjMtLjAyNS0uOTgzLS4wNzRDMy4xNzEgMTEuNDkyIDEgOS4yMDUgMSA2LjQ0NGMwLTEuMzYzLjUzNC0yLjYxMyAxLjQxNS0zLjU4Ii8+CiAgICAgICAgPG1hc2sgaWQ9IjZmOWduMmR5c2IiIHdpZHRoPSI2IiBoZWlnaHQ9IjkuMTM2IiB4PSIwIiB5PSIwIiBtYXNrVW5pdHM9Im9iamVjdEJvdW5kaW5nQm94Ij4KICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPSIjcmZuNHJ5bGZmYSIgc3Ryb2tlPSI0MzQzNDMiLz4KICAgICAgICA8L21hc2s+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzIgLTgwNCkgdHJhbnNsYXRlKDEzMiA4MDQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTAgMC41SDEyVjEyLjVIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTYuNSAxQzkuNTM4IDEgMTIgMy40NjIgMTIgNi41YzAgMi4zNy0xLjUgNC4zOS0zLjYgNS4xNjNsLS40MDctLjkxNkM5Ljc0NCAxMC4xMyAxMSA4LjQ2MiAxMSA2LjUgMTEgNC4wMTUgOC45ODUgMiA2LjUgMmMtLjc3NyAwLTEuNTA5LjE5Ny0yLjE0Ny41NDRMNCAxLjc1bC0uMjA1LS4wNEM0LjU5NCAxLjI1OCA1LjUxNyAxIDYuNSAxeiIvPgogICAgICAgICAgICA8dXNlIHN0cm9rZT0iIzQzNDM0MyIgc3Ryb2tlLWRhc2hhcnJheT0iMiAxLjI1IiBzdHJva2Utd2lkdGg9IjEiIG1hc2s9InVybCgjNmY5Z24yZHlzYikiIHhsaW5rOmhyZWY9IiNyZm40cnlsZmZhIi8+CiAgICAgICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik00LjI3OSAwTDYgMS43NSA0LjI1IDMuNTcxIDMuNTQzIDIuODY0IDQuNTg2IDEuNzUgMy41NzIgMC43MDd6IiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSA5LjU0MyAwKSIvPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3Rvcnktc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyBmaWxsPSJub25lIiBzdHJva2U9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgPgogICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTExLjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY3YzAgLjI3Ni0uMjI0LjUtLjUuNWgtN2MtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC44aDFWMTFoNlY1SDguMzQxbC0uNTY4LTFIMTEuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xODAgLTgwNCkgdHJhbnNsYXRlKDE4MCA4MDQpIi8+CiAgICAgICAgPHBhdGggc3Ryb2tlPSIjNDM0MzQzIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik00LjUgMC41TDguNSA3LjYxMSAwLjUgNy42MTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTgwIC04MDQpIHRyYW5zbGF0ZSgxODAgODA0KSIvPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiID4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0yIDFoOGMuNTUyIDAgMSAuNDQ4IDEgMUgxYzAtLjU1Mi40NDgtMSAxLTF6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI4IC04MDQpIHRyYW5zbGF0ZSgyMjggODA0KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik0xIDFIMlYzSDF6TTEwIDFIMTFWM0gxMHpNNS41IDFMNi41IDEgNi41IDExIDUuNSAxMXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yMjggLTgwNCkgdHJhbnNsYXRlKDIyOCA4MDQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTQgMTBIOFYxMUg0eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTIyOCAtODA0KSB0cmFuc2xhdGUoMjI4IDgwNCkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktbG9hZCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8cGF0aCBkPSJNMCAwSDEyVjEySDB6IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzI0IC04MDUpIHRyYW5zbGF0ZSgzMjQgODA1KSIvPgogICAgICAgIDxwYXRoIGZpbGw9IiM0MzQzNDMiIGQ9Ik01IDBjLjU1MiAwIDEgLjQ0OCAxIDF2MWg1LjVjLjI3NiAwIC41LjIyNC41LjV2OGMwIC4yNzYtLjIyNC41LS41LjVILjVjLS4yNzYgMC0uNS0uMjI0LS41LS41VjFjMC0uNTUyLjQ0OC0xIDEtMWg0em0wIDFIMXY5aDEwVjNINVYxeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNDM0MzQzIiBkPSJNMSAyTDUgMiA1IDMgMSAzeiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMyNCAtODA1KSB0cmFuc2xhdGUoMzI0IDgwNSkiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWhpc3RvcnktZGVsZXRlIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxnIGZpbGw9IiM0MzQzNDMiPgogICAgICAgICAgICA8cGF0aCBkPSJNMiA5aDhWMWgxdjguNWMwIC4yNzYtLjIyNC41LS41LjVoLTljLS4yNzYgMC0uNS0uMjI0LS41LS41VjFoMXY4ek0wIDBIMTJWMUgweiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgM0g1VjdINHpNNyAzSDhWN0g3eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTMwMCAtODA0KSB0cmFuc2xhdGUoMzAwIDgwNCkgdHJhbnNsYXRlKDAgMikiLz4KICAgICAgICAgICAgPHBhdGggZD0iTTQgMWg0VjBoMXYxLjVjMCAuMjc2LS4yMjQuNS0uNS41aC01Yy0uMjc2IDAtLjUtLjIyNC0uNS0uNVYwaDF2MXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0zMDAgLTgwNCkgdHJhbnNsYXRlKDMwMCA4MDQpIG1hdHJpeCgxIDAgMCAtMSAwIDIpIi8+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaGlzdG9yeS1ncm91cCIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxnIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMzQ4IC04MDQpIHRyYW5zbGF0ZSgzNDggODA0KSI+CiAgICAgICAgICAgIDxwYXRoIGQ9Ik0wIDBIMTJWMTJIMHoiLz4KICAgICAgICAgICAgPHBhdGggZmlsbD0iIzQzNDM0MyIgZD0iTTEgOXYyaDF2MUguNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOWgxem0xMSAxdjEuNWMwIC4yNzYtLjIyNC41LS41LjVIOXYtMWgydi0xaDF6bS00IDF2MUg2di0xaDJ6bS0zIDB2MUgzdi0xaDJ6bTctNHYyaC0xVjdoMXpNMSA2djJIMFY2aDF6bTExLTJ2MmgtMVY0aDF6TTEgM3YySDBWM2gxem0xMC41LTNjLjI3NiAwIC41LjIyNC41LjVWM2gtMVYxaC0xVjBoMS41ek02IDB2MUg0VjBoMnptMyAwdjFIN1YwaDJ6TTAgLjVDMCAuMjI0LjIyNCAwIC41IDBIM3YxSDF2MUgwVi41ek05LjUgNGMuMjc2IDAgLjUuMjI0LjUuNXY1YzAgLjI3Ni0uMjI0LjUtLjUuNWgtNWMtLjI3NiAwLS41LS4yMjQtLjUtLjVWOC4zNTVjLjMxNy4wOTQuNjUyLjE0NSAxIC4xNDVWOWg0VjVoLS41YzAtLjM0OC0uMDUtLjY4My0uMTQ1LTFIOS41eiIvPgogICAgICAgICAgICA8Y2lyY2xlIGN4PSI1IiBjeT0iNSIgcj0iMi41IiBzdHJva2U9IiM0MzQzNDMiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWFycm93LTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIxLjc5MyAxOC41SDIuNXYtNWgxOC45MzVsLTcuNi04aDUuODcybDEwLjUgMTAuNS0xMC41IDEwLjVoLTUuOTE0bDgtOHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ctMyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMjUuMjg4IDE2LjQyTDE0LjIwOCAyNy41SDYuNzkybDExLjI5MS0xMS4yOTFMNi44MjYgNC41aDcuMzgxbDExLjY2MSAxMS42NjEtLjU4LjI1OHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tYXJyb3ciIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yLjUgMTEuNXY5aDE4djUuMjkzTDMwLjI5MyAxNiAyMC41IDYuMjA3VjExLjVoLTE4eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1idWJibGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTIyLjIwNyAyNC41TDE2LjUgMzAuMjA3VjI0LjVIOEE2LjUgNi41IDAgMCAxIDEuNSAxOFY5QTYuNSA2LjUgMCAwIDEgOCAyLjVoMTZBNi41IDYuNSAwIDAgMSAzMC41IDl2OWE2LjUgNi41IDAgMCAxLTYuNSA2LjVoLTEuNzkzeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1oZWFydCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGwtcnVsZT0ibm9uemVybyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTUuOTk2IDMwLjY3NWwxLjk4MS0xLjc5YzcuODk4LTcuMTc3IDEwLjM2NS05LjcxOCAxMi4xMzUtMTMuMDEyLjkyMi0xLjcxNiAxLjM3Ny0zLjM3IDEuMzc3LTUuMDc2IDAtNC42NS0zLjY0Ny04LjI5Ny04LjI5Ny04LjI5Ny0yLjMzIDAtNC44NiAxLjUyNy02LjgxNyAzLjgyNGwtLjM4LjQ0Ny0uMzgxLS40NDdDMTMuNjU4IDQuMDI3IDExLjEyNiAyLjUgOC43OTcgMi41IDQuMTQ3IDIuNS41IDYuMTQ3LjUgMTAuNzk3YzAgMS43MTQuNDYgMy4zNzUgMS4zODkgNS4wOTggMS43NzUgMy4yODggNC4yNiA1Ljg0MyAxMi4xMjMgMTIuOTc0bDEuOTg0IDEuODA2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1sb2FkIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik0xNy4zMTQgMTguODY3bDEuOTUxLTIuNTMgNCA1LjE4NGgtMTdsNi41LTguODQgNC41NDkgNi4xODZ6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC4wMSA0YTExLjc5OCAxMS43OTggMCAwIDAgMCAxSDN2MjRoMjRWMTQuOTg2YTguNzM4IDguNzM4IDAgMCAwIDEgMFYyOWExIDEgMCAwIDEtMSAxSDNhMSAxIDAgMCAxLTEtMVY1YTEgMSAwIDAgMSAxLTFoMTUuMDF6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yNSAzaDF2OWgtMXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTTIyIDZsMy41LTMuNUwyOSA2Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1pY29uLWxvY2F0aW9uIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMTYgMzEuMjhDMjMuNjc1IDIzLjMwMiAyNy41IDE3LjE4MSAyNy41IDEzYzAtNi4zNTEtNS4xNDktMTEuNS0xMS41LTExLjVTNC41IDYuNjQ5IDQuNSAxM2MwIDQuMTgxIDMuODI1IDEwLjMwMiAxMS41IDE4LjI4eiIvPgogICAgPGNpcmNsZSBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGN4PSIxNiIgY3k9IjEzIiByPSI0LjUiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLWljb24tcG9seWdvbiIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgZD0iTS41NzYgMTZMOC4yOSAyOS41aDE1LjQyTDMxLjQyNCAxNiAyMy43MSAyLjVIOC4yOUwuNTc2IDE2eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyLTIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0xOS40NDYgMzEuNTkybDIuMjY1LTMuMjcyIDMuOTQ2LjI1LjYzNi0zLjk0IDMuNjY1LTEuNTA1LTEuMTItMy44MzIgMi42NTUtMi45NjItMi42NTYtMi45NjIgMS4xMi0zLjgzMi0zLjY2NC0xLjUwNS0uNjM2LTMuOTQxLTMuOTQ2LjI1LTIuMjY1LTMuMjcxTDE2IDMuMDI0IDEyLjU1NCAxLjA3IDEwLjI4OSA0LjM0bC0zLjk0Ni0uMjUtLjYzNiAzLjk0MS0zLjY2NSAxLjUwNSAxLjEyIDMuODMyTC41MDggMTYuMzNsMi42NTYgMi45NjItMS4xMiAzLjgzMiAzLjY2NCAxLjUwNC42MzYgMy45NDIgMy45NDYtLjI1IDIuMjY1IDMuMjdMMTYgMjkuNjM4bDMuNDQ2IDEuOTU1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbi1zdGFyIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBkPSJNMjUuMjkyIDI5Ljg3OGwtMS43NzUtMTAuMzQ2IDcuNTE3LTcuMzI3LTEwLjM4OC0xLjUxTDE2IDEuMjgybC00LjY0NiA5LjQxMy0xMC4zODggMS41MSA3LjUxNyA3LjMyNy0xLjc3NSAxMC4zNDZMMTYgMjQuOTkzbDkuMjkyIDQuODg1eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtaWNvbiIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBkPSJNMTEuOTIzIDE5LjEzNkw1LjQyNCAyMmwuNzE1LTcuMDY1LTQuNzMxLTUuMjk2IDYuOTQtMS41MDNMMTEuOTIzIDJsMy41NzQgNi4xMzYgNi45NCAxLjUwMy00LjczMSA1LjI5NkwxOC40MiAyMnoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLW1hc2stbG9hZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTguMDEgNGExMS43OTggMTEuNzk4IDAgMCAwIDAgMUgzdjI0aDI0VjE0Ljk4NmE4LjczOCA4LjczOCAwIDAgMCAxIDBWMjlhMSAxIDAgMCAxLTEgMUgzYTEgMSAwIDAgMS0xLTFWNWExIDEgMCAwIDEgMS0xaDE1LjAxek0xNSAyM2E2IDYgMCAxIDEgMC0xMiA2IDYgMCAwIDEgMCAxMnptMC0xYTUgNSAwIDEgMCAwLTEwIDUgNSAwIDAgMCAwIDEweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMjUgM2gxdjloLTF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIGQ9Ik0yMiA2bDMuNS0zLjVMMjkgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtbWFzayIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxjaXJjbGUgY3g9IjEyIiBjeT0iMTIiIHI9IjQuNSIgc3Ryb2tlPSJpbmhlcml0IiBmaWxsPSJub25lIi8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDFoMjBhMSAxIDAgMCAxIDEgMXYyMGExIDEgMCAwIDEtMSAxSDJhMSAxIDAgMCAxLTEtMVYyYTEgMSAwIDAgMSAxLTF6bTAgMXYyMGgyMFYySDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1yZWRvIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIxIDZIOWE2IDYgMCAxIDAgMCAxMmgxMnYxSDlBNyA3IDAgMCAxIDkgNWgxMnYxeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIiBkPSJNMTkgM2wyLjUgMi41TDE5IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJlc2V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggZD0iTTAgMGgyNHYyNEgweiIgb3BhY2l0eT0iLjUiIHN0cm9rZT0ibm9uZSIgZmlsbD0ibm9uZSIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMiAxM3YtMWE3IDcgMCAwIDEgNy03aDEzdjFoLTF2NWgxdjFhNyA3IDAgMCAxLTcgN0gydi0xaDF2LTVIMnptNy03YTYgNiAwIDAgMC02IDZ2NmgxMmE2IDYgMCAwIDAgNi02VjZIOXoiLz4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iaW5oZXJpdCIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTE5IDNsMi41IDIuNUwxOSA4TTUgMTZsLTIuNSAyLjVMNSAyMSIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtcm90YXRlLWNsb2Nrd2lzZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTI5IDE3aC0uOTI0YzAgNi42MjctNS4zNzMgMTItMTIgMTItNi42MjggMC0xMi01LjM3My0xMi0xMkM0LjA3NiAxMC4zOTggOS40MDcgNS4wNDEgMTYgNVY0QzguODIgNCAzIDkuODIgMyAxN3M1LjgyIDEzIDEzIDEzIDEzLTUuODIgMTMtMTN6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsNCAzLTQgMyIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNiA0aDR2MWgtNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZS1jb3VudGVyY2xvY2t3aXNlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBkPSJNMyAxN2guOTI0YzAgNi42MjcgNS4zNzMgMTIgMTIgMTIgNi42MjggMCAxMi01LjM3MyAxMi0xMiAwLTYuNjAyLTUuMzMxLTExLjk2LTExLjkyNC0xMlY0YzcuMTggMCAxMyA1LjgyIDEzIDEzcy01LjgyIDEzLTEzIDEzUzMgMjQuMTggMyAxN3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIgNGg0djFoLTR6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik0xNiAxLjVsLTQgMyA0IDMiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXJvdGF0ZSIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgLz4KICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIHN0cm9rZT0ibm9uZSIgZD0iTTguMzQ5IDIyLjI1NGExMC4wMDIgMTAuMDAyIDAgMCAxLTIuNzc4LTEuNzE5bC42NS0uNzZhOS4wMDIgOS4wMDIgMCAwIDAgMi40OTUgMS41NDhsLS4zNjcuOTMxem0yLjg3My43MDRsLjA3OC0uOTk3YTkgOSAwIDEgMC0uNTU3LTE3Ljg1MmwtLjE0LS45OUExMC4wNzYgMTAuMDc2IDAgMCAxIDEyLjE0NSAzYzUuNTIzIDAgMTAgNC40NzcgMTAgMTBzLTQuNDc3IDEwLTEwIDEwYy0uMzEyIDAtLjYyLS4wMTQtLjkyNC0uMDQyem0tNy41NTYtNC42NTVhOS45NDIgOS45NDIgMCAwIDEtMS4yNTMtMi45OTZsLjk3My0uMjM0YTguOTQ4IDguOTQ4IDAgMCAwIDEuMTI0IDIuNjkzbC0uODQ0LjUzN3ptLTEuNTAyLTUuOTFBOS45NDkgOS45NDkgMCAwIDEgMi44OCA5LjIzbC45MjUuMzgyYTguOTU0IDguOTU0IDAgMCAwLS42NDQgMi44NDRsLS45OTgtLjA2MnptMi4yMS01LjY4NmMuNjg3LS44NDggMS41MS0xLjU4IDIuNDM2LTIuMTY2bC41MjMuODUyYTkuMDQ4IDkuMDQ4IDAgMCAwLTIuMTg4IDEuOTVsLS43NzEtLjYzNnoiLz4KICAgIDxwYXRoIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIgZD0iTTEzIDFsLTIuNSAyLjVMMTMgNiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUtY2lyY2xlIiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iMTQuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS1yZWN0YW5nbGUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cmVjdCB3aWR0aD0iMjciIGhlaWdodD0iMjciIHg9IjIuNSIgeT0iMi41IiBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHJ4PSIxIi8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1zaGFwZS10cmlhbmdsZSIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgZD0iTTE2IDIuNWwxNS41IDI3SC41eiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtc2hhcGUiIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0xNC43MDYgOEgyMWExIDEgMCAwIDEgMSAxdjEyYTEgMSAwIDAgMS0xIDFIOWExIDEgMCAwIDEtMS0xdi00aDF2NGgxMlY5aC01LjcwNmwtLjU4OC0xeiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGQ9Ik04LjUgMS41bDcuNSAxM0gxeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC1hbGlnbi1jZW50ZXIiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTggMTJoMTZ2MUg4ek0yIDE5aDI4djFIMnpNOCAyNmgxNnYxSDh6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLWxlZnQiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTIgNWgyOHYxSDJ6TTIgMTJoMTZ2MUgyek0yIDE5aDI4djFIMnpNMiAyNmgxNnYxSDJ6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWFsaWduLXJpZ2h0IiB2aWV3Qm94PSIwIDAgMzIgMzIiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJub25lIiBkPSJNMCAwaDMydjMySDB6Ii8+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9ImluaGVyaXQiIGQ9Ik0yIDVoMjh2MUgyek0xNCAxMmgxNnYxSDE0ek0yIDE5aDI4djFIMnpNMTQgMjZoMTZ2MUgxNHoiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXRleHQtYm9sZCIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNyAyaDJ2Mkg3ek03IDI4aDJ2Mkg3eiIvPgogICAgPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSJpbmhlcml0IiBzdHJva2Utd2lkdGg9IjIiIGQ9Ik05IDN2MTJoOWE2IDYgMCAxIDAgMC0xMkg5ek05IDE1djE0aDEwYTcgNyAwIDAgMCAwLTE0SDl6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0LWl0YWxpYyIgdmlld0JveD0iMCAwIDMyIDMyIj4KICAgIDxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0ibm9uZSIgZD0iTTAgMGgzMnYzMkgweiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTUgMmg1djFoLTV6TTExIDI5aDV2MWgtNXpNMTcgM2gxbC00IDI2aC0xeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdGV4dC11bmRlcmxpbmUiIHZpZXdCb3g9IjAgMCAzMiAzMiI+CiAgICA8cGF0aCBzdHJva2U9Im5vbmUiIGZpbGw9Im5vbmUiIGQ9Ik0wIDBoMzJ2MzJIMHoiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTggMnYxNGE4IDggMCAxIDAgMTYgMFYyaDF2MTRhOSA5IDAgMCAxLTE4IDBWMmgxek0zIDI5aDI2djFIM3oiLz4KICAgIDxwYXRoIHN0cm9rZT0ibm9uZSIgZmlsbD0iaW5oZXJpdCIgZD0iTTUgMmg1djFINXpNMjIgMmg1djFoLTV6Ii8+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy10ZXh0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNNCAzaDE1YTEgMSAwIDAgMSAxIDFIM2ExIDEgMCAwIDEgMS0xek0zIDRoMXYxSDN6TTE5IDRoMXYxaC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTEgM2gxdjE4aC0xeiIvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMTAgMjBoM3YxaC0zeiIvPgo8L3N5bWJvbD4KPHN5bWJvbCBpZD0iaWMtdW5kbyIgdmlld0JveD0iMCAwIDI0IDI0Ij4KICAgIDxwYXRoIGQ9Ik0yNCAwSDB2MjRoMjR6IiBvcGFjaXR5PSIuNSIgZmlsbD0ibm9uZSIgc3Ryb2tlPSJub25lIiAvPgogICAgPHBhdGggc3Ryb2tlPSJub25lIiBmaWxsPSJpbmhlcml0IiBkPSJNMyA2aDEyYTYgNiAwIDEgMSAwIDEySDN2MWgxMmE3IDcgMCAwIDAgMC0xNEgzdjF6Ii8+CiAgICA8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9ImluaGVyaXQiIHN0cm9rZS1saW5lY2FwPSJzcXVhcmUiIGQ9Ik01IDNMMi41IDUuNSA1IDgiLz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20taW4iIHZpZXdCb3g9IjAgMCAyNCAyNCI+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjI5IC0yOTApIHRyYW5zbGF0ZSgyMjkgMjkwKSI+CiAgICAgICAgPGNpcmNsZSBjeD0iMTAuNSIgY3k9IjEwLjUiIHI9IjkiIHN0cm9rZT0iaW5oZXJpdCIgZmlsbD0ibm9uZSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik0xOC44MjggMTUuODI4SDE5LjgyOFYyMi44MjhIMTguODI4eiIgdHJhbnNmb3JtPSJyb3RhdGUoLTQ1IDE5LjMyOCAxOS4zMjgpIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZD0iTTcgMTBIMTRWMTFIN3oiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTAgN0gxMVYxNEgxMHoiLz4KICAgIDwvZz4KPC9zeW1ib2w+CjxzeW1ib2wgaWQ9ImljLXpvb20tb3V0IiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI2MyAtMjkwKSB0cmFuc2xhdGUoMjYzIDI5MCkiPgogICAgICAgIDxjaXJjbGUgY3g9IjEwLjUiIGN5PSIxMC41IiByPSI5IiBzdHJva2U9ImluaGVyaXQiIGZpbGw9Im5vbmUiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBkPSJNMTguODI4IDE1LjgyOEgxOS44MjhWMjIuODI4SDE4LjgyOHoiIHRyYW5zZm9ybT0icm90YXRlKC00NSAxOS4zMjggMTkuMzI4KSIvPgogICAgICAgIDxwYXRoIGZpbGw9ImluaGVyaXQiIGQ9Ik03IDEwSDE0VjExSDd6Ii8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8c3ltYm9sIGlkPSJpYy1oYW5kIiB2aWV3Qm94PSIwIDAgMjQgMjQiPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjY3MiAzLjM2YzEuMzI4IDAgMi4xMTQuNzggMi4yOSAxLjg2OWwuMDE0LjEwMS4wMjMuMDA2djEuMDQybC0uNjM4LS4xODVjLS4xODctLjA1NS0uMzIzLS4yMTEtLjM1NC0uMzk5TDEwIDUuNzEzYzAtLjgyNS0uNDItMS4zNTMtMS4zMjgtMS4zNTNDNy42OTUgNC4zNiA3IDUuMDQxIDcgNS43MTN2Ny45NDFjMCAuNDM5LS41MjQuNjY1LS44NDMuMzY0bC0xLjg2OC0xLjc2MWMtLjU5NS0uNTI4LTEuMzE2LS42MTctMS45MTgtLjIxNi0uNTIyLjM0OC0uNTYyIDEuMjAzLS4xOCAxLjhMNy43MzggMjJoMTEuMDEzbC4yODUtLjUxOGMxLjI0Ny0yLjMyNiAxLjg5Ny00LjI1OSAxLjk2LTUuNzg1bC4wMDQtLjIzOVY4LjAzNWMwLS42NTYtLjUtMS4xNy0xLTEuMTctLjUwMyAwLTEgLjQ1Ni0xIDEuMTcgMCAuMzMzLS4zMi41NzMtLjY0LjQ4TDE4IDguNDFWNy4zNjhsLjA4Ni4wMjYuMDQyLS4xMzZjLjI3OS0uODA1Ljk3OC0xLjMzMiAxLjczOC0xLjM4OEwyMCA1Ljg2NWMxLjA1NyAwIDIgLjk2NyAyIDIuMTd2Ny40MjNjMCAxLjkyOS0uODQ1IDQuMzUyLTIuNTIxIDcuMjktLjA5LjE1Ni0uMjU1LjI1Mi0uNDM1LjI1Mkg3LjQ3NGMtLjE2NiAwLS4zMjEtLjA4Mi0uNDE0LS4yMTlsLTUuNzA0LTguMzljLS42NTMtMS4wMTktLjU4NC0yLjQ4Ni40Ni0zLjE4MiAxLS42NjYgMi4yMTYtLjUxNiAzLjE0OC4zMUw2IDEyLjQ5NVY1LjcxM2MwLTEuMTggMS4wNTgtMi4yNjMgMi40OS0yLjM0OHoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICAgICAgPHBhdGggZmlsbD0iaW5oZXJpdCIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMTIuNSAxLjVjMS4zMjUgMCAyLjQxIDEuMDMyIDIuNDk1IDIuMzM2TDE1IDR2Ny4yMmgtMVY0YzAtLjgyOC0uNjcyLTEuNS0xLjUtMS41LS43OCAwLTEuNDIuNTk1LTEuNDkzIDEuMzU2TDExIDR2Ny4yMmgtMVY0YzAtMS4zOCAxLjEyLTIuNSAyLjUtMi41eiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTI5NyAtMjkwKSB0cmFuc2xhdGUoMjk3IDI5MCkiLz4KICAgICAgICA8cGF0aCBmaWxsPSJpbmhlcml0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0xNi41IDMuNWMxLjMyNSAwIDIuNDEgMS4wMzIgMi40OTUgMi4zMzZMMTkgNnY2LjNoLTFWNmMwLS44MjgtLjY3Mi0xLjUtMS41LTEuNS0uNzggMC0xLjQyLjU5NS0xLjQ5MyAxLjM1NkwxNSA2djIuNDRoLTFWNmMwLTEuMzggMS4xMi0yLjUgMi41LTIuNXoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0yOTcgLTI5MCkgdHJhbnNsYXRlKDI5NyAyOTApIi8+CiAgICA8L2c+Cjwvc3ltYm9sPgo8L2RlZnM+Cjwvc3ZnPgo="},4858:function(e){e.exports=t},4960:function(){},6759:function(){},6272:function(){}},A={};function i(t){var n=A[t];if(void 0!==n)return n.exports;var r=A[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var A in e)i.o(e,A)&&!i.o(t,A)&&Object.defineProperty(t,A,{enumerable:!0,get:e[A]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var n={};return function(){i.d(n,{default:function(){return aa}});var t=i(9131),e=i.n(t),A=i(1899),r=i.n(A),o=i(6562),s=i.n(o),a=i(1734),c=i.n(a),l=i(8005),u=i.n(l),h=i(6065),g=i.n(h),f=i(4496),d=i.n(f);Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(Element.prototype.matches.call(e,t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */,"document"in self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(t){if("Element"in t){var A="classList",i="prototype",n=t.Element[i],o=Object,a=e()(String[i])||function(){return this.replace(/^\s+|\s+$/g,"")},l=r()(Array[i])||function(t){for(var e=0,A=this.length;e<A;e++)if(e in this&&this[e]===t)return e;return-1},u=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},h=function(t,e){if(""===e)throw new u("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(e))throw new u("INVALID_CHARACTER_ERR","The token must not contain space characters.");return l.call(t,e)},g=function(t){for(var e=a.call(t.getAttribute("class")||""),A=e?e.split(/\s+/):[],i=0,n=A.length;i<n;i++)this.push(A[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},f=g[i]=[],d=function(){return new g(this)};if(u[i]=Error[i],f.item=function(t){return this[t]||null},f.contains=function(t){return~h(this,t+"")},f.add=function(){var t,e=arguments,A=0,i=e.length,n=!1;do{~h(this,t=e[A]+"")||(this.push(t),n=!0)}while(++A<i);n&&this._updateClassName()},f.remove=function(){var t,e,A=arguments,i=0,n=A.length,r=!1;do{for(e=h(this,t=A[i]+"");~e;)s()(this).call(this,e,1),r=!0,e=h(this,t)}while(++i<n);r&&this._updateClassName()},f.toggle=function(t,e){var A=this.contains(t),i=A?!0!==e&&"remove":!1!==e&&"add";return i&&this[i](t),!0===e||!1===e?e:!A},f.replace=function(t,e){var A=h(t+"");~A&&(s()(this).call(this,A,1,e),this._updateClassName())},f.toString=function(){return this.join(" ")},c()){var p={get:d,enumerable:!0,configurable:!0};try{c()(n,A,p)}catch(v){void 0!==v.number&&-2146823252!==v.number||(p.enumerable=!1,c()(n,A,p))}}else o[i].__defineGetter__&&n.__defineGetter__(A,d)}}(self),function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var A,i=arguments.length;for(A=0;A<i;A++)t=arguments[A],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var A=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:A.call(this,t)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(t,e){var A=this.toString().split(" "),i=r()(A).call(A,t+"");~i&&(A=u()(A).call(A,i),this.remove.apply(this,A),this.add(e),this.add.apply(this,u()(A).call(A,1)))}),t=null}())
/*!
           * @copyright Copyright (c) 2017 IcoMoon.io
           * @license   Licensed under MIT license
           *            See https://github.com/Keyamoon/svgxuse
           * @version   1.2.6
           */,function(){if("undefined"!=typeof window&&window.addEventListener){var t,e,A,i=g()(null),n=function(){clearTimeout(e),e=d()(t,100)},r=function(){},o=function(t){function e(t){var e;return void 0!==t.protocol?e=t:(e=document.createElement("a")).href=t,e.protocol.replace(/:/g,"")+e.host}var A,i,n;return window.XMLHttpRequest&&(A=new XMLHttpRequest,i=e(location),n=e(t),A=void 0===A.withCredentials&&""!==n&&n!==i?XDomainRequest||void 0:XMLHttpRequest),A},s="http://www.w3.org/1999/xlink";t=function(){var t,e,A,a,c,l,u,h,g,f,p=0;function v(){var t;0==(p-=1)&&(r(),window.addEventListener("resize",n,!1),window.addEventListener("orientationchange",n,!1),window.MutationObserver?((t=new MutationObserver(n)).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0}),r=function(){try{t.disconnect(),window.removeEventListener("resize",n,!1),window.removeEventListener("orientationchange",n,!1)}catch(e){}}):(document.documentElement.addEventListener("DOMSubtreeModified",n,!1),r=function(){document.documentElement.removeEventListener("DOMSubtreeModified",n,!1),window.removeEventListener("resize",n,!1),window.removeEventListener("orientationchange",n,!1)}))}function m(t){return function(){!0!==i[t.base]&&(t.useEl.setAttributeNS(s,"xlink:href","#"+t.hash),t.useEl.hasAttribute("href")&&t.useEl.setAttribute("href","#"+t.hash))}}function B(t){return function(){var e,A=document.body,i=document.createElement("x");t.onload=null,i.innerHTML=t.responseText,(e=i.getElementsByTagName("svg")[0])&&(e.setAttribute("aria-hidden","true"),e.style.position="absolute",e.style.width=0,e.style.height=0,e.style.overflow="hidden",A.insertBefore(e,A.firstChild)),v()}}function y(t){return function(){t.onerror=null,t.ontimeout=null,v()}}for(r(),g=document.getElementsByTagName("use"),c=0;c<g.length;c+=1){try{e=g[c].getBoundingClientRect()}catch(C){e=!1}t=(h=(a=g[c].getAttribute("href")||g[c].getAttributeNS(s,"href")||g[c].getAttribute("xlink:href"))&&a.split?a.split("#"):["",""])[0],A=h[1],l=e&&0===e.left&&0===e.right&&0===e.top&&0===e.bottom,e&&0===e.width&&0===e.height&&!l?(g[c].hasAttribute("href")&&g[c].setAttributeNS(s,"xlink:href",a),t.length&&(!0!==(f=i[t])&&d()(m({useEl:g[c],base:t,hash:A}),0),void 0===f&&void 0!==(u=o(t))&&(f=new u,i[t]=f,f.onload=B(f),f.onerror=y(f),f.ontimeout=y(f),f.open("GET",t),f.send(),p+=1))):l?t.length&&i[t]&&d()(m({useEl:g[c],base:t,hash:A}),0):void 0===i[t]?i[t]=!0:i[t].onload&&(i[t].abort(),delete i[t].onload,i[t]=!0)}g="",p+=1,v()},A=function(){window.removeEventListener("load",A,!1),e=d()(t,0)},"complete"!==document.readyState?window.addEventListener("load",A,!1):A()}}();var p=i(1845);function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var A=0,i=new Array(e);A<e;A++)i[A]=t[A];return i}var m=i(184),B=i(662),y=i(7172),C=i(711);function w(t,e){var A;if(t){if("string"==typeof t)return v(t,e);var i=C(A=Object.prototype.toString.call(t)).call(A,8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?y(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?v(t,e):void 0}}function b(t){return function(t){if(p(t))return v(t)}(t)||function(t){if(void 0!==m&&null!=B(t)||null!=t["@@iterator"])return y(t)}(t)||w(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=i(7077);function x(t,e,A){return e in t?I(t,e,{value:A,enumerable:!0,configurable:!0,writable:!0}):t[e]=A,t}function M(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var A=0;A<e.length;A++){var i=e[A];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),I(t,i.key,i)}}function _(t,e,A){return e&&S(t.prototype,e),A&&S(t,A),t}var Q=i(4426),F=i.n(Q),E=i(9406),U=i.n(E),D=i(8189),T=i.n(D),k=i(3972),O=i.n(k),L=i(2777),H=i(961),j=i.n(H),P=i(5695),N=i.n(P),R=i(8592),z=i.n(R),G=i(9052),K=i.n(G),Y=i(2560),W=i.n(Y),X=i(2461),V=i.n(X);function Z(t,e){return function(t){if(p(t))return t}(t)||function(t,e){var A=null==t?null:void 0!==m&&B(t)||t["@@iterator"];if(null!=A){var i,n,r=[],o=!0,s=!1;try{for(A=A.call(t);!(o=(i=A.next()).done)&&(r.push(i.value),!e||r.length!==e);o=!0);}catch(a){s=!0,n=a}finally{try{o||null==A.return||A.return()}finally{if(s)throw n}}return r}}(t,e)||w(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var J,q=i(6397),$=i.n(q),tt=i(7636),et=i.n(tt),At=i(789),it=i.n(At),nt=i(4729),rt=i.n(nt),ot=i(1610),st=i.n(ot),at=i(3053),ct=i.n(at),lt=["zoomIn","zoomOut","hand"],ut=["history","undo","redo","reset"],ht=["delete","deleteAll"],gt=U()(J=[]).call(J,lt,ut,ht),ft="filter",dt="color",pt=["rect","circle","triangle"],vt="cropzone",mt="vintage",Bt="sepia2",yt="removeColor",Ct="colorFilter",wt="removeWhite",bt="blendColor",It="blend",xt=OA("IMAGE_LOADER","CROPPER","FLIP","ROTATION","FREE_DRAWING","LINE","TEXT","ICON","FILTER","SHAPE","ZOOM","RESIZE"),Mt={hasRotatingPoint:!1,hasBorders:!1,lockScalingFlip:!0,lockRotation:!0,lockSkewingX:!0,lockSkewingY:!0},St="clearObjects",_t="loadImage",Qt="flip",Ft="rotate",Et="addObject",Ut="removeObject",Dt="applyFilter",Tt="removeFilter",kt="addIcon",Ot="changeIconColor",Lt="addShape",Ht="changeShape",jt="addText",Pt="changeText",Nt="changeTextStyle",Rt="addImageObject",zt="resizeCanvasDimension",Gt="setObjectProperties",Kt="setObjectPosition",Yt="changeSelection",Wt="resize",Xt="objectActivated",Vt="objectMoved",Zt="objectScaled",Jt="objectRotated",qt="objectAdded",$t="objectModified",te="textEditing",ee="textChanged",Ae="iconCreateResize",ie="iconCreateEnd",ne="addText",re="addObject",oe="addObjectAfter",se="mousedown",ae="redoStackChanged",ce="undoStackChanged",le="selectionCleared",ue="selectionCreated",he="executeCommand",ge="afterUndo",fe="afterRedo",de="zoomChanged",pe="handStarted",ve="handStopped",me="keydown",Be="keyup",ye="inputBoxEditingStarted",Ce="inputBoxEditingStopped",we="focus",be="blur",Ie=".tui-colorpicker-palette-hex",xe="Load",Me="Mask",Se="Mask",_e="Crop",Qe="Resize",Fe="Filter",Ee="Filter",Ue="Shape",De="Icon",Te="Text",ke="Text",Oe="Delete",Le="Delete",He=OA("NORMAL","CROPPER","FREE_DRAWING","LINE_DRAWING","TEXT","SHAPE","ICON","ZOOM","RESIZE"),je="text",Pe="crop",Ne="resize",Re="shape",ze="zoom",Ge="normal",Ke="zoom",Ye="hand",We=90,Xe=89,Ve=67,Ze=86,Je=16,qe=8,$e=46,tA=40,eA=38,AA=32,iA=48,nA=57,rA={borderColor:"red",cornerColor:"green",cornerSize:10,originX:"center",originY:"center",transparentCorners:!1},oA="The object is already added.",sA="The flipX and flipY setting values are not changed.",aA="Invalid parameters.",cA="The executing command state is locked.",lA="The background image is empty.",uA="Invalid image loaded.",hA="The object is not in canvas.",gA="The promise of redo command is reject.",fA="The promise of undo command is reject.",dA="Unsupported operation.",pA="Unsupported object type.",vA={"icon-arrow":"M40 12V0l24 24-24 24V36H0V12h40z","icon-arrow-2":"M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ","icon-arrow-3":"M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ","icon-star":"M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ","icon-star-2":"M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ","icon-polygon":"M3,31 L19,3 h32 l16,28 l-16,28 H19  z ","icon-location":"M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z","icon-heart":"M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ","icon-bubble":"M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z"},mA={realTimeEvent:!0,min:-360,max:360,value:0},BA={min:5,max:30,value:12},yA={realTimeEvent:!0,min:2,max:300,value:3},CA={realTimeEvent:!0,min:10,max:100,value:50},wA={tintOpacityRange:{realTimeEvent:!0,min:0,max:1,value:.7,useDecimal:!0},removewhiteDistanceRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},brightnessRange:{realTimeEvent:!0,min:-1,max:1,value:0,useDecimal:!0},noiseRange:{realTimeEvent:!0,min:0,max:1e3,value:100},pixelateRange:{realTimeEvent:!0,min:2,max:20,value:4},colorfilterThresholdRange:{realTimeEvent:!0,min:0,max:1,value:.2,useDecimal:!0},blurFilterRange:{value:.1}},bA=0,IA=0,xA=.5,MA=.5,SA={realTimeEvent:!0,min:32,max:4088,value:800},_A="tui-image-editor-",QA=Math.min,FA=Math.max,EA=!1,UA=0;function DA(t){return t.__fe_id||(UA+=1,t.__fe_id=UA),t.__fe_id}function TA(t){return"function"==typeof t}function kA(t,e,A){if(e>A){var i=[A,e];e=i[0],A=i[1]}return FA(e,QA(t,A))}function OA(){for(var t={},e=arguments.length,A=new Array(e),i=0;i<e;i++)A[i]=arguments[i];return z()(A,function(e){t[e]=e}),t}function LA(t,e){var A,i={},n=e.length,r=0;for(r=0;r<n;r+=1)i[A=e[r]]=t[A];return i}function HA(t){return $()(t,10)}function jA(t){return t.replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})}function PA(){return!!(window.File&&window.FileList&&window.FileReader)}function NA(t,e){var A,i,n,r;4===t.length&&(t=U()(r="".concat(t)).call(r,u()(t).call(t,1,4)));var o=$()(u()(t).call(t,1,3),16),s=$()(u()(t).call(t,3,5),16),a=$()(u()(t).call(t,5,7),16),c=e||1;return U()(A=U()(i=U()(n="rgba(".concat(o,", ")).call(n,s,", ")).call(i,a,", ")).call(A,c,")")}function RA(t){z()(t,function(e,A){t[A]=null})}function zA(){var t,e,A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"."===A.charAt(0)?U()(e=".".concat(_A).concat(i)).call(e,u()(A).call(A,1)):U()(t="".concat(_A).concat(i)).call(t,A)}function GA(t,e){t.customProps=t.customProps||{},j()(t.customProps,e)}function KA(t,e){var A={};return W()(e)&&(e=[e]),z()(e,function(e){A[e]=t.customProps[e]}),A}function YA(t,e){return r()(t).call(t,e)>=0}function WA(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return st()(t,"type")||dt}function XA(t){var e=it()(t);return(void 0===e?{}:e).source?ft:dt}function VA(t){return ct()(t.get("type"),pt)>=0}function ZA(t){if(YA(pt,t))return"Shape";switch(t){case"i-text":return"Text";case"path":case"line":return"Draw";case"activeSelection":return"Group";default:return qA(t)}}function JA(t){var e,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=A.useAlpha,n=void 0===i||i,r=A.mode,o=Bt,s=Ct,a=wt,c=It;switch(t){case mt:e=o;break;case yt:e=n?s:a;break;case bt:e="add"===r?c:r;break;default:e=t}return qA(e)}function qA(t){return t.replace(/[a-z]/,function(t){return t.toUpperCase()})}var $A=OA("UN_IMPLEMENTATION","NO_COMPONENT_NAME"),ti="Should implement a method: ",ei="Should set a component name",Ai={UN_IMPLEMENTATION:function(t){return ti+t},NO_COMPONENT_NAME:function(){return ei}},ii={types:j()({},$A),create:function(t){t=t.toLowerCase();for(var e=Ai[t],A=arguments.length,i=new Array(A>1?A-1:0),n=1;n<A;n++)i[n-1]=arguments[n];return e.apply(void 0,i)}},ni=ii.create,ri=ii.types,oi=function(){function t(e,A){M(this,t),this.name=e.name,this.args=A,this.execute=e.execute,this.undo=e.undo,this.executeCallback=e.executeCallback||null,this.undoCallback=e.undoCallback||null,this.undoData={}}return _(t,[{key:"execute",value:function(){throw new Error(ni(ri.UN_IMPLEMENTATION,"execute"))}},{key:"undo",value:function(){throw new Error(ni(ri.UN_IMPLEMENTATION,"undo"))}},{key:"isRedo",get:function(){return V()(this.undoData).length>0}},{key:"setUndoData",value:function(t,e,A){return e&&(t=e),A?e||(e=t):(j()(this.undoData,t),e=null),e}},{key:"setExecuteCallback",value:function(t){return this.executeCallback=t,this}},{key:"setUndoCallback",value:function(t){return this.undoCallback=t,this}}]),t}(),si={},ai={create:function(t){var e=si[t];if(e){for(var A=arguments.length,i=new Array(A>1?A-1:0),n=1;n<A;n++)i[n-1]=arguments[n];return new oi(e,i)}return null},register:function(t){si[t.name]=t}},ci=function(){function t(){M(this,t),this._undoStack=[],this._redoStack=[],this._isLocked=!1,this._isSilent=!1}return _(t,[{key:"_invokeExecution",value:function(t){var e=this,A=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.lock();var i=t.args;return i||(i=[]),t.execute.apply(t,b(i)).then(function(i){return e._isSilent||(e.pushUndoStack(t),e.fire(A?fe:he,t)),e.unlock(),TA(t.executeCallback)&&t.executeCallback(i),i}).catch(function(t){return e.unlock(),T().reject(t)})}},{key:"_invokeUndo",value:function(t){var e=this;this.lock();var A=t.args;return A||(A=[]),t.undo.apply(t,b(A)).then(function(A){return e.pushRedoStack(t),e.fire(ge,t),e.unlock(),TA(t.undoCallback)&&t.undoCallback(A),A}).catch(function(t){return e.unlock(),T().reject(t)})}},{key:"_fireRedoStackChanged",value:function(){this.fire(ae,this._redoStack.length)}},{key:"_fireUndoStackChanged",value:function(){this.fire(ce,this._undoStack.length)}},{key:"lock",value:function(){this._isLocked=!0}},{key:"unlock",value:function(){this._isLocked=!1}},{key:"executeSilent",value:function(){var t=this;this._isSilent=!0;for(var e=arguments.length,A=new Array(e),i=0;i<e;i++)A[i]=arguments[i];return this.execute.apply(this,U()(A).call(A,[this._isSilent])).then(function(){t._isSilent=!1})}},{key:"execute",value:function(){var t=this;if(this._isLocked)return T().reject(cA);for(var e=arguments.length,A=new Array(e),i=0;i<e;i++)A[i]=arguments[i];var n=A[0];return W()(n)&&(n=ai.create.apply(ai,A)),this._invokeExecution(n).then(function(e){return t.clearRedoStack(),e})}},{key:"undo",value:function(){var t,e,A=this._undoStack.pop(),i="";return A&&this._isLocked&&(this.pushUndoStack(A,!0),A=null),A?(this.isEmptyUndoStack()&&this._fireUndoStackChanged(),t=this._invokeUndo(A)):(i=fA,this._isLocked&&(i=U()(e="".concat(i," Because ")).call(e,cA)),t=T().reject(i)),t}},{key:"redo",value:function(){var t,e,A=this._redoStack.pop(),i="";return A&&this._isLocked&&(this.pushRedoStack(A,!0),A=null),A?(this.isEmptyRedoStack()&&this._fireRedoStackChanged(),t=this._invokeExecution(A,!0)):(i=gA,this._isLocked&&(i=U()(e="".concat(i," Because ")).call(e,cA)),t=T().reject(i)),t}},{key:"pushUndoStack",value:function(t,e){this._undoStack.push(t),e||this._fireUndoStackChanged()}},{key:"pushRedoStack",value:function(t,e){this._redoStack.push(t),e||this._fireRedoStackChanged()}},{key:"isEmptyRedoStack",value:function(){return 0===this._redoStack.length}},{key:"isEmptyUndoStack",value:function(){return 0===this._undoStack.length}},{key:"clearUndoStack",value:function(){this.isEmptyUndoStack()||(this._undoStack=[],this._fireUndoStackChanged())}},{key:"clearRedoStack",value:function(){this.isEmptyRedoStack()||(this._redoStack=[],this._fireRedoStackChanged())}}]),t}();K().mixin(ci);var li=ci,ui=i(5214),hi=i.n(ui),gi=i(899),fi=i.n(gi),di={"common.bi.image":"https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png","common.bisize.width":"251px","common.bisize.height":"21px","common.backgroundImage":"none","common.backgroundColor":"#1e1e1e","common.border":"0px","header.backgroundImage":"none","header.backgroundColor":"transparent","header.border":"0px","loadButton.backgroundColor":"#fff","loadButton.border":"1px solid #ddd","loadButton.color":"#222","loadButton.fontFamily":"'Noto Sans', sans-serif","loadButton.fontSize":"12px","downloadButton.backgroundColor":"#fdba3b","downloadButton.border":"1px solid #fdba3b","downloadButton.color":"#fff","downloadButton.fontFamily":"'Noto Sans', sans-serif","downloadButton.fontSize":"12px","menu.normalIcon.color":"#8a8a8a","menu.activeIcon.color":"#555555","menu.disabledIcon.color":"#434343","menu.hoverIcon.color":"#e9e9e9","submenu.normalIcon.color":"#8a8a8a","submenu.activeIcon.color":"#e9e9e9","menu.iconSize.width":"24px","menu.iconSize.height":"24px","submenu.iconSize.width":"32px","submenu.iconSize.height":"32px","submenu.backgroundColor":"#1e1e1e","submenu.partition.color":"#3c3c3c","submenu.normalLabel.color":"#8a8a8a","submenu.normalLabel.fontWeight":"lighter","submenu.activeLabel.color":"#fff","submenu.activeLabel.fontWeight":"lighter","checkbox.border":"0px","checkbox.backgroundColor":"#fff","range.pointer.color":"#fff","range.bar.color":"#666","range.subbar.color":"#d1d1d1","range.disabledPointer.color":"#414141","range.disabledBar.color":"#282828","range.disabledSubbar.color":"#414141","range.value.color":"#fff","range.value.fontWeight":"lighter","range.value.fontSize":"11px","range.value.border":"1px solid #353535","range.value.backgroundColor":"#151515","range.title.color":"#fff","range.title.fontWeight":"lighter","colorpicker.button.border":"1px solid #1e1e1e","colorpicker.title.color":"#fff"},pi=i(2534),vi=function(){function t(e){var A,i,n,r,o;M(this,t),this.styles=this._changeToObject(j()({},di,e)),A=this._styleMaker(),n=Z(document.getElementsByTagName("head"),1)[0],r=document.createElement("link"),o=encodeURIComponent(A),i&&(r.id=i),r.setAttribute("rel","stylesheet"),r.setAttribute("type","text/css"),r.setAttribute("href","data:text/css;charset=UTF-8,".concat(o)),n.appendChild(r),this._loadDefaultSvgIcon()}return _(t,[{key:"getStyle",value:function(t){var e=null,A=t.replace(/\..+$/,""),i=this.styles[t];switch(t){case"common.bi":e=this.styles[t].image;break;case"menu.icon":e={active:this.styles["".concat(A,".activeIcon")],normal:this.styles["".concat(A,".normalIcon")],hover:this.styles["".concat(A,".hoverIcon")],disabled:this.styles["".concat(A,".disabledIcon")]};break;case"submenu.icon":e={active:this.styles["".concat(A,".activeIcon")],normal:this.styles["".concat(A,".normalIcon")]};break;case"submenu.label":e={active:this._makeCssText(this.styles["".concat(A,".activeLabel")]),normal:this._makeCssText(this.styles["".concat(A,".normalLabel")])};break;case"submenu.partition":e={vertical:this._makeCssText(j()({},i,{borderLeft:"1px solid ".concat(i.color)})),horizontal:this._makeCssText(j()({},i,{borderBottom:"1px solid ".concat(i.color)}))};break;case"range.disabledPointer":case"range.disabledBar":case"range.disabledSubbar":case"range.pointer":case"range.bar":case"range.subbar":i.backgroundColor=i.color,e=this._makeCssText(i);break;default:e=this._makeCssText(i)}return e}},{key:"_styleMaker",value:function(){var t,e,A,i,n,r,o,s,a,c,l,u,h,g,f,d,p,v,m,B,y,C,w,b,I,x,M,S,_,Q,F,E,D,T,k,O,L,H,j,P,N,R,z,G,K,Y,W,X,V,Z,J=this.getStyle("submenu.label"),q=this.getStyle("submenu.partition");return t={subMenuLabelActive:J.active,subMenuLabelNormal:J.normal,submenuPartitionVertical:q.vertical,submenuPartitionHorizontal:q.horizontal,biSize:this.getStyle("common.bisize"),subMenuRangeTitle:this.getStyle("range.title"),submenuRangePointer:this.getStyle("range.pointer"),submenuRangeBar:this.getStyle("range.bar"),submenuRangeSubbar:this.getStyle("range.subbar"),submenuDisabledRangePointer:this.getStyle("range.disabledPointer"),submenuDisabledRangeBar:this.getStyle("range.disabledBar"),submenuDisabledRangeSubbar:this.getStyle("range.disabledSubbar"),submenuRangeValue:this.getStyle("range.value"),submenuColorpickerTitle:this.getStyle("colorpicker.title"),submenuColorpickerButton:this.getStyle("colorpicker.button"),submenuCheckbox:this.getStyle("checkbox"),menuIconSize:this.getStyle("menu.iconSize"),submenuIconSize:this.getStyle("submenu.iconSize"),menuIconStyle:this.getStyle("menu.icon"),submenuIconStyle:this.getStyle("submenu.icon")},F=t.subMenuLabelActive,E=t.subMenuLabelNormal,D=t.subMenuRangeTitle,T=t.submenuPartitionVertical,k=t.submenuPartitionHorizontal,O=t.submenuCheckbox,L=t.submenuRangePointer,H=t.submenuRangeValue,j=t.submenuColorpickerTitle,P=t.submenuColorpickerButton,N=t.submenuRangeBar,R=t.submenuRangeSubbar,z=t.submenuDisabledRangePointer,G=t.submenuDisabledRangeBar,K=t.submenuDisabledRangeSubbar,Y=t.submenuIconSize,W=t.menuIconSize,X=t.biSize,V=t.menuIconStyle,Z=t.submenuIconStyle,U()(e=U()(A=U()(i=U()(n=U()(r=U()(o=U()(s=U()(a=U()(c=U()(l=U()(u=U()(h=U()(g=U()(f=U()(d=U()(p=U()(v=U()(m=U()(B=U()(y=U()(C=U()(w=U()(b=U()(I=U()(x=U()(M=U()(S=U()(_=U()(Q='\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype="icon-heart"] label,\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype="icon-location"] label,\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype="icon-polygon"] label,\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype="icon-star"] label,\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype="icon-star-2"] label,\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype="icon-arrow-3"] label,\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype="icon-arrow-2"] label,\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype="icon-arrow"] label,\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype="icon-bubble"] label,\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\n    .tie-crop-button .tui-image-editor-button.apply.active label,\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\n    .tie-resize-button .tui-image-editor-button.apply.active label,\n    .tie-resize-preset-button .tui-image-editor-button.preset.active label,\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\n    .tie-text-effect-button .tui-image-editor-button.active label,\n    .tie-text-align-button.tie-text-align-left .tui-image-editor-button.left label,\n    .tie-text-align-button.tie-text-align-center .tui-image-editor-button.center label,\n    .tie-text-align-button.tie-text-align-right .tui-image-editor-button.right label,\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\n        '.concat(F,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\n        ")).call(Q,E,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\n        ")).call(_,D,"\n    }\n    .tui-image-editor-container .tui-image-editor-partition > div {\n        ")).call(S,T,"\n    }\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\n        ")).call(M,k,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\n        ")).call(x,O,"\n    }\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\n        border: 0;\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\n        ")).call(I,L,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\n        ")).call(b,N,"\n    }\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\n        ")).call(w,R,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\n        ")).call(C,z,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\n        ")).call(y,K,"\n    }\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\n        ")).call(B,G,"\n    }\n    .tui-image-editor-container .tui-image-editor-range-value {\n        ")).call(m,H,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\n        ")).call(v,j,"\n    }\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\n        ")).call(p,P,"\n    }\n    .tui-image-editor-container .svg_ic-menu {\n        ")).call(d,W,"\n    }\n    .tui-image-editor-container .svg_ic-submenu {\n        ")).call(f,Y,"\n    }\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\n        ")).call(g,X,"\n    }\n    .tui-image-editor-menu use.normal.use-default,\n    .tui-image-editor-help-menu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(h,V.normal.color,";\n        stroke: ")).call(u,V.normal.color,";\n    }\n    .tui-image-editor-menu use.active.use-default,\n    .tui-image-editor-help-menu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(l,V.active.color,";\n        stroke: ")).call(c,V.active.color,";\n    }\n    .tui-image-editor-menu use.hover.use-default,\n    .tui-image-editor-help-menu use.hover.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(a,V.hover.color,";\n        stroke: ")).call(s,V.hover.color,";\n    }\n    .tui-image-editor-menu use.disabled.use-default,\n    .tui-image-editor-help-menu use.disabled.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(o,V.disabled.color,";\n        stroke: ")).call(r,V.disabled.color,";\n    }\n    .tui-image-editor-submenu use.normal.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(n,Z.normal.color,";\n        stroke: ")).call(i,Z.normal.color,";\n    }\n    .tui-image-editor-submenu use.active.use-default {\n        fill-rule: evenodd;\n        fill: ")).call(A,Z.active.color,";\n        stroke: ")).call(e,Z.active.color,";\n    }\n")}},{key:"_changeToObject",value:function(t){var e={};return z()(t,function(t,A){var i=Z(A.match(/^(.+)\.([a-z]+)$/i),3),n=i[1],r=i[2];e[n]||(e[n]={}),e[n][r]=t}),e}},{key:"_makeCssText",value:function(t){var e=this,A=[];return z()(t,function(t,i){var n,o;r()(n=["backgroundImage"]).call(n,i)>-1&&"none"!==t&&(t="url(".concat(t,")")),A.push(U()(o="".concat(e._toUnderScore(i),": ")).call(o,t))}),A.join(";")}},{key:"_toUnderScore",value:function(t){return t.replace(/([A-Z])/g,function(t,e){return"-".concat(e.toLowerCase())})}},{key:"_loadDefaultSvgIcon",value:function(){if(!document.getElementById("tui-image-editor-svg-default-icons")){var t=new DOMParser,e=pi.replace(/data:image\/svg\+xml;base64,/,""),A=t.parseFromString(atob(e),"text/xml");document.body.appendChild(A.documentElement)}}},{key:"_makeIconClassName",value:function(t,e){var A=(e?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[t],i=A.path,n=A.name;return i&&n?t:"".concat(t," use-default")}},{key:"_makeSvgIconPrefix",value:function(t,e){var A,i=(e?this.getStyle("submenu.icon"):this.getStyle("menu.icon"))[t],n=i.path,r=i.name;return n&&r?U()(A="".concat(n,"#")).call(A,r,"-"):"#"}},{key:"_makeSvgItem",value:function(t,e,A){var i=this;return fi()(t).call(t,function(t){var n,r,o=i._makeSvgIconPrefix(t,A),s=i._toUnderScore(e),a=i._makeIconClassName(t,A);return U()(n=U()(r='<use xlink:href="'.concat(o,"ic-")).call(r,s,'" class="')).call(n,a,'"/>')}).join("")}},{key:"makeMenSvgIconSet",value:function(t,e){var A,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return U()(A='<svg class="svg_ic-'.concat(i?"submenu":"menu",'">')).call(A,this._makeSvgItem(t,e,i),"</svg>")}}]),t}(),mi=vi,Bi=i(9146),yi=i.n(Bi),Ci=i(6623),wi=i(4230);function bi(t,e){return(bi=wi||function(t,e){return t.__proto__=e,t})(t,e)}function Ii(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Ci(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}var xi=i(3742);function Mi(t){return(Mi="function"==typeof m&&"symbol"==typeof xi?function(t){return typeof t}:function(t){return t&&"function"==typeof m&&t.constructor===m&&t!==m.prototype?"symbol":typeof t})(t)}function Si(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _i(t,e){if(e&&("object"===Mi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Si(t)}var Qi=i(9856);function Fi(t){return(Fi=wi?Qi:function(t){return t.__proto__||Qi(t)})(t)}var Ei=i(6092),Ui=i.n(Ei),Di=i(4858),Ti=i.n(Di),ki=["#000000","#2a2a2a","#545454","#7e7e7e","#a8a8a8","#d2d2d2","#ffffff","","#ff4040","#ff6518","#ffbb3b","#03bd9e","#00a9ff","#515ce6","#9e5fff","#ff5583"],Oi=function(){function t(e,A){var i=A.defaultColor,n=void 0===i?"#7e7e7e":i,r=A.toggleDirection,o=void 0===r?"up":r,s=A.usageStatistics;M(this,t),this.colorpickerElement=e,this.usageStatistics=s,this._show=!1,this._colorpickerElement=e,this._toggleDirection=o,this._makePickerButtonElement(n),this._makePickerLayerElement(e,e.getAttribute("title")),this._color=n,this.picker=Ti().create({container:this.pickerElement,preset:ki,color:n,usageStatistics:this.usageStatistics}),this._addEvent()}return _(t,[{key:"destroy",value:function(){var t=this;this._removeEvent(),this.picker.destroy(),this.colorpickerElement.innerHTML="",z()(this,function(e,A){t[A]=null})}},{key:"color",get:function(){return this._color},set:function(t){this._color=t,this._changeColorElement(t)}},{key:"_changeColorElement",value:function(t){t?(this.colorElement.classList.remove("transparent"),this.colorElement.style.backgroundColor=t):(this.colorElement.style.backgroundColor="#fff",this.colorElement.classList.add("transparent"))}},{key:"_makePickerButtonElement",value:function(t){this.colorpickerElement.classList.add("tui-image-editor-button"),this.colorElement=document.createElement("div"),this.colorElement.className="color-picker-value",t?this.colorElement.style.backgroundColor=t:this.colorElement.classList.add("transparent")}},{key:"_makePickerLayerElement",value:function(t,e){var A=document.createElement("label"),i=document.createElement("div");this.pickerControl=document.createElement("div"),this.pickerControl.className="color-picker-control",this.pickerElement=document.createElement("div"),this.pickerElement.className="color-picker",A.innerHTML=e,i.className="triangle",this.pickerControl.appendChild(this.pickerElement),this.pickerControl.appendChild(i),t.appendChild(this.pickerControl),t.appendChild(this.colorElement),t.appendChild(A)}},{key:"_addEvent",value:function(){var t,e=this;this.picker.on("selectColor",function(t){e._changeColorElement(t.color),e._color=t.color,e.fire("change",t.color)}),this.eventHandler={pickerToggle:F()(t=this._pickerToggleEventHandler).call(t,this),pickerHide:function(){return e.hide()}},this.colorpickerElement.addEventListener("click",this.eventHandler.pickerToggle),document.body.addEventListener("click",this.eventHandler.pickerHide)}},{key:"_removeEvent",value:function(){this.colorpickerElement.removeEventListener("click",this.eventHandler.pickerToggle),document.body.removeEventListener("click",this.eventHandler.pickerHide),this.picker.off()}},{key:"_pickerToggleEventHandler",value:function(t){var e=t.target,A=e&&this._isElementInColorPickerControl(e);(!A||A&&this._isPaletteButton(e))&&(this._show=!this._show,this.pickerControl.style.display=this._show?"block":"none",this._setPickerControlPosition(),this.fire("changeShow",this)),t.stopPropagation()}},{key:"_isPaletteButton",value:function(t){return"tui-colorpicker-palette-button"===t.className}},{key:"_isElementInColorPickerControl",value:function(t){for(var e=t;e!==document.body&&e;){if(e===this.pickerControl)return!0;e=e.parentNode}return!1}},{key:"hide",value:function(){this._show=!1,this.pickerControl.style.display="none"}},{key:"_setPickerControlPosition",value:function(){var t=this.pickerControl.style,e=this._colorpickerElement.clientWidth/2+2,A=this.pickerControl.offsetWidth/2-e,i=-1*(this.pickerControl.offsetHeight+10);"down"===this._toggleDirection&&(i=30),t.top="".concat(i,"px"),t.left="-".concat(A,"px")}}]),t}();K().mixin(Oi);var Li=Oi,Hi=/(-?)([0-9]*)[^0-9]*([0-9]*)/g,ji=function(){function t(e){var A,i,n,r,o,s,a,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};M(this,t),this._value=c.value||0,this.rangeElement=e.slider,this.rangeInputElement=e.input,this._drawRangeElement(),this.rangeWidth=this._getRangeWidth(),this._min=c.min||0,this._max=c.max||100,this._useDecimal=c.useDecimal,this._absMax=-1*this._min+this._max,this.realTimeEvent=c.realTimeEvent||!1,this._userInputTimer=null,this.eventHandler={startChangingSlide:F()(A=this._startChangingSlide).call(A,this),stopChangingSlide:F()(i=this._stopChangingSlide).call(i,this),changeSlide:F()(n=this._changeSlide).call(n,this),changeSlideFinally:F()(r=this._changeSlideFinally).call(r,this),changeInput:F()(o=this._changeInput).call(o,this),changeInputFinally:F()(s=this._changeValueWithInput).call(s,this,!0),changeInputWithArrow:F()(a=this._changeValueWithInputKeyEvent).call(a,this)},this._addClickEvent(),this._addDragEvent(),this._addInputEvent(),this.value=c.value,this.trigger("change")}return _(t,[{key:"destroy",value:function(){var t=this;this._removeClickEvent(),this._removeDragEvent(),this._removeInputEvent(),this.rangeElement.innerHTML="",z()(this,function(e,A){t[A]=null})}},{key:"max",get:function(){return this._max},set:function(t){this._max=t,this._absMax=-1*this._min+this._max,this.value=this._value}},{key:"min",get:function(){return this._min},set:function(t){this._min=t,this.max=this._max}},{key:"value",get:function(){return this._value},set:function(t){var e=((t=this._useDecimal?t:HA(t))-this._min)*this.rangeWidth/this._absMax;this.rangeWidth<e&&(e=this.rangeWidth),this.pointer.style.left="".concat(e,"px"),this.subbar.style.right="".concat(this.rangeWidth-e,"px"),this._value=t,this.rangeInputElement&&(this.rangeInputElement.value=t)}},{key:"trigger",value:function(t){this.fire(t,this._value)}},{key:"_getRangeWidth",value:function(){var t=function(t){return HA(window.getComputedStyle(t,null).width)};return t(this.rangeElement)-t(this.pointer)}},{key:"_drawRangeElement",value:function(){this.rangeElement.classList.add("tui-image-editor-range"),this.bar=document.createElement("div"),this.bar.className="tui-image-editor-virtual-range-bar",this.subbar=document.createElement("div"),this.subbar.className="tui-image-editor-virtual-range-subbar",this.pointer=document.createElement("div"),this.pointer.className="tui-image-editor-virtual-range-pointer",this.bar.appendChild(this.subbar),this.bar.appendChild(this.pointer),this.rangeElement.appendChild(this.bar)}},{key:"_addInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.addEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.addEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_removeInputEvent",value:function(){this.rangeInputElement&&(this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInputWithArrow),this.rangeInputElement.removeEventListener("keydown",this.eventHandler.changeInput),this.rangeInputElement.removeEventListener("blur",this.eventHandler.changeInputFinally))}},{key:"_changeValueWithInputKeyEvent",value:function(t){var e,A=t.keyCode,i=t.target;if(!(r()(e=[eA,tA]).call(e,A)<0)){var n=Number(i.value);if(!((n=this._valueUpDownForKeyEvent(n,A))<this._min||n>this._max)){var o=kA(n,this._min,this.max);this.value=o,this.fire("change",o,!1)}}}},{key:"_valueUpDownForKeyEvent",value:function(t,e){var A=this._useDecimal?.1:1;return e===eA?t+=A:e===tA&&(t-=A),t}},{key:"_changeInput",value:function(t){var e=this;clearTimeout(this._userInputTimer);var A=t.keyCode;A<iA||A>nA?t.preventDefault():this._userInputTimer=d()(function(){e._inputSetValue(t.target.value)},350)}},{key:"_inputSetValue",value:function(t){var e=this._useDecimal?Number(t):HA(t);e=kA(e,this._min,this.max),this.value=e,this.fire("change",e,!0)}},{key:"_changeValueWithInput",value:function(t,e){var A,i=e.keyCode,n=e.target;if(!(r()(A=[eA,tA]).call(A,i)>=0)){var o=this._filterForInputText(n.value),s=!o||isNaN(o);n.value=o,s||this._inputSetValue(o)}}},{key:"_addClickEvent",value:function(){this.rangeElement.addEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_removeClickEvent",value:function(){this.rangeElement.removeEventListener("click",this.eventHandler.changeSlideFinally)}},{key:"_addDragEvent",value:function(){this.pointer.addEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_removeDragEvent",value:function(){this.pointer.removeEventListener("mousedown",this.eventHandler.startChangingSlide)}},{key:"_changeSlide",value:function(t){var e=t.screenX-this.firstPosition,A=this.firstLeft+e;A=(A=A>this.rangeWidth?this.rangeWidth:A)<0?0:A,this.pointer.style.left="".concat(A,"px"),this.subbar.style.right="".concat(this.rangeWidth-A,"px");var i=A/this.rangeWidth,n=this._absMax*i+this._min,r=this._useDecimal?n:HA(n);this.value!==r&&(this.value=r,this.realTimeEvent&&this.fire("change",this._value,!1))}},{key:"_changeSlideFinally",value:function(t){if(t.stopPropagation(),"tui-image-editor-range"===t.target.className){var e=t.offsetX/this.rangeWidth,A=this._absMax*e+this._min;this.pointer.style.left="".concat(e*this.rangeWidth,"px"),this.subbar.style.right="".concat((1-e)*this.rangeWidth,"px"),this.value=A,this.fire("change",A,!0)}}},{key:"_startChangingSlide",value:function(t){this.firstPosition=t.screenX,this.firstLeft=HA(this.pointer.style.left)||0,document.addEventListener("mousemove",this.eventHandler.changeSlide),document.addEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_stopChangingSlide",value:function(){this.fire("change",this._value,!0),document.removeEventListener("mousemove",this.eventHandler.changeSlide),document.removeEventListener("mouseup",this.eventHandler.stopChangingSlide)}},{key:"_filterForInputText",value:function(t){return t.replace(Hi,"$1$2$3")}}]),t}();K().mixin(ji);var Pi=ji,Ni=function(){function t(e,A){var i=A.locale,n=A.name,r=A.makeSvgIcon,o=A.menuBarPosition,s=A.templateHtml,a=A.usageStatistics;M(this,t),this.subMenuElement=e,this.menuBarPosition=o,this.toggleDirection="top"===o?"down":"up",this.colorPickerControls=[],this.usageStatistics=a,this.eventHandler={},this._makeSubMenuElement({locale:i,name:n,makeSvgIcon:r,templateHtml:s})}return _(t,[{key:"selector",value:function(t){return this.subMenuElement.querySelector(t)}},{key:"colorPickerChangeShow",value:function(t){var e;et()(e=this.colorPickerControls).call(e,function(e){t!==e&&e.hide()})}},{key:"getButtonType",value:function(t,e){return t.className.match(RegExp("(".concat(e.join("|"),")")))[0]}},{key:"changeClass",value:function(t,e,A){t.classList.remove(e),t.classList.add(A)}},{key:"changeStandbyMode",value:function(){}},{key:"changeStartMode",value:function(){}},{key:"_makeSubMenuElement",value:function(t){var e=t.locale,A=t.name,i=t.iconStyle,n=t.makeSvgIcon,r=t.templateHtml,o=document.createElement("div");o.className="tui-image-editor-menu-".concat(A),o.innerHTML=r({locale:e,iconStyle:i,makeSvgIcon:n}),this.subMenuElement.appendChild(o)}},{key:"_onStartEditingInputBox",value:function(){this.fire(ye)}},{key:"_onStopEditingInputBox",value:function(){this.fire(Ce)}}]),t}();K().mixin(Ni);var Ri=Ni,zi=function(t){var e,A,i,n,r,o,s,a,c=t.locale,l=t.makeSvgIcon;return U()(e=U()(A=U()(i=U()(n=U()(r=U()(o=U()(s=U()(a='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-shape-button">\n            <div class="tui-image-editor-button rect">\n                <div>\n                    '.concat(l(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(a,c.localize("Rectangle"),' </label>\n            </div>\n            <div class="tui-image-editor-button circle">\n                <div>\n                    ')).call(s,l(["normal","active"],"shape-circle",!0),"\n                </div>\n                <label> ")).call(o,c.localize("Circle"),' </label>\n            </div>\n            <div class="tui-image-editor-button triangle">\n                <div>\n                    ')).call(r,l(["normal","active"],"shape-triangle",!0),"\n                </div>\n                <label> ")).call(n,c.localize("Triangle"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-shape-color-button">\n            <div class="tie-color-fill" title="')).call(i,c.localize("Fill"),'"></div>\n            <div class="tie-color-stroke" title="')).call(A,c.localize("Stroke"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(e,c.localize("Stroke"),'</label>\n            <div class="tie-stroke-range"></div>\n            <input class="tie-stroke-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function Gi(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Ki={stroke:"#ffbb3b",fill:"",strokeWidth:3},Yi=function(t){Ii(A,t);var e=Gi(A);function A(t,i){var n,r=i.locale,o=i.makeSvgIcon,s=i.menuBarPosition,a=i.usageStatistics;return M(this,A),(n=e.call(this,t,{locale:r,name:"shape",makeSvgIcon:o,menuBarPosition:s,templateHtml:zi,usageStatistics:a})).type=null,n.options=Ki,n._els={shapeSelectButton:n.selector(".tie-shape-button"),shapeColorButton:n.selector(".tie-shape-color-button"),strokeRange:new Pi({slider:n.selector(".tie-stroke-range"),input:n.selector(".tie-stroke-range-value")},yA),fillColorpicker:new Li(n.selector(".tie-color-fill"),{defaultColor:"",toggleDirection:n.toggleDirection,usageStatistics:n.usageStatistics}),strokeColorpicker:new Li(n.selector(".tie-color-stroke"),{defaultColor:"#ffbb3b",toggleDirection:n.toggleDirection,usageStatistics:n.usageStatistics})},n.colorPickerControls.push(n._els.fillColorpicker),n.colorPickerControls.push(n._els.strokeColorpicker),n.colorPickerInputBoxes=[],n.colorPickerInputBoxes.push(n._els.fillColorpicker.colorpickerElement.querySelector(Ie)),n.colorPickerInputBoxes.push(n._els.strokeColorpicker.colorpickerElement.querySelector(Ie)),n}return _(A,[{key:"destroy",value:function(){this._removeEvent(),this._els.strokeRange.destroy(),this._els.fillColorpicker.destroy(),this._els.strokeColorpicker.destroy(),RA(this)}},{key:"addEvent",value:function(t){var e,A,i,n,r,o,s=this;this.eventHandler.shapeTypeSelected=F()(e=this._changeShapeHandler).call(e,this),this.actions=t,this._els.shapeSelectButton.addEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.on("change",F()(A=this._changeStrokeRangeHandler).call(A,this)),this._els.fillColorpicker.on("change",F()(i=this._changeFillColorHandler).call(i,this)),this._els.strokeColorpicker.on("change",F()(n=this._changeStrokeColorHandler).call(n,this)),this._els.fillColorpicker.on("changeShow",F()(r=this.colorPickerChangeShow).call(r,this)),this._els.strokeColorpicker.on("changeShow",F()(o=this.colorPickerChangeShow).call(o,this)),Ui()(this.colorPickerInputBoxes,function(t){var e,A;t.addEventListener(we,F()(e=s._onStartEditingInputBox).call(e,s)),t.addEventListener(be,F()(A=s._onStopEditingInputBox).call(A,s))},this)}},{key:"_removeEvent",value:function(){var t=this;this._els.shapeSelectButton.removeEventListener("click",this.eventHandler.shapeTypeSelected),this._els.strokeRange.off(),this._els.fillColorpicker.off(),this._els.strokeColorpicker.off(),Ui()(this.colorPickerInputBoxes,function(e){var A,i;e.removeEventListener(we,F()(A=t._onStartEditingInputBox).call(A,t)),e.removeEventListener(be,F()(i=t._onStopEditingInputBox).call(i,t))},this)}},{key:"setShapeStatus",value:function(t){var e=t.strokeWidth,A=t.strokeColor,i=t.fillColor;this._els.strokeRange.value=e,this._els.strokeColorpicker.color=A,this._els.fillColorpicker.color=i,this.options.stroke=A,this.options.fill=i,this.options.strokeWidth=e,this.actions.setDrawingShape(this.type,{strokeWidth:e})}},{key:"changeStartMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.changeSelectableAll(!0),this._els.shapeSelectButton.classList.remove("circle"),this._els.shapeSelectButton.classList.remove("triangle"),this._els.shapeSelectButton.classList.remove("rect")}},{key:"setMaxStrokeValue",value:function(t){var e=t;e<=0&&(e=yA.max),this._els.strokeRange.max=e}},{key:"setStrokeValue",value:function(t){this._els.strokeRange.value=t,this._els.strokeRange.trigger("change")}},{key:"getStrokeValue",value:function(){return this._els.strokeRange.value}},{key:"_changeShapeHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){this.actions.stopDrawingMode(),this.actions.discardSelection();var A=this.getButtonType(e,["circle","triangle","rect"]);if(this.type===A)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=A,t.currentTarget.classList.add(A),this.actions.changeSelectableAll(!1),this.actions.modeChange("shape")}}},{key:"_changeStrokeRangeHandler",value:function(t,e){this.options.strokeWidth=HA(t),this.actions.changeShape({strokeWidth:t},!e),this.actions.setDrawingShape(this.type,this.options)}},{key:"_changeFillColorHandler",value:function(t){t=t||"transparent",this.options.fill=t,this.actions.changeShape({fill:t})}},{key:"_changeStrokeColorHandler",value:function(t){t=t||"transparent",this.options.stroke=t,this.actions.changeShape({stroke:t})}}]),A}(Ri),Wi=Yi,Xi=function(t){var e,A,i,n,r,o,s,a,c,l,u,h,g,f,d,p,v,m=t.locale,B=t.makeSvgIcon;return U()(e=U()(A=U()(i=U()(n=U()(r=U()(o=U()(s=U()(a=U()(c=U()(l=U()(u=U()(h=U()(g=U()(f=U()(d=U()(p=U()(v='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-crop-preset-button">\n            <div class="tui-image-editor-button preset preset-none active">\n                <div>\n                    '.concat(B(["normal","active"],"shape-rectangle",!0),"\n                </div>\n                <label> ")).call(v,m.localize("Custom"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-square">\n                <div>\n                    ')).call(p,B(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(d,m.localize("Square"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-3-2">\n                <div>\n                    ')).call(f,B(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(g,m.localize("3:2"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-4-3">\n                <div>\n                    ')).call(h,B(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(u,m.localize("4:3"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-5-4">\n                <div>\n                    ')).call(l,B(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(c,m.localize("5:4"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-7-5">\n                <div>\n                    ')).call(a,B(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(s,m.localize("7:5"),' </label>\n            </div>\n            <div class="tui-image-editor-button preset preset-16-9">\n                <div>\n                    ')).call(o,B(["normal","active"],"crop",!0),"\n                </div>\n                <label> ")).call(r,m.localize("16:9"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline">\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-crop-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(n,B(["normal","active"],"apply"),"\n                <label>\n                    ")).call(i,m.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(A,B(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(e,m.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function Vi(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Zi=function(t){Ii(A,t);var e=Vi(A);function A(t,i){var n,r=i.locale,o=i.makeSvgIcon,s=i.menuBarPosition,a=i.usageStatistics;return M(this,A),(n=e.call(this,t,{locale:r,name:"crop",makeSvgIcon:o,menuBarPosition:s,templateHtml:Xi,usageStatistics:a})).status="active",n._els={apply:n.selector(".tie-crop-button .apply"),cancel:n.selector(".tie-crop-button .cancel"),preset:n.selector(".tie-crop-preset-button")},n.defaultPresetButton=n._els.preset.querySelector(".preset-none"),n}return _(A,[{key:"destroy",value:function(){this._removeEvent(),RA(this)}},{key:"addEvent",value:function(t){var e,A,i,n=F()(e=this._applyEventHandler).call(e,this),r=F()(A=this._cancelEventHandler).call(A,this),o=F()(i=this._cropzonePresetEventHandler).call(i,this);this.eventHandler={apply:n,cancel:r,cropzonePreset:o},this.actions=t,this._els.apply.addEventListener("click",n),this._els.cancel.addEventListener("click",r),this._els.preset.addEventListener("click",o)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel),this._els.preset.removeEventListener("click",this.eventHandler.cropzonePreset)}},{key:"_applyEventHandler",value:function(){this.actions.crop(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.cancel(),this._els.apply.classList.remove("active")}},{key:"_cropzonePresetEventHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button.preset");if(e){var A=Z(e.className.match(/preset-[^\s]+/),1)[0];this._setPresetButtonActive(e),this.actions.preset(A)}}},{key:"changeStartMode",value:function(){this.actions.modeChange("crop")}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this._setPresetButtonActive()}},{key:"changeApplyButtonStatus",value:function(t){t?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}},{key:"_setPresetButtonActive",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultPresetButton;z()(this._els.preset.querySelectorAll(".preset"),function(t){t.classList.remove("active")}),t&&t.classList.add("active")}}]),A}(Ri),Ji=Zi,qi=function(t){var e,A,i,n,r,o,s=t.locale,a=t.makeSvgIcon;return U()(e=U()(A=U()(i=U()(n=U()(r=U()(o='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-range-wrap tui-image-editor-newline">\n                <label class="range">'.concat(s.localize("Width"),'&nbsp;</label>\n                <div class="tie-width-range"></div>\n                <input class="tie-width-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n                <div class="tui-image-editor-partition tui-image-editor-newline"></div>\n                <label class="range">')).call(o,s.localize("Height"),'</label>\n                <div class="tie-height-range"></div>\n                <input class="tie-height-range-value tui-image-editor-range-value" value="0" /> <label>px</label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-lock-aspect-ratio">\n                        <span>')).call(r,s.localize("Lock Aspect Ratio"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-partition tui-image-editor-newline"></li>\n        <li class="tie-resize-button action">\n            <div class="tui-image-editor-button apply">\n                ')).call(n,a(["normal","active"],"apply"),"\n                <label>\n                    ")).call(i,s.localize("Apply"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button cancel">\n                ')).call(A,a(["normal","active"],"cancel"),"\n                <label>\n                    ")).call(e,s.localize("Cancel"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function $i(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var tn=function(t){Ii(A,t);var e=$i(A);function A(t,i){var n,r=i.locale,o=i.makeSvgIcon,s=i.menuBarPosition,a=i.usageStatistics;return M(this,A),(n=e.call(this,t,{locale:r,name:"resize",makeSvgIcon:o,menuBarPosition:s,templateHtml:qi,usageStatistics:a})).status="active",n._lockState=!1,n._originalDimensions=null,n._els={widthRange:new Pi({slider:n.selector(".tie-width-range"),input:n.selector(".tie-width-range-value")},SA),heightRange:new Pi({slider:n.selector(".tie-height-range"),input:n.selector(".tie-height-range-value")},SA),lockAspectRatio:n.selector(".tie-lock-aspect-ratio"),apply:n.selector(".tie-resize-button .apply"),cancel:n.selector(".tie-resize-button .cancel")},n}return _(A,[{key:"changeStartMode",value:function(){this.actions.modeChange("resize");var t=this.actions.getCurrentDimensions();this._originalDimensions=t,this.setWidthValue(t.width),this.setHeightValue(t.height)}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode(),this.actions.reset(!0)}},{key:"setLimit",value:function(t){this._els.widthRange.min=this.calcMinValue(t.minWidth),this._els.heightRange.min=this.calcMinValue(t.minHeight),this._els.widthRange.max=this.calcMaxValue(t.maxWidth),this._els.heightRange.max=this.calcMaxValue(t.maxHeight)}},{key:"calcMaxValue",value:function(t){return t<=0&&(t=SA.max),t}},{key:"calcMinValue",value:function(t){return t<=0&&(t=SA.min),t}},{key:"setWidthValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.widthRange.value=t,e&&this._els.widthRange.trigger("change")}},{key:"setHeightValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._els.heightRange.value=t,e&&this._els.heightRange.trigger("change")}},{key:"destroy",value:function(){this._removeEvent(),RA(this)}},{key:"addEvent",value:function(t){var e,A,i,n,r;this._els.widthRange.on("change",F()(e=this._changeWidthRangeHandler).call(e,this)),this._els.heightRange.on("change",F()(A=this._changeHeightRangeHandler).call(A,this)),this._els.lockAspectRatio.addEventListener("change",F()(i=this._changeLockAspectRatio).call(i,this));var o=F()(n=this._applyEventHandler).call(n,this),s=F()(r=this._cancelEventHandler).call(r,this);this.eventHandler={apply:o,cancel:s},this.actions=t,this._els.apply.addEventListener("click",o),this._els.cancel.addEventListener("click",s)}},{key:"_changeWidthRangeHandler",value:function(t){this.actions.preview("width",HA(t),this._lockState)}},{key:"_changeHeightRangeHandler",value:function(t){this.actions.preview("height",HA(t),this._lockState)}},{key:"_changeLockAspectRatio",value:function(t){this._lockState=t.target.checked,this.actions.lockAspectRatio(this._lockState,SA.min,SA.max)}},{key:"_removeEvent",value:function(){this._els.apply.removeEventListener("click",this.eventHandler.apply),this._els.cancel.removeEventListener("click",this.eventHandler.cancel)}},{key:"_applyEventHandler",value:function(){this.actions.resize(),this._els.apply.classList.remove("active")}},{key:"_cancelEventHandler",value:function(){this.actions.reset(),this._els.cancel.classList.remove("active")}},{key:"changeApplyButtonStatus",value:function(t){t?this._els.apply.classList.add("active"):this._els.apply.classList.remove("active")}}]),A}(Ri),en=tn,An=function(t){var e,A,i,n,r,o=t.locale,s=t.makeSvgIcon;return U()(e=U()(A=U()(i=U()(n=U()(r='\n    <ul class="tie-flip-button tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button flipX">\n                <div>\n                    '.concat(s(["normal","active"],"flip-x",!0),"\n                </div>\n                <label>\n                    ")).call(r,o.localize("Flip X"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button flipY">\n                <div>\n                    ')).call(n,s(["normal","active"],"flip-y",!0),"\n                </div>\n                <label>\n                    ")).call(i,o.localize("Flip Y"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tui-image-editor-button resetFlip">\n                <div>\n                    ')).call(A,s(["normal","active"],"flip-reset",!0),"\n                </div>\n                <label>\n                    ")).call(e,o.localize("Reset"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function nn(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var rn=function(t){Ii(A,t);var e=nn(A);function A(t,i){var n,r=i.locale,o=i.makeSvgIcon,s=i.menuBarPosition,a=i.usageStatistics;return M(this,A),(n=e.call(this,t,{locale:r,name:"flip",makeSvgIcon:o,menuBarPosition:s,templateHtml:An,usageStatistics:a})).flipStatus=!1,n._els={flipButton:n.selector(".tie-flip-button")},n}return _(A,[{key:"destroy",value:function(){this._removeEvent(),RA(this)}},{key:"addEvent",value:function(t){var e;this.eventHandler.changeFlip=F()(e=this._changeFlip).call(e,this),this._actions=t,this._els.flipButton.addEventListener("click",this.eventHandler.changeFlip)}},{key:"_removeEvent",value:function(){this._els.flipButton.removeEventListener("click",this.eventHandler.changeFlip)}},{key:"_changeFlip",value:function(t){var e=this,A=t.target.closest(".tui-image-editor-button");if(A){var i=this.getButtonType(A,["flipX","flipY","resetFlip"]);if(!this.flipStatus&&"resetFlip"===i)return;this._actions.flip(i).then(function(t){var A=e._els.flipButton.classList;e.flipStatus=!1,A.remove("resetFlip"),z()(["flipX","flipY"],function(i){A.remove(i),t[i]&&(A.add(i),A.add("resetFlip"),e.flipStatus=!0)})})}}}]),A}(Ri),on=function(t){var e,A,i=t.locale,n=t.makeSvgIcon;return U()(e=U()(A='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-rotate-button">\n            <div class="tui-image-editor-button clockwise">\n                <div>\n                    '.concat(n(["normal","active"],"rotate-clockwise",!0),'\n                </div>\n                <label> 30 </label>\n            </div>\n            <div class="tui-image-editor-button counterclockwise">\n                <div>\n                    ')).call(A,n(["normal","active"],"rotate-counterclockwise",!0),'\n                </div>\n                <label> -30 </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(e,i.localize("Range"),'</label>\n            <div class="tie-rotate-range"></div>\n            <input class="tie-rotate-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function sn(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var an=function(t){Ii(A,t);var e=sn(A);function A(t,i){var n,r=i.locale,o=i.makeSvgIcon,s=i.menuBarPosition,a=i.usageStatistics;return M(this,A),(n=e.call(this,t,{locale:r,name:"rotate",makeSvgIcon:o,menuBarPosition:s,templateHtml:on,usageStatistics:a}))._value=0,n._els={rotateButton:n.selector(".tie-rotate-button"),rotateRange:new Pi({slider:n.selector(".tie-rotate-range"),input:n.selector(".tie-rotate-range-value")},mA)},n}return _(A,[{key:"destroy",value:function(){this._removeEvent(),this._els.rotateRange.destroy(),RA(this)}},{key:"setRangeBarAngle",value:function(t,e){var A=e;"rotate"===t&&(A=$()(this._els.rotateRange.value,10)+e),this._setRangeBarRatio(A)}},{key:"_setRangeBarRatio",value:function(t){this._els.rotateRange.value=t}},{key:"addEvent",value:function(t){var e,A;this.eventHandler.rotationAngleChanged=F()(e=this._changeRotateForButton).call(e,this),this.actions=t,this._els.rotateButton.addEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.on("change",F()(A=this._changeRotateForRange).call(A,this))}},{key:"_removeEvent",value:function(){this._els.rotateButton.removeEventListener("click",this.eventHandler.rotationAngleChanged),this._els.rotateRange.off()}},{key:"_changeRotateForRange",value:function(t,e){var A=HA(t);this.actions.setAngle(A,!e),this._value=A}},{key:"_changeRotateForButton",value:function(t){var e=t.target.closest(".tui-image-editor-button"),A=this._els.rotateRange.value;if(e){var i={clockwise:30,counterclockwise:-30}[this.getButtonType(e,["counterclockwise","clockwise"])],n=$()(A,10)+i;n>=-360&&n<=360&&this.actions.rotate(i)}}}]),A}(Ri),cn=function(t){var e,A,i,n,r,o,s,a,c,l,u,h,g,f=t.locale,d=t.makeSvgIcon;return U()(e=U()(A=U()(i=U()(n=U()(r=U()(o=U()(s=U()(a=U()(c=U()(l=U()(u=U()(h=U()(g='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-text-effect-button">\n            <div class="tui-image-editor-button bold">\n                <div>\n                    '.concat(d(["normal","active"],"text-bold",!0),"\n                </div>\n                <label> ")).call(g,f.localize("Bold"),' </label>\n            </div>\n            <div class="tui-image-editor-button italic">\n                <div>\n                    ')).call(h,d(["normal","active"],"text-italic",!0),"\n                </div>\n                <label> ")).call(u,f.localize("Italic"),' </label>\n            </div>\n            <div class="tui-image-editor-button underline">\n                <div>\n                    ')).call(l,d(["normal","active"],"text-underline",!0),"\n                </div>\n                <label> ")).call(c,f.localize("Underline"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-text-align-button">\n            <div class="tui-image-editor-button left">\n                <div>\n                    ')).call(a,d(["normal","active"],"text-align-left",!0),"\n                </div>\n                <label> ")).call(s,f.localize("Left"),' </label>\n            </div>\n            <div class="tui-image-editor-button center">\n                <div>\n                    ')).call(o,d(["normal","active"],"text-align-center",!0),"\n                </div>\n                <label> ")).call(r,f.localize("Center"),' </label>\n            </div>\n            <div class="tui-image-editor-button right">\n                <div>\n                    ')).call(n,d(["normal","active"],"text-align-right",!0),"\n                </div>\n                <label> ")).call(i,f.localize("Right"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-text-color" title="')).call(A,f.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(e,f.localize("Text size"),'</label>\n            <div class="tie-text-range"></div>\n            <input class="tie-text-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function ln(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var un=function(t){Ii(A,t);var e=ln(A);function A(t,i){var n,r=i.locale,o=i.makeSvgIcon,s=i.menuBarPosition,a=i.usageStatistics;return M(this,A),(n=e.call(this,t,{locale:r,name:"text",makeSvgIcon:o,menuBarPosition:s,templateHtml:cn,usageStatistics:a})).effect={bold:!1,italic:!1,underline:!1},n.align="tie-text-align-left",n._els={textEffectButton:n.selector(".tie-text-effect-button"),textAlignButton:n.selector(".tie-text-align-button"),textColorpicker:new Li(n.selector(".tie-text-color"),{defaultColor:"#ffbb3b",toggleDirection:n.toggleDirection,usageStatistics:n.usageStatistics}),textRange:new Pi({slider:n.selector(".tie-text-range"),input:n.selector(".tie-text-range-value")},CA)},n.colorPickerInputBox=n._els.textColorpicker.colorpickerElement.querySelector(Ie),n}return _(A,[{key:"destroy",value:function(){this._removeEvent(),this._els.textColorpicker.destroy(),this._els.textRange.destroy(),RA(this)}},{key:"addEvent",value:function(t){var e,A,i,n,r,o,s=F()(e=this._setTextEffectHandler).call(e,this),a=F()(A=this._setTextAlignHandler).call(A,this);this.eventHandler={setTextEffect:s,setTextAlign:a},this.actions=t,this._els.textEffectButton.addEventListener("click",s),this._els.textAlignButton.addEventListener("click",a),this._els.textRange.on("change",F()(i=this._changeTextRnageHandler).call(i,this)),this._els.textColorpicker.on("change",F()(n=this._changeColorHandler).call(n,this)),this.colorPickerInputBox.addEventListener(we,F()(r=this._onStartEditingInputBox).call(r,this)),this.colorPickerInputBox.addEventListener(be,F()(o=this._onStopEditingInputBox).call(o,this))}},{key:"_removeEvent",value:function(){var t,e,A=this.eventHandler,i=A.setTextEffect,n=A.setTextAlign;this._els.textEffectButton.removeEventListener("click",i),this._els.textAlignButton.removeEventListener("click",n),this._els.textRange.off(),this._els.textColorpicker.off(),this.colorPickerInputBox.removeEventListener(we,F()(t=this._onStartEditingInputBox).call(t,this)),this.colorPickerInputBox.removeEventListener(be,F()(e=this._onStopEditingInputBox).call(e,this))}},{key:"changeStandbyMode",value:function(){this.actions.stopDrawingMode()}},{key:"changeStartMode",value:function(){this.actions.modeChange("text")}},{key:"textColor",get:function(){return this._els.textColorpicker.color},set:function(t){this._els.textColorpicker.color=t}},{key:"fontSize",get:function(){return this._els.textRange.value},set:function(t){this._els.textRange.value=t}},{key:"fontStyle",get:function(){return this.effect.italic?"italic":"normal"}},{key:"fontWeight",get:function(){return this.effect.bold?"bold":"normal"}},{key:"underline",get:function(){return this.effect.underline}},{key:"setTextStyleStateOnAction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=it()(t),A=t.fontSize,i=t.fontStyle,n=t.fontWeight,r=t.textDecoration,o=t.textAlign;this.textColor=e,this.fontSize=A,this.setEffectState("italic",i),this.setEffectState("bold",n),this.setEffectState("underline",r),this.setAlignState("tie-text-align-".concat(o))}},{key:"setEffectState",value:function(t,e){var A="italic"===e||"bold"===e||"underline"===e,i=this._els.textEffectButton.querySelector(".tui-image-editor-button.".concat(t));this.effect[t]=A,i.classList[A?"add":"remove"]("active")}},{key:"setAlignState",value:function(t){var e=this._els.textAlignButton;e.classList.remove(this.align),e.classList.add(t),this.align=t}},{key:"_setTextEffectHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var A=Z(e.className.match(/(bold|italic|underline)/),1)[0],i={bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},underline:{textDecoration:"underline"}}[A];this.effect[A]=!this.effect[A],e.classList.toggle("active"),this.actions.changeTextStyle(i)}}},{key:"_setTextAlignHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var A=this.getButtonType(e,["left","center","right"]),i="tie-text-align-".concat(A);t.currentTarget.classList.remove(this.align),this.align!==i&&t.currentTarget.classList.add(i),this.actions.changeTextStyle({textAlign:A}),this.align=i}}},{key:"_changeTextRnageHandler",value:function(t,e){this.actions.changeTextStyle({fontSize:t},!e)}},{key:"_changeColorHandler",value:function(t){t=t||"transparent",this.actions.changeTextStyle({fill:t})}}]),A}(Ri),hn=un,gn=function(t){var e,A,i,n=t.locale,r=t.makeSvgIcon;return U()(e=U()(A=U()(i='\n    <ul class="tui-image-editor-submenu-item">\n        <li>\n            <div class="tui-image-editor-button">\n                <div>\n                    <input type="file" accept="image/*" class="tie-mask-image-file">\n                    '.concat(r(["normal","active"],"mask-load",!0),"\n                </div>\n                <label> ")).call(i,n.localize("Load Mask Image"),' </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tie-mask-apply tui-image-editor-newline apply" style="margin-top: 22px;margin-bottom: 5px">\n            <div class="tui-image-editor-button apply">\n                ')).call(A,r(["normal","active"],"apply"),"\n                <label>\n                    ")).call(e,n.localize("Apply"),"\n                </label>\n            </div>\n        </li>\n    </ul>\n")};function fn(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var dn=function(t){Ii(A,t);var e=fn(A);function A(t,i){var n,r=i.locale,o=i.makeSvgIcon,s=i.menuBarPosition,a=i.usageStatistics;return M(this,A),(n=e.call(this,t,{locale:r,name:"mask",makeSvgIcon:o,menuBarPosition:s,templateHtml:gn,usageStatistics:a}))._els={applyButton:n.selector(".tie-mask-apply"),maskImageButton:n.selector(".tie-mask-image-file")},n}return _(A,[{key:"destroy",value:function(){this._removeEvent(),RA(this)}},{key:"addEvent",value:function(t){var e,A,i=F()(e=this._loadMaskFile).call(e,this),n=F()(A=this._applyMask).call(A,this);this.eventHandler={loadMaskFile:i,applyMask:n},this.actions=t,this._els.maskImageButton.addEventListener("change",i),this._els.applyButton.addEventListener("click",n)}},{key:"_removeEvent",value:function(){this._els.maskImageButton.removeEventListener("change",this.eventHandler.loadMaskFile),this._els.applyButton.removeEventListener("click",this.eventHandler.applyMask)}},{key:"_applyMask",value:function(){this.actions.applyFilter(),this._els.applyButton.classList.remove("active")}},{key:"_loadMaskFile",value:function(t){var e;PA()||alert("This browser does not support file-api");var A=Z(t.target.files,1)[0];A&&(e=O().createObjectURL(A),this.actions.loadImageFromURL(e,A),this._els.applyButton.classList.add("active"))}}]),A}(Ri),pn=function(t){var e,A,i,n,r,o,s,a,c,l,u,h,g,f,d,p,v,m,B,y,C=t.locale,w=t.makeSvgIcon;return U()(e=U()(A=U()(i=U()(n=U()(r=U()(o=U()(s=U()(a=U()(c=U()(l=U()(u=U()(h=U()(g=U()(f=U()(d=U()(p=U()(v=U()(m=U()(B=U()(y='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" data-icontype="icon-arrow">\n                <div>\n                    '.concat(w(["normal","active"],"icon-arrow",!0),"\n                </div>\n                <label>\n                    ")).call(y,C.localize("Arrow"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-2">\n                <div>\n                    ')).call(B,w(["normal","active"],"icon-arrow-2",!0),"\n                </div>\n                <label>\n                    ")).call(m,C.localize("Arrow-2"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-arrow-3">\n                <div>\n                    ')).call(v,w(["normal","active"],"icon-arrow-3",!0),"\n                </div>\n                <label>\n                    ")).call(p,C.localize("Arrow-3"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star">\n                <div>\n                    ')).call(d,w(["normal","active"],"icon-star",!0),"\n                </div>\n                <label>\n                    ")).call(f,C.localize("Star-1"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button" data-icontype="icon-star-2">\n                <div>\n                    ')).call(g,w(["normal","active"],"icon-star-2",!0),"\n                </div>\n                <label>\n                    ")).call(h,C.localize("Star-2"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-polygon">\n                <div>\n                    ')).call(u,w(["normal","active"],"icon-polygon",!0),"\n                </div>\n                <label>\n                    ")).call(l,C.localize("Polygon"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-location">\n                <div>\n                    ')).call(c,w(["normal","active"],"icon-location",!0),"\n                </div>\n                <label>\n                    ")).call(a,C.localize("Location"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-heart">\n                <div>\n                    ')).call(s,w(["normal","active"],"icon-heart",!0),"\n                </div>\n                <label>\n                    ")).call(o,C.localize("Heart"),'\n                </label>\n            </div>\n\n            <div class="tui-image-editor-button" data-icontype="icon-bubble">\n                <div>\n                    ')).call(r,w(["normal","active"],"icon-bubble",!0),"\n                </div>\n                <label>\n                    ")).call(n,C.localize("Bubble"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tie-icon-add-button">\n            <div class="tui-image-editor-button" style="margin:0">\n                <div>\n                    <input type="file" accept="image/*" class="tie-icon-image-file">\n                    ')).call(i,w(["normal","active"],"icon-load",!0),"\n                </div>\n                <label>\n                    ")).call(A,C.localize("Custom icon"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-icon-color" title="')).call(e,C.localize("Color"),'"></div>\n        </li>\n    </ul>\n')};function vn(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var mn=function(t){Ii(A,t);var e=vn(A);function A(t,i){var n,r=i.locale,o=i.makeSvgIcon,s=i.menuBarPosition,a=i.usageStatistics;return M(this,A),(n=e.call(this,t,{locale:r,name:"icon",makeSvgIcon:o,menuBarPosition:s,templateHtml:pn,usageStatistics:a})).iconType=null,n._iconMap={},n._els={registerIconButton:n.selector(".tie-icon-image-file"),addIconButton:n.selector(".tie-icon-add-button"),iconColorpicker:new Li(n.selector(".tie-icon-color"),{defaultColor:"#ffbb3b",toggleDirection:n.toggleDirection,usageStatistics:n.usageStatistics})},n.colorPickerInputBox=n._els.iconColorpicker.colorpickerElement.querySelector(Ie),n}return _(A,[{key:"destroy",value:function(){this._removeEvent(),this._els.iconColorpicker.destroy(),RA(this)}},{key:"addEvent",value:function(t){var e,A,i,n,r,o=F()(e=this._registerIconHandler).call(e,this),s=F()(A=this._addIconHandler).call(A,this);this.eventHandler={registerIcon:o,addIcon:s},this.actions=t,this._els.iconColorpicker.on("change",F()(i=this._changeColorHandler).call(i,this)),this._els.registerIconButton.addEventListener("change",o),this._els.addIconButton.addEventListener("click",s),this.colorPickerInputBox.addEventListener(we,F()(n=this._onStartEditingInputBox).call(n,this)),this.colorPickerInputBox.addEventListener(be,F()(r=this._onStopEditingInputBox).call(r,this))}},{key:"_removeEvent",value:function(){var t,e;this._els.iconColorpicker.off(),this._els.registerIconButton.removeEventListener("change",this.eventHandler.registerIcon),this._els.addIconButton.removeEventListener("click",this.eventHandler.addIcon),this.colorPickerInputBox.removeEventListener(we,F()(t=this._onStartEditingInputBox).call(t,this)),this.colorPickerInputBox.removeEventListener(be,F()(e=this._onStopEditingInputBox).call(e,this))}},{key:"clearIconType",value:function(){this._els.addIconButton.classList.remove(this.iconType),this.iconType=null}},{key:"registerDefaultIcon",value:function(){var t=this;z()(vA,function(e,A){t.actions.registerDefaultIcons(A,e)})}},{key:"setIconPickerColor",value:function(t){this._els.iconColorpicker.color=t}},{key:"changeStandbyMode",value:function(){this.clearIconType(),this.actions.cancelAddIcon()}},{key:"_changeColorHandler",value:function(t){t=t||"transparent",this.actions.changeColor(t)}},{key:"_addIconHandler",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var A=e.getAttribute("data-icontype"),i=this._els.iconColorpicker.color;this.actions.discardSelection(),this.actions.changeSelectableAll(!1),this._els.addIconButton.classList.remove(this.iconType),this._els.addIconButton.classList.add(A),this.iconType===A?this.changeStandbyMode():(this.actions.addIcon(A,i),this.iconType=A)}}},{key:"_registerIconHandler",value:function(t){var e;PA||alert("This browser does not support file-api");var A=Z(t.target.files,1)[0];A&&(e=O().createObjectURL(A),this.actions.registerCustomIcon(e,A))}}]),A}(Ri),Bn=function(t){var e,A,i,n,r,o=t.locale,s=t.makeSvgIcon;return U()(e=U()(A=U()(i=U()(n=U()(r='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tie-draw-line-select-button">\n            <div class="tui-image-editor-button free">\n                <div>\n                    '.concat(s(["normal","active"],"draw-free",!0),"\n                </div>\n                <label>\n                    ")).call(r,o.localize("Free"),'\n                </label>\n            </div>\n            <div class="tui-image-editor-button line">\n                <div>\n                    ')).call(n,s(["normal","active"],"draw-line",!0),"\n                </div>\n                <label>\n                    ")).call(i,o.localize("Straight"),'\n                </label>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="tie-draw-color" title="')).call(A,o.localize("Color"),'"></div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-newline tui-image-editor-range-wrap">\n            <label class="range">')).call(e,o.localize("Range"),'</label>\n            <div class="tie-draw-range"></div>\n            <input class="tie-draw-range-value tui-image-editor-range-value" value="0" />\n        </li>\n    </ul>\n')};function yn(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Cn=function(t){Ii(A,t);var e=yn(A);function A(t,i){var n,r=i.locale,o=i.makeSvgIcon,s=i.menuBarPosition,a=i.usageStatistics;return M(this,A),(n=e.call(this,t,{locale:r,name:"draw",makeSvgIcon:o,menuBarPosition:s,templateHtml:Bn,usageStatistics:a}))._els={lineSelectButton:n.selector(".tie-draw-line-select-button"),drawColorPicker:new Li(n.selector(".tie-draw-color"),{defaultColor:"#00a9ff",toggleDirection:n.toggleDirection,usageStatistics:n.usageStatistics}),drawRange:new Pi({slider:n.selector(".tie-draw-range"),input:n.selector(".tie-draw-range-value")},BA)},n.type=null,n.color=n._els.drawColorPicker.color,n.width=n._els.drawRange.value,n.colorPickerInputBox=n._els.drawColorPicker.colorpickerElement.querySelector(Ie),n}return _(A,[{key:"destroy",value:function(){this._removeEvent(),this._els.drawColorPicker.destroy(),this._els.drawRange.destroy(),RA(this)}},{key:"addEvent",value:function(t){var e,A,i,n,r;this.eventHandler.changeDrawType=F()(e=this._changeDrawType).call(e,this),this.actions=t,this._els.lineSelectButton.addEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.on("change",F()(A=this._changeDrawColor).call(A,this)),this._els.drawRange.on("change",F()(i=this._changeDrawRange).call(i,this)),this.colorPickerInputBox.addEventListener(we,F()(n=this._onStartEditingInputBox).call(n,this)),this.colorPickerInputBox.addEventListener(be,F()(r=this._onStopEditingInputBox).call(r,this))}},{key:"_removeEvent",value:function(){var t,e;this._els.lineSelectButton.removeEventListener("click",this.eventHandler.changeDrawType),this._els.drawColorPicker.off(),this._els.drawRange.off(),this.colorPickerInputBox.removeEventListener(we,F()(t=this._onStartEditingInputBox).call(t,this)),this.colorPickerInputBox.removeEventListener(be,F()(e=this._onStopEditingInputBox).call(e,this))}},{key:"setDrawMode",value:function(){this.actions.setDrawMode(this.type,{width:this.width,color:NA(this.color,.7)})}},{key:"changeStandbyMode",value:function(){this.type=null,this.actions.stopDrawingMode(),this.actions.changeSelectableAll(!0),this._els.lineSelectButton.classList.remove("free"),this._els.lineSelectButton.classList.remove("line")}},{key:"changeStartMode",value:function(){this.type="free",this._els.lineSelectButton.classList.add("free"),this.setDrawMode()}},{key:"_changeDrawType",value:function(t){var e=t.target.closest(".tui-image-editor-button");if(e){var A=this.getButtonType(e,["free","line"]);if(this.actions.discardSelection(),this.type===A)return void this.changeStandbyMode();this.changeStandbyMode(),this.type=A,this._els.lineSelectButton.classList.add(A),this.setDrawMode()}}},{key:"_changeDrawColor",value:function(t){this.color=t||"transparent",this.type?this.setDrawMode():this.changeStartMode()}},{key:"_changeDrawRange",value:function(t){this.width=t,this.type?this.setDrawMode():this.changeStartMode()}}]),A}(Ri),wn=i(9886),bn=i.n(wn),In=function(t){var e,A,i,n,r,o,s,a,c,l,u,h,g,f,d,p,v=t.locale;return U()(e=U()(A=U()(i=U()(n=U()(r=U()(o=U()(s=U()(a=U()(c=U()(l=U()(u=U()(h=U()(g=U()(f=U()(d=U()(p='\n    <ul class="tui-image-editor-submenu-item">\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-grayscale">\n                        <span>'.concat(v.localize("Grayscale"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-invert">\n                        <span>')).call(p,v.localize("Invert"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sepia">\n                        <span>')).call(d,v.localize("Sepia"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-vintage">\n                        <span>')).call(f,v.localize("Sepia2"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blur">\n                        <span>')).call(g,v.localize("Blur"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-sharpen">\n                        <span>')).call(h,v.localize("Sharpen"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-emboss">\n                        <span>')).call(u,v.localize("Emboss"),'</span>\n                    </label>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\n                <div class="tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-remove-white">\n                            <span>')).call(l,v.localize("Remove White"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(c,v.localize("Distance"),'</label>\n                    <div class="tie-removewhite-distance-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-brightness">\n                        <span>')).call(a,v.localize("Brightness"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-brightness-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-noise">\n                        <span>')).call(s,v.localize("Noise"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-noise-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition only-left-right">\n            <div></div>\n        </li>\n        <li class="tui-image-editor-submenu-align">\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-pixelate">\n                        <span>')).call(o,v.localize("Pixelate"),'</span>\n                    </label>\n                </div>\n                <div class="tui-image-editor-range-wrap short">\n                    <div class="tie-pixelate-range"></div>\n                </div>\n            </div>\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\n                    <div class="tui-image-editor-checkbox">\n                        <label>\n                            <input type="checkbox" class="tie-color-filter">\n                            <span>')).call(r,v.localize("Color Filter"),'</span>\n                        </label>\n                    </div>\n                </div>\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\n                    <label>')).call(n,v.localize("Threshold"),'</label>\n                    <div class="tie-colorfilter-threshold-range"></div>\n                </div>\n            </div>\n        </li>\n        <li class="tui-image-editor-partition">\n            <div></div>\n        </li>\n        <li>\n            <div class="filter-color-item">\n                <div class="tie-filter-tint-color" title="')).call(i,v.localize("Tint"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-tint">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-multiply-color" title="')).call(A,v.localize("Multiply"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-multiply">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n            <div class="filter-color-item">\n                <div class="tie-filter-blend-color" title="')).call(e,v.localize("Blend"),'"></div>\n                <div class="tui-image-editor-checkbox">\n                    <label>\n                        <input type="checkbox" class="tie-blend">\n                        <span></span>\n                    </label>\n                </div>\n            </div>\n        </li>\n    </ul>\n')};function xn(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Mn="130px",Sn=["add","diff","subtract","multiply","screen","lighten","darken"],_n=["grayscale","invert","sepia","vintage","blur","sharpen","emboss","remove-white","brightness","noise","pixelate","color-filter","tint","multiply","blend"],Qn={grayscale:"grayscale",invert:"invert",sepia:"sepia",blur:"blur",sharpen:"sharpen",emboss:"emboss",removeWhite:"removeColor",brightness:"brightness",contrast:"contrast",saturation:"saturation",vintage:"vintage",polaroid:"polaroid",noise:"noise",pixelate:"pixelate",colorFilter:"removeColor",tint:"blendColor",multiply:"blendColor",blend:"blendColor",hue:"hue",gamma:"gamma"},Fn=["removewhiteDistanceRange","colorfilterThresholdRange","pixelateRange","noiseRange","brightnessRange","tintOpacity"],En=["filterBlendColor","filterMultiplyColor","filterTintColor"],Un=function(t){Ii(A,t);var e=xn(A);function A(t,i){var n,r=i.locale,o=i.menuBarPosition,s=i.usageStatistics;return M(this,A),(n=e.call(this,t,{locale:r,name:"filter",menuBarPosition:o,templateHtml:In,usageStatistics:s})).selectBoxShow=!1,n.checkedMap={},n._makeControlElement(),n}return _(A,[{key:"destroy",value:function(){this._removeEvent(),this._destroyToolInstance(),RA(this)}},{key:"_removeEvent",value:function(){var t,e=this;z()(_n,function(t){var A=e.selector(".tie-".concat(t)),i=jA(t);A.removeEventListener("change",e.eventHandler[i])}),z()(U()(t=[]).call(t,Fn,En),function(t){e._els[t].off()}),this._els.blendType.removeEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.removeEventListener("click",this.eventHandler.changeBlendFilter),Ui()(this.colorPickerInputBoxes,function(t){var A,i;t.removeEventListener(we,F()(A=e._onStartEditingInputBox).call(A,e)),t.removeEventListener(be,F()(i=e._onStopEditingInputBox).call(i,e))},this)}},{key:"_destroyToolInstance",value:function(){var t,e=this;z()(U()(t=[]).call(t,Fn,En),function(t){e._els[t].destroy()})}},{key:"addEvent",value:function(t){var e,A,i,n=this,r=t.applyFilter,o=function(t){var e;return F()(e=n._changeFilterState).call(e,n,r,t)},s=function(t){return function(e,A){return n._changeFilterState(r,t,A)}};this.eventHandler={changeBlendFilter:o("blend"),blandTypeClick:function(t){return t.stopPropagation()}},z()(_n,function(t){var e=n.selector(".tie-".concat(t)),A=jA(t);n.checkedMap[A]=e,n.eventHandler[A]=o(A),e.addEventListener("change",n.eventHandler[A])}),this._els.removewhiteDistanceRange.on("change",s("removeWhite")),this._els.colorfilterThresholdRange.on("change",s("colorFilter")),this._els.pixelateRange.on("change",s("pixelate")),this._els.noiseRange.on("change",s("noise")),this._els.brightnessRange.on("change",s("brightness")),this._els.filterBlendColor.on("change",this.eventHandler.changeBlendFilter),this._els.filterMultiplyColor.on("change",o("multiply")),this._els.filterTintColor.on("change",o("tint")),this._els.tintOpacity.on("change",s("tint")),this._els.filterMultiplyColor.on("changeShow",F()(e=this.colorPickerChangeShow).call(e,this)),this._els.filterTintColor.on("changeShow",F()(A=this.colorPickerChangeShow).call(A,this)),this._els.filterBlendColor.on("changeShow",F()(i=this.colorPickerChangeShow).call(i,this)),this._els.blendType.addEventListener("change",this.eventHandler.changeBlendFilter),this._els.blendType.addEventListener("click",this.eventHandler.blandTypeClick),Ui()(this.colorPickerInputBoxes,function(t){var e,A;t.addEventListener(we,F()(e=n._onStartEditingInputBox).call(e,n)),t.addEventListener(be,F()(A=n._onStopEditingInputBox).call(A,n))},this)}},{key:"setFilterState",value:function(t){var e=t.type,A=t.options,i=t.action,n=this._getFilterNameFromOptions(e,A),r="remove"===i;r||this._setFilterState(n,A),this.checkedMap[n].checked=!r}},{key:"initFilterCheckBoxState",value:function(){z()(this.checkedMap,function(t){t.checked=!1},this)}},{key:"_setFilterState",value:function(t,e){"colorFilter"===t?this._els.colorfilterThresholdRange.value=e.distance:"removeWhite"===t?this._els.removewhiteDistanceRange.value=e.distance:"pixelate"===t?this._els.pixelateRange.value=e.blocksize:"brightness"===t?this._els.brightnessRange.value=e.brightness:"noise"===t?this._els.noiseRange.value=e.noise:"tint"===t?(this._els.tintOpacity.value=e.alpha,this._els.filterTintColor.color=e.color):"blend"===t?this._els.filterBlendColor.color=e.color:"multiply"===t&&(this._els.filterMultiplyColor.color=e.color)}},{key:"_getFilterNameFromOptions",value:function(t,e){var A=t;return"removeColor"===t?A=bn()(e.useAlpha)?"removeWhite":"colorFilter":"blendColor"===t&&(A={add:"blend",multiply:"multiply",tint:"tint"}[e.mode]),A}},{key:"_changeFilterState",value:function(t,e){var A=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.checkedMap[e].checked,n=Qn[e],r=this.checkedMap[e].closest(".tui-image-editor-checkbox-group");r&&(i?r.classList.remove("tui-image-editor-disabled"):r.classList.add("tui-image-editor-disabled")),t(i,n,this._getFilterOption(e),!A)}},{key:"_getFilterOption",value:function(t){var e={};switch(t){case"removeWhite":e.color="#FFFFFF",e.useAlpha=!1,e.distance=hi()(this._els.removewhiteDistanceRange.value);break;case"colorFilter":e.color="#FFFFFF",e.distance=hi()(this._els.colorfilterThresholdRange.value);break;case"pixelate":e.blocksize=HA(this._els.pixelateRange.value);break;case"noise":e.noise=HA(this._els.noiseRange.value);break;case"brightness":e.brightness=hi()(this._els.brightnessRange.value);break;case"blend":e.mode="add",e.color=this._els.filterBlendColor.color,e.mode=this._els.blendType.value;break;case"multiply":e.mode="multiply",e.color=this._els.filterMultiplyColor.color;break;case"tint":e.mode="tint",e.color=this._els.filterTintColor.color,e.alpha=this._els.tintOpacity.value;break;case"blur":e.blur=this._els.blurRange.value}return e}},{key:"_makeControlElement",value:function(){this._els={removewhiteDistanceRange:new Pi({slider:this.selector(".tie-removewhite-distance-range")},wA.removewhiteDistanceRange),brightnessRange:new Pi({slider:this.selector(".tie-brightness-range")},wA.brightnessRange),noiseRange:new Pi({slider:this.selector(".tie-noise-range")},wA.noiseRange),pixelateRange:new Pi({slider:this.selector(".tie-pixelate-range")},wA.pixelateRange),colorfilterThresholdRange:new Pi({slider:this.selector(".tie-colorfilter-threshold-range")},wA.colorfilterThresholdRange),filterTintColor:new Li(this.selector(".tie-filter-tint-color"),{defaultColor:"#03bd9e",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterMultiplyColor:new Li(this.selector(".tie-filter-multiply-color"),{defaultColor:"#515ce6",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),filterBlendColor:new Li(this.selector(".tie-filter-blend-color"),{defaultColor:"#ffbb3b",toggleDirection:this.toggleDirection,usageStatistics:this.usageStatistics}),blurRange:wA.blurFilterRange},this._els.tintOpacity=this._pickerWithRange(this._els.filterTintColor.pickerControl),this._els.blendType=this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl),this.colorPickerControls.push(this._els.filterTintColor),this.colorPickerControls.push(this._els.filterMultiplyColor),this.colorPickerControls.push(this._els.filterBlendColor),this.colorPickerInputBoxes=[],this.colorPickerInputBoxes.push(this._els.filterTintColor.colorpickerElement.querySelector(Ie)),this.colorPickerInputBoxes.push(this._els.filterMultiplyColor.colorpickerElement.querySelector(Ie)),this.colorPickerInputBoxes.push(this._els.filterBlendColor.colorpickerElement.querySelector(Ie))}},{key:"_pickerWithRange",value:function(t){var e=document.createElement("div"),A=document.createElement("label"),i=document.createElement("div");return i.id="tie-filter-tint-opacity",A.innerHTML="Opacity",e.appendChild(A),e.appendChild(i),t.appendChild(e),t.style.height=Mn,new Pi({slider:i},wA.tintOpacityRange)}},{key:"_pickerWithSelectbox",value:function(t){var e=document.createElement("div"),A=document.createElement("select"),i=document.createElement("ul");return e.className="tui-image-editor-selectlist-wrap",i.className="tui-image-editor-selectlist",e.appendChild(A),e.appendChild(i),this._makeSelectOptionList(A),t.appendChild(e),t.style.height=Mn,this._drawSelectOptionList(A,i),this._pickerWithSelectboxForAddEvent(A,i),A}},{key:"_drawSelectOptionList",value:function(t,e){var A=t.querySelectorAll("option");z()(A,function(t){var A=document.createElement("li");A.innerHTML=t.innerHTML,A.setAttribute("data-item",t.value),e.appendChild(A)})}},{key:"_pickerWithSelectboxForAddEvent",value:function(t,e){var A=this;e.addEventListener("click",function(i){var n=i.target.getAttribute("data-item"),r=document.createEvent("HTMLEvents");t.querySelector('[value="'.concat(n,'"]')).selected=!0,r.initEvent("change",!0,!0),t.dispatchEvent(r),A.selectBoxShow=!1,e.style.display="none"}),t.addEventListener("mousedown",function(i){i.preventDefault(),A.selectBoxShow=!A.selectBoxShow,e.style.display=A.selectBoxShow?"block":"none",e.setAttribute("data-selectitem",t.value),e.querySelector("[data-item='".concat(t.value,"']")).classList.add("active")})}},{key:"_makeSelectOptionList",value:function(t){z()(Sn,function(e){var A=document.createElement("option");A.setAttribute("value",e),A.innerHTML=e.replace(/^[a-z]/,function(t){return t.toUpperCase()}),t.appendChild(A)})}}]),A}(Ri),Dn=Un,Tn=i(4383),kn=i.n(Tn),On=function(){function t(e,A){var i=A.name;M(this,t),this.name=i,this.items=[],this.panelElement=this._makePanelElement(),this.listElement=this._makeListElement(),this.panelElement.appendChild(this.listElement),e.appendChild(this.panelElement)}return _(t,[{key:"_makePanelElement",value:function(){var t=document.createElement("div");return t.className="tie-panel-".concat(this.name),t}},{key:"_makeListElement",value:function(){var t=document.createElement("ol");return t.className="".concat(this.name,"-list"),t}},{key:"makeListItemElement",value:function(t){var e=document.createElement("li");return e.innerHTML=t,e.className="".concat(this.name,"-item"),e.setAttribute("data-index",this.items.length),e}},{key:"pushListItemElement",value:function(t){this.listElement.appendChild(t),this.listElement.scrollTop+=t.offsetHeight,this.items.push(t)}},{key:"deleteListItemElement",value:function(t,e){for(var A=this.items,i=t;i<e;i+=1)this.listElement.removeChild(A[i]);s()(A).call(A,t,e-t+1)}},{key:"getListLength",value:function(){return this.items.length}},{key:"addClass",value:function(t,e){this.items[t]&&this.items[t].classList.add(e)}},{key:"removeClass",value:function(t,e){this.items[t]&&this.items[t].classList.remove(e)}},{key:"toggleClass",value:function(t,e){this.items[t]&&this.items[t].classList.toggle(e)}}]),t}();function Ln(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Hn="selected-item",jn="disabled-item",Pn=function(t){Ii(A,t);var e=Ln(A);function A(t,i){var n,r=i.locale,o=i.makeSvgIcon;return M(this,A),n=e.call(this,t,{name:"history"}),t.classList.add("enabled"),n.locale=r,n.makeSvgIcon=o,n._eventHandler={},n._historyIndex=n.getListLength(),n}return _(A,[{key:"add",value:function(t){var e=t.name,A=t.detail;this._hasDisabledItem()&&this.deleteListItemElement(this._historyIndex+1,this.getListLength());var i=function(t){var e,A,i,n=t.locale,r=t.makeSvgIcon,o=t.name,s=t.detail;return U()(e=U()(A=U()(i='\n    <div class="tui-image-editor-history-item history">\n        <div class="history-item-icon">\n            '.concat(r(["normal","active"],"history-".concat(o.toLowerCase()),!0),"\n        </div>\n        <span>\n            ")).call(i,n.localize(o),"\n            ")).call(A,s?"(".concat(n.localize(s),")"):"",'\n        </span>\n        <div class="history-item-checkbox">\n            ')).call(e,r(["normal"],"history-check",!0),"\n        </div>\n    </div>\n")}({locale:this.locale,makeSvgIcon:this.makeSvgIcon,name:e,detail:A}),n=this.makeListItemElement(i);this.pushListItemElement(n),this._historyIndex=this.getListLength()-1,this._selectItem(this._historyIndex)}},{key:"init",value:function(){this.deleteListItemElement(1,this.getListLength()),this._historyIndex=0,this._selectItem(this._historyIndex)}},{key:"clear",value:function(){this.deleteListItemElement(0,this.getListLength()),this._historyIndex=-1}},{key:"prev",value:function(){this._historyIndex-=1,this._selectItem(this._historyIndex)}},{key:"next",value:function(){this._historyIndex+=1,this._selectItem(this._historyIndex)}},{key:"_hasDisabledItem",value:function(){return this.getListLength()-1>this._historyIndex}},{key:"_addHistoryEventListener",value:function(){var t=this;this._eventHandler.history=function(e){return t._clickHistoryItem(e)},this.listElement.addEventListener("click",this._eventHandler.history)}},{key:"_removeHistoryEventListener",value:function(){this.listElement.removeEventListener("click",this._eventHandler.history)}},{key:"_clickHistoryItem",value:function(t){var e=t.target.closest(".".concat("history-item"));if(e){var A=kn()(e.getAttribute("data-index"),10);if(A!==this._historyIndex){var i=Math.abs(A-this._historyIndex);A<this._historyIndex?this._actions.undo(i):this._actions.redo(i)}}}},{key:"_selectItem",value:function(t){for(var e=0;e<this.getListLength();e+=1)this.removeClass(e,Hn),this.removeClass(e,jn),e>t&&this.addClass(e,jn);this.addClass(t,Hn)}},{key:"destroy",value:function(){this.removeEvent(),RA(this)}},{key:"addEvent",value:function(t){this._actions=t,this._addHistoryEventListener()}},{key:"removeEvent",value:function(){this._removeHistoryEventListener()}}]),A}(On),Nn=Pn,Rn=function(){function t(e){M(this,t),this._locale=e}return _(t,[{key:"localize",value:function(t){return this._locale[t]||t}}]),t}(),zn={Shape:Wi,Crop:Ji,Resize:en,Flip:rn,Rotate:an,Text:hn,Mask:dn,Icon:mn,Draw:Cn,Filter:Dn},Gn="history",Kn="on",Yn="zoomIn",Wn="hand",Xn=function(){function t(e,A,i){M(this,t),this.options=this._initializeOption(A),this._actions=i,this.submenu=!1,this.imageSize={},this.uiSize={},this._locale=new Rn(this.options.locale),this.theme=new mi(this.options.theme),this.eventHandler={},this._submenuChangeTransection=!1,this._selectedElement=null,this._mainElement=null,this._editorElementWrap=null,this._editorElement=null,this._menuBarElement=null,this._subMenuElement=null,this._makeUiElement(e),this._setUiSize(),this._initMenuEvent=!1,this._makeSubMenu(),this._attachHistoryEvent(),this._attachZoomEvent()}return _(t,[{key:"destroy",value:function(){this._removeUiEvent(),this._destroyAllMenu(),this._selectedElement.innerHTML="",RA(this)}},{key:"setUiDefaultSelectionStyle",value:function(t){return j()({applyCropSelectionStyle:!0,applyGroupSelectionStyle:!0,selectionStyle:{cornerStyle:"circle",cornerSize:16,cornerColor:"#fff",cornerStrokeColor:"#fff",transparentCorners:!1,lineWidth:2,borderColor:"#fff"}},t)}},{key:"resizeEditor",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.uiSize,A=t.imageSize,i=void 0===A?this.imageSize:A;i!==this.imageSize&&(this.imageSize=i),e&&this._setUiSize(e);var n=this._getCanvasMaxDimension(),r=n.width,o=n.height,s=this._editorElement.style,a=this.options.menuBarPosition;s.height="".concat(o,"px"),s.width="".concat(r,"px"),this._setEditorPosition(a),this._editorElementWrap.style.bottom="0px",this._editorElementWrap.style.top="0px",this._editorElementWrap.style.left="0px",this._editorElementWrap.style.width="100%";var c=this._selectedElement.classList;"top"===a&&this._selectedElement.offsetWidth<"1300"?c.add("tui-image-editor-top-optimization"):c.remove("tui-image-editor-top-optimization")}},{key:"toggleZoomButtonStatus",value:function(t){this._buttonElements[t].classList.toggle(Kn),t===Yn?this._buttonElements[Wn].classList.remove(Kn):this._buttonElements[Yn].classList.remove(Kn)}},{key:"offZoomInButtonStatus",value:function(){this._buttonElements[Yn].classList.remove(Kn)}},{key:"changeHandButtonStatus",value:function(t){this._buttonElements[Wn].classList[t?"add":"remove"](Kn)}},{key:"changeHelpButtonEnabled",value:function(t,e){this._buttonElements[t].classList[e?"add":"remove"]("enabled")}},{key:"_initializeOption",value:function(t){return j()({loadImage:{path:"",name:""},locale:{},menuIconPath:"",menu:["resize","crop","flip","rotate","draw","shape","icon","text","mask","filter"],initMenu:"",uiSize:{width:"100%",height:"100%"},menuBarPosition:"bottom"},t)}},{key:"_setUiSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.uiSize,e=this._selectedElement.style;e.width=t.width,e.height=t.height}},{key:"_makeSubMenu",value:function(){var t=this;z()(this.options.menu,function(e){var A,i=zn[e.replace(/^[a-z]/,function(t){return t.toUpperCase()})];t._makeMenuElement(e),t._buttonElements[e]=t._menuBarElement.querySelector(".tie-btn-".concat(e)),t[e]=new i(t._subMenuElement,{locale:t._locale,makeSvgIcon:F()(A=t.theme.makeMenSvgIconSet).call(A,t.theme),menuBarPosition:t.options.menuBarPosition,usageStatistics:t.options.usageStatistics})})}},{key:"_attachHistoryEvent",value:function(){var t,e,A;this.on(he,F()(t=this._addHistory).call(t,this)),this.on(ge,F()(e=this._selectPrevHistory).call(e,this)),this.on(fe,F()(A=this._selectNextHistory).call(A,this))}},{key:"_attachZoomEvent",value:function(){var t=this;this.on(pe,function(){t.offZoomInButtonStatus(),t.changeHandButtonStatus(!0)}),this.on(ve,function(){return t.changeHandButtonStatus(!1)})}},{key:"_makeUiElement",value:function(t){var e,A;A=t.nodeType?t:document.querySelector(t);var i,n=(i=A,function(t){return i.querySelector(t)});A.classList.add("tui-image-editor-container"),A.innerHTML=function(t){var e,A,i,n,r,o,s=t.locale,a=t.biImage,c=t.loadButtonStyle,l=t.downloadButtonStyle,u=t.menuBarPosition;return U()(e=U()(A=U()(i=U()(n=U()(r='\n    <ul class="tui-image-editor-help-menu '.concat((o=u,"top"===o?"bottom":"left"===o?"right":"right"===o?"left":"top"),'"></ul>\n    <div class="tui-image-editor-controls">\n        <div class="tui-image-editor-controls-logo">\n            <img src="')).call(r,a,'" />\n        </div>\n        <ul class="tui-image-editor-menu"></ul>\n\n        <div class="tui-image-editor-controls-buttons">\n            <div style="')).call(n,c,'">\n                ')).call(i,s.localize("Load"),'\n                <input type="file" class="tui-image-editor-load-btn" />\n            </div>\n            <button class="tui-image-editor-download-btn" style="')).call(A,l,'">\n                ')).call(e,s.localize("Download"),"\n            </button>\n        </div>\n    </div>\n")}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),menuBarPosition:this.options.menuBarPosition})+function(t){var e,A,i,n,r,o,s,a=t.locale,c=t.biImage,l=t.commonStyle,u=t.headerStyle,h=t.loadButtonStyle,g=t.downloadButtonStyle,f=t.submenuStyle;return U()(e=U()(A=U()(i=U()(n=U()(r=U()(o=U()(s='\n    <div class="tui-image-editor-main-container" style="'.concat(l,'">\n        <div class="tui-image-editor-header" style="')).call(s,u,'">\n            <div class="tui-image-editor-header-logo">\n                <img src="')).call(o,c,'" />\n            </div>\n            <div class="tui-image-editor-header-buttons">\n                <div style="')).call(r,h,'">\n                    ')).call(n,a.localize("Load"),'\n                    <input type="file" class="tui-image-editor-load-btn" />\n                </div>\n                <button class="tui-image-editor-download-btn" style="')).call(i,g,'">\n                    ')).call(A,a.localize("Download"),'\n                </button>\n            </div>\n        </div>\n        <div class="tui-image-editor-main">\n            <div class="tui-image-editor-submenu">\n                <div class="tui-image-editor-submenu-style" style="')).call(e,f,'"></div>\n            </div>\n            <div class="tui-image-editor-wrap">\n                <div class="tui-image-editor-size-wrap">\n                    <div class="tui-image-editor-align-wrap">\n                        <div class="tui-image-editor"></div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n')}({locale:this._locale,biImage:this.theme.getStyle("common.bi"),commonStyle:this.theme.getStyle("common"),headerStyle:this.theme.getStyle("header"),loadButtonStyle:this.theme.getStyle("loadButton"),downloadButtonStyle:this.theme.getStyle("downloadButton"),submenuStyle:this.theme.getStyle("submenu")}),this._selectedElement=A,this._selectedElement.classList.add(this.options.menuBarPosition),this._mainElement=n(".tui-image-editor-main"),this._editorElementWrap=n(".tui-image-editor-wrap"),this._editorElement=n(".tui-image-editor"),this._helpMenuBarElement=n(".tui-image-editor-help-menu"),this._menuBarElement=n(".tui-image-editor-menu"),this._subMenuElement=n(".tui-image-editor-submenu"),this._buttonElements={download:this._selectedElement.querySelectorAll(".tui-image-editor-download-btn"),load:this._selectedElement.querySelectorAll(".tui-image-editor-load-btn")},this._addHelpMenus(),this._historyMenu=new Nn(this._buttonElements[Gn],{locale:this._locale,makeSvgIcon:F()(e=this.theme.makeMenSvgIconSet).call(e,this.theme)}),this._activateZoomMenus()}},{key:"_activateZoomMenus",value:function(){var t=this;z()(lt,function(e){t.changeHelpButtonEnabled(e,!0)})}},{key:"_makeHelpMenuWithPartition",value:function(){var t;return U()(t=[]).call(t,b(lt),[""],b(ut),[""],b(ht))}},{key:"_addHelpMenus",value:function(){var t=this,e=this._makeHelpMenuWithPartition();z()(e,function(e){e?(t._makeMenuElement(e,["normal","disabled","hover"],"help"),t._buttonElements[e]=t._helpMenuBarElement.querySelector(".tie-btn-".concat(e))):t._makeMenuPartitionElement()})}},{key:"_makeMenuPartitionElement",value:function(){var t=document.createElement("li"),e=document.createElement("div");t.className=zA("item"),e.className=zA("icpartition"),t.appendChild(e),this._helpMenuBarElement.appendChild(t)}},{key:"_makeMenuElement",value:function(t){var e,A,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["normal","active","hover"],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal",r=document.createElement("li"),o=this.theme.makeMenSvgIconSet(i,t);this._addTooltipAttribute(r,t),r.className=U()(e=U()(A="tie-btn-".concat(t," ")).call(A,zA("item")," ")).call(e,n),r.innerHTML=o,"normal"===n?this._menuBarElement.appendChild(r):this._helpMenuBarElement.appendChild(r)}},{key:"_addHelpActionEvent",value:function(){var t=this;z()(gt,function(e){t.eventHandler[e]=function(A){return t._actions.main[e](A)},t._buttonElements[e].addEventListener("click",t.eventHandler[e])})}},{key:"_removeHelpActionEvent",value:function(){var t=this;z()(gt,function(e){t._buttonElements[e].removeEventListener("click",t.eventHandler[e])})}},{key:"_addHistory",value:function(t){if(!function(t){return"string"==typeof t?_t===t:_t===t.name}(t)){var e="string"==typeof t?{name:t}:function(t){var e,A,i,n=Qt,r=Ft,o=jt,s=Dt,a=Tt,c=Ht,l=Ot,h=Nt,g=St,f=Rt,d=Ut,p=Wt,v=t.name,m=t.args;switch(v){case n:i={name:v,detail:"reset"===m[1]?m[1]:u()(e=m[1]).call(e,4)};break;case r:i={name:v,detail:m[2]};break;case s:i={name:Fe,detail:JA(m[1],m[2])};break;case a:i={name:Ee,detail:"Remove"};break;case c:i={name:Ue,detail:"Change"};break;case l:i={name:De,detail:"Change"};break;case h:i={name:ke,detail:"Change"};break;case d:i={name:Oe,detail:m[2]};break;case g:i={name:Le,detail:"All"};break;case f:i={name:Se,detail:"Add"};break;case o:i={name:Te};break;case p:i={name:Qe,detail:U()(A="".concat(~~m[1].width,"x")).call(A,~~m[1].height)};break;default:i={name:v}}return"mask"===m[1]&&(i={name:Me,detail:"Apply"}),i}(t);this._historyMenu.add(e)}}},{key:"initHistory",value:function(){this._historyMenu.init()}},{key:"clearHistory",value:function(){this._historyMenu.clear()}},{key:"_selectPrevHistory",value:function(){this._historyMenu.prev()}},{key:"_selectNextHistory",value:function(){this._historyMenu.next()}},{key:"toggleHistoryMenu",value:function(t){t.target.closest(".".concat("tie-panel-history"))||this._buttonElements[Gn].classList.toggle("opened")}},{key:"_addTooltipAttribute",value:function(t,e){t.setAttribute("tooltip-content",this._locale.localize(e.replace(/^[a-z]/g,function(t){return t.toUpperCase()})))}},{key:"_addDownloadEvent",value:function(){var t=this;this.eventHandler.download=function(){return t._actions.main.download()},z()(this._buttonElements.download,function(e){e.addEventListener("click",t.eventHandler.download)})}},{key:"_removeDownloadEvent",value:function(){var t=this;z()(this._buttonElements.download,function(e){e.removeEventListener("click",t.eventHandler.download)})}},{key:"_addLoadEvent",value:function(){var t=this;this.eventHandler.loadImage=function(e){return t._actions.main.load(e.target.files[0])},z()(this._buttonElements.load,function(e){e.addEventListener("change",t.eventHandler.loadImage)})}},{key:"_removeLoadEvent",value:function(){var t=this;z()(this._buttonElements.load,function(e){e.removeEventListener("change",t.eventHandler.loadImage)})}},{key:"_addMainMenuEvent",value:function(t){var e=this;this.eventHandler[t]=function(){return e.changeMenu(t)},this._buttonElements[t].addEventListener("click",this.eventHandler[t])}},{key:"_addSubMenuEvent",value:function(t){var e=this;this[t].addEvent(this._actions[t]),this[t].on(ye,function(){return e.fire(ye)}),this[t].on(Ce,function(){return e.fire(Ce)})}},{key:"_addMenuEvent",value:function(){var t=this;z()(this.options.menu,function(e){t._addMainMenuEvent(e),t._addSubMenuEvent(e)})}},{key:"_removeMainMenuEvent",value:function(){var t=this;z()(this.options.menu,function(e){t._buttonElements[e].removeEventListener("click",t.eventHandler[e]),t[e].off(ye),t[e].off(Ce)})}},{key:"getEditorArea",value:function(){return this._editorElement}},{key:"activeMenuEvent",value:function(){this._initMenuEvent||(this._addHelpActionEvent(),this._addDownloadEvent(),this._addMenuEvent(),this._initMenu(),this._historyMenu.addEvent(this._actions.history),this._initMenuEvent=!0)}},{key:"_removeUiEvent",value:function(){this._removeHelpActionEvent(),this._removeDownloadEvent(),this._removeLoadEvent(),this._removeMainMenuEvent(),this._historyMenu.removeEvent()}},{key:"_destroyAllMenu",value:function(){var t=this;z()(this.options.menu,function(e){t[e].destroy()}),this._historyMenu.destroy()}},{key:"initCanvas",value:function(){var t=this,e=this._getLoadImage();e.path&&this._actions.main.initLoadImage(e.path,e.name).then(function(){t.activeMenuEvent()}),this._addLoadEvent();var A=document.createElement("div");A.className=zA("grid-visual"),A.innerHTML='<table>\n           <tr><td class="dot left-top"></td><td></td><td class="dot right-top"></td></tr>\n           <tr><td></td><td></td><td></td></tr>\n           <tr><td class="dot left-bottom"></td><td></td><td class="dot right-bottom"></td></tr>\n         </table>',this._editorContainerElement=this._editorElement.querySelector(".tui-image-editor-canvas-container"),this._editorContainerElement.appendChild(A)}},{key:"_getLoadImage",value:function(){return this.options.loadImage}},{key:"changeMenu",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],A=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this._submenuChangeTransection||(this._submenuChangeTransection=!0,this._changeMenu(t,e,A),this._submenuChangeTransection=!1)}},{key:"_changeMenu",value:function(t,e,A){this.submenu&&(this._buttonElements[this.submenu].classList.remove("active"),this._mainElement.classList.remove("tui-image-editor-menu-".concat(this.submenu)),A&&this._actions.main.discardSelection(),this._actions.main.changeSelectableAll(!0),this[this.submenu].changeStandbyMode()),this.submenu===t&&e?this.submenu=null:(this._buttonElements[t].classList.add("active"),this._mainElement.classList.add("tui-image-editor-menu-".concat(t)),this.submenu=t,this[this.submenu].changeStartMode()),this.resizeEditor()}},{key:"_initMenu",value:function(){if(this.options.initMenu){var t=document.createEvent("MouseEvents");t.initEvent("click",!0,!1),this._buttonElements[this.options.initMenu].dispatchEvent(t)}this.icon&&this.icon.registerDefaultIcon()}},{key:"_getCanvasMaxDimension",value:function(){var t=this._editorContainerElement.style,e=t.maxWidth,A=t.maxHeight;return{width:hi()(e),height:hi()(A)}}},{key:"_setEditorPosition",value:function(t){var e=this._getCanvasMaxDimension(),A=e.width,i=e.height,n=this._editorElement.style,r=0,o=0;this.submenu&&("bottom"===t?r=i>this._editorElementWrap.scrollHeight-150?(i-this._editorElementWrap.scrollHeight)/2:-75:"top"===t?r=i>this._editorElementWrap.offsetHeight-150?75-(i-(this._editorElementWrap.offsetHeight-150))/2:75:"left"===t?o=A>this._editorElementWrap.offsetWidth-248?124-(A-(this._editorElementWrap.offsetWidth-248))/2:124:"right"===t&&(o=A>this._editorElementWrap.scrollWidth-248?(A-this._editorElementWrap.scrollWidth)/2:-124)),n.top="".concat(r,"px"),n.left="".concat(o,"px")}}]),t}();K().mixin(Xn);var Vn=Xn,Zn=i(381),Jn=i.n(Zn),qn=function(){function t(){M(this,t),this.versionnumber="1.2.4",this.optionpresets={default:{corsenabled:!1,ltres:1,qtres:1,pathomit:8,rightangleenhance:!0,colorsampling:2,numberofcolors:16,mincolorratio:0,colorquantcycles:3,layering:0,strokewidth:1,linefilter:!1,scale:1,roundcoords:1,viewbox:!1,desc:!1,lcpr:0,qcpr:0,blurradius:0,blurdelta:20},posterized1:{colorsampling:0,numberofcolors:2},posterized2:{numberofcolors:4,blurradius:5},curvy:{ltres:.01,linefilter:!0,rightangleenhance:!1},sharp:{qtres:.01,linefilter:!1},detailed:{pathomit:0,roundcoords:2,ltres:.5,qtres:.5,numberofcolors:64},smoothed:{blurradius:5,blurdelta:64},grayscale:{colorsampling:0,colorquantcycles:1,numberofcolors:7},fixedpalette:{colorsampling:0,colorquantcycles:1,numberofcolors:27},randomsampling1:{colorsampling:1,numberofcolors:8},randomsampling2:{colorsampling:1,numberofcolors:64},artistic1:{colorsampling:0,colorquantcycles:1,pathomit:0,blurradius:5,blurdelta:64,ltres:.01,linefilter:!0,numberofcolors:16,strokewidth:2},artistic2:{qtres:.01,colorsampling:0,colorquantcycles:1,numberofcolors:4,strokewidth:0},artistic3:{qtres:10,ltres:10,numberofcolors:8},artistic4:{qtres:10,ltres:10,numberofcolors:64,blurradius:5,blurdelta:256,strokewidth:2},posterized3:{ltres:1,qtres:1,pathomit:20,rightangleenhance:!0,colorsampling:0,numberofcolors:3,mincolorratio:0,colorquantcycles:3,blurradius:3,blurdelta:20,strokewidth:0,linefilter:!1,roundcoords:1,pal:[{r:0,g:0,b:100,a:255},{r:255,g:255,b:255,a:255}]}},this.pathscan_combined_lookup=[[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[13,3,0,1],[13,2,-1,0],[7,1,0,-1],[7,0,1,0]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[0,3,0,1],[0,2,-1,0],[-1,-1,-1,-1],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[0,1,0,-1],[-1,-1,-1,-1],[0,3,0,1]],[[11,1,0,-1],[14,0,1,0],[14,3,0,1],[11,2,-1,0]],[[-1,-1,-1,-1],[0,0,1,0],[0,3,0,1],[-1,-1,-1,-1]],[[0,0,1,0],[-1,-1,-1,-1],[0,2,-1,0],[-1,-1,-1,-1]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[0,1,0,-1],[0,0,1,0]],[[0,1,0,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[0,2,-1,0]],[[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1],[-1,-1,-1,-1]]],this.gks=[[.27901,.44198,.27901],[.135336,.228569,.272192,.228569,.135336],[.086776,.136394,.178908,.195843,.178908,.136394,.086776],[.063327,.093095,.122589,.144599,.152781,.144599,.122589,.093095,.063327],[.049692,.069304,.089767,.107988,.120651,.125194,.120651,.107988,.089767,.069304,.049692]],this.specpalette=[{r:0,g:0,b:0,a:255},{r:128,g:128,b:128,a:255},{r:0,g:0,b:128,a:255},{r:64,g:64,b:128,a:255},{r:192,g:192,b:192,a:255},{r:255,g:255,b:255,a:255},{r:128,g:128,b:192,a:255},{r:0,g:0,b:192,a:255},{r:128,g:0,b:0,a:255},{r:128,g:64,b:64,a:255},{r:128,g:0,b:128,a:255},{r:168,g:168,b:168,a:255},{r:192,g:128,b:128,a:255},{r:192,g:0,b:0,a:255},{r:255,g:255,b:255,a:255},{r:0,g:128,b:0,a:255}]}return _(t,[{key:"imageToSVG",value:function(t,e,A){var i=this;A=this.checkoptions(A),this.loadImage(t,function(t){e(i.imagedataToSVG(i.getImgdata(t),A))},A)}},{key:"imagedataToSVG",value:function(t,e){e=this.checkoptions(e);var A=this.imagedataToTracedata(t,e);return this.getsvgstring(A,e)}},{key:"imageToTracedata",value:function(t,e,A){var i=this;A=this.checkoptions(A),this.loadImage(t,function(t){e(i.imagedataToTracedata(i.getImgdata(t),A))},A)}},{key:"imagedataToTracedata",value:function(t,e){e=this.checkoptions(e);var A,i=this.colorquantization(t,e);if(0===e.layering){A={layers:[],palette:i.palette,width:i.array[0].length-2,height:i.array.length-2};for(var n=0;n<i.palette.length;n+=1){var r=this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(i,n),e.pathomit),e),e.ltres,e.qtres);A.layers.push(r)}}else{var o=this.layering(i);e.layercontainerid&&this.drawLayers(o,this.specpalette,e.scale,e.layercontainerid);var s=this.batchpathscan(o,e.pathomit),a=this.batchinternodes(s,e);A={layers:this.batchtracelayers(a,e.ltres,e.qtres),palette:i.palette,width:t.width,height:t.height}}return A}},{key:"checkoptions",value:function(t){"string"==typeof(t=t||{})&&(t=t.toLowerCase(),t=this.optionpresets[t]?this.optionpresets[t]:{});for(var e=V()(this.optionpresets.default),A=0;A<e.length;A+=1)t.hasOwnProperty(e[A])||(t[e[A]]=this.optionpresets.default[e[A]]);return t}},{key:"colorquantization",value:function(t,e){var A,i,n,r,o,s,a,c,l=[],u=0,h=[],g=t.width*t.height;for(o=0;o<t.height+2;o+=1)for(l[o]=[],r=0;r<t.width+2;r+=1)l[o][r]=-1;for(c=e.pal?e.pal:0===e.colorsampling?this.generatepalette(e.numberofcolors):1===e.colorsampling?this.samplepalette(e.numberofcolors,t):this.samplepalette2(e.numberofcolors,t),e.blurradius>0&&(t=this.blur(t,e.blurradius,e.blurdelta)),a=0;a<e.colorquantcycles;a+=1){if(a>0)for(s=0;s<c.length;s+=1)h[s].n>0&&(c[s]={r:Math.floor(h[s].r/h[s].n),g:Math.floor(h[s].g/h[s].n),b:Math.floor(h[s].b/h[s].n),a:Math.floor(h[s].a/h[s].n)}),h[s].n/g<e.mincolorratio&&a<e.colorquantcycles-1&&(c[s]={r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())});for(r=0;r<c.length;r+=1)h[r]={r:0,g:0,b:0,a:0,n:0};for(o=0;o<t.height;o+=1)for(r=0;r<t.width;r+=1){for(u=4*(o*t.width+r),n=0,i=1024,s=0;s<c.length;s+=1)(A=Math.abs(c[s].r-t.data[u])+Math.abs(c[s].g-t.data[u+1])+Math.abs(c[s].b-t.data[u+2])+Math.abs(c[s].a-t.data[u+3]))<i&&(i=A,n=s);h[n].r+=t.data[u],h[n].g+=t.data[u+1],h[n].b+=t.data[u+2],h[n].a+=t.data[u+3],h[n].n+=1,l[o+1][r+1]=n}}return{array:l,palette:c}}},{key:"samplepalette",value:function(t,e){for(var A,i=[],n=0;n<t;n+=1)A=4*Math.floor(Math.random()*e.data.length/4),i.push({r:e.data[A],g:e.data[A+1],b:e.data[A+2],a:e.data[A+3]});return i}},{key:"samplepalette2",value:function(t,e){for(var A,i=[],n=Math.ceil(Math.sqrt(t)),r=Math.ceil(t/n),o=e.width/(n+1),s=e.height/(r+1),a=0;a<r;a+=1)for(var c=0;c<n&&i.length!==t;c+=1)A=4*Math.floor((a+1)*s*e.width+(c+1)*o),i.push({r:e.data[A],g:e.data[A+1],b:e.data[A+2],a:e.data[A+3]});return i}},{key:"generatepalette",value:function(t){var e,A,i,n=[];if(t<8)for(var r=Math.floor(255/(t-1)),o=0;o<t;o+=1)n.push({r:o*r,g:o*r,b:o*r,a:255});else{var s=Math.floor(Math.pow(t,1/3)),a=Math.floor(255/(s-1)),c=t-s*s*s;for(e=0;e<s;e+=1)for(A=0;A<s;A+=1)for(i=0;i<s;i+=1)n.push({r:e*a,g:A*a,b:i*a,a:255});for(e=0;e<c;e+=1)n.push({r:Math.floor(255*Math.random()),g:Math.floor(255*Math.random()),b:Math.floor(255*Math.random()),a:Math.floor(255*Math.random())})}return n}},{key:"layering",value:function(t){var e,A,i,n,r,o,s,a,c,l,u,h=[],g=0,f=t.array.length,d=t.array[0].length;for(u=0;u<t.palette.length;u+=1)for(h[u]=[],l=0;l<f;l+=1)for(h[u][l]=[],c=0;c<d;c+=1)h[u][l][c]=0;for(l=1;l<f-1;l+=1)for(c=1;c<d-1;c+=1)g=t.array[l][c],e=t.array[l-1][c-1]===g?1:0,A=t.array[l-1][c]===g?1:0,i=t.array[l-1][c+1]===g?1:0,n=t.array[l][c-1]===g?1:0,r=t.array[l][c+1]===g?1:0,o=t.array[l+1][c-1]===g?1:0,s=t.array[l+1][c]===g?1:0,a=t.array[l+1][c+1]===g?1:0,h[g][l+1][c+1]=1+2*r+4*a+8*s,n||(h[g][l+1][c]=2+4*s+8*o),A||(h[g][l][c+1]=0+2*i+4*r+8),e||(h[g][l][c]=0+2*A+4+8*n);return h}},{key:"layeringstep",value:function(t,e){var A,i,n=[],r=t.array.length,o=t.array[0].length;for(i=0;i<r;i+=1)for(n[i]=[],A=0;A<o;A+=1)n[i][A]=0;for(i=1;i<r;i+=1)for(A=1;A<o;A+=1)n[i][A]=(t.array[i-1][A-1]===e?1:0)+(t.array[i-1][A]===e?2:0)+(t.array[i][A-1]===e?8:0)+(t.array[i][A]===e?4:0);return n}},{key:"pathscan",value:function(t,e){for(var A,i=[],n=0,r=0,o=0,s=0,a=t[0].length,c=t.length,l=0,u=!0,h=!1,g=0;g<c;g+=1)for(var f=0;f<a;f+=1)if(4===t[g][f]||11===t[g][f])for(o=f,s=g,i[n]={},i[n].points=[],i[n].boundingbox=[o,s,o,s],i[n].holechildren=[],u=!1,r=0,h=11===t[g][f],l=1;!u;){if(i[n].points[r]={},i[n].points[r].x=o-1,i[n].points[r].y=s-1,i[n].points[r].t=t[s][o],o-1<i[n].boundingbox[0]&&(i[n].boundingbox[0]=o-1),o-1>i[n].boundingbox[2]&&(i[n].boundingbox[2]=o-1),s-1<i[n].boundingbox[1]&&(i[n].boundingbox[1]=s-1),s-1>i[n].boundingbox[3]&&(i[n].boundingbox[3]=s-1),A=this.pathscan_combined_lookup[t[s][o]][l],t[s][o]=A[0],l=A[1],o+=A[2],s+=A[3],o-1===i[n].points[0].x&&s-1===i[n].points[0].y)if(u=!0,i[n].points.length<e)i.pop();else{if(i[n].isholepath=!!h,h){for(var d=0,p=[-1,-1,a+1,c+1],v=0;v<n;v++)!i[v].isholepath&&this.boundingboxincludes(i[v].boundingbox,i[n].boundingbox)&&this.boundingboxincludes(p,i[v].boundingbox)&&(d=v,p=i[v].boundingbox);i[d].holechildren.push(n)}n+=1}r+=1}return i}},{key:"boundingboxincludes",value:function(t,e){return t[0]<e[0]&&t[1]<e[1]&&t[2]>e[2]&&t[3]>e[3]}},{key:"batchpathscan",value:function(t,e){var A=[];for(var i in t)t.hasOwnProperty(i)&&(A[i]=this.pathscan(t[i],e));return A}},{key:"internodes",value:function(t,e){var A,i,n=[],r=0,o=0,s=0,a=0,c=0;for(A=0;A<t.length;A+=1)for(n[A]={},n[A].points=[],n[A].boundingbox=t[A].boundingbox,n[A].holechildren=t[A].holechildren,n[A].isholepath=t[A].isholepath,r=t[A].points.length,i=0;i<r;i+=1)o=(i+1)%r,s=(i+2)%r,a=(i-1+r)%r,c=(i-2+r)%r,e.rightangleenhance&&this.testrightangle(t[A],c,a,i,o,s)&&(n[A].points.length>0&&(n[A].points[n[A].points.length-1].linesegment=this.getdirection(n[A].points[n[A].points.length-1].x,n[A].points[n[A].points.length-1].y,t[A].points[i].x,t[A].points[i].y)),n[A].points.push({x:t[A].points[i].x,y:t[A].points[i].y,linesegment:this.getdirection(t[A].points[i].x,t[A].points[i].y,(t[A].points[i].x+t[A].points[o].x)/2,(t[A].points[i].y+t[A].points[o].y)/2)})),n[A].points.push({x:(t[A].points[i].x+t[A].points[o].x)/2,y:(t[A].points[i].y+t[A].points[o].y)/2,linesegment:this.getdirection((t[A].points[i].x+t[A].points[o].x)/2,(t[A].points[i].y+t[A].points[o].y)/2,(t[A].points[o].x+t[A].points[s].x)/2,(t[A].points[o].y+t[A].points[s].y)/2)});return n}},{key:"testrightangle",value:function(t,e,A,i,n,r){return t.points[i].x===t.points[e].x&&t.points[i].x===t.points[A].x&&t.points[i].y===t.points[n].y&&t.points[i].y===t.points[r].y||t.points[i].y===t.points[e].y&&t.points[i].y===t.points[A].y&&t.points[i].x===t.points[n].x&&t.points[i].x===t.points[r].x}},{key:"getdirection",value:function(t,e,A,i){return t<A?e<i?1:e>i?7:0:t>A?e<i?3:e>i?5:4:e<i?2:e>i?6:8}},{key:"batchinternodes",value:function(t,e){var A=[];for(var i in t)t.hasOwnProperty(i)&&(A[i]=this.internodes(t[i],e));return A}},{key:"tracepath",value:function(t,e,A){var i,n,r,o=0,s={segments:[]};for(s.boundingbox=t.boundingbox,s.holechildren=t.holechildren,s.isholepath=t.isholepath;o<t.points.length;){var a;for(i=t.points[o].linesegment,n=-1,r=o+1;(t.points[r].linesegment===i||t.points[r].linesegment===n||-1===n)&&r<t.points.length-1;)t.points[r].linesegment!==i&&-1===n&&(n=t.points[r].linesegment),r+=1;r===t.points.length-1&&(r=0),s.segments=U()(a=s.segments).call(a,this.fitseq(t,e,A,o,r)),o=r>0?r:t.points.length}return s}},{key:"fitseq",value:function(t,e,A,i,n){var r;if(n>t.points.length||n<0)return[];var o,s,a,c=i,l=0,u=!0,h=n-i;h<0&&(h+=t.points.length);for(var g,f=(t.points[n].x-t.points[i].x)/h,d=(t.points[n].y-t.points[i].y)/h,p=(i+1)%t.points.length;p!=n;)(g=p-i)<0&&(g+=t.points.length),o=t.points[i].x+f*g,s=t.points[i].y+d*g,(a=(t.points[p].x-o)*(t.points[p].x-o)+(t.points[p].y-s)*(t.points[p].y-s))>e&&(u=!1),a>l&&(c=p,l=a),p=(p+1)%t.points.length;if(u)return[{type:"L",x1:t.points[i].x,y1:t.points[i].y,x2:t.points[n].x,y2:t.points[n].y}];var v=c;u=!0,l=0;var m=(v-i)/h,B=(1-m)*(1-m),y=2*(1-m)*m,C=m*m,w=(B*t.points[i].x+C*t.points[n].x-t.points[v].x)/-y,b=(B*t.points[i].y+C*t.points[n].y-t.points[v].y)/-y;for(p=i+1;p!=n;)y=2*(1-(m=(p-i)/h))*m,C=m*m,o=(B=(1-m)*(1-m))*t.points[i].x+y*w+C*t.points[n].x,s=B*t.points[i].y+y*b+C*t.points[n].y,(a=(t.points[p].x-o)*(t.points[p].x-o)+(t.points[p].y-s)*(t.points[p].y-s))>A&&(u=!1),a>l&&(c=p,l=a),p=(p+1)%t.points.length;if(u)return[{type:"Q",x1:t.points[i].x,y1:t.points[i].y,x2:w,y2:b,x3:t.points[n].x,y3:t.points[n].y}];var I=v;return U()(r=this.fitseq(t,e,A,i,I)).call(r,this.fitseq(t,e,A,I,n))}},{key:"batchtracepaths",value:function(t,e,A){var i=[];for(var n in t)t.hasOwnProperty(n)&&i.push(this.tracepath(t[n],e,A));return i}},{key:"batchtracelayers",value:function(t,e,A){var i=[];for(var n in t)t.hasOwnProperty(n)&&(i[n]=this.batchtracepaths(t[n],e,A));return i}},{key:"roundtodec",value:function(t,e){return Number(t.toFixed(e))}},{key:"svgpathstring",value:function(t,e,A,i){var n,r,o,s=t.layers[e],a=s[A],c="";if(i.linefilter&&a.segments.length<3)return c;if(c=U()(n="<path ".concat(i.desc?U()(r='desc="l '.concat(e," p ")).call(r,A,'" '):"")).call(n,this.tosvgcolorstr(t.palette[e],i),'d="'),-1===i.roundcoords){var l;for(c+=U()(l="M ".concat(a.segments[0].x1*i.scale," ")).call(l,a.segments[0].y1*i.scale," "),o=0;o<a.segments.length;o++){var u,h,g;c+=U()(u=U()(h="".concat(a.segments[o].type," ")).call(h,a.segments[o].x2*i.scale," ")).call(u,a.segments[o].y2*i.scale," "),a.segments[o].hasOwnProperty("x3")&&(c+=U()(g="".concat(a.segments[o].x3*i.scale," ")).call(g,a.segments[o].y3*i.scale," "))}c+="Z "}else{var f;for(c+=U()(f="M ".concat(this.roundtodec(a.segments[0].x1*i.scale,i.roundcoords)," ")).call(f,this.roundtodec(a.segments[0].y1*i.scale,i.roundcoords)," "),o=0;o<a.segments.length;o++){var d,p,v;c+=U()(d=U()(p="".concat(a.segments[o].type," ")).call(p,this.roundtodec(a.segments[o].x2*i.scale,i.roundcoords)," ")).call(d,this.roundtodec(a.segments[o].y2*i.scale,i.roundcoords)," "),a.segments[o].hasOwnProperty("x3")&&(c+=U()(v="".concat(this.roundtodec(a.segments[o].x3*i.scale,i.roundcoords)," ")).call(v,this.roundtodec(a.segments[o].y3*i.scale,i.roundcoords)," "))}c+="Z "}for(var m=0;m<a.holechildren.length;m++){var B,y,C,w,b=s[a.holechildren[m]];if(-1===i.roundcoords)for(b.segments[b.segments.length-1].hasOwnProperty("x3")?c+=U()(B="M ".concat(b.segments[b.segments.length-1].x3*i.scale," ")).call(B,b.segments[b.segments.length-1].y3*i.scale," "):c+=U()(y="M ".concat(b.segments[b.segments.length-1].x2*i.scale," ")).call(y,b.segments[b.segments.length-1].y2*i.scale," "),o=b.segments.length-1;o>=0;o--){var I,x;c+="".concat(b.segments[o].type," "),b.segments[o].hasOwnProperty("x3")&&(c+=U()(x="".concat(b.segments[o].x2*i.scale," ")).call(x,b.segments[o].y2*i.scale," ")),c+=U()(I="".concat(b.segments[o].x1*i.scale," ")).call(I,b.segments[o].y1*i.scale," ")}else for(b.segments[b.segments.length-1].hasOwnProperty("x3")?c+=U()(C="M ".concat(this.roundtodec(b.segments[b.segments.length-1].x3*i.scale)," ")).call(C,this.roundtodec(b.segments[b.segments.length-1].y3*i.scale)," "):c+=U()(w="M ".concat(this.roundtodec(b.segments[b.segments.length-1].x2*i.scale)," ")).call(w,this.roundtodec(b.segments[b.segments.length-1].y2*i.scale)," "),o=b.segments.length-1;o>=0;o--){var M,S;c+="".concat(b.segments[o].type," "),b.segments[o].hasOwnProperty("x3")&&(c+=U()(S="".concat(this.roundtodec(b.segments[o].x2*i.scale)," ")).call(S,this.roundtodec(b.segments[o].y2*i.scale)," ")),c+=U()(M="".concat(this.roundtodec(b.segments[o].x1*i.scale)," ")).call(M,this.roundtodec(b.segments[o].y1*i.scale)," ")}c+="Z "}if(c+='" />',i.lcpr||i.qcpr){for(o=0;o<a.segments.length;o++){var _,Q,F,E,D,T,k,O,L,H,j,P,N,R,z,G,K;a.segments[o].hasOwnProperty("x3")&&i.qcpr&&(c+=U()(_=U()(Q=U()(F='<circle cx="'.concat(a.segments[o].x2*i.scale,'" cy="')).call(F,a.segments[o].y2*i.scale,'" r="')).call(Q,i.qcpr,'" fill="cyan" stroke-width="')).call(_,.2*i.qcpr,'" stroke="black" />'),c+=U()(E=U()(D=U()(T='<circle cx="'.concat(a.segments[o].x3*i.scale,'" cy="')).call(T,a.segments[o].y3*i.scale,'" r="')).call(D,i.qcpr,'" fill="white" stroke-width="')).call(E,.2*i.qcpr,'" stroke="black" />'),c+=U()(k=U()(O=U()(L=U()(H='<line x1="'.concat(a.segments[o].x1*i.scale,'" y1="')).call(H,a.segments[o].y1*i.scale,'" x2="')).call(L,a.segments[o].x2*i.scale,'" y2="')).call(O,a.segments[o].y2*i.scale,'" stroke-width="')).call(k,.2*i.qcpr,'" stroke="cyan" />'),c+=U()(j=U()(P=U()(N=U()(R='<line x1="'.concat(a.segments[o].x2*i.scale,'" y1="')).call(R,a.segments[o].y2*i.scale,'" x2="')).call(N,a.segments[o].x3*i.scale,'" y2="')).call(P,a.segments[o].y3*i.scale,'" stroke-width="')).call(j,.2*i.qcpr,'" stroke="cyan" />')),!a.segments[o].hasOwnProperty("x3")&&i.lcpr&&(c+=U()(z=U()(G=U()(K='<circle cx="'.concat(a.segments[o].x2*i.scale,'" cy="')).call(K,a.segments[o].y2*i.scale,'" r="')).call(G,i.lcpr,'" fill="white" stroke-width="')).call(z,.2*i.lcpr,'" stroke="black" />'))}for(m=0;m<a.holechildren.length;m++)for(b=s[a.holechildren[m]],o=0;o<b.segments.length;o++){var Y,W,X,V,Z,J,q,$,tt,et,At,it,nt,rt,ot,st,at;b.segments[o].hasOwnProperty("x3")&&i.qcpr&&(c+=U()(Y=U()(W=U()(X='<circle cx="'.concat(b.segments[o].x2*i.scale,'" cy="')).call(X,b.segments[o].y2*i.scale,'" r="')).call(W,i.qcpr,'" fill="cyan" stroke-width="')).call(Y,.2*i.qcpr,'" stroke="black" />'),c+=U()(V=U()(Z=U()(J='<circle cx="'.concat(b.segments[o].x3*i.scale,'" cy="')).call(J,b.segments[o].y3*i.scale,'" r="')).call(Z,i.qcpr,'" fill="white" stroke-width="')).call(V,.2*i.qcpr,'" stroke="black" />'),c+=U()(q=U()($=U()(tt=U()(et='<line x1="'.concat(b.segments[o].x1*i.scale,'" y1="')).call(et,b.segments[o].y1*i.scale,'" x2="')).call(tt,b.segments[o].x2*i.scale,'" y2="')).call($,b.segments[o].y2*i.scale,'" stroke-width="')).call(q,.2*i.qcpr,'" stroke="cyan" />'),c+=U()(At=U()(it=U()(nt=U()(rt='<line x1="'.concat(b.segments[o].x2*i.scale,'" y1="')).call(rt,b.segments[o].y2*i.scale,'" x2="')).call(nt,b.segments[o].x3*i.scale,'" y2="')).call(it,b.segments[o].y3*i.scale,'" stroke-width="')).call(At,.2*i.qcpr,'" stroke="cyan" />')),!b.segments[o].hasOwnProperty("x3")&&i.lcpr&&(c+=U()(ot=U()(st=U()(at='<circle cx="'.concat(b.segments[o].x2*i.scale,'" cy="')).call(at,b.segments[o].y2*i.scale,'" r="')).call(st,i.lcpr,'" fill="white" stroke-width="')).call(ot,.2*i.lcpr,'" stroke="black" />'))}}return c}},{key:"getsvgstring",value:function(t,e){var A,i,n;e=this.checkoptions(e);for(var r=t.width*e.scale,o=t.height*e.scale,s=U()(A="<svg ".concat(e.viewbox?U()(i='viewBox="0 0 '.concat(r," ")).call(i,o,'" '):U()(n='width="'.concat(r,'" height="')).call(n,o,'" '),'version="1.1" xmlns="http://www.w3.org/2000/svg" desc="Created with imagetracer.js version ')).call(A,this.versionnumber,'" >'),a=0;a<t.layers.length;a+=1)for(var c=0;c<t.layers[a].length;c+=1)t.layers[a][c].isholepath||(s+=this.svgpathstring(t,a,c,e));return s+="</svg>"}},{key:"compareNumbers",value:function(t,e){return t-e}},{key:"torgbastr",value:function(t){var e,A,i;return U()(e=U()(A=U()(i="rgba(".concat(t.r,",")).call(i,t.g,",")).call(A,t.b,",")).call(e,t.a,")")}},{key:"tosvgcolorstr",value:function(t,e){var A,i,n,r,o,s,a;return U()(A=U()(i=U()(n=U()(r=U()(o=U()(s=U()(a='fill="rgb('.concat(t.r,",")).call(a,t.g,",")).call(s,t.b,')" stroke="rgb(')).call(o,t.r,",")).call(r,t.g,",")).call(n,t.b,')" stroke-width="')).call(i,e.strokewidth,'" opacity="')).call(A,t.a/255,'" ')}},{key:"appendSVGString",value:function(t,e){var A;e?(A=document.getElementById(e))||((A=document.createElement("div")).id=e,document.body.appendChild(A)):(A=document.createElement("div"),document.body.appendChild(A)),A.innerHTML+=t}},{key:"blur",value:function(t,e,A){var i,n,r,o,s,a,c,l,u,h={width:t.width,height:t.height,data:[]};if((e=Math.floor(e))<1)return t;e>5&&(e=5),(A=Math.abs(A))>1024&&(A=1024);var g=this.gks[e-1];for(n=0;n<t.height;n++)for(i=0;i<t.width;i++){for(s=0,a=0,c=0,l=0,u=0,r=-e;r<e+1;r++)i+r>0&&i+r<t.width&&(o=4*(n*t.width+i+r),s+=t.data[o]*g[r+e],a+=t.data[o+1]*g[r+e],c+=t.data[o+2]*g[r+e],l+=t.data[o+3]*g[r+e],u+=g[r+e]);o=4*(n*t.width+i),h.data[o]=Math.floor(s/u),h.data[o+1]=Math.floor(a/u),h.data[o+2]=Math.floor(c/u),h.data[o+3]=Math.floor(l/u)}var f=new Uint8ClampedArray(h.data);for(n=0;n<t.height;n++)for(i=0;i<t.width;i++){for(s=0,a=0,c=0,l=0,u=0,r=-e;r<e+1;r++)n+r>0&&n+r<t.height&&(s+=f[o=4*((n+r)*t.width+i)]*g[r+e],a+=f[o+1]*g[r+e],c+=f[o+2]*g[r+e],l+=f[o+3]*g[r+e],u+=g[r+e]);o=4*(n*t.width+i),h.data[o]=Math.floor(s/u),h.data[o+1]=Math.floor(a/u),h.data[o+2]=Math.floor(c/u),h.data[o+3]=Math.floor(l/u)}for(n=0;n<t.height;n++)for(i=0;i<t.width;i++)o=4*(n*t.width+i),Math.abs(h.data[o]-t.data[o])+Math.abs(h.data[o+1]-t.data[o+1])+Math.abs(h.data[o+2]-t.data[o+2])+Math.abs(h.data[o+3]-t.data[o+3])>A&&(h.data[o]=t.data[o],h.data[o+1]=t.data[o+1],h.data[o+2]=t.data[o+2],h.data[o+3]=t.data[o+3]);return h}},{key:"loadImage",value:function(t,e,A){var i=new Image;A&&A.corsenabled&&(i.crossOrigin="Anonymous"),i.src=t,i.onload=function(){var t=document.createElement("canvas");t.width=i.width,t.height=i.height,t.getContext("2d").drawImage(i,0,0),e(t)}}},{key:"getImgdata",value:function(t){return t.getContext("2d").getImageData(0,0,t.width,t.height)}},{key:"drawLayers",value:function(t,e,A,i){var n,r,o,s,a,c;for(a in A=A||1,i?(c=document.getElementById(i))||((c=document.createElement("div")).id=i,document.body.appendChild(c)):(c=document.createElement("div"),document.body.appendChild(c)),t)if(t.hasOwnProperty(a)){n=t[a][0].length,r=t[a].length;var l=document.createElement("canvas");l.width=n*A,l.height=r*A;var u=l.getContext("2d");for(s=0;s<r;s+=1)for(o=0;o<n;o+=1)u.fillStyle=this.torgbastr(e[t[a][s][o]%e.length]),u.fillRect(o*A,s*A,A,A);c.appendChild(l)}}}],[{key:"tracerDefaultOption",value:function(){return{pathomit:100,ltres:.1,qtres:1,scale:1,strokewidth:5,viewbox:!1,linefilter:!0,desc:!1,rightangleenhance:!1,pal:[{r:0,g:0,b:0,a:255},{r:255,g:255,b:255,a:255}]}}}]),t}(),$n={getActions:function(){return{main:this._mainAction(),shape:this._shapeAction(),crop:this._cropAction(),resize:this._resizeAction(),flip:this._flipAction(),rotate:this._rotateAction(),text:this._textAction(),mask:this._maskAction(),draw:this._drawAction(),icon:this._iconAction(),filter:this._filterAction(),history:this._historyAction()}},_mainAction:function(){var t=this,e=function(){"crop"===t.ui.submenu&&(t.stopDrawingMode(),t.ui.changeMenu("crop"))},A=function(e){var A,i;return A=e,"rotate"===t.ui.submenu&&t.ui.rotate.setRangeBarAngle("setAngle",A),i=e,"filter"===t.ui.submenu&&Jn()(t.ui).setFilterState(i),e},i=function(){Jn()(t.ui)&&Jn()(t.ui).initFilterCheckBoxState()};return j()({initLoadImage:function(A,i){return t.loadImageFromURL(A,i).then(function(i){e(),t.ui.initializeImgUrl=A,t.ui.resizeEditor({imageSize:i}),t.clearUndoStack(),t._invoker.fire(he,xe)})},undo:function(){t.isEmptyUndoStack()||(e(),t.deactivateAll(),t.undo().then(A))},redo:function(){t.isEmptyRedoStack()||(e(),t.deactivateAll(),t.redo().then(A))},reset:function(){e(),t.loadImageFromURL(t.ui.initializeImgUrl,"resetImage").then(function(A){e(),i(),t.ui.resizeEditor({imageSize:A}),t.clearUndoStack(),t._initHistory()})},delete:function(){t.ui.changeHelpButtonEnabled("delete",!1),e(),t.removeActiveObject(),t.activeObjectId=null},deleteAll:function(){e(),t.clearObjects(),t.ui.changeHelpButtonEnabled("delete",!1),t.ui.changeHelpButtonEnabled("deleteAll",!1)},load:function(A){PA()||alert("This browser does not support file-api"),t.ui.initializeImgUrl=O().createObjectURL(A),t.loadImageFromFile(A).then(function(A){e(),i(),t.clearUndoStack(),t.ui.activeMenuEvent(),t.ui.resizeEditor({imageSize:A}),t._clearHistory(),t._invoker.fire(he,xe)}).catch(function(t){return T().reject(t)})},download:function(){var e,A,i=t.toDataURL(),n=t.getImageName();PA()&&window.saveAs?(e=function(t){var e,A,i,n="";e=t.replace(/data:(image\/.+);base64,/,function(t,e){return n=e,""});var r=(e=atob(e)).length;for(A=new Uint8Array(r),i=0;i<r;i+=1)A[i]=e.charCodeAt(i);return new Blob([A],{type:n})}(i),A=e.type.split("/")[1],n.split(".").pop()!==A&&(n+=".".concat(A)),saveAs(e,n)):window.open().document.body.innerHTML="<img src='".concat(i,"'>")},history:function(e){t.ui.toggleHistoryMenu(e)},zoomIn:function(){var e;t.ui.toggleZoomButtonStatus("zoomIn"),t.deactivateAll(),e=t._graphics.getZoomMode(),t.stopDrawingMode(),e!==Ke?(t.startDrawingMode(He.ZOOM),t._graphics.startZoomInMode()):t._graphics.endZoomInMode()},zoomOut:function(){t._graphics.zoomOut()},hand:function(){var e;t.ui.offZoomInButtonStatus(),t.ui.toggleZoomButtonStatus("hand"),t.deactivateAll(),e=t._graphics.getZoomMode(),t.stopDrawingMode(),e!==Ye?(t.startDrawingMode(He.ZOOM),t._graphics.startHandMode()):t._graphics.endHandMode()}},this._commonAction())},_iconAction:function(){var t=this;return j()({changeColor:function(e){t.activeObjectId&&t.changeIconColor(t.activeObjectId,e)},addIcon:function(e,A){t.startDrawingMode("ICON"),t.setDrawingIcon(e,A)},cancelAddIcon:function(){t.ui.icon.clearIconType(),t.changeSelectableAll(!0),t.changeCursor("default"),t.stopDrawingMode()},registerDefaultIcons:function(e,A){var i={};i[e]=A,t.registerIcons(i)},registerCustomIcon:function(e,A){(new qn).imageToSVG(e,function(e){var i=Z(e.match(/path[^>]*d="([^"]*)"/),2)[1],n={};n[A.name]=i,t.registerIcons(n),t.addIcon(A.name,{left:100,top:100})},qn.tracerDefaultOption())}},this._commonAction())},_drawAction:function(){var t=this;return j()({setDrawMode:function(e,A){t.stopDrawingMode(),"free"===e?t.startDrawingMode("FREE_DRAWING",A):t.startDrawingMode("LINE_DRAWING",A)},setColor:function(e){t.setBrush({color:e})}},this._commonAction())},_maskAction:function(){var t=this;return j()({loadImageFromURL:function(e,A){return t.loadImageFromURL(t.toDataURL(),"FilterImage").then(function(){t.addImageObject(e).then(function(){O().revokeObjectURL(A)}),t._invoker.fire(he,Me)})},applyFilter:function(){t.applyFilter("mask",{maskObjId:t.activeObjectId})}},this._commonAction())},_textAction:function(){var t=this;return j()({changeTextStyle:function(e,A){t.activeObjectId&&t.changeTextStyle(t.activeObjectId,e,A)}},this._commonAction())},_rotateAction:function(){var t=this;return j()({rotate:function(e,A){t.rotate(e,A),t.ui.resizeEditor(),t.ui.rotate.setRangeBarAngle("rotate",e)},setAngle:function(e,A){t.setAngle(e,A),t.ui.resizeEditor(),t.ui.rotate.setRangeBarAngle("setAngle",e)}},this._commonAction())},_shapeAction:function(){var t=this;return j()({changeShape:function(e,A){t.activeObjectId&&t.changeShape(t.activeObjectId,e,A)},setDrawingShape:function(e){t.setDrawingShape(e)}},this._commonAction())},_cropAction:function(){var t=this;return j()({crop:function(){var e=t.getCropzoneRect();e&&!function(t){var e=t.left,A=t.top,i=t.width,n=t.height;return e===bA&&A===IA&&i===xA&&n===MA}(e)&&t.crop(e).then(function(){t.stopDrawingMode(),t.ui.resizeEditor(),t.ui.changeMenu("crop"),t._invoker.fire(he,_e)}).catch(function(t){return T().reject(t)})},cancel:function(){t.stopDrawingMode(),t.ui.changeMenu("crop")},preset:function(e){switch(e){case"preset-square":t.setCropzoneRect(1);break;case"preset-3-2":t.setCropzoneRect(1.5);break;case"preset-4-3":t.setCropzoneRect(4/3);break;case"preset-5-4":t.setCropzoneRect(5/4);break;case"preset-7-5":t.setCropzoneRect(1.4);break;case"preset-16-9":t.setCropzoneRect(16/9);break;default:t.setCropzoneRect(),t.ui.crop.changeApplyButtonStatus(!1)}}},this._commonAction())},_resizeAction:function(){var t=this;return j()({getCurrentDimensions:function(){return t._graphics.getCurrentDimensions()},preview:function(e,A,i){var n=t._graphics.getCurrentDimensions(),r=function(){return n.width/n.height},o={};switch(e){case"width":o.width=A,o.height=i?A/r():n.height;break;case"height":o.height=A,o.width=i?A*r():n.width;break;default:o=n}t._graphics.resize(o).then(function(){t.ui.resizeEditor()}),i&&(t.ui.resize.setWidthValue(o.width),t.ui.resize.setHeightValue(o.height))},lockAspectRatio:function(e,A,i){var n=t._graphics.getCurrentDimensions(),r=n.width,o=n.height,s=r/o;if(e)if(r>o){var a=i/s,c=A*s;t.ui.resize.setLimit({minWidth:c>A?c:A,minHeight:A,maxWidth:i,maxHeight:a<i?a:i})}else{var l=i*s,u=A/s;t.ui.resize.setLimit({minWidth:A,minHeight:u>A?u:A,maxWidth:l<i?l:i,maxHeight:i})}else t.ui.resize.setLimit({minWidth:A,minHeight:A,maxWidth:i,maxHeight:i})},resize:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e||(e=t._graphics.getCurrentDimensions()),t.resize(e).then(function(){t._graphics.setOriginalDimensions(e),t.stopDrawingMode(),t.ui.resizeEditor(),t.ui.changeMenu("resize")}).catch(function(t){return T().reject(t)})},reset:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],A=t._graphics.getOriginalDimensions();t.ui.resize.setWidthValue(A.width,!0),t.ui.resize.setHeightValue(A.height,!0),t._graphics.resize(A).then(function(){e||(t.stopDrawingMode(),t.ui.resizeEditor(),t.ui.changeMenu("resize"))})}},this._commonAction())},_flipAction:function(){var t=this;return j()({flip:function(e){return t[e]()}},this._commonAction())},_filterAction:function(){var t=this;return j()({applyFilter:function(e,A,i,n){e?t.applyFilter(A,i,n):t.hasFilter(A)&&t.removeFilter(A)}},this._commonAction())},setReAction:function(){var t=this;this.on({undoStackChanged:function(e){e?(t.ui.changeHelpButtonEnabled("undo",!0),t.ui.changeHelpButtonEnabled("reset",!0)):(t.ui.changeHelpButtonEnabled("undo",!1),t.ui.changeHelpButtonEnabled("reset",!1)),t.ui.resizeEditor()},redoStackChanged:function(e){e?t.ui.changeHelpButtonEnabled("redo",!0):t.ui.changeHelpButtonEnabled("redo",!1),t.ui.resizeEditor()},objectActivated:function(e){var A,i;t.activeObjectId=e.id,t.ui.changeHelpButtonEnabled("delete",!0),t.ui.changeHelpButtonEnabled("deleteAll",!0),"cropzone"===e.type?t.ui.crop.changeApplyButtonStatus(!0):r()(A=["rect","circle","triangle"]).call(A,e.type)>-1?(t.stopDrawingMode(),"shape"!==t.ui.submenu&&t.ui.changeMenu("shape",!1,!1),t.ui.shape.setShapeStatus({strokeColor:e.stroke,strokeWidth:e.strokeWidth,fillColor:it()(e)}),t.ui.shape.setMaxStrokeValue(Math.min(e.width,e.height))):"path"===e.type||"line"===e.type?"draw"!==t.ui.submenu&&(t.ui.changeMenu("draw",!1,!1),t.ui.draw.changeStandbyMode()):r()(i=["i-text","text"]).call(i,e.type)>-1?("text"!==t.ui.submenu&&t.ui.changeMenu("text",!1,!1),t.ui.text.setTextStyleStateOnAction(e)):"icon"===e.type&&(t.stopDrawingMode(),"icon"!==t.ui.submenu&&t.ui.changeMenu("icon",!1,!1),t.ui.icon.setIconPickerColor(it()(e)))},addText:function(e){var A=t.ui.text,i=A.textColor,n=A.fontSize,r=A.fontStyle,o=A.fontWeight,s=A.underline;t.addText("Double Click",{position:e.originPosition,styles:{fill:i,fontSize:n,fontFamily:"Noto Sans",fontStyle:r,fontWeight:o,underline:s}}).then(function(){t.changeCursor("default")})},addObjectAfter:function(e){var A;"icon"===e.type?t.ui.icon.changeStandbyMode():r()(A=["rect","circle","triangle"]).call(A,e.type)>-1&&(t.ui.shape.setMaxStrokeValue(Math.min(e.width,e.height)),t.ui.shape.changeStandbyMode())},objectScaled:function(e){var A,i;if(r()(A=["i-text","text"]).call(A,e.type)>-1)t.ui.text.fontSize=HA(e.fontSize);else if(r()(i=["rect","circle","triangle"]).call(i,e.type)>=0){var n=e.width,o=e.height,s=t.ui.shape.getStrokeValue();n<s&&t.ui.shape.setStrokeValue(n),o<s&&t.ui.shape.setStrokeValue(o)}},selectionCleared:function(){t.activeObjectId=null,"text"===t.ui.submenu?t.changeCursor("text"):YA(["draw","crop","resize"],t.ui.submenu)||t.stopDrawingMode()}})},_historyAction:function(){var t=this;return{undo:function(e){return t.undo(e)},redo:function(e){return t.redo(e)}}},_commonAction:function(){var t,e,A,i,n=this,r=He.TEXT,o=He.CROPPER,s=He.SHAPE,a=He.ZOOM,c=He.RESIZE;return{modeChange:function(t){switch(t){case je:n._changeActivateMode(r);break;case Pe:n.startDrawingMode(o);break;case Re:n._changeActivateMode(s),n.setDrawingShape(n.ui.shape.type,n.ui.shape.options);break;case ze:n.startDrawingMode(a);break;case Ne:n.startDrawingMode(c)}},deactivateAll:F()(t=this.deactivateAll).call(t,this),changeSelectableAll:F()(e=this.changeSelectableAll).call(e,this),discardSelection:F()(A=this.discardSelection).call(A,this),stopDrawingMode:F()(i=this.stopDrawingMode).call(i,this)}},mixin:function(t){j()(t.prototype,this)}},tr=i(602),er=i.n(tr),Ar=i(5573),ir=i.n(Ar),nr=function(){function t(e,A){M(this,t),this.name=e,this.graphics=A}return _(t,[{key:"fire",value:function(){for(var t=this.graphics,e=arguments.length,A=new Array(e),i=0;i<e;i++)A[i]=arguments[i];return this.graphics.fire.apply(t,A)}},{key:"setCanvasImage",value:function(t,e){this.graphics.setCanvasImage(t,e)}},{key:"getCanvasElement",value:function(){return this.graphics.getCanvasElement()}},{key:"getCanvas",value:function(){return this.graphics.getCanvas()}},{key:"getCanvasImage",value:function(){return this.graphics.getCanvasImage()}},{key:"getImageName",value:function(){return this.graphics.getImageName()}},{key:"getEditor",value:function(){return this.graphics.getEditor()}},{key:"getName",value:function(){return this.name}},{key:"setImageProperties",value:function(t,e){this.graphics.setImageProperties(t,e)}},{key:"setCanvasCssDimension",value:function(t){this.graphics.setCanvasCssDimension(t)}},{key:"setCanvasBackstoreDimension",value:function(t){this.graphics.setCanvasBackstoreDimension(t)}},{key:"adjustCanvasDimension",value:function(){this.graphics.adjustCanvasDimension()}},{key:"adjustCanvasDimensionBase",value:function(){this.graphics.adjustCanvasDimensionBase()}}]),t}(),rr=nr;function or(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var sr={padding:0,crossOrigin:"Anonymous"},ar=function(t){Ii(A,t);var e=or(A);function A(t){return M(this,A),e.call(this,xt.IMAGE_LOADER,t)}return _(A,[{key:"load",value:function(t,e){var A,i=this;if(t||e)A=this._setBackgroundImage(e).then(function(e){return i.setCanvasImage(t,e),i.adjustCanvasDimension(),e});else{var n=this.getCanvas();n.backgroundImage=null,n.renderAll(),A=new(T())(function(t){i.setCanvasImage("",null),t()})}return A}},{key:"_setBackgroundImage",value:function(t){var e=this;return t?new(T())(function(A,i){var n=e.getCanvas();n.setBackgroundImage(t,function(){var t=n.backgroundImage;t&&t.getElement()?A(t):i(uA)},sr)}):T().reject(lA)}}]),A}(rr),cr=["tl","tr","mt","ml","mr","mb","bl","br"],lr=function(){};function ur(t,e){return t>e?"width":"height"}var hr=L.fabric.util.createClass(L.fabric.Rect,{initialize:function(t,e,A){(e=j()(e,A)).type="cropzone",this.callSuper("initialize",e),this._addEventHandler(),this.canvas=t,this.options=e},canvasEventDelegation:function(t){var e,A="unregistered";return this.canvasEventTrigger[t]!==lr?A="registered":r()(e=[Vt,Zt]).call(e,t)<0&&(A="none"),A},canvasEventRegister:function(t,e){this.canvasEventTrigger[t]=e},_addEventHandler:function(){var t,e,A,i,n;this.canvasEventTrigger=(x(t={},Vt,lr),x(t,Zt,lr),t),this.on({moving:F()(e=this._onMoving).call(e,this),scaling:F()(A=this._onScaling).call(A,this)}),L.fabric.util.addListener(document,"keydown",F()(i=this._onKeyDown).call(i,this)),L.fabric.util.addListener(document,"keyup",F()(n=this._onKeyUp).call(n,this))},_renderCropzone:function(t){var e=this.flipX?-1:1,A=this.flipY?-1:1,i=e/this.scaleX,n=A/this.scaleY;t.scale(i,n),this._fillOuterRect(t,"rgba(0, 0, 0, 0.5)"),this.options.lineWidth?(this._fillInnerRect(t),this._strokeBorder(t,"rgb(255, 255, 255)",{lineWidth:this.options.lineWidth})):(this._strokeBorder(t,"rgb(0, 0, 0)",{lineDashWidth:7}),this._strokeBorder(t,"rgb(255, 255, 255)",{lineDashWidth:7,lineDashOffset:7})),t.scale(1/i,1/n)},_render:function(t){this.callSuper("_render",t),this._renderCropzone(t)},_fillOuterRect:function(t,e){var A=this._getCoordinates(),i=A.x,n=A.y;t.save(),t.fillStyle=e,t.beginPath(),t.moveTo(i[0]-1,n[0]-1),t.lineTo(i[3]+1,n[0]-1),t.lineTo(i[3]+1,n[3]+1),t.lineTo(i[0]-1,n[3]+1),t.lineTo(i[0]-1,n[0]-1),t.closePath(),t.moveTo(i[1],n[1]),t.lineTo(i[1],n[2]),t.lineTo(i[2],n[2]),t.lineTo(i[2],n[1]),t.lineTo(i[1],n[1]),t.closePath(),it()(t).call(t),t.restore()},_fillInnerRect:function(t){var e=this._getCoordinates(),A=e.x,i=e.y,n=this._caculateInnerPosition(A,(A[2]-A[1])/3),r=this._caculateInnerPosition(i,(i[2]-i[1])/3);t.save(),t.strokeStyle="rgba(255, 255, 255, 0.7)",t.lineWidth=this.options.lineWidth,t.beginPath(),t.moveTo(n[0],r[1]),t.lineTo(n[3],r[1]),t.moveTo(n[0],r[2]),t.lineTo(n[3],r[2]),t.moveTo(n[1],r[0]),t.lineTo(n[1],r[3]),t.moveTo(n[2],r[0]),t.lineTo(n[2],r[3]),t.stroke(),t.closePath(),t.restore()},_caculateInnerPosition:function(t,e){var A=[];return A[0]=t[1],A[1]=t[1]+e,A[2]=t[1]+2*e,A[3]=t[2],A},_getCoordinates:function(){var t,e,A=this.canvas,i=this.width,n=this.height,r=this.left,o=this.top,s=i/2,a=n/2,c=A.getHeight(),l=A.getWidth();return{x:fi()(t=[-(s+r),-s,s,s+(l-r-i)]).call(t,Math.ceil),y:fi()(e=[-(a+o),-a,a,a+(c-o-n)]).call(e,Math.ceil)}},_strokeBorder:function(t,e,A){var i=A.lineDashWidth,n=A.lineDashOffset,r=A.lineWidth,o=this.width/2,s=this.height/2;t.save(),t.strokeStyle=e,t.setLineDash&&t.setLineDash([i,i]),n&&(t.lineDashOffset=n),r&&(t.lineWidth=r),t.beginPath(),t.moveTo(-o,-s),t.lineTo(o,-s),t.lineTo(o,s),t.lineTo(-o,s),t.lineTo(-o,-s),t.stroke(),t.restore()},_onMoving:function(){var t=this.height,e=this.width,A=this.left,i=this.top,n=this.canvas.getWidth()-e,r=this.canvas.getHeight()-t;this.left=kA(A,0,n),this.top=kA(i,0,r),this.canvasEventTrigger[Vt](this)},_onScaling:function(t){var e=t.transform.corner,A=this.canvas.getPointer(t.e),i=this._calcScalingSizeFromPointer(A,e);this.scale(1).set(i),this.canvasEventTrigger[Zt](this)},_calcScalingSizeFromPointer:function(t,e){var A=function(t){return r()(cr).call(cr,t)>=0}(e);return A&&this._resizeCropZone(t,e)},adjustRatioCropzoneSize:function(t){var e=t.width,A=t.height,i=t.leftMaker,n=t.topMaker,r=t.maxWidth,o=t.maxHeight,s=t.scaleTo;if(e=r?kA(e,1,r):e,A=o?kA(A,1,o):A,!this.presetRatio)return this._withShiftKey&&(e>A?A=e:A>e&&(e=A)),{width:e,height:A,left:i(e),top:n(A)};"width"===s?A=e/this.presetRatio:e=A*this.presetRatio;var a=Math.min(r/e,o/A);if(a<=1){var c,l=Z(fi()(c=[e,A]).call(c,function(t){return t*a}),2);e=l[0],A=l[1]}return{width:e,height:A,left:i(e),top:n(A)}},_getCropzoneRectInfo:function(){var t=this.canvas,e=t.width,A=t.height,i=this.getBoundingRect(!1,!0),n=i.top,r=i.left,o=i.width,s=i.height;return{rectTop:n,rectLeft:r,rectWidth:o,rectHeight:s,rectRight:r+o,rectBottom:n+s,canvasWidth:e,canvasHeight:A}},_resizeCropZone:function(t,e){var A=t.x,i=t.y,n=this._getCropzoneRectInfo(),r=n.rectWidth,o=n.rectHeight,s=n.rectTop,a=n.rectLeft,c=n.rectBottom,l=n.rectRight,u=n.canvasWidth,h=n.canvasHeight,g={tl:{width:l-A,height:c-i,leftMaker:function(t){return l-t},topMaker:function(t){return c-t},maxWidth:l,maxHeight:c,scaleTo:ur(a-A,s-i)},tr:{width:A-a,height:c-i,leftMaker:function(){return a},topMaker:function(t){return c-t},maxWidth:u-a,maxHeight:c,scaleTo:ur(A-l,s-i)},mt:{width:r,height:c-i,leftMaker:function(){return a},topMaker:function(t){return c-t},maxWidth:u-a,maxHeight:c,scaleTo:"height"},ml:{width:l-A,height:o,leftMaker:function(t){return l-t},topMaker:function(){return s},maxWidth:l,maxHeight:h-s,scaleTo:"width"},mr:{width:A-a,height:o,leftMaker:function(){return a},topMaker:function(){return s},maxWidth:u-a,maxHeight:h-s,scaleTo:"width"},mb:{width:r,height:i-s,leftMaker:function(){return a},topMaker:function(){return s},maxWidth:u-a,maxHeight:h-s,scaleTo:"height"},bl:{width:l-A,height:i-s,leftMaker:function(t){return l-t},topMaker:function(){return s},maxWidth:l,maxHeight:h-s,scaleTo:ur(a-A,i-c)},br:{width:A-a,height:i-s,leftMaker:function(){return a},topMaker:function(){return s},maxWidth:u-a,maxHeight:h-s,scaleTo:ur(A-l,i-c)}};return this.adjustRatioCropzoneSize(g[e])},isValid:function(){return this.left>=0&&this.top>=0&&this.width>0&&this.height>0},_onKeyDown:function(t){t.keyCode===Je&&(this._withShiftKey=!0)},_onKeyUp:function(t){t.keyCode===Je&&(this._withShiftKey=!1)}}),gr=hr;function fr(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var dr={presetRatio:null,top:-10,left:-10,height:1,width:1},pr=function(t){Ii(A,t);var e=fr(A);function A(t){var i,n,r,o,s,a;return M(this,A),(a=e.call(this,xt.CROPPER,t))._cropzone=null,a._startX=null,a._startY=null,a._withShiftKey=!1,a._listeners={keydown:F()(i=a._onKeyDown).call(i,Si(a)),keyup:F()(n=a._onKeyUp).call(n,Si(a)),mousedown:F()(r=a._onFabricMouseDown).call(r,Si(a)),mousemove:F()(o=a._onFabricMouseMove).call(o,Si(a)),mouseup:F()(s=a._onFabricMouseUp).call(s,Si(a))},a}return _(A,[{key:"start",value:function(){if(!this._cropzone){var t=this.getCanvas();t.forEachObject(function(t){t.evented=!1}),this._cropzone=new gr(t,j()({left:0,top:0,width:.5,height:.5,strokeWidth:0,cornerSize:10,cornerColor:"black",fill:"transparent"},Mt,this.graphics.cropSelectionStyle)),t.discardActiveObject(),t.add(this._cropzone),t.on("mouse:down",this._listeners.mousedown),t.selection=!1,t.defaultCursor="crosshair",L.fabric.util.addListener(document,"keydown",this._listeners.keydown),L.fabric.util.addListener(document,"keyup",this._listeners.keyup)}}},{key:"end",value:function(){var t=this.getCanvas(),e=this._cropzone;e&&(t.remove(e),t.selection=!0,t.defaultCursor="default",t.off("mouse:down",this._listeners.mousedown),t.forEachObject(function(t){t.evented=!0}),this._cropzone=null,L.fabric.util.removeListener(document,"keydown",this._listeners.keydown),L.fabric.util.removeListener(document,"keyup",this._listeners.keyup))}},{key:"changeVisibility",value:function(t){this._cropzone&&this._cropzone.set({visible:t})}},{key:"_onFabricMouseDown",value:function(t){var e=this.getCanvas();if(!t.target){e.selection=!1;var A=e.getPointer(t.e);this._startX=A.x,this._startY=A.y,e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}}},{key:"_onFabricMouseMove",value:function(t){var e=this.getCanvas(),A=e.getPointer(t.e),i=A.x,n=A.y,r=this._cropzone;Math.abs(i-this._startX)+Math.abs(n-this._startY)>10&&(e.remove(r),r.set(this._calcRectDimensionFromPoint(i,n,r.presetRatio)),e.add(r),e.setActiveObject(r))}},{key:"_calcRectDimensionFromPoint",value:function(t,e){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=this.getCanvas(),n=i.getWidth(),r=i.getHeight(),o=this._startX,s=this._startY,a=kA(t,0,o),c=kA(e,0,s),l=kA(t,o,n)-a,u=kA(e,s,r)-c;return this._withShiftKey&&!A?(l>u?u=l:u>l&&(l=u),o>=t&&(a=o-l),s>=e&&(c=s-u)):A&&(u=l/A,o>=t&&(a=kA(o-l,0,n)),s>=e&&(c=kA(s-u,0,r)),c+u>r&&(l=(u=r-c)*A,o>=t&&(a=kA(o-l,0,n)),s>=e&&(c=kA(s-u,0,r)))),{left:a,top:c,width:l,height:u}}},{key:"_onFabricMouseUp",value:function(){var t=this._cropzone,e=this._listeners,A=this.getCanvas();A.setActiveObject(t),A.off({"mouse:move":e.mousemove,"mouse:up":e.mouseup})}},{key:"getCroppedImageData",value:function(t){var e=this.getCanvas(),A=e.contains(this._cropzone);if(!t)return null;A&&e.remove(this._cropzone);var i={imageName:this.getImageName(),url:e.toDataURL(t)};return A&&e.add(this._cropzone),i}},{key:"getCropzoneRect",value:function(){var t=this._cropzone;return t.isValid()?{left:t.left,top:t.top,width:t.width,height:t.height}:null}},{key:"setCropzoneRect",value:function(t){var e=this.getCanvas(),A=this._cropzone;e.discardActiveObject(),e.selection=!1,e.remove(A),A.set(t?this._getPresetPropertiesForCropSize(t):dr),e.add(A),e.selection=!0,t&&e.setActiveObject(A)}},{key:"_getPresetPropertiesForCropSize",value:function(t){var e,A,i=this.getCanvas(),n=i.getWidth(),r=i.getHeight(),o=n>=r?n:r,s=function(t,e){return t>e?e/t:1},a=o*t,c=o,l=s(a,n),u=Z(fi()(e=[a,c]).call(e,function(t){return t*l}),2);a=u[0];var h=s(c=u[1],r),g=Z(fi()(A=[a,c]).call(A,function(t){return Number((t*h).toFixed(2))}),2);return a=g[0],{presetRatio:t,top:(r-(c=g[1]))/2,left:(n-a)/2,width:a,height:c}}},{key:"_onKeyDown",value:function(t){t.keyCode===Je&&(this._withShiftKey=!0)}},{key:"_onKeyUp",value:function(t){t.keyCode===Je&&(this._withShiftKey=!1)}}]),A}(rr),vr=pr;function mr(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Br=function(t){Ii(A,t);var e=mr(A);function A(t){return M(this,A),e.call(this,xt.FLIP,t)}return _(A,[{key:"getCurrentSetting",value:function(){var t=this.getCanvasImage();return{flipX:t.flipX,flipY:t.flipY}}},{key:"set",value:function(t){var e=this.getCurrentSetting(),A=e.flipX!==t.flipX,i=e.flipY!==t.flipY;return A||i?(j()(e,t),this.setImageProperties(e,!0),this._invertAngle(A,i),this._flipObjects(A,i),T().resolve({flipX:e.flipX,flipY:e.flipY,angle:this.getCanvasImage().angle})):T().reject(sA)}},{key:"_invertAngle",value:function(t,e){var A=this.getCanvasImage(),i=A.angle;t&&(i*=-1),e&&(i*=-1),A.rotate(hi()(i)).setCoords()}},{key:"_flipObjects",value:function(t,e){var A=this.getCanvas();t&&A.forEachObject(function(t){t.set({angle:hi()(-1*t.angle),flipX:!t.flipX,left:A.width-t.left}).setCoords()}),e&&A.forEachObject(function(t){t.set({angle:hi()(-1*t.angle),flipY:!t.flipY,top:A.height-t.top}).setCoords()}),A.renderAll()}},{key:"reset",value:function(){return this.set({flipX:!1,flipY:!1})}},{key:"flipX",value:function(){var t=this.getCurrentSetting();return this.set({flipX:!t.flipX,flipY:t.flipY})}},{key:"flipY",value:function(){var t=this.getCurrentSetting();return this.set({flipX:t.flipX,flipY:!t.flipY})}}]),A}(rr);function yr(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Cr=function(t){Ii(A,t);var e=yr(A);function A(t){return M(this,A),e.call(this,xt.ROTATION,t)}return _(A,[{key:"getCurrentAngle",value:function(){return this.getCanvasImage().angle}},{key:"setAngle",value:function(t){var e=this.getCurrentAngle()%360;t%=360;var A=this.getCanvasImage(),i=A.getCenterPoint();A.set({angle:t}).setCoords(),this.adjustCanvasDimension();var n=A.getCenterPoint();return this._rotateForEachObject(i,n,t-e),T().resolve(t)}},{key:"_rotateForEachObject",value:function(t,e,A){var i=this.getCanvas(),n=t.x-e.x,r=t.y-e.y;i.forEachObject(function(e){var i=e.getCenterPoint(),o=L.fabric.util.degreesToRadians(A),s=L.fabric.util.rotatePoint(i,t,o);e.set({left:s.x-n,top:s.y-r,angle:(e.angle+A)%360}),e.setCoords()}),i.renderAll()}},{key:"rotate",value:function(t){var e=this.getCurrentAngle();return this.setAngle(e+t)}}]),A}(rr);function wr(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var br=function(t){Ii(A,t);var e=wr(A);function A(t){var i;return M(this,A),(i=e.call(this,xt.FREE_DRAWING,t)).width=12,i.oColor=new L.fabric.Color("rgba(0, 0, 0, 0.5)"),i}return _(A,[{key:"start",value:function(t){this.getCanvas().isDrawingMode=!0,this.setBrush(t)}},{key:"setBrush",value:function(t){var e=this.getCanvas().freeDrawingBrush;t=t||{},this.width=t.width||this.width,t.color&&(this.oColor=new L.fabric.Color(t.color)),e.width=this.width,e.color=this.oColor.toRgba()}},{key:"end",value:function(){this.getCanvas().isDrawingMode=!1}}]),A}(rr),Ir=L.fabric.util.createClass(L.fabric.Line,{type:"line",initialize:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.callSuper("initialize",t,e),this.arrowType=e.arrowType},_render:function(t){var e=this.calcLinePoints(),A={fromX:e.x1,fromY:e.y1,toX:e.x2,toY:e.y2};this.ctx=t,t.lineWidth=this.strokeWidth,this._renderBasicLinePath(A),this._drawDecoratorPath(A),this._renderStroke(t)},_renderBasicLinePath:function(t){var e=t.fromX,A=t.fromY,i=t.toX,n=t.toY;this.ctx.beginPath(),this.ctx.moveTo(e,A),this.ctx.lineTo(i,n)},_drawDecoratorPath:function(t){this._drawDecoratorPathType("head",t),this._drawDecoratorPathType("tail",t)},_drawDecoratorPathType:function(t,e){switch(this.arrowType[t]){case"triangle":this._drawTrianglePath(t,e);break;case"chevron":this._drawChevronPath(t,e)}},_drawTrianglePath:function(t,e){var A=1.7*this.ctx.lineWidth;this._drawChevronPath(t,e,A),this.ctx.closePath()},_drawChevronPath:function(t,e,A){var i=this,n=e.fromX,r=e.fromY,o=e.toX,s=e.toY,a=this.ctx;A||(A=2.7*this.ctx.lineWidth);var c=Z("head"===t?[n,r]:[o,s],2),l=c[0],u=c[1],h=Z("head"===t?[o,s]:[n,r],2),g=h[0],f=h[1],d=180*Math.atan2(f-u,g-l)/Math.PI,p=function(t){return i.getRotatePosition(A,t,{x:l,y:u})};a.moveTo.apply(a,b(p(d+30))),a.lineTo(l,u),a.lineTo.apply(a,b(p(d-30)))},getRotatePosition:function(t,e,A){var i=e*Math.PI/180,n=A.x,r=A.y;return[t*Math.cos(i)+n,t*Math.sin(i)+r]}}),xr=Ir;function Mr(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Sr=function(t){Ii(A,t);var e=Mr(A);function A(t){var i,n,r,o;return M(this,A),(o=e.call(this,xt.LINE,t))._width=12,o._oColor=new L.fabric.Color("rgba(0, 0, 0, 0.5)"),o._listeners={mousedown:F()(i=o._onFabricMouseDown).call(i,Si(o)),mousemove:F()(n=o._onFabricMouseMove).call(n,Si(o)),mouseup:F()(r=o._onFabricMouseUp).call(r,Si(o))},o}return _(A,[{key:"setHeadOption",value:function(t){var e=t.arrowType,A=void 0===e?{head:null,tail:null}:e;this._arrowType=A}},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this.getCanvas();e.defaultCursor="crosshair",e.selection=!1,this.setHeadOption(t),this.setBrush(t),e.forEachObject(function(t){t.set({evented:!1})}),e.on({"mouse:down":this._listeners.mousedown})}},{key:"setBrush",value:function(t){var e=this.getCanvas().freeDrawingBrush;t=t||{},this._width=t.width||this._width,t.color&&(this._oColor=new L.fabric.Color(t.color)),e.width=this._width,e.color=this._oColor.toRgba()}},{key:"end",value:function(){var t=this.getCanvas();t.defaultCursor="default",t.selection=!0,t.forEachObject(function(t){t.set({evented:!0})}),t.off("mouse:down",this._listeners.mousedown)}},{key:"_onFabricMouseDown",value:function(t){var e=this.getCanvas(),A=e.getPointer(t.e),i=A.x,n=A.y,r=[i,n,i,n];this._line=new xr(r,{stroke:this._oColor.toRgba(),strokeWidth:this._width,arrowType:this._arrowType,evented:!1}),this._line.set(rA),e.add(this._line),e.on({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup}),this.fire(re,this._createLineEventObjectProperties())}},{key:"_onFabricMouseMove",value:function(t){var e=this.getCanvas(),A=e.getPointer(t.e);this._line.set({x2:A.x,y2:A.y}),this._line.setCoords(),e.renderAll()}},{key:"_onFabricMouseUp",value:function(){var t=this.getCanvas();this.fire(qt,this._createLineEventObjectProperties()),this._line=null,t.off({"mouse:move":this._listeners.mousemove,"mouse:up":this._listeners.mouseup})}},{key:"_createLineEventObjectProperties",value:function(){var t=this.graphics.createObjectProperties(this._line),e=this._line,A=e.x1,i=e.x2,n=e.y1,r=e.y2;return j()({},t,{startPosition:{x:A,y:n},endPosition:{x:i,y:r}})}}]),A}(rr),_r=Sr;function Qr(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Fr={fill:"#000000",left:0,top:0},Er={fill:"#000000",fontStyle:"normal",fontWeight:"normal",textAlign:"tie-text-align-left",underline:!1},Ur=function(t){Ii(A,t);var e=Qr(A);function A(t){var i,n,r,o,s,a;return M(this,A),(a=e.call(this,xt.TEXT,t))._defaultStyles=Fr,a._isSelected=!1,a._selectedObj={},a._editingObj={},a._listeners={mousedown:F()(i=a._onFabricMouseDown).call(i,Si(a)),select:F()(n=a._onFabricSelect).call(n,Si(a)),selectClear:F()(r=a._onFabricSelectClear).call(r,Si(a)),scaling:F()(o=a._onFabricScaling).call(o,Si(a)),textChanged:F()(s=a._onFabricTextChanged).call(s,Si(a))},a._textarea=null,a._ratio=1,a._lastClickTime=(new Date).getTime(),a._editingObjInfos={},a.isPrevEditing=!1,a}return _(A,[{key:"start",value:function(){var t=this,e=this.getCanvas();e.selection=!1,e.defaultCursor="text",e.on({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged}),e.forEachObject(function(e){"i-text"===e.type&&t.adjustOriginPosition(e,"start")}),this.setCanvasRatio()}},{key:"end",value:function(){var t=this,e=this.getCanvas();e.selection=!0,e.defaultCursor="default",e.forEachObject(function(A){"i-text"===A.type&&(""===A.text?e.remove(A):t.adjustOriginPosition(A,"end"))}),e.off({"mouse:down":this._listeners.mousedown,"selection:created":this._listeners.select,"selection:updated":this._listeners.select,"before:selection:cleared":this._listeners.selectClear,"object:selected":this._listeners.select,"object:scaling":this._listeners.scaling,"text:changed":this._listeners.textChanged})}},{key:"adjustOriginPosition",value:function(t,e){var A="center",i="center";"start"===e&&(A="left",i="top");var n=t.getPointByOrigin(A,i),r=n.x,o=n.y;t.set({left:r,top:o,originX:A,originY:i}),t.setCoords()}},{key:"add",value:function(t,e){var A=this;return new(T())(function(i){var n,r=A.getCanvas(),o=null,s=rA,a=A._defaultStyles;A._setInitPos(e.position),e.styles&&(a=j()(a,e.styles)),bn()(e.autofocus)||(e.autofocus=!0),o=new L.fabric.IText(t,a),s=j()({},s,{originX:"left",originY:"top"}),o.set(s),o.on({mouseup:F()(n=A._onFabricMouseUp).call(n,A)}),r.add(o),e.autofocus&&(o.enterEditing(),o.selectAll()),r.getActiveObject()||r.setActiveObject(o),A.isPrevEditing=!0,i(A.graphics.createObjectProperties(o))})}},{key:"change",value:function(t,e){var A=this;return new(T())(function(i){t.set("text",e),A.getCanvas().renderAll(),i()})}},{key:"setStyle",value:function(t,e){var A=this;return new(T())(function(i){z()(e,function(A,i){t[i]===A&&"fontSize"!==i&&(e[i]=Er[i]||"")},A),"textDecoration"in e&&j()(e,A._getTextDecorationAdaptObject(e.textDecoration)),t.set(e),A.getCanvas().renderAll(),i()})}},{key:"getText",value:function(t){return t.text}},{key:"setSelectedInfo",value:function(t,e){this._selectedObj=t,this._isSelected=e}},{key:"isSelected",value:function(){return this._isSelected}},{key:"getSelectedObj",value:function(){return this._selectedObj}},{key:"setCanvasRatio",value:function(){var t=this.getCanvasElement(),e=$()(t.style.maxWidth,10),A=t.width;this._ratio=A/e}},{key:"getCanvasRatio",value:function(){return this._ratio}},{key:"_getTextDecorationAdaptObject",value:function(t){return{underline:"underline"===t,linethrough:"line-through"===t,overline:"overline"===t}}},{key:"_setInitPos",value:function(t){t=t||this.getCanvasImage().getCenterPoint(),this._defaultStyles.left=t.x,this._defaultStyles.top=t.y}},{key:"_onInput",value:function(){var t=this.getCanvasRatio(),e=this._editingObj,A=this._textarea.style;A.width="".concat(Math.ceil(e.width/t),"px"),A.height="".concat(Math.ceil(e.height/t),"px")}},{key:"_onKeyDown",value:function(){var t=this,e=this.getCanvasRatio(),A=this._editingObj,i=this._textarea.style;d()(function(){A.text(t._textarea.value),i.width="".concat(Math.ceil(A.width/e),"px"),i.height="".concat(Math.ceil(A.height/e),"px")},0)}},{key:"_onBlur",value:function(){var t=this.getCanvasRatio(),e=this._editingObj,A=this._editingObjInfos,i=this._textarea.value,n=e.width/t-A.width/t,r=e.height/t-A.height/t;if(1===t&&(n/=2,r/=2),this._textarea.style.display="none",e.set({left:A.left+n,top:A.top+r}),i.length){this.getCanvas().add(e);var o={id:DA(e),type:e.type,text:i};this.fire(ee,o)}}},{key:"_onScroll",value:function(){this._textarea.scrollLeft=0,this._textarea.scrollTop=0}},{key:"_onFabricScaling",value:function(t){var e=t.target;e.fontSize=e.fontSize*e.scaleY,e.scaleX=1,e.scaleY=1}},{key:"_onFabricTextChanged",value:function(t){this.fire(ee,t.target)}},{key:"_onFabricSelectClear",value:function(t){var e=this.getSelectedObj();this.isPrevEditing=!0,this.setSelectedInfo(t.target,!1),e&&""===e.text&&this.getCanvas().remove(e)}},{key:"_onFabricSelect",value:function(t){this.isPrevEditing=!0,this.setSelectedInfo(t.target,!0)}},{key:"_onFabricMouseDown",value:function(t){var e=t.target;e&&!e.isType("text")||(this.isPrevEditing?this.isPrevEditing=!1:this._fireAddText(t))}},{key:"_fireAddText",value:function(t){var e=t.target,A=t.e||{},i=this.getCanvas().getPointer(A);e||this.fire(ne,{originPosition:{x:i.x,y:i.y},clientPosition:{x:A.clientX||0,y:A.clientY||0}})}},{key:"_onFabricMouseUp",value:function(t){var e=t.target,A=(new Date).getTime();this._isDoubleClick(A)&&!e.isEditing&&e.enterEditing(),e.isEditing&&this.fire(te),this._lastClickTime=A}},{key:"_isDoubleClick",value:function(t){return t-this._lastClickTime<500}}]),A}(rr);function Dr(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Tr={arrow:"M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z",cancel:"M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z"},kr=function(t){Ii(A,t);var e=Dr(A);function A(t){var i,n,r,o;return M(this,A),(o=e.call(this,xt.ICON,t))._oColor="#000000",o._pathMap=Tr,o._type=null,o._iconColor=null,o._handlers={mousedown:F()(i=o._onFabricMouseDown).call(i,Si(o)),mousemove:F()(n=o._onFabricMouseMove).call(n,Si(o)),mouseup:F()(r=o._onFabricMouseUp).call(r,Si(o))},o}return _(A,[{key:"setStates",value:function(t,e){this._type=t,this._iconColor=e}},{key:"start",value:function(){var t=this.getCanvas();t.selection=!1,t.on("mouse:down",this._handlers.mousedown)}},{key:"end",value:function(){var t=this.getCanvas();t.selection=!0,t.off({"mouse:down":this._handlers.mousedown})}},{key:"add",value:function(t,e){var A=this;return new(T())(function(i,n){var r=A.getCanvas(),o=A._pathMap[t],s=rA,a=o?A._createIcon(o):null;A._icon=a,a||n(aA),a.set(j()({type:"icon",fill:A._oColor},s,e,A.graphics.controlStyle)),r.add(a).setActiveObject(a),i(A.graphics.createObjectProperties(a))})}},{key:"registerPaths",value:function(t){var e=this;z()(t,function(t,A){e._pathMap[A]=t},this)}},{key:"setColor",value:function(t,e){this._oColor=t,e&&"icon"===e.get("type")&&(e.set({fill:this._oColor}),this.getCanvas().renderAll())}},{key:"getColor",value:function(t){return it()(t)}},{key:"_createIcon",value:function(t){return new L.fabric.Path(t)}},{key:"_onFabricMouseDown",value:function(t){var e=this,A=this.getCanvas();this._startPoint=A.getPointer(t.e);var i=this._startPoint,n=i.x,r=i.y;this.add(this._type,{left:n,top:r,fill:this._iconColor}).then(function(){e.fire(re,e.graphics.createObjectProperties(e._icon)),A.on("mouse:move",e._handlers.mousemove),A.on("mouse:up",e._handlers.mouseup)})}},{key:"_onFabricMouseMove",value:function(t){var e=this.getCanvas();if(this._icon){var A=e.getPointer(t.e),i=(A.x-this._startPoint.x)/this._icon.width,n=(A.y-this._startPoint.y)/this._icon.height;this._icon.set({scaleX:Math.abs(2*i),scaleY:Math.abs(2*n)}),this._icon.setCoords(),e.renderAll()}}},{key:"_onFabricMouseUp",value:function(){var t=this.getCanvas();this.fire(qt,this.graphics.createObjectProperties(this._icon)),this._icon=null,t.off("mouse:down",this._handlers.mousedown),t.off("mouse:move",this._handlers.mousemove),t.off("mouse:up",this._handlers.mouseup)}}]),A}(rr),Or=L.fabric.util.createClass(L.fabric.Image.filters.BlendImage,{applyTo:function(t){if(this.mask){var e=t.canvasEl,A=e.width,i=e.height,n=this._createCanvasOfMask(A,i),r=e.getContext("2d"),o=n.getContext("2d"),s=r.getImageData(0,0,A,i);this._drawMask(o,e,r),this._mapData(o,s,A,i),t.imageData=s}},_createCanvasOfMask:function(t,e){var A=L.fabric.util.createCanvasElement();return A.width=t,A.height=e,A},_drawMask:function(t){var e=this.mask,A=e.getElement(),i=e.angle,n=e.left,r=e.scaleX,o=e.scaleY,s=e.top;t.save(),t.translate(n,s),t.rotate(i*Math.PI/180),t.scale(r,o),t.drawImage(A,-A.width/2,-A.height/2),t.restore()},_mapData:function(t,e,A,i){for(var n=e.data,r=e.height,o=n,s=e.width*r*4,a=t.getImageData(0,0,A,i).data,c=0;c<s;c+=4)o[c+3]=a[c]}}),Lr=Or,Hr=L.fabric.util.createClass(L.fabric.Image.filters.Convolute,{type:"Sharpen",initialize:function(){this.matrix=[0,-1,0,-1,5,-1,0,-1,0]}}),jr=L.fabric.util.createClass(L.fabric.Image.filters.Convolute,{type:"Emboss",initialize:function(){this.matrix=[1,1,1,1,.7,-1,-1,-1,-1]}}),Pr=L.fabric.util.createClass(L.fabric.Image.filters.BaseFilter,{type:"ColorFilter",initialize:function(t){t||(t={}),this.color=t.color||"#FFFFFF",this.threshold=t.threshold||45,this.x=t.x||null,this.y=t.y||null},applyTo:function(t){var e,A,i=t.canvasEl,n=i.getContext("2d"),r=n.getImageData(0,0,i.width,i.height),o=r.data,s=this.threshold,a=L.fabric.Color.sourceFromHex(this.color);for(this.x&&this.y&&(a=this._getColor(r,this.x,this.y)),e=0,A=o.length;e<A;e+=4)this._isOutsideThreshold(o[e],a[0],s)||this._isOutsideThreshold(o[e+1],a[1],s)||this._isOutsideThreshold(o[e+2],a[2],s)||(o[e]=o[e+1]=o[e+2]=o[e+3]=0);n.putImageData(r,0,0)},_isOutsideThreshold:function(t,e,A){var i=t-e;return Math.abs(i)>A},_getColor:function(t,e,A){var i=[0,0,0,0],n=t.data,r=4*(t.width*A+e);return i[0]=n[r],i[1]=n[r+1],i[2]=n[r+2],i[3]=n[r+3],i}}),Nr=Pr;function Rr(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var zr=L.fabric.Image.filters;zr.Mask=Lr,zr.Sharpen=Hr,zr.Emboss=jr,zr.ColorFilter=Nr;var Gr,Kr,Yr,Wr=function(t){Ii(A,t);var e=Rr(A);function A(t){return M(this,A),e.call(this,xt.FILTER,t)}return _(A,[{key:"add",value:function(t,e){var A=this;return new(T())(function(i,n){var r=A._getSourceImage(),o=A.getCanvas(),s=A._getFilter(r,t);s||(s=A._createFilter(r,t,e)),s||n(aA),A._changeFilterValues(s,e),A._apply(r,function(){o.renderAll(),i({type:t,action:"add",options:e})})})}},{key:"remove",value:function(t){var e=this;return new(T())(function(A,i){var n=e._getSourceImage(),r=e.getCanvas(),o=e.getOptions(t);n.filters.length||i(dA),e._removeFilter(n,t),e._apply(n,function(){r.renderAll(),A({type:t,action:"remove",options:o})})})}},{key:"hasFilter",value:function(t){return!!this._getFilter(this._getSourceImage(),t)}},{key:"getOptions",value:function(t){var e=this._getSourceImage(),A=this._getFilter(e,t);return A?j()({},A.options):null}},{key:"_changeFilterValues",value:function(t,e){z()(e,function(e,A){N()(t[A])||(t[A]=e)}),z()(t.options,function(A,i){N()(e[i])||(t.options[i]=e[i])})}},{key:"_apply",value:function(t,e){t.filters.push(),t.applyFilters()&&e()}},{key:"_getSourceImage",value:function(){return this.getCanvasImage()}},{key:"_createFilter",value:function(t,e,A){var i,n=this._getFabricFilterType(e),r=L.fabric.Image.filters[n];return r&&((i=new r(A)).options=A,t.filters.push(i)),i}},{key:"_getFilter",value:function(t,e){var A=null;if(t){var i,n,r=this._getFabricFilterType(e),o=t.filters.length;for(n=0;n<o;n+=1)if((i=t.filters[n]).type===r){A=i;break}}return A}},{key:"_removeFilter",value:function(t,e){var A,i=this._getFabricFilterType(e);t.filters=Jn()(A=t.filters).call(A,function(t){return t.type!==i})}},{key:"_getFabricFilterType",value:function(t){return t.charAt(0).toUpperCase()+u()(t).call(t,1)}}]),A}(rr),Xr=Wr,Vr=i(1801),Zr=i.n(Vr),Jr={pixelate:"blocksize",blur:"blur"},qr={x:"width",y:"height"},$r=(Gr=Jr,Yr={},et()(Kr=V()(Gr)).call(Kr,function(t){Yr[Gr[t]]=t}),Yr),to=null;function eo(t){return Z(KA(t,"patternSourceCanvas").patternSourceCanvas.getObjects(),1)[0]}function Ao(t){var e=t.angle,A=t.flipX,i=t.flipY,n=eo(t),r=function(t){var e=oo(t),A=Z(e,4),i=A[0],n=i.x,r=i.y,o=A[1],s=o.x,a=o.y,c=A[2],l=c.x,u=c.y,h=A[3],g=h.x,f=h.y,d=Math.min(n,s,l,g),p=Math.min(r,a,u,f),v=Math.max(n,s,l,g),m=Math.max(r,a,u,f);return{left:d,top:p,right:v,bottom:m,width:v-d,height:m-p}}(t),o=r.right,s=r.bottom,a=r.width,c=r.height,l=(a-t.width)/2,u=(c-t.height)/2,h=t.left-t.width/2-l,g=t.top-t.height/2-u,f=a/2-l,d=c/2-u,p=Math.max(a,c)+Math.max(l,u),v=function(t){var e=t.shapeObj,A=t.left,i=t.top,n=t.width,r=t.height,o=t.cropX,s=t.cropY,a=t.flipX,c=t.flipY,l=t.right,u=t.bottom,h=function(t,A,i,n){return function(t){var e=t.type,A=t.shapeObj,i=t.outDistance,n=t.left,r=t.top,o=t.flipX,s=t.flipY,a=oo(A),c=function(t,e,A){var i=0,n=0;z()(e,function(e,A){e[t]<i&&(i=e[t],n=A)});var r=Z(A[n],2),o=r[0],s=r[1];return{startPointIndex:n,endPointIndex1:o,endPointIndex2:s}}(e,a,[[1,2],[0,3],[0,3],[1,2]]),l=function(t,e,A){var i,n=A.startPointIndex,r=A.endPointIndex1,o=A.endPointIndex2,s="x"===t?180:270;return fi()(i=[r,o]).call(i,function(t){var A=e[n],i=e[t],r=A.y-i.y,o=A.x-i.x;return 180*Math.atan2(r,o)/Math.PI-s})}(e,a,c),u=c.startPointIndex,h=function(t){var e=t.outDistance,A=t.startPointIndex,i=t.flipX,n=t.flipY,r=t.reatAngles,o=e*Math.cos(r[0]*Math.PI/180),s=e*Math.cos(r[1]*Math.PI/180),a=2===A||3===A,c={top:a?o:s,left:a?s:o};return function(t,e,A){return(!e&&A||!e&&!A)&&0===t||(e&&A||e&&!A)&&1===t||(!e&&!A||!e&&A)&&2===t||(e&&!A||e&&A)&&3===t}(A,i,n)&&(c.left=-1*c.left),function(t,e,A){return(e&&!A||!e&&!A)&&0===t||(!e&&!A||e&&!A)&&1===t||(e&&A||!e&&A)&&2===t||(!e&&A||e&&A)&&3===t}(A,i,n)&&(c.top=-1*c.top),c}({outDistance:i,startPointIndex:u,flipX:o,flipY:s,reatAngles:l});return[n+h.left,r+h.top]}({type:t,outDistance:A,shapeObj:e,flipX:a,flipY:c,left:i,top:n})},g=n,f=r,d=function(t,e){var A=e.left,i=e.top,n=e.width,r=e.height,o=e.cropX,s=e.cropY,a={width:n,height:r};return z()(["x","y"],function(e){var n="x"===e?o:s,r=a[qr[e]],c=to[qr[e]];if(r>c){var l=(r-c)/2;a[qr[e]]=c;var u=Z(t(e,l,A,i),2);A=u[0],i=u[1]}if(n<0){var h=Z(t(e,n,A,i),2);A=h[0],i=h[1]}}),[A,i,a.width,a.height]}(h,{left:A,top:i,width:n,height:r,cropX:o,cropY:s}),p=Z(d,4);A=p[0],i=p[1],n=p[2],r=p[3];var v=function(t,e){var A=e.left,i=e.top,n=e.insideCanvasRealImageWidth,r=e.insideCanvasRealImageHeight,o=e.right,s=e.bottom,a=e.cropX,c=e.cropY,l=e.originalWidth,u=e.originalHeight,h=n,g=r,f=to,d=f.width,p=f.height;o>d&&a>0&&(h=l-Math.abs(o-d)),s>p&&c>0&&(g=u-Math.abs(s-p));var v={x:(n-h)/2,y:(r-g)/2};return z()(["x","y"],function(e){var n=v[e];if(n>0){var r=Z(t(e,n,A,i),2);A=r[0],i=r[1]}}),[A,i,h,g]}(h,{left:A,top:i,insideCanvasRealImageWidth:n,insideCanvasRealImageHeight:r,right:l,bottom:u,cropX:o,cropY:s,originalWidth:g,originalHeight:f}),m=Z(v,4);return A=m[0],i=m[1],n=m[2],r=m[3],[A,i,n,r]}({shapeObj:t,left:f,top:d,width:a,height:c,cropX:h,cropY:g,flipX:A,flipY:i,right:o,bottom:s}),m=Z(v,4);f=m[0],d=m[1],a=m[2],c=m[3],n.set({angle:A===i?-e:e,left:f,top:d,width:a,height:c,cropX:h,cropY:g,flipX:A,flipY:i}),GA(n,{fillImageMaxSize:p})}function io(t){var e;return fi()(e=t.filters).call(e,function(t){var e=Z(V()(t),1)[0];return x({},$r[e],t[e])})}function no(t,e,A){var i=so(ro(t),t.angle,e);A.add(i);var n={fill:new L.fabric.Pattern({source:A.getElement(),repeat:"no-repeat"})};return GA(n,{patternSourceCanvas:A}),n}function ro(t){return to&&!(arguments.length>1&&void 0!==arguments[1]&&arguments[1])||(to=t.toCanvasElement()),to}function oo(t){return[t.getPointByOrigin("left","top"),t.getPointByOrigin("right","top"),t.getPointByOrigin("left","bottom"),t.getPointByOrigin("right","bottom")]}function so(t,e,A){var i,n=new L.fabric.Image(t);return z()(j().apply(void 0,U()(i=[{}]).call(i,b(A))),function(t,e){var A,i=(A=e).charAt(0).toUpperCase()+u()(A).call(A,1),r=new L.fabric.Image.filters[i](x({},Jr[e],t));n.filters.push(r)}),n.applyFilters(),GA(n,{originalAngle:e,fillImageMaxSize:Math.max(n.width,n.height)}),Zr().adjustOriginToCenter(n),n}function ao(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var co=j()({strokeWidth:1,stroke:"#000000",fill:"#ffffff",width:1,height:1,rx:0,ry:0},{lockSkewingX:!0,lockSkewingY:!0,bringForward:!0,isRegular:!1});function lo(t,e,A){var i=it()(t),n=WA(it()(t)),r=i;i.color&&(r=i.color);var o=null;if("filter"===n){var s=A();o=no(e,Jn()(i),s)}else o={fill:r};return j()({},t,o)}var uo=function(t){Ii(A,t);var e=ao(A);function A(t){var i,n,r,o,s,a;return M(this,A),(a=e.call(this,xt.SHAPE,t))._shapeObj=null,a._type="rect",a._options=j()({},co),a._isSelected=!1,a._startPoint={},a._withShiftKey=!1,a._handlers={mousedown:F()(i=a._onFabricMouseDown).call(i,Si(a)),mousemove:F()(n=a._onFabricMouseMove).call(n,Si(a)),mouseup:F()(r=a._onFabricMouseUp).call(r,Si(a)),keydown:F()(o=a._onKeyDown).call(o,Si(a)),keyup:F()(s=a._onKeyUp).call(s,Si(a))},a}return _(A,[{key:"start",value:function(){var t=this.getCanvas();this._isSelected=!1,t.defaultCursor="crosshair",t.selection=!1,t.uniformScaling=!0,t.on({"mouse:down":this._handlers.mousedown}),L.fabric.util.addListener(document,"keydown",this._handlers.keydown),L.fabric.util.addListener(document,"keyup",this._handlers.keyup)}},{key:"end",value:function(){var t=this.getCanvas();this._isSelected=!1,t.defaultCursor="default",t.selection=!0,t.uniformScaling=!1,t.off({"mouse:down":this._handlers.mousedown}),L.fabric.util.removeListener(document,"keydown",this._handlers.keydown),L.fabric.util.removeListener(document,"keyup",this._handlers.keyup)}},{key:"setStates",value:function(t,e){this._type=t,e&&(this._options=j()(this._options,e))}},{key:"add",value:function(t,e){var A=this;return new(T())(function(i){var n=A.getCanvas(),r=A._extendOptions(e),o=A._createInstance(t,r),s=A.graphics.createObjectProperties(o);A._bindEventOnShape(o),n.add(o).setActiveObject(o),A._resetPositionFillFilter(o),i(s)})}},{key:"change",value:function(t,e){var A=this;return new(T())(function(i,n){VA(t)||n(pA);var r="filter"===WA(it()(e)),o=A.graphics,s=o.canvasImage,a=o.createStaticCanvas;t.set(r?lo(e,s,a):e),r&&A._resetPositionFillFilter(t),A.getCanvas().renderAll(),i()})}},{key:"makeFillPropertyForUserEvent",value:function(t){var e=XA(t),A={};if(e===ft){var i=io(eo(t));A.type=e,A.filter=i}else A.type=dt,A.color=it()(t)||"transparent";return A}},{key:"processForCopiedObject",value:function(t,e){if(this._bindEventOnShape(t),"filter"===XA(t)){var A=io(eo(e)),i=this.graphics.createStaticCanvas();t.set(no(this.graphics.canvasImage,A,i)),this._resetPositionFillFilter(t)}}},{key:"_createInstance",value:function(t,e){var A;switch(t){case"rect":A=new L.fabric.Rect(e);break;case"circle":A=new L.fabric.Ellipse(j()({type:"circle"},e));break;case"triangle":A=new L.fabric.Triangle(e);break;default:A={}}return A}},{key:"_extendOptions",value:function(t){var e=rA,A=this.graphics,i=A.canvasImage,n=A.createStaticCanvas;return lo(t=j()({},co,this._options,e,t),i,n)}},{key:"_bindEventOnShape",value:function(t){var e=this,A=this.getCanvas();t.on({added:function(){e._shapeObj=this,Zr().setOrigins(e._shapeObj)},selected:function(){e._isSelected=!0,e._shapeObj=this,A.uniformScaling=!0,A.defaultCursor="default",Zr().setOrigins(e._shapeObj)},deselected:function(){e._isSelected=!1,e._shapeObj=null,A.defaultCursor="crosshair",A.uniformScaling=!1},modified:function(){var t=e._shapeObj;Zr().adjustOriginToCenter(t),Zr().setOrigins(t)},modifiedInGroup:function(A){e._fillFilterRePositionInGroupSelection(t,A)},moving:function(){e._resetPositionFillFilter(this)},rotating:function(){e._resetPositionFillFilter(this)},scaling:function(t){var i=A.getPointer(t.e),n=e._shapeObj;A.setCursor("crosshair"),Zr().resize(n,i,!0),e._resetPositionFillFilter(this)}})}},{key:"_onFabricMouseDown",value:function(t){if(t.target||(this._isSelected=!1,this._shapeObj=!1),!this._isSelected&&!this._shapeObj){var e=this.getCanvas();this._startPoint=e.getPointer(t.e),e.on({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}}},{key:"_onFabricMouseMove",value:function(t){var e=this,A=this.getCanvas(),i=A.getPointer(t.e),n=this._startPoint.x,r=this._startPoint.y,o=n-i.x,s=r-i.y,a=this._shapeObj;a?(this._shapeObj.set({isRegular:this._withShiftKey}),Zr().resize(a,i),A.renderAll(),this._resetPositionFillFilter(a)):this.add(this._type,{left:n,top:r,width:o,height:s}).then(function(t){e.fire(re,t)})}},{key:"_onFabricMouseUp",value:function(){var t=this,e=this.getCanvas(),A=this._startPoint.x,i=this._startPoint.y,n=this._shapeObj;n?n&&(Zr().adjustOriginToCenter(n),this.fire(qt,this.graphics.createObjectProperties(n))):this.add(this._type,{left:A,top:i,width:20,height:20}).then(function(e){t.fire(re,e)}),e.off({"mouse:move":this._handlers.mousemove,"mouse:up":this._handlers.mouseup})}},{key:"_onKeyDown",value:function(t){t.keyCode===Je&&(this._withShiftKey=!0,this._shapeObj&&(this._shapeObj.isRegular=!0))}},{key:"_onKeyUp",value:function(t){t.keyCode===Je&&(this._withShiftKey=!1,this._shapeObj&&(this._shapeObj.isRegular=!1))}},{key:"_resetPositionFillFilter",value:function(t){if("filter"===XA(t)){var e=KA(t,"patternSourceCanvas").patternSourceCanvas,A=KA(eo(t),"originalAngle").originalAngle;this.graphics.canvasImage.angle!==A&&function(t,e){var A=KA(t,"patternSourceCanvas").patternSourceCanvas,i=Z(A.getObjects(),1)[0],n=io(i);A.remove(i);var r=so(ro(e,!0),e.angle,n);A.add(r)}(t,this.graphics.canvasImage);var i=t.originX,n=t.originY;Zr().adjustOriginToCenter(t),t.width*=t.scaleX,t.height*=t.scaleY,t.rx*=t.scaleX,t.ry*=t.scaleY,t.scaleX=1,t.scaleY=1,Ao(t),function(t,e){var A=e.originX,i=e.originY,n=t.getPointByOrigin(A,i),r=n.x,o=n.y;t.set({left:r,top:o,originX:A,originY:i}),t.setCoords()}(t,{originX:i,originY:n}),function(t){var e=KA(Z(t.getObjects(),1)[0],"fillImageMaxSize").fillImageMaxSize;e=Math.max(1,e),t.setDimensions({width:e,height:e}),t.renderAll()}(e)}}},{key:"_fillFilterRePositionInGroupSelection",value:function(t,e){1===e.scaleX&&1===e.scaleY||e.addWithUpdate();var A=t.angle,i=t.left,n=t.top;L.fabric.util.addTransformToObject(t,e.calcTransformMatrix()),this._resetPositionFillFilter(t),t.set({angle:A,left:i,top:n})}}]),A}(rr);function ho(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var go={left:0,top:0,width:0,height:0,stroke:"#000000",strokeWidth:0,fill:"#000000",opacity:.4,evented:!1,selectable:!1,hoverCursor:"auto"},fo=.0045,po=.003,vo=.003,mo=.0066,Bo=.0044,yo=.003,Co=de,wo=ne,bo=te,Io=$t,xo=me,Mo=Be,So=pe,_o=ve,Qo=function(t){Ii(A,t);var e=ho(A);function A(t){var i,n,r,o,s,a,c,l,u,h,g,f,d;M(this,A),(d=e.call(this,xt.ZOOM,t)).zoomArea=null,d._startPoint=null,d._centerPoints=[],d.zoomLevel=1,d.zoomMode=Ge,d._listeners={startZoom:F()(i=d._onMouseDownWithZoomMode).call(i,Si(d)),moveZoom:F()(n=d._onMouseMoveWithZoomMode).call(n,Si(d)),stopZoom:F()(r=d._onMouseUpWithZoomMode).call(r,Si(d)),startHand:F()(o=d._onMouseDownWithHandMode).call(o,Si(d)),moveHand:F()(s=d._onMouseMoveWithHandMode).call(s,Si(d)),stopHand:F()(a=d._onMouseUpWithHandMode).call(a,Si(d)),zoomChanged:F()(c=d._changeScrollState).call(c,Si(d)),keydown:F()(l=d._startHandModeWithSpaceBar).call(l,Si(d)),keyup:F()(u=d._endHandModeWithSpaceBar).call(u,Si(d))};var p=d.getCanvas();return d.aspectRatio=p.width/p.height,d._verticalScroll=new L.fabric.Rect(go),d._horizontalScroll=new L.fabric.Rect(go),p.on(Co,d._listeners.zoomChanged),d.graphics.on(wo,F()(h=d._startTextEditingHandler).call(h,Si(d))),d.graphics.on(bo,F()(g=d._startTextEditingHandler).call(g,Si(d))),d.graphics.on(Io,F()(f=d._stopTextEditingHandler).call(f,Si(d))),d}return _(A,[{key:"attachKeyboardZoomEvents",value:function(){L.fabric.util.addListener(document,xo,this._listeners.keydown),L.fabric.util.addListener(document,Mo,this._listeners.keyup)}},{key:"detachKeyboardZoomEvents",value:function(){L.fabric.util.removeListener(document,xo,this._listeners.keydown),L.fabric.util.removeListener(document,Mo,this._listeners.keyup)}},{key:"_startTextEditingHandler",value:function(){this.isTextEditing=!0}},{key:"_stopTextEditingHandler",value:function(){this.isTextEditing=!1}},{key:"_startHandModeWithSpaceBar",value:function(t){this.withSpace||this.isTextEditing||t.keyCode===AA&&(this.withSpace=!0,this.startHandMode())}},{key:"_endHandModeWithSpaceBar",value:function(t){t.keyCode===AA&&(this.withSpace=!1,this.endHandMode())}},{key:"startZoomInMode",value:function(){if(!this.zoomArea){this.endHandMode(),this.zoomMode=Ke;var t=this.getCanvas();this._changeObjectsEventedState(!1),this.zoomArea=new L.fabric.Rect({left:0,top:0,width:.5,height:.5,stroke:"black",strokeWidth:1,fill:"transparent",hoverCursor:"zoom-in"}),t.discardActiveObject(),t.add(this.zoomArea),t.on("mouse:down",this._listeners.startZoom),t.selection=!1,t.defaultCursor="zoom-in"}}},{key:"endZoomInMode",value:function(){this.zoomMode=Ge;var t=this.getCanvas(),e=this._listeners,A=e.startZoom,i=e.moveZoom,n=e.stopZoom;t.selection=!0,t.defaultCursor="auto",t.off({"mouse:down":A,"mouse:move":i,"mouse:up":n}),this._changeObjectsEventedState(!0),t.remove(this.zoomArea),this.zoomArea=null}},{key:"start",value:function(){this.zoomArea=null,this._startPoint=null,this._startHandPoint=null}},{key:"end",value:function(){this.endZoomInMode(),this.endHandMode()}},{key:"startHandMode",value:function(){this.endZoomInMode(),this.zoomMode=Ye;var t=this.getCanvas();this._changeObjectsEventedState(!1),t.discardActiveObject(),t.off("mouse:down",this._listeners.startHand),t.on("mouse:down",this._listeners.startHand),t.selection=!1,t.defaultCursor="grab",t.fire(So)}},{key:"endHandMode",value:function(){this.zoomMode=Ge;var t=this.getCanvas();this._changeObjectsEventedState(!0),t.off("mouse:down",this._listeners.startHand),t.selection=!0,t.defaultCursor="auto",this._startHandPoint=null,t.fire(_o)}},{key:"_onMouseDownWithZoomMode",value:function(t){var e=t.target,A=t.e;if(!e){var i=this.getCanvas();i.selection=!1,this._startPoint=i.getPointer(A),this.zoomArea.set({width:0,height:0});var n=this._listeners,r=n.moveZoom,o=n.stopZoom;i.on({"mouse:move":r,"mouse:up":o})}}},{key:"_onMouseMoveWithZoomMode",value:function(t){var e=t.e,A=this.getCanvas(),i=A.getPointer(e),n=i.x,r=i.y,o=this.zoomArea,s=this._startPoint;Math.abs(n-s.x)+Math.abs(r-s.y)>10&&(A.remove(o),o.set(this._calcRectDimensionFromPoint(n,r)),A.add(o))}},{key:"_calcRectDimensionFromPoint",value:function(t,e){var A=this.getCanvas(),i=A.getWidth(),n=A.getHeight(),r=this._startPoint,o=r.x,s=r.y,a=Math.min,c=a(o,t),l=a(s,e);return{left:c,top:l,width:kA(t,o,i)-c,height:kA(e,s,n)-l}}},{key:"_onMouseUpWithZoomMode",value:function(){var t=this.zoomLevel,e=this.zoomArea,A=this._listeners,i=A.moveZoom,n=A.stopZoom,r=this.getCanvas(),o=this._getCenterPoint(),s=o.x,a=o.y;this._isMaxZoomLevel()||(this._centerPoints.push({x:s,y:a,prevZoomLevel:t,zoomLevel:t+1}),t+=1,r.zoomToPoint({x:s,y:a},t),this._fireZoomChanged(r,t),this.zoomLevel=t),r.off({"mouse:move":i,"mouse:up":n}),r.remove(e),this._startPoint=null}},{key:"_getCenterPoint",value:function(){var t=this.zoomArea,e=t.left,A=t.top,i=t.width,n=t.height,r=this._startPoint,o=r.x,s=r.y,a=this.aspectRatio;return i<10&&n<10?{x:o,y:s}:i>n?{x:e+a*n/2,y:A+n/2}:{x:e+i/2,y:A+i/a/2}}},{key:"zoom",value:function(t){for(var e=t.x,A=t.y,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.zoomLevel,n=this.getCanvas(),r=this._centerPoints,o=r.length-1;o>=0&&!(r[o].zoomLevel<i);o-=1){var s=r.pop(),a=s.x,c=s.y,l=s.prevZoomLevel;n.zoomToPoint({x:a,y:c},l),this.zoomLevel=l}n.zoomToPoint({x:e,y:A},i),this._isDefaultZoomLevel(i)||this._centerPoints.push({x:e,y:A,zoomLevel:i,prevZoomLevel:this.zoomLevel}),this.zoomLevel=i,this._fireZoomChanged(n,i)}},{key:"zoomOut",value:function(){var t=this._centerPoints;if(t.length){var e=this.getCanvas(),A=t.pop(),i=A.x,n=A.y,r=A.prevZoomLevel;this._isDefaultZoomLevel(r)?e.setViewportTransform([1,0,0,1,0,0]):e.zoomToPoint({x:i,y:n},r),this.zoomLevel=r,this._fireZoomChanged(e,this.zoomLevel)}}},{key:"resetZoom",value:function(){var t=this.getCanvas();t.setViewportTransform([1,0,0,1,0,0]),this.zoomLevel=1,this._centerPoints=[],this._fireZoomChanged(t,this.zoomLevel)}},{key:"_isMaxZoomLevel",value:function(){return this.zoomLevel>=5}},{key:"_movePointOfZoom",value:function(t){var e=t.x,A=t.y,i=this._centerPoints;if(i.length){var n=this.getCanvas(),r=this.zoomLevel,o=i.pop(),s=o.x,a=o.y,c=o.prevZoomLevel,l=s-e,u=a-A;n.zoomToPoint({x:s,y:a},c),n.zoomToPoint({x:l,y:u},r),i.push({x:l,y:u,prevZoomLevel:c,zoomLevel:r}),this._fireZoomChanged(n,r)}}},{key:"_onMouseDownWithHandMode",value:function(t){var e=t.target,A=t.e;if(!e){var i=this.getCanvas();if(!(this.zoomLevel<=1)){i.selection=!1,this._startHandPoint=i.getPointer(A);var n=this._listeners,r=n.moveHand,o=n.stopHand;i.on({"mouse:move":r,"mouse:up":o})}}}},{key:"_onMouseMoveWithHandMode",value:function(t){var e=t.e,A=this.getCanvas().getPointer(e),i=A.x,n=A.y,r=i-this._startHandPoint.x,o=n-this._startHandPoint.y;this._movePointOfZoom({x:r,y:o})}},{key:"_onMouseUpWithHandMode",value:function(){var t=this.getCanvas(),e=this._listeners,A=e.moveHand,i=e.stopHand;t.off({"mouse:move":A,"mouse:up":i}),this._startHandPoint=null}},{key:"_changeScrollState",value:function(t){var e=t.viewport,A=t.zoomLevel,i=this.getCanvas();if(i.remove(this._verticalScroll),i.remove(this._horizontalScroll),!this._isDefaultZoomLevel(A)){var n=i.width,r=i.height,o=e.tl,s=e.tr,a=e.bl,c=s.x-o.x,l=a.y-o.y,u=c*c/n,h=l*mo,g=kA(o.x+o.x/n*c,o.x,s.x-u),f=l*Bo,d=l*yo;this._horizontalScroll.set({left:g,top:a.y-h-f,width:u,height:h,rx:d,ry:d});var p=c*fo,v=l*l/r,m=kA(o.y+o.y/r*l,s.y,a.y-v),B=c*po,y=c*vo;this._verticalScroll.set({left:s.x-p-B,top:m,width:p,height:v,rx:y,ry:y}),this._addScrollBar()}}},{key:"_changeObjectsEventedState",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.getCanvas().forEachObject(function(e){e.evented=t})}},{key:"_addScrollBar",value:function(){var t=this,e=this.getCanvas();e.add(this._horizontalScroll),e.add(this._verticalScroll),this.scrollBarTid&&clearTimeout(this.scrollBarTid),this.scrollBarTid=d()(function(){e.remove(t._horizontalScroll),e.remove(t._verticalScroll)},3e3)}},{key:"_isDefaultZoomLevel",value:function(t){return 1===t}},{key:"_fireZoomChanged",value:function(t,e){t.fire(Co,{viewport:t.calcViewportBoundaries(),zoomLevel:e})}},{key:"mode",get:function(){return this.zoomMode}}]),A}(rr),Fo=Qo,Eo=ii.create,Uo=ii.types,Do=function(){function t(e){M(this,t),this.name=e}return _(t,[{key:"getName",value:function(){return this.name}},{key:"start",value:function(){throw new Error(Eo(Uo.UN_IMPLEMENTATION,"start"))}},{key:"end",value:function(){throw new Error(Eo(Uo.UN_IMPLEMENTATION,"stop"))}}]),t}();function To(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var ko=function(t){Ii(A,t);var e=To(A);function A(){return M(this,A),e.call(this,He.CROPPER)}return _(A,[{key:"start",value:function(t){t.getComponent(xt.CROPPER).start()}},{key:"end",value:function(t){t.getComponent(xt.CROPPER).end()}}]),A}(Do);function Oo(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Lo=function(t){Ii(A,t);var e=Oo(A);function A(){return M(this,A),e.call(this,He.FREE_DRAWING)}return _(A,[{key:"start",value:function(t,e){t.getComponent(xt.FREE_DRAWING).start(e)}},{key:"end",value:function(t){t.getComponent(xt.FREE_DRAWING).end()}}]),A}(Do);function Ho(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var jo=function(t){Ii(A,t);var e=Ho(A);function A(){return M(this,A),e.call(this,He.LINE_DRAWING)}return _(A,[{key:"start",value:function(t,e){t.getComponent(xt.LINE).start(e)}},{key:"end",value:function(t){t.getComponent(xt.LINE).end()}}]),A}(Do);function Po(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var No=function(t){Ii(A,t);var e=Po(A);function A(){return M(this,A),e.call(this,He.SHAPE)}return _(A,[{key:"start",value:function(t){t.getComponent(xt.SHAPE).start()}},{key:"end",value:function(t){t.getComponent(xt.SHAPE).end()}}]),A}(Do);function Ro(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var zo=function(t){Ii(A,t);var e=Ro(A);function A(){return M(this,A),e.call(this,He.TEXT)}return _(A,[{key:"start",value:function(t){t.getComponent(xt.TEXT).start()}},{key:"end",value:function(t){t.getComponent(xt.TEXT).end()}}]),A}(Do);function Go(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Ko=function(t){Ii(A,t);var e=Go(A);function A(){return M(this,A),e.call(this,He.ICON)}return _(A,[{key:"start",value:function(t){t.getComponent(xt.ICON).start()}},{key:"end",value:function(t){t.getComponent(xt.ICON).end()}}]),A}(Do);function Yo(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var Wo=function(t){Ii(A,t);var e=Yo(A);function A(){return M(this,A),e.call(this,He.ZOOM)}return _(A,[{key:"start",value:function(t){t.getComponent(xt.ZOOM).start()}},{key:"end",value:function(t){t.getComponent(xt.ZOOM).end()}}]),A}(Do),Xo=null;function Vo(t){Xo=t}function Zo(t,e){var A,i;return A="activeSelection"===t.type?fi()(i=t.getObjects()).call(i,function(A){var i=A.angle,n=A.left,r=A.top,o=A.scaleX,s=A.scaleY,a=A.width,c=A.height;L.fabric.util.addTransformToObject(A,t.calcTransformMatrix());var l=e(A);return A.set({angle:i,left:n,top:r,width:a,height:c,scaleX:o,scaleY:s}),l}):[e(t)],A}function Jo(t,e,A){return A?{id:t,width:e.width,height:e.height,top:e.top,left:e.left,angle:e.angle,scaleX:e.scaleX,scaleY:e.scaleY}:j()({id:t},e)}function qo(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var $o=function(t){Ii(A,t);var e=qo(A);function A(t){var i;return M(this,A),(i=e.call(this,xt.RESIZE,t))._dimensions=null,i._originalDimensions=null,i}return _(A,[{key:"getCurrentDimensions",value:function(){var t=this.getCanvasImage();if(!this._dimensions&&t){var e=t.width,A=t.height;this._dimensions={width:e,height:A}}return this._dimensions}},{key:"getOriginalDimensions",value:function(){return this._originalDimensions}},{key:"setOriginalDimensions",value:function(t){this._originalDimensions=t}},{key:"resize",value:function(t){var e=this.getCanvasImage(),A=e.width,i=e.height,n=e.scaleX,r=e.scaleY,o=t.width,s=t.height,a={scaleX:o?o/A:n,scaleY:s?s/i:r};return n===a.scaleX&&r===a.scaleY||(e.set(a).setCoords(),this._dimensions={width:e.width*e.scaleX,height:e.height*e.scaleY}),this.adjustCanvasDimensionBase(),T().resolve()}},{key:"start",value:function(){var t=this.getCurrentDimensions();this.setOriginalDimensions(t)}},{key:"end",value:function(){}}]),A}(rr);function ts(t){var e=function(){if("undefined"==typeof Reflect||!yi())return!1;if(yi().sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(yi()(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var A,i=Fi(t);if(e){var n=Fi(this).constructor;A=yi()(i,arguments,n)}else A=i.apply(this,arguments);return _i(this,A)}}var es=function(t){Ii(A,t);var e=ts(A);function A(){return M(this,A),e.call(this,He.RESIZE)}return _(A,[{key:"start",value:function(t){t.getComponent(xt.RESIZE).start()}},{key:"end",value:function(t){t.getComponent(xt.RESIZE).end()}}]),A}(Do),As={cssOnly:!0},is={backstoreOnly:!0},ns=function(){function t(e){var A,i,n,r,o,s,a,c,l,u,h,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=g.cssMaxWidth,d=g.cssMaxHeight;M(this,t),this.canvasImage=null,this.cssMaxWidth=f||1e3,this.cssMaxHeight=d||800,this.cropSelectionStyle={},this.targetObjectForCopyPaste=null,this.imageName="",this._objects={},this._canvas=null,this._drawingMode=He.NORMAL,this._drawingModeMap={},this._componentMap={},this._handler={onMouseDown:F()(A=this._onMouseDown).call(A,this),onObjectAdded:F()(i=this._onObjectAdded).call(i,this),onObjectRemoved:F()(n=this._onObjectRemoved).call(n,this),onObjectMoved:F()(r=this._onObjectMoved).call(r,this),onObjectScaled:F()(o=this._onObjectScaled).call(o,this),onObjectModified:F()(s=this._onObjectModified).call(s,this),onObjectRotated:F()(a=this._onObjectRotated).call(a,this),onObjectSelected:F()(c=this._onObjectSelected).call(c,this),onPathCreated:F()(l=this._onPathCreated).call(l,this),onSelectionCleared:F()(u=this._onSelectionCleared).call(u,this),onSelectionCreated:F()(h=this._onSelectionCreated).call(h,this)},this._setObjectCachingToFalse(),this._setCanvasElement(e),this._createDrawingModeInstances(),this._createComponents(),this._attachCanvasEvents(),this._attachZoomEvents()}return _(t,[{key:"destroy",value:function(){var t=this._canvas.wrapperEl;this._canvas.clear(),t.parentNode.removeChild(t),this._detachZoomEvents()}},{key:"_attachZoomEvents",value:function(){this.getComponent(xt.ZOOM).attachKeyboardZoomEvents()}},{key:"_detachZoomEvents",value:function(){this.getComponent(xt.ZOOM).detachKeyboardZoomEvents()}},{key:"deactivateAll",value:function(){return this._canvas.discardActiveObject(),this}},{key:"renderAll",value:function(){return this._canvas.renderAll(),this}},{key:"add",value:function(t){var e,A=[];er()(t)?A=t:A.push(t),(e=this._canvas).add.apply(e,b(A))}},{key:"contains",value:function(t){return this._canvas.contains(t)}},{key:"getObjects",value:function(){var t;return u()(t=this._canvas.getObjects()).call(t)}},{key:"getObject",value:function(t){return this._objects[t]}},{key:"remove",value:function(t){this._canvas.remove(t)}},{key:"removeAll",value:function(t){var e,A=this._canvas,i=u()(e=A.getObjects()).call(e);return A.remove.apply(A,b(this._canvas.getObjects())),t&&A.clear(),i}},{key:"removeObjectById",value:function(t){var e=[],A=this._canvas,i=this.getObject(t);return i&&i.isType("group")&&!i.isEmpty()?(A.discardActiveObject(),i.forEachObject(function(t){e.push(t),A.remove(t)})):A.contains(i)&&(e.push(i),A.remove(i)),e}},{key:"getObjectId",value:function(t){var e=null;for(e in this._objects)if(this._objects.hasOwnProperty(e)&&t===this._objects[e])return e;return null}},{key:"getActiveObject",value:function(){return this._canvas._activeObject}},{key:"getActiveObjectIdForRemove",value:function(){var t=this.getActiveObject(),e=t.type,A=t.left,i=t.top;if("activeSelection"===e){var n=new L.fabric.Group(b(t.getObjects()),{left:A,top:i});return this._addFabricObject(n)}return this.getObjectId(t)}},{key:"isReadyRemoveObject",value:function(){var t=this.getActiveObject();return t&&!t.isEditing}},{key:"getActiveObjects",value:function(){var t=this._canvas._activeObject;return t&&"activeSelection"===t.type?t:null}},{key:"getActiveSelectionFromObjects",value:function(t){var e=this.getCanvas();return new L.fabric.ActiveSelection(t,{canvas:e})}},{key:"setActiveObject",value:function(t){this._canvas.setActiveObject(t)}},{key:"setCropSelectionStyle",value:function(t){this.cropSelectionStyle=t}},{key:"getComponent",value:function(t){return this._componentMap[t]}},{key:"getDrawingMode",value:function(){return this._drawingMode}},{key:"startDrawingMode",value:function(t,e){if(this._isSameDrawingMode(t))return!0;this.stopDrawingMode();var A=this._getDrawingModeInstance(t);return A&&A.start&&(A.start(this,e),this._drawingMode=t),!!A}},{key:"stopDrawingMode",value:function(){if(!this._isSameDrawingMode(He.NORMAL)){var t=this._getDrawingModeInstance(this.getDrawingMode());t&&t.end&&t.end(this),this._drawingMode=He.NORMAL}}},{key:"zoom",value:function(t,e){var A=t.x,i=t.y;this.getComponent(xt.ZOOM).zoom({x:A,y:i},e)}},{key:"getZoomMode",value:function(){return this.getComponent(xt.ZOOM).mode}},{key:"startZoomInMode",value:function(){this.getComponent(xt.ZOOM).startZoomInMode()}},{key:"endZoomInMode",value:function(){this.getComponent(xt.ZOOM).endZoomInMode()}},{key:"zoomOut",value:function(){this.getComponent(xt.ZOOM).zoomOut()}},{key:"startHandMode",value:function(){this.getComponent(xt.ZOOM).startHandMode()}},{key:"endHandMode",value:function(){this.getComponent(xt.ZOOM).endHandMode()}},{key:"resetZoom",value:function(){this.getComponent(xt.ZOOM).resetZoom()}},{key:"toDataURL",value:function(t){var e=this.getComponent(xt.CROPPER);e.changeVisibility(!1);var A=this._canvas&&this._canvas.toDataURL(t);return e.changeVisibility(!0),A}},{key:"setCanvasImage",value:function(t,e){e&&DA(e),this.imageName=t,this.canvasImage=e}},{key:"setCssMaxDimension",value:function(t){this.cssMaxWidth=t.width||this.cssMaxWidth,this.cssMaxHeight=t.height||this.cssMaxHeight}},{key:"adjustCanvasDimension",value:function(){this.adjustCanvasDimensionBase(this.canvasImage.scale(1))}},{key:"adjustCanvasDimensionBase",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t||(t=this.canvasImage);var e=t.getBoundingRect(),A=e.width,i=e.height,n=this._calcMaxDimension(A,i);this.setCanvasCssDimension({width:"100%",height:"100%","max-width":"".concat(n.width,"px"),"max-height":"".concat(n.height,"px")}),this.setCanvasBackstoreDimension({width:A,height:i}),this._canvas.centerObject(t)}},{key:"setCanvasCssDimension",value:function(t){this._canvas.setDimensions(t,As)}},{key:"setCanvasBackstoreDimension",value:function(t){this._canvas.setDimensions(t,is)}},{key:"setImageProperties",value:function(t,e){var A=this.canvasImage;A&&(A.set(t).setCoords(),e&&this._canvas.renderAll())}},{key:"getCanvasElement",value:function(){return this._canvas.getElement()}},{key:"getCanvas",value:function(){return this._canvas}},{key:"getCanvasImage",value:function(){return this.canvasImage}},{key:"getImageName",value:function(){return this.imageName}},{key:"addImageObject",value:function(t){var e,A=this,i=F()(e=this._callbackAfterLoadingImageObject).call(e,this);return new(T())(function(e){L.fabric.Image.fromURL(t,function(t){i(t),e(A.createObjectProperties(t))},{crossOrigin:"Anonymous"})})}},{key:"getCenter",value:function(){return this._canvas.getCenter()}},{key:"getCropzoneRect",value:function(){return this.getComponent(xt.CROPPER).getCropzoneRect()}},{key:"setCropzoneRect",value:function(t){this.getComponent(xt.CROPPER).setCropzoneRect(t)}},{key:"getCroppedImageData",value:function(t){return this.getComponent(xt.CROPPER).getCroppedImageData(t)}},{key:"setBrush",value:function(t){var e=this._drawingMode,A=xt.FREE_DRAWING;e===He.LINE_DRAWING&&(A=xt.LINE),this.getComponent(A).setBrush(t)}},{key:"setDrawingShape",value:function(t,e){this.getComponent(xt.SHAPE).setStates(t,e)}},{key:"setIconStyle",value:function(t,e){this.getComponent(xt.ICON).setStates(t,e)}},{key:"registerPaths",value:function(t){this.getComponent(xt.ICON).registerPaths(t)}},{key:"changeCursor",value:function(t){var e=this.getCanvas();e.defaultCursor=t,e.renderAll()}},{key:"hasFilter",value:function(t){return this.getComponent(xt.FILTER).hasFilter(t)}},{key:"setSelectionStyle",value:function(t){j()(rA,t)}},{key:"setObjectProperties",value:function(t,e){var A=this.getObject(t),i=j()({},e);return A.set(i),A.setCoords(),this.getCanvas().renderAll(),i}},{key:"getObjectProperties",value:function(t,e){var A=this.getObject(t),i={};return W()(e)?i[e]=A[e]:er()(e)?Ui()(e,function(t){i[t]=A[t]}):ir()(e,function(t,e){i[e]=A[e]}),i}},{key:"getObjectPosition",value:function(t,e,A){var i=this.getObject(t);return i?i.getPointByOrigin(e,A):null}},{key:"setObjectPosition",value:function(t,e){var A=this.getObject(t),i=e.x,n=e.y,r=e.originX,o=e.originY;if(!A)return!1;var s=A.getPointByOrigin(r,o),a=A.getPointByOrigin("center","center"),c=a.x-s.x,l=a.y-s.y;return A.set({left:i+c,top:n+l}),A.setCoords(),!0}},{key:"getCanvasSize",value:function(){var t=this.getCanvasImage();return{width:t?t.width:0,height:t?t.height:0}}},{key:"createStaticCanvas",value:function(){var t=new L.fabric.StaticCanvas;return t.set({enableRetinaScaling:!1}),t}},{key:"_getDrawingModeInstance",value:function(t){return this._drawingModeMap[t]}},{key:"_setObjectCachingToFalse",value:function(){L.fabric.Object.prototype.objectCaching=!1}},{key:"_setCanvasElement",value:function(t){var e,A;"CANVAS"!==(e=t.nodeType?t:document.querySelector(t)).nodeName.toUpperCase()&&(A=document.createElement("canvas"),e.appendChild(A)),this._canvas=new L.fabric.Canvas(A,{containerClass:"tui-image-editor-canvas-container",enableRetinaScaling:!1})}},{key:"_createDrawingModeInstances",value:function(){this._register(this._drawingModeMap,new ko),this._register(this._drawingModeMap,new Lo),this._register(this._drawingModeMap,new jo),this._register(this._drawingModeMap,new No),this._register(this._drawingModeMap,new zo),this._register(this._drawingModeMap,new Ko),this._register(this._drawingModeMap,new Wo),this._register(this._drawingModeMap,new es)}},{key:"_createComponents",value:function(){this._register(this._componentMap,new ar(this)),this._register(this._componentMap,new vr(this)),this._register(this._componentMap,new Br(this)),this._register(this._componentMap,new Cr(this)),this._register(this._componentMap,new br(this)),this._register(this._componentMap,new _r(this)),this._register(this._componentMap,new Ur(this)),this._register(this._componentMap,new kr(this)),this._register(this._componentMap,new Xr(this)),this._register(this._componentMap,new uo(this)),this._register(this._componentMap,new Fo(this)),this._register(this._componentMap,new $o(this))}},{key:"_register",value:function(t,e){t[e.getName()]=e}},{key:"_isSameDrawingMode",value:function(t){return this.getDrawingMode()===t}},{key:"_calcMaxDimension",value:function(t,e){var A=this.cssMaxWidth/t,i=this.cssMaxHeight/e,n=Math.min(t,this.cssMaxWidth),r=Math.min(e,this.cssMaxHeight);return A<1&&A<i?(n=t*A,r=e*A):i<1&&i<A&&(n=t*i,r=e*i),{width:Math.floor(n),height:Math.floor(r)}}},{key:"_callbackAfterLoadingImageObject",value:function(t){var e=this.getCanvasImage().getCenterPoint();t.set(rA),t.set({left:e.x,top:e.y,crossOrigin:"Anonymous"}),this.getCanvas().add(t).setActiveObject(t)}},{key:"_attachCanvasEvents",value:function(){var t=this._canvas,e=this._handler;t.on({"mouse:down":e.onMouseDown,"object:added":e.onObjectAdded,"object:removed":e.onObjectRemoved,"object:moving":e.onObjectMoved,"object:scaling":e.onObjectScaled,"object:modified":e.onObjectModified,"object:rotating":e.onObjectRotated,"path:created":e.onPathCreated,"selection:cleared":e.onSelectionCleared,"selection:created":e.onSelectionCreated,"selection:updated":e.onObjectSelected})}},{key:"_onMouseDown",value:function(t){var e=this,A=t.e,i=t.target,n=this._canvas.getPointer(A);if(i){var r=i.type;Vo(Zo(i,function(t){return Jo(e.getObjectId(t),t,"activeSelection"===r)}))}this.fire(se,A,n)}},{key:"_onObjectAdded",value:function(t){var e=t.target;e.isType("cropzone")||this._addFabricObject(e)}},{key:"_onObjectRemoved",value:function(t){var e=t.target;this._removeFabricObject(DA(e))}},{key:"_onObjectMoved",value:function(t){var e=this;this._lazyFire(Vt,function(t){return e.createObjectProperties(t)},t.target)}},{key:"_onObjectScaled",value:function(t){var e=this;this._lazyFire(Zt,function(t){return e.createObjectProperties(t)},t.target)}},{key:"_onObjectModified",value:function(t){var e=t.target;if("activeSelection"===e.type){var A=e.getObjects();et()(A).call(A,function(t){return t.fire("modifiedInGroup",e)})}this.fire($t,e,this.getObjectId(e))}},{key:"_onObjectRotated",value:function(t){var e=this;this._lazyFire(Jt,function(t){return e.createObjectProperties(t)},t.target)}},{key:"_lazyFire",value:function(t,e,A){var i=this,n=A&&A.canvasEventDelegation?A.canvasEventDelegation(t):"none";"unregistered"===n&&A.canvasEventRegister(t,function(A){i.fire(t,e(A))}),"none"===n&&this.fire(t,e(A))}},{key:"_onObjectSelected",value:function(t){var e=t.target,A=this.createObjectProperties(e);this.fire(Xt,A)}},{key:"_onPathCreated",value:function(t){var e=t.path.getCenterPoint(),A=e.x,i=e.y;t.path.set(j()({left:A,top:i},rA));var n=this.createObjectProperties(t.path);this.fire(re,n)}},{key:"_onSelectionCleared",value:function(){this.fire(le)}},{key:"_onSelectionCreated",value:function(t){var e=t.target,A=this.createObjectProperties(e);this.fire(Xt,A),this.fire(ue,t.target)}},{key:"discardSelection",value:function(){this._canvas.discardActiveObject(),this._canvas.renderAll()}},{key:"changeSelectableAll",value:function(t){this._canvas.forEachObject(function(e){e.selectable=t,e.hoverCursor=t?"move":"crosshair"})}},{key:"createObjectProperties",value:function(t){var e={id:DA(t),type:t.type};if(j()(e,LA(t,["left","top","width","height","fill","stroke","strokeWidth","opacity","angle"])),YA(["i-text","text"],t.type))j()(e,this._createTextProperties(t,e));else if(YA(["rect","triangle","circle"],t.type)){var A=this.getComponent(xt.SHAPE);j()(e,{fill:A.makeFillPropertyForUserEvent(t)})}return e}},{key:"_createTextProperties",value:function(t){var e={};return j()(e,LA(t,["text","fontFamily","fontSize","fontStyle","textAlign","textDecoration","fontWeight"])),e}},{key:"_addFabricObject",value:function(t){var e=DA(t);return this._objects[e]=t,e}},{key:"_removeFabricObject",value:function(t){delete this._objects[t]}},{key:"resetTargetObjectForCopyPaste",value:function(){var t=this.getActiveObject();t&&(this.targetObjectForCopyPaste=t)}},{key:"pasteObject",value:function(){var t=this;if(!this.targetObjectForCopyPaste)return T().resolve([]);var e=this.targetObjectForCopyPaste,A="activeSelection"===e.type?e.getObjects():[e],i=null;return this.discardSelection(),this._cloneObject(A).then(function(e){if(e.length>1)i=t.getActiveSelectionFromObjects(e);else{var A=Z(e,1);i=A[0]}t.targetObjectForCopyPaste=i,t.setActiveObject(i)})}},{key:"_cloneObject",value:function(t){var e=this,A=fi()(t).call(t,function(t){return e._cloneObjectItem(t)});return T().all(A)}},{key:"_cloneObjectItem",value:function(t){var e=this;return this._copyFabricObjectForPaste(t).then(function(t){var A=e.createObjectProperties(t);return e.add(t),e.fire(re,A),t})}},{key:"_copyFabricObjectForPaste",value:function(t){var e=this,A=function(t,e){return e?t-10:t+10};return this._copyFabricObject(t).then(function(t){var i=t.left,n=t.top,r=t.width,o=t.height,s=e.getCanvasSize(),a=s.width,c=s.height,l=i+r/2,u=n+o/2;return t.set(j()({left:A(i,l+10>a),top:A(n,u+10>c)},rA)),t})}},{key:"_copyFabricObject",value:function(t){var e=this;return new(T())(function(A){t.clone(function(i){var n=e.getComponent(xt.SHAPE);VA(i)&&n.processForCopiedObject(i,t),A(i)})})}},{key:"getCurrentDimensions",value:function(){return this.getComponent(xt.RESIZE).getCurrentDimensions()}},{key:"getOriginalDimensions",value:function(){return this.getComponent(xt.RESIZE).getOriginalDimensions()}},{key:"setOriginalDimensions",value:function(t){this.getComponent(xt.RESIZE).setOriginalDimensions(t)}},{key:"resize",value:function(t){return this.getComponent(xt.RESIZE).resize(t)}}]),t}();K().mixin(ns);var rs=ns,os=se,ss=Vt,as=Zt,cs=Xt,ls=Jt,us=qt,hs=$t,gs=ne,fs=re,ds=te,ps=ee,vs=Ae,ms=ie,Bs=le,ys=ue,Cs=oe,ws=function(){function t(e,A){var i,n,r,o,s,a,c,l,u,h,g,f,d,p,v,m;if(M(this,t),A=j()({includeUI:!1,usageStatistics:!0},A),this.mode=null,this.activeObjectId=null,A.includeUI){var B=A.includeUI;B.usageStatistics=A.usageStatistics,this.ui=new Vn(e,B,this.getActions()),A=this.ui.setUiDefaultSelectionStyle(A)}this._invoker=new li,this._graphics=new rs(this.ui?this.ui.getEditorArea():e,{cssMaxWidth:A.cssMaxWidth,cssMaxHeight:A.cssMaxHeight}),this._handlers={keydown:F()(i=this._onKeyDown).call(i,this),mousedown:F()(n=this._onMouseDown).call(n,this),objectActivated:F()(r=this._onObjectActivated).call(r,this),objectMoved:F()(o=this._onObjectMoved).call(o,this),objectScaled:F()(s=this._onObjectScaled).call(s,this),objectRotated:F()(a=this._onObjectRotated).call(a,this),objectAdded:F()(c=this._onObjectAdded).call(c,this),objectModified:F()(l=this._onObjectModified).call(l,this),createdPath:this._onCreatedPath,addText:F()(u=this._onAddText).call(u,this),addObject:F()(h=this._onAddObject).call(h,this),textEditing:F()(g=this._onTextEditing).call(g,this),textChanged:F()(f=this._onTextChanged).call(f,this),iconCreateResize:F()(d=this._onIconCreateResize).call(d,this),iconCreateEnd:F()(p=this._onIconCreateEnd).call(p,this),selectionCleared:F()(v=this._selectionCleared).call(v,this),selectionCreated:F()(m=this._selectionCreated).call(m,this)},this._attachInvokerEvents(),this._attachGraphicsEvents(),this._attachDomEvents(),this._setSelectionStyle(A.selectionStyle,{applyCropSelectionStyle:A.applyCropSelectionStyle,applyGroupSelectionStyle:A.applyGroupSelectionStyle}),A.usageStatistics&&(EA||(EA=!0,rt()("image-editor","UA-129999381-1"))),this.ui&&(this.ui.initCanvas(),this.setReAction(),this._attachColorPickerInputBoxEvents()),L.fabric.enableGLFiltering=!1}return _(t,[{key:"_attachColorPickerInputBoxEvents",value:function(){var t=this;this.ui.on(ye,function(){t.isColorPickerInputBoxEditing=!0}),this.ui.on(Ce,function(){t.isColorPickerInputBoxEditing=!1})}},{key:"_detachColorPickerInputBoxEvents",value:function(){this.ui.off(ye),this.ui.off(Ce)}},{key:"_setSelectionStyle",value:function(t,e){var A=e.applyCropSelectionStyle,i=e.applyGroupSelectionStyle;t&&this._graphics.setSelectionStyle(t),A&&this._graphics.setCropSelectionStyle(t),i&&this.on("selectionCreated",function(e){"activeSelection"===e.type&&e.set(t)})}},{key:"_attachInvokerEvents",value:function(){var t,e,A=this,i=ce,n=ae,r=he,o=ge,s=fe,a=pe,c=ve;if(this._invoker.on(i,F()(t=this.fire).call(t,this,i)),this._invoker.on(n,F()(e=this.fire).call(e,this,n)),this.ui){var l=this._graphics.getCanvas();this._invoker.on(r,function(t){return A.ui.fire(r,t)}),this._invoker.on(o,function(t){return A.ui.fire(o,t)}),this._invoker.on(s,function(t){return A.ui.fire(s,t)}),l.on(a,function(){return A.ui.fire(a)}),l.on(c,function(){return A.ui.fire(c)})}}},{key:"_attachGraphicsEvents",value:function(){var t;this._graphics.on((x(t={},os,this._handlers.mousedown),x(t,ss,this._handlers.objectMoved),x(t,as,this._handlers.objectScaled),x(t,ls,this._handlers.objectRotated),x(t,cs,this._handlers.objectActivated),x(t,us,this._handlers.objectAdded),x(t,hs,this._handlers.objectModified),x(t,gs,this._handlers.addText),x(t,fs,this._handlers.addObject),x(t,ds,this._handlers.textEditing),x(t,ps,this._handlers.textChanged),x(t,vs,this._handlers.iconCreateResize),x(t,ms,this._handlers.iconCreateEnd),x(t,Bs,this._handlers.selectionCleared),x(t,ys,this._handlers.selectionCreated),t))}},{key:"_attachDomEvents",value:function(){document.addEventListener("keydown",this._handlers.keydown)}},{key:"_detachDomEvents",value:function(){document.removeEventListener("keydown",this._handlers.keydown)}},{key:"_onKeyDown",value:function(t){var e=t.ctrlKey,A=t.keyCode,i=t.metaKey;(e||i)&&(A===Ve?this._graphics.resetTargetObjectForCopyPaste():A===Ze?(this._graphics.pasteObject(),this.clearRedoStack()):A===We?this.undo().catch(function(){}):A===Xe&&this.redo().catch(function(){}));var n=A===qe||A===$e,r=this._graphics.isReadyRemoveObject();!this.isColorPickerInputBoxEditing&&r&&n&&(t.preventDefault(),this.removeActiveObject())}},{key:"removeActiveObject",value:function(){var t=this._graphics.getActiveObjectIdForRemove();this.removeObject(t)}},{key:"_onMouseDown",value:function(t,e){this.fire(se,t,e)}},{key:"_pushAddObjectCommand",value:function(t){var e=ai.create(Et,this._graphics,t);this._invoker.pushUndoStack(e)}},{key:"_pushModifyObjectCommand",value:function(t){var e=this,A=t.type,i=Zo(t,function(t){return Jo(e._graphics.getObjectId(t),t,"activeSelection"===A)}),n=ai.create(Yt,this._graphics,i);n.execute(this._graphics,i),this._invoker.pushUndoStack(n)}},{key:"_onObjectActivated",value:function(t){this.fire(Xt,t)}},{key:"_onObjectMoved",value:function(t){this.fire(Vt,t)}},{key:"_onObjectScaled",value:function(t){this.fire(Zt,t)}},{key:"_onObjectRotated",value:function(t){this.fire(Jt,t)}},{key:"getDrawingMode",value:function(){return this._graphics.getDrawingMode()}},{key:"clearObjects",value:function(){return this.execute(St)}},{key:"deactivateAll",value:function(){this._graphics.deactivateAll(),this._graphics.renderAll()}},{key:"discardSelection",value:function(){this._graphics.discardSelection()}},{key:"changeSelectableAll",value:function(t){this._graphics.changeSelectableAll(t)}},{key:"_initHistory",value:function(){this.ui&&this.ui.initHistory()}},{key:"_clearHistory",value:function(){this.ui&&this.ui.clearHistory()}},{key:"execute",value:function(t){for(var e,A,i,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var s=U()(e=[this._graphics]).call(e,r);return(A=this._invoker).execute.apply(A,U()(i=[t]).call(i,b(s)))}},{key:"executeSilent",value:function(t){for(var e,A,i,n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var s=U()(e=[this._graphics]).call(e,r);return(A=this._invoker).executeSilent.apply(A,U()(i=[t]).call(i,b(s)))}},{key:"undo",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,A=T().resolve(),i=0;i<e;i+=1)A=A.then(function(){return t._invoker.undo()});return A}},{key:"redo",value:function(){for(var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,A=T().resolve(),i=0;i<e;i+=1)A=A.then(function(){return t._invoker.redo()});return A}},{key:"zoom",value:function(t){var e=t.x,A=t.y,i=t.zoomLevel;this._graphics.zoom({x:e,y:A},i)}},{key:"resetZoom",value:function(){this._graphics.resetZoom()}},{key:"loadImageFromFile",value:function(t,e){if(!t)return T().reject(aA);var A=O().createObjectURL(t);return e=e||t.name,this.loadImageFromURL(A,e).then(function(e){return O().revokeObjectURL(t),e})}},{key:"loadImageFromURL",value:function(t,e){return e&&t?this.execute(_t,e,t):T().reject(aA)}},{key:"addImageObject",value:function(t){return t?this.execute(Rt,t):T().reject(aA)}},{key:"startDrawingMode",value:function(t,e){return this._graphics.startDrawingMode(t,e)}},{key:"stopDrawingMode",value:function(){this._graphics.stopDrawingMode()}},{key:"crop",value:function(t){var e=this._graphics.getCroppedImageData(t);return e?this.loadImageFromURL(e.url,e.imageName):T().reject(aA)}},{key:"getCropzoneRect",value:function(){return this._graphics.getCropzoneRect()}},{key:"setCropzoneRect",value:function(t){this._graphics.setCropzoneRect(t)}},{key:"_flip",value:function(t){return this.execute(Qt,t)}},{key:"flipX",value:function(){return this._flip("flipX")}},{key:"flipY",value:function(){return this._flip("flipY")}},{key:"resetFlip",value:function(){return this._flip("reset")}},{key:"_rotate",value:function(t,e,A){return A?this.executeSilent(Ft,t,e):this.execute(Ft,t,e)}},{key:"rotate",value:function(t,e){return this._rotate("rotate",t,e)}},{key:"setAngle",value:function(t,e){return this._rotate("setAngle",t,e)}},{key:"setBrush",value:function(t){this._graphics.setBrush(t)}},{key:"setDrawingShape",value:function(t,e){this._graphics.setDrawingShape(t,e)}},{key:"setDrawingIcon",value:function(t,e){this._graphics.setIconStyle(t,e)}},{key:"addShape",value:function(t,e){return e=e||{},this._setPositions(e),this.execute(Lt,t,e)}},{key:"changeShape",value:function(t,e,A){return this[A?"executeSilent":"execute"](Ht,t,e)}},{key:"addText",value:function(t,e){return t=t||"",e=e||{},this.execute(jt,t,e)}},{key:"changeText",value:function(t,e){return e=e||"",this.execute(Pt,t,e)}},{key:"changeTextStyle",value:function(t,e,A){return this[A?"executeSilent":"execute"](Nt,t,e)}},{key:"_changeActivateMode",value:function(t){"ICON"!==t&&this.getDrawingMode()!==t&&this.startDrawingMode(t)}},{key:"_onTextChanged",value:function(t){this.fire(ee,t)}},{key:"_onIconCreateResize",value:function(t){this.fire(Ae,t)}},{key:"_onIconCreateEnd",value:function(t){this.fire(ie,t)}},{key:"_onTextEditing",value:function(){this.fire(te)}},{key:"_onAddText",value:function(t){this.fire(ne,{originPosition:t.originPosition,clientPosition:t.clientPosition})}},{key:"_onAddObject",value:function(t){var e=this._graphics.getObject(t.id);this._invoker.fire(he,ZA(e.type)),this._pushAddObjectCommand(e)}},{key:"_onObjectAdded",value:function(t){this.fire(us,t),this.fire(Cs,t)}},{key:"_onObjectModified",value:function(t){t.type!==vt&&(this._invoker.fire(he,ZA(t.type)),this._pushModifyObjectCommand(t))}},{key:"_selectionCleared",value:function(){this.fire(Bs)}},{key:"_selectionCreated",value:function(t){this.fire(ys,t)}},{key:"registerIcons",value:function(t){this._graphics.registerPaths(t)}},{key:"changeCursor",value:function(t){this._graphics.changeCursor(t)}},{key:"addIcon",value:function(t,e){return e=e||{},this._setPositions(e),this.execute(kt,t,e)}},{key:"changeIconColor",value:function(t,e){return this.execute(Ot,t,e)}},{key:"removeObject",value:function(t){var e=this._graphics.getObject(t).type;return this.execute(Ut,t,ZA(e))}},{key:"hasFilter",value:function(t){return this._graphics.hasFilter(t)}},{key:"removeFilter",value:function(t){return this.execute(Tt,t)}},{key:"applyFilter",value:function(t,e,A){return this[A?"executeSilent":"execute"](Dt,t,e)}},{key:"toDataURL",value:function(t){return this._graphics.toDataURL(t)}},{key:"getImageName",value:function(){return this._graphics.getImageName()}},{key:"clearUndoStack",value:function(){this._invoker.clearUndoStack()}},{key:"clearRedoStack",value:function(){this._invoker.clearRedoStack()}},{key:"isEmptyUndoStack",value:function(){return this._invoker.isEmptyUndoStack()}},{key:"isEmptyRedoStack",value:function(){return this._invoker.isEmptyRedoStack()}},{key:"resizeCanvasDimension",value:function(t){return t?this.execute(zt,t):T().reject(aA)}},{key:"destroy",value:function(){var t=this;this.stopDrawingMode(),this._detachDomEvents(),this._graphics.destroy(),this._graphics=null,this.ui&&(this._detachColorPickerInputBoxEvents(),this.ui.destroy()),z()(this,function(e,A){t[A]=null},this)}},{key:"_setPositions",value:function(t){var e=this._graphics.getCenter();N()(t.left)&&(t.left=e.left),N()(t.top)&&(t.top=e.top)}},{key:"setObjectProperties",value:function(t,e){return this.execute(Gt,t,e)}},{key:"setObjectPropertiesQuietly",value:function(t,e){this._graphics.setObjectProperties(t,e)}},{key:"getObjectProperties",value:function(t,e){return this._graphics.getObject(t)?this._graphics.getObjectProperties(t,e):null}},{key:"getCanvasSize",value:function(){return this._graphics.getCanvasSize()}},{key:"getObjectPosition",value:function(t,e,A){return this._graphics.getObjectPosition(t,e,A)}},{key:"setObjectPosition",value:function(t,e){return this.execute(Kt,t,e)}},{key:"resize",value:function(t){return this.execute(Wt,t)}}]),t}();$n.mixin(ws),K().mixin(ws);var bs=ws,Is=xt.ICON,xs={name:kt,execute:function(t,e,A){var i=this;return t.getComponent(Is).add(e,A).then(function(e){return i.undoData.object=t.getObject(e.id),e})},undo:function(t){return t.remove(this.undoData.object),T().resolve()}};ai.register(xs);var Ms={name:Rt,execute:function(t,e){var A=this;return t.addImageObject(e).then(function(e){return A.undoData.object=t.getObject(e.id),e})},undo:function(t){return t.remove(this.undoData.object),T().resolve()}};ai.register(Ms);var Ss={name:Et,execute:function(t,e){return new(T())(function(A,i){t.contains(e)?i(oA):(t.add(e),A(e))})},undo:function(t,e){return new(T())(function(A,i){t.contains(e)?(t.remove(e),A(e)):i(hA)})}};ai.register(Ss);var _s=xt.SHAPE,Qs={name:Lt,execute:function(t,e,A){var i=this;return t.getComponent(_s).add(e,A).then(function(e){var A=e.id;return i.undoData.object=t.getObject(A),e})},undo:function(t){return t.remove(this.undoData.object),T().resolve()}};ai.register(Qs);var Fs=xt.TEXT,Es={name:jt,execute:function(t,e,A){var i=this,n=t.getComponent(Fs);if(this.undoData.object){var r=this.undoData.object;return new(T())(function(e,A){t.contains(r)?A(gA):(t.add(r),e(r))})}return n.add(e,A).then(function(e){var A=e.id,n=t.getObject(A);return i.undoData.object=n,Vo(Zo(n,function(){return Jo(A,n,!1)})),e})},undo:function(t){return t.remove(this.undoData.object),T().resolve()}};ai.register(Es);var Us=xt.FILTER,Ds=null,Ts={name:Dt,execute:function(t,e,A,i){var n=t.getComponent(Us);if("mask"===e){var r=t.getObject(A.maskObjId);if(!r||!r.isType("image"))return T().reject(aA);j()(A,{mask:r}),t.remove(A.mask)}if(!this.isRedo){var o=function(t,e,A){var i={};return"mask"===t&&(i.object=A.mask),i.options=e,i}(e,n.getOptions(e),A);Ds=this.setUndoData(o,Ds,i)}return n.add(e,A)},undo:function(t,e){var A=t.getComponent(Us);if("mask"===e){var i=this.undoData.object;return t.add(i),t.setActiveObject(i),A.remove(e)}return this.undoData.options?A.add(e,this.undoData.options):A.remove(e)}};ai.register(Ts);var ks=xt.ICON,Os={name:Ot,execute:function(t,e,A){var i=this;return new(T())(function(n,r){var o=t.getComponent(ks),s=t.getObject(e);s||r(hA),i.undoData.object=s,i.undoData.color=o.getColor(s),o.setColor(A,s),n()})},undo:function(t){var e=t.getComponent(ks),A=this.undoData,i=A.object,n=A.color;return e.setColor(n,i),T().resolve()}};ai.register(Os);var Ls=xt.SHAPE,Hs=null,js={name:Ht,execute:function(t,e,A,i){var n=t.getComponent(Ls),r=t.getObject(e);if(!r)return T().reject(hA);if(!this.isRedo){var o=function(t,e){var A={object:e,options:{}};return ir()(t,function(t,i){A.options[i]=e[i]}),A}(A,r);Hs=this.setUndoData(o,Hs,i)}return n.change(r,A)},undo:function(t){var e=t.getComponent(Ls),A=this.undoData,i=A.object,n=A.options;return e.change(i,n)}};ai.register(js);var Ps=xt.TEXT,Ns={name:Pt,execute:function(t,e,A){var i=t.getComponent(Ps),n=t.getObject(e);return n?(this.undoData.object=n,this.undoData.text=i.getText(n),i.change(n,A)):T().reject(hA)},undo:function(t){var e=t.getComponent(Ps),A=this.undoData,i=A.object,n=A.text;return e.change(i,n)}};ai.register(Ns);var Rs=xt.TEXT,zs=null,Gs={name:Nt,execute:function(t,e,A,i){var n=t.getComponent(Rs),r=t.getObject(e);if(!r)return T().reject(hA);if(!this.isRedo){var o=function(t,e){var A={object:e,styles:{}};return ir()(t,function(t,i){var n=e[i];A.styles[i]=n}),A}(A,r);zs=this.setUndoData(o,zs,i)}return n.setStyle(r,A)},undo:function(t){var e=t.getComponent(Rs),A=this.undoData,i=A.object,n=A.styles;return e.setStyle(i,n)}};ai.register(Gs);var Ks={name:St,execute:function(t){var e=this;return new(T())(function(A){e.undoData.objects=t.removeAll(),A()})},undo:function(t){return t.add(this.undoData.objects),T().resolve()}};ai.register(Ks);var Ys=xt.FLIP,Ws={name:Qt,execute:function(t,e){var A=t.getComponent(Ys);return this.undoData.setting=A.getCurrentSetting(),A[e]()},undo:function(t){return t.getComponent(Ys).set(this.undoData.setting)}};ai.register(Ws);var Xs=xt.IMAGE_LOADER,Vs={name:_t,execute:function(t,e,A){var i,n=t.getComponent(Xs),r=n.getCanvasImage(),o=r?r.width:0,s=r?r.height:0,a=Jn()(i=t.removeAll(!0)).call(i,function(t){return"cropzone"!==t.type});return et()(a).call(a,function(t){t.evented=!0}),this.undoData={name:n.getImageName(),image:r,objects:a},n.load(e,A).then(function(t){return{oldWidth:o,oldHeight:s,newWidth:t.width,newHeight:t.height}})},undo:function(t){var e=t.getComponent(Xs),A=this.undoData,i=A.objects,n=A.name,r=A.image;return t.removeAll(!0),t.add(i),e.load(n,r)}};ai.register(Vs);var Zs=xt.FILTER,Js={name:Tt,execute:function(t,e){var A=t.getComponent(Zs);return this.undoData.options=A.getOptions(e),A.remove(e)},undo:function(t,e){var A=t.getComponent(Zs),i=this.undoData.options;return A.add(e,i)}};ai.register(Js);var qs={name:Ut,execute:function(t,e){var A=this;return new(T())(function(i,n){A.undoData.objects=t.removeObjectById(e),A.undoData.objects.length?i():n(hA)})},undo:function(t){return t.add(this.undoData.objects),T().resolve()}};ai.register(qs);var $s={name:zt,execute:function(t,e){var A=this;return new(T())(function(i){A.undoData.size={width:t.cssMaxWidth,height:t.cssMaxHeight},t.setCssMaxDimension(e),t.adjustCanvasDimension(),i()})},undo:function(t){return t.setCssMaxDimension(this.undoData.size),t.adjustCanvasDimension(),T().resolve()}};ai.register($s);var ta=xt.ROTATION,ea=null,Aa={name:Ft,execute:function(t,e,A,i){var n=t.getComponent(ta);if(!this.isRedo){var r=function(t){return{angle:t.getCurrentAngle()}}(n);ea=this.setUndoData(r,ea,i)}return n[e](A)},undo:function(t){var e=t.getComponent(ta),A=Z(this.args,3),i=A[1],n=A[2];return"setAngle"===i?e[i](this.undoData.angle):e.rotate(-n)}};ai.register(Aa);var ia={name:Gt,execute:function(t,e,A){var i=this,n=t.getObject(e);return n?(this.undoData.props={},ir()(A,function(t,e){i.undoData.props[e]=n[e]}),t.setObjectProperties(e,A),T().resolve()):T().reject(hA)},undo:function(t,e){var A=this.undoData.props;return t.setObjectProperties(e,A),T().resolve()}};ai.register(ia);var na={name:Kt,execute:function(t,e,A){return t.getObject(e)?(this.undoData.objectId=e,this.undoData.props=t.getObjectProperties(e,["left","top"]),t.setObjectPosition(e,A),t.renderAll(),T().resolve()):T().reject(hA)},undo:function(t){var e=this.undoData,A=e.objectId,i=e.props;return t.setObjectProperties(A,i),t.renderAll(),T().resolve()}};ai.register(na);var ra={name:Yt,execute:function(t,e){return this.isRedo?et()(e).call(e,function(e){t.setObjectProperties(e.id,e)}):this.undoData=Xo,T().resolve()},undo:function(t){var e;return et()(e=this.undoData).call(e,function(e){t.setObjectProperties(e.id,e)}),T().resolve()}};ai.register(ra);var oa=xt.RESIZE,sa={name:Wt,execute:function(t,e){var A=t.getComponent(oa),i=A.getOriginalDimensions();return i||(i=A.getCurrentDimensions()),this.undoData.dimensions=i,A.resize(e)},undo:function(t){return t.getComponent(oa).resize(this.undoData.dimensions)}};ai.register(sa);var aa=bs}(),n=n.default}()};const o=t(i.exports=A(r()));
/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)Object.prototype.hasOwnProperty.call(e,A)&&(t[A]=e[A])})(t,e)};function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function A(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(A.prototype=e.prototype,new A)}var c=function(){return c=Object.assign||function(t){for(var e,A=1,i=arguments.length;A<i;A++)for(var n in e=arguments[A])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},c.apply(this,arguments)};function l(t,e,A,i){return new(A||(A=Promise))(function(n,r){function o(t){try{a(i.next(t))}catch(e){r(e)}}function s(t){try{a(i.throw(t))}catch(e){r(e)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof A?e:new A(function(t){t(e)})).then(o,s)}a((i=i.apply(t,e||[])).next())})}function u(t,e){var A,i,n,r,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(A)throw new TypeError("Generator is already executing.");for(;o;)try{if(A=1,i&&(n=2&r[0]?i.return:r[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,r[1])).done)return n;switch(i=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,i=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!(n=o.trys,(n=n.length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){o.label=r[1];break}if(6===r[0]&&o.label<n[1]){o.label=n[1],n=r;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(r);break}n[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(s){r=[6,s],i=0}finally{A=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}}for(var h=function(){function t(t,e,A,i){this.left=t,this.top=e,this.width=A,this.height=i}return t.prototype.add=function(e,A,i,n){return new t(this.left+e,this.top+A,this.width+i,this.height+n)},t.fromClientRect=function(e,A){return new t(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height)},t.fromDOMRectList=function(e,A){var i=Array.from(A).find(function(t){return 0!==t.width});return i?new t(i.left+e.windowBounds.left,i.top+e.windowBounds.top,i.width,i.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),g=function(t,e){return h.fromClientRect(t,e.getBoundingClientRect())},f=function(t){for(var e=[],A=0,i=t.length;A<i;){var n=t.charCodeAt(A++);if(n>=55296&&n<=56319&&A<i){var r=t.charCodeAt(A++);56320==(64512&r)?e.push(((1023&n)<<10)+(1023&r)+65536):(e.push(n),A--)}else e.push(n)}return e},d=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var i=[],n=-1,r="";++n<A;){var o=t[n];o<=65535?i.push(o):(o-=65536,i.push(55296+(o>>10),o%1024+56320)),(n+1===A||i.length>16384)&&(r+=String.fromCharCode.apply(String,i),i.length=0)}return r},p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v="undefined"==typeof Uint8Array?[]:new Uint8Array(256),m=0;m<64;m++)v[p.charCodeAt(m)]=m;for(var B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y="undefined"==typeof Uint8Array?[]:new Uint8Array(256),C=0;C<64;C++)y[B.charCodeAt(C)]=C;for(var w=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},b=function(){function t(t,e,A,i,n,r){this.initialValue=t,this.errorValue=e,this.highStart=A,this.highValueIndex=i,this.index=n,this.data=r}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x="undefined"==typeof Uint8Array?[]:new Uint8Array(256),M=0;M<64;M++)x[I.charCodeAt(M)]=M;var S,_,Q,F,E,U,D,T,k=10,O=13,L=15,H=17,j=18,P=19,N=20,R=21,z=22,G=24,K=25,Y=26,W=27,X=28,V=30,Z=32,J=33,q=34,$=35,tt=37,et=38,At=39,it=40,nt=42,rt=[9001,65288],ot="",st="",at=(F=function(t){var e,A,i,n,r,o=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)A=y[t.charCodeAt(e)],i=y[t.charCodeAt(e+1)],n=y[t.charCodeAt(e+2)],r=y[t.charCodeAt(e+3)],l[a++]=A<<2|i>>4,l[a++]=(15&i)<<4|n>>2,l[a++]=(3&n)<<6|63&r;return c}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),E=Array.isArray(F)?function(t){for(var e=t.length,A=[],i=0;i<e;i+=4)A.push(t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]);return A}(F):new Uint32Array(F),U=Array.isArray(F)?function(t){for(var e=t.length,A=[],i=0;i<e;i+=2)A.push(t[i+1]<<8|t[i]);return A}(F):new Uint16Array(F),D=w(U,12,E[4]/2),T=2===E[5]?w(U,(24+E[4])/2):(S=E,_=Math.ceil((24+E[4])/4),S.slice?S.slice(_,Q):new Uint32Array(Array.prototype.slice.call(S,_,Q))),new b(E[0],E[1],E[2],E[3],D,T)),ct=[V,36],lt=[1,2,3,5],ut=[k,8],ht=[W,Y],gt=lt.concat(ut),ft=[et,At,it,q,$],dt=[L,O],pt=function(t,e,A,i){var n=i[A];if(Array.isArray(t)?-1!==t.indexOf(n):t===n)for(var r=A;r<=i.length;){if((a=i[++r])===e)return!0;if(a!==k)break}if(n===k)for(r=A;r>0;){var o=i[--r];if(Array.isArray(t)?-1!==t.indexOf(o):t===o)for(var s=A;s<=i.length;){var a;if((a=i[++s])===e)return!0;if(a!==k)break}if(o!==k)break}return!1},vt=function(t,e){for(var A=t;A>=0;){var i=e[A];if(i!==k)return i;A--}return 0},mt=function(t,e,A,i,n){if(0===A[i])return ot;var r=i-1;if(Array.isArray(n)&&!0===n[r])return ot;var o=r-1,s=r+1,a=e[r],c=o>=0?e[o]:0,l=e[s];if(2===a&&3===l)return ot;if(-1!==lt.indexOf(a))return"!";if(-1!==lt.indexOf(l))return ot;if(-1!==ut.indexOf(l))return ot;if(8===vt(r,e))return st;if(11===at.get(t[r]))return ot;if((a===Z||a===J)&&11===at.get(t[s]))return ot;if(7===a||7===l)return ot;if(9===a)return ot;if(-1===[k,O,L].indexOf(a)&&9===l)return ot;if(-1!==[H,j,P,G,X].indexOf(l))return ot;if(vt(r,e)===z)return ot;if(pt(23,z,r,e))return ot;if(pt([H,j],R,r,e))return ot;if(pt(12,12,r,e))return ot;if(a===k)return st;if(23===a||23===l)return ot;if(16===l||16===a)return st;if(-1!==[O,L,R].indexOf(l)||14===a)return ot;if(36===c&&-1!==dt.indexOf(a))return ot;if(a===X&&36===l)return ot;if(l===N)return ot;if(-1!==ct.indexOf(l)&&a===K||-1!==ct.indexOf(a)&&l===K)return ot;if(a===W&&-1!==[tt,Z,J].indexOf(l)||-1!==[tt,Z,J].indexOf(a)&&l===Y)return ot;if(-1!==ct.indexOf(a)&&-1!==ht.indexOf(l)||-1!==ht.indexOf(a)&&-1!==ct.indexOf(l))return ot;if(-1!==[W,Y].indexOf(a)&&(l===K||-1!==[z,L].indexOf(l)&&e[s+1]===K)||-1!==[z,L].indexOf(a)&&l===K||a===K&&-1!==[K,X,G].indexOf(l))return ot;if(-1!==[K,X,G,H,j].indexOf(l))for(var u=r;u>=0;){if((h=e[u])===K)return ot;if(-1===[X,G].indexOf(h))break;u--}if(-1!==[W,Y].indexOf(l))for(u=-1!==[H,j].indexOf(a)?o:r;u>=0;){var h;if((h=e[u])===K)return ot;if(-1===[X,G].indexOf(h))break;u--}if(et===a&&-1!==[et,At,q,$].indexOf(l)||-1!==[At,q].indexOf(a)&&-1!==[At,it].indexOf(l)||-1!==[it,$].indexOf(a)&&l===it)return ot;if(-1!==ft.indexOf(a)&&-1!==[N,Y].indexOf(l)||-1!==ft.indexOf(l)&&a===W)return ot;if(-1!==ct.indexOf(a)&&-1!==ct.indexOf(l))return ot;if(a===G&&-1!==ct.indexOf(l))return ot;if(-1!==ct.concat(K).indexOf(a)&&l===z&&-1===rt.indexOf(t[s])||-1!==ct.concat(K).indexOf(l)&&a===j)return ot;if(41===a&&41===l){for(var g=A[r],f=1;g>0&&41===e[--g];)f++;if(f%2!=0)return ot}return a===Z&&l===J?ot:st},Bt=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var A=function(t,e){void 0===e&&(e="strict");var A=[],i=[],n=[];return t.forEach(function(t,r){var o=at.get(t);if(o>50?(n.push(!0),o-=50):n.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return i.push(r),A.push(16);if(4===o||11===o){if(0===r)return i.push(r),A.push(V);var s=A[r-1];return-1===gt.indexOf(s)?(i.push(i[r-1]),A.push(s)):(i.push(r),A.push(V))}return i.push(r),31===o?A.push("strict"===e?R:tt):o===nt||29===o?A.push(V):43===o?t>=131072&&t<=196605||t>=196608&&t<=262141?A.push(tt):A.push(V):void A.push(o)}),[i,A,n]}(t,e.lineBreak),i=A[0],n=A[1],r=A[2];"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(n=n.map(function(t){return-1!==[K,V,nt].indexOf(t)?tt:t}));var o="keep-all"===e.wordBreak?r.map(function(e,A){return e&&t[A]>=19968&&t[A]<=40959}):void 0;return[i,n,o]},yt=function(){function t(t,e,A,i){this.codePoints=t,this.required="!"===e,this.start=A,this.end=i}return t.prototype.slice=function(){return d.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),Ct=45,wt=43,bt=-1,It=function(t){return t>=48&&t<=57},xt=function(t){return It(t)||t>=65&&t<=70||t>=97&&t<=102},Mt=function(t){return 10===t||9===t||32===t},St=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},_t=function(t){return St(t)||It(t)||t===Ct},Qt=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},Ft=function(t,e){return 92===t&&10!==e},Et=function(t,e,A){return t===Ct?St(e)||Ft(e,A):!!St(t)||!(92!==t||!Ft(t,e))},Ut=function(t,e,A){return t===wt||t===Ct?!!It(e)||46===e&&It(A):It(46===t?e:t)},Dt=function(t){var e=0,A=1;t[e]!==wt&&t[e]!==Ct||(t[e]===Ct&&(A=-1),e++);for(var i=[];It(t[e]);)i.push(t[e++]);var n=i.length?parseInt(d.apply(void 0,i),10):0;46===t[e]&&e++;for(var r=[];It(t[e]);)r.push(t[e++]);var o=r.length,s=o?parseInt(d.apply(void 0,r),10):0;69!==t[e]&&101!==t[e]||e++;var a=1;t[e]!==wt&&t[e]!==Ct||(t[e]===Ct&&(a=-1),e++);for(var c=[];It(t[e]);)c.push(t[e++]);var l=c.length?parseInt(d.apply(void 0,c),10):0;return A*(n+s*Math.pow(10,-o))*Math.pow(10,a*l)},Tt={type:2},kt={type:3},Ot={type:4},Lt={type:13},Ht={type:8},jt={type:21},Pt={type:9},Nt={type:10},Rt={type:11},zt={type:12},Gt={type:14},Kt={type:23},Yt={type:1},Wt={type:25},Xt={type:24},Vt={type:26},Zt={type:27},Jt={type:28},qt={type:29},$t={type:31},te={type:32},ee=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(f(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==te;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),A=this.peekCodePoint(1),i=this.peekCodePoint(2);if(_t(e)||Ft(A,i)){var n=Et(e,A,i)?2:1;return{type:5,value:this.consumeName(),flags:n}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Lt;break;case 39:return this.consumeStringToken(39);case 40:return Tt;case 41:return kt;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Gt;break;case wt:if(Ut(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return Ot;case Ct:var r=t,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(Ut(r,o,s))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(Et(r,o,s))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(o===Ct&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),Xt;break;case 46:if(Ut(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(42===a&&47===(a=this.consumeCodePoint()))return this.consumeToken();if(a===bt)return this.consumeToken()}break;case 58:return Vt;case 59:return Zt;case 60:if(33===this.peekCodePoint(0)&&this.peekCodePoint(1)===Ct&&this.peekCodePoint(2)===Ct)return this.consumeCodePoint(),this.consumeCodePoint(),Wt;break;case 64:var c=this.peekCodePoint(0),l=this.peekCodePoint(1),u=this.peekCodePoint(2);if(Et(c,l,u))return{type:7,value:this.consumeName()};break;case 91:return Jt;case 92:if(Ft(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return qt;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Ht;break;case 123:return Rt;case 125:return zt;case 117:case 85:var h=this.peekCodePoint(0),g=this.peekCodePoint(1);return h!==wt||!xt(g)&&63!==g||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Pt;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),jt;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),Nt;break;case bt:return te}return Mt(t)?(this.consumeWhiteSpace(),$t):It(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):St(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:d(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();xt(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var A=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),A=!0;if(A)return{type:30,start:parseInt(d.apply(void 0,t.map(function(t){return 63===t?48:t})),16),end:parseInt(d.apply(void 0,t.map(function(t){return 63===t?70:t})),16)};var i=parseInt(d.apply(void 0,t),16);if(this.peekCodePoint(0)===Ct&&xt(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var n=[];xt(e)&&n.length<6;)n.push(e),e=this.consumeCodePoint();return{type:30,start:i,end:parseInt(d.apply(void 0,n),16)}}return{type:30,start:i,end:i}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===bt)return{type:22,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var A=this.consumeStringToken(this.consumeCodePoint());return 0===A.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===bt||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),Kt)}for(;;){var i=this.consumeCodePoint();if(i===bt||41===i)return{type:22,value:d.apply(void 0,t)};if(Mt(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===bt||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:d.apply(void 0,t)}):(this.consumeBadUrlRemnants(),Kt);if(34===i||39===i||40===i||Qt(i))return this.consumeBadUrlRemnants(),Kt;if(92===i){if(!Ft(i,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Kt;t.push(this.consumeEscapedCodePoint())}else t.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Mt(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||t===bt)return;Ft(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var A=Math.min(5e4,t);e+=d.apply(void 0,this._value.splice(0,A)),t-=A}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",A=0;;){var i=this._value[A];if(i===bt||void 0===i||i===t)return{type:0,value:e+=this.consumeStringSlice(A)};if(10===i)return this._value.splice(0,A),Yt;if(92===i){var n=this._value[A+1];n!==bt&&void 0!==n&&(10===n?(e+=this.consumeStringSlice(A),A=-1,this._value.shift()):Ft(i,n)&&(e+=this.consumeStringSlice(A),e+=d(this.consumeEscapedCodePoint()),A=-1))}A++}},t.prototype.consumeNumber=function(){var t=[],e=4,A=this.peekCodePoint(0);for(A!==wt&&A!==Ct||t.push(this.consumeCodePoint());It(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(46===A&&It(i))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;It(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0),i=this.peekCodePoint(1);var n=this.peekCodePoint(2);if((69===A||101===A)&&((i===wt||i===Ct)&&It(n)||It(i)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;It(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[Dt(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],A=t[1],i=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);return Et(i,n,r)?{type:15,number:e,flags:A,unit:this.consumeName()}:37===i?(this.consumeCodePoint(),{type:16,number:e,flags:A}):{type:17,number:e,flags:A}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(xt(t)){for(var e=d(t);xt(this.peekCodePoint(0))&&e.length<6;)e+=d(this.consumeCodePoint());Mt(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(e,16);return 0===A||function(t){return t>=55296&&t<=57343}(A)||A>1114111?65533:A}return t===bt?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(_t(e))t+=d(e);else{if(!Ft(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=d(this.consumeEscapedCodePoint())}}},t}(),Ae=function(){function t(t){this._tokens=t}return t.create=function(e){var A=new ee;return A.write(e),new t(A.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},A=this.consumeToken();;){if(32===A.type||ue(A,t))return e;this.reconsumeToken(A),e.values.push(this.consumeComponentValue()),A=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var A=this.consumeToken();if(32===A.type||3===A.type)return e;this.reconsumeToken(A),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?te:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),ie=function(t){return 15===t.type},ne=function(t){return 17===t.type},re=function(t){return 20===t.type},oe=function(t){return 0===t.type},se=function(t,e){return re(t)&&t.value===e},ae=function(t){return 31!==t.type},ce=function(t){return 31!==t.type&&4!==t.type},le=function(t){var e=[],A=[];return t.forEach(function(t){if(4===t.type){if(0===A.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(A),void(A=[])}31!==t.type&&A.push(t)}),A.length&&e.push(A),e},ue=function(t,e){return 11===e&&12===t.type||(28===e&&29===t.type||2===e&&3===t.type)},he=function(t){return 17===t.type||15===t.type},ge=function(t){return 16===t.type||he(t)},fe=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},de={type:17,number:0,flags:4},pe={type:16,number:50,flags:4},ve={type:16,number:100,flags:4},me=function(t,e,A){var i=t[0],n=t[1];return[Be(i,e),Be(void 0!==n?n:i,A)]},Be=function(t,e){if(16===t.type)return t.number/100*e;if(ie(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},ye="grad",Ce="turn",we=function(t,e){if(15===e.type)switch(e.unit){case"deg":return Math.PI*e.number/180;case ye:return Math.PI/200*e.number;case"rad":return e.number;case Ce:return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},be=function(t){return 15===t.type&&("deg"===t.unit||t.unit===ye||"rad"===t.unit||t.unit===Ce)},Ie=function(t){switch(t.filter(re).map(function(t){return t.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[de,de];case"to top":case"bottom":return xe(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[de,ve];case"to right":case"left":return xe(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[ve,ve];case"to bottom":case"top":return xe(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[ve,de];case"to left":case"right":return xe(270)}return 0},xe=function(t){return Math.PI*t/180},Me=function(t,e){if(18===e.type){var A=Te[e.name];if(void 0===A)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return A(t,e.values)}if(5===e.type){if(3===e.value.length){var i=e.value.substring(0,1),n=e.value.substring(1,2),r=e.value.substring(2,3);return Qe(parseInt(i+i,16),parseInt(n+n,16),parseInt(r+r,16),1)}if(4===e.value.length){i=e.value.substring(0,1),n=e.value.substring(1,2),r=e.value.substring(2,3);var o=e.value.substring(3,4);return Qe(parseInt(i+i,16),parseInt(n+n,16),parseInt(r+r,16),parseInt(o+o,16)/255)}if(6===e.value.length){i=e.value.substring(0,2),n=e.value.substring(2,4),r=e.value.substring(4,6);return Qe(parseInt(i,16),parseInt(n,16),parseInt(r,16),1)}if(8===e.value.length){i=e.value.substring(0,2),n=e.value.substring(2,4),r=e.value.substring(4,6),o=e.value.substring(6,8);return Qe(parseInt(i,16),parseInt(n,16),parseInt(r,16),parseInt(o,16)/255)}}if(20===e.type){var s=Oe[e.value.toUpperCase()];if(void 0!==s)return s}return Oe.TRANSPARENT},Se=function(t){return!(255&t)},_e=function(t){var e=255&t,A=255&t>>8,i=255&t>>16,n=255&t>>24;return e<255?"rgba("+n+","+i+","+A+","+e/255+")":"rgb("+n+","+i+","+A+")"},Qe=function(t,e,A,i){return(t<<24|e<<16|A<<8|Math.round(255*i))>>>0},Fe=function(t,e){if(17===t.type)return t.number;if(16===t.type){var A=3===e?1:255;return 3===e?t.number/100*A:Math.round(t.number/100*A)}return 0},Ee=function(t,e){var A=e.filter(ce);if(3===A.length){var i=A.map(Fe),n=i[0],r=i[1],o=i[2];return Qe(n,r,o,1)}if(4===A.length){var s=A.map(Fe),a=(n=s[0],r=s[1],o=s[2],s[3]);return Qe(n,r,o,a)}return 0};function Ue(t,e,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(e-t)*A*6+t:A<.5?e:A<2/3?6*(e-t)*(2/3-A)+t:t}var De=function(t,e){var A=e.filter(ce),i=A[0],n=A[1],r=A[2],o=A[3],s=(17===i.type?xe(i.number):we(t,i))/(2*Math.PI),a=ge(n)?n.number/100:0,c=ge(r)?r.number/100:0,l=void 0!==o&&ge(o)?Be(o,1):1;if(0===a)return Qe(255*c,255*c,255*c,1);var u=c<=.5?c*(a+1):c+a-c*a,h=2*c-u,g=Ue(h,u,s+1/3),f=Ue(h,u,s),d=Ue(h,u,s-1/3);return Qe(255*g,255*f,255*d,l)},Te={hsl:De,hsla:De,rgb:Ee,rgba:Ee},ke=function(t,e){return Me(t,Ae.create(e).parseComponentValue())},Oe={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Le={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(t){if(re(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},He={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},je=function(t,e){var A=Me(t,e[0]),i=e[1];return i&&ge(i)?{color:A,stop:i}:{color:A,stop:null}},Pe=function(t,e){var A=t[0],i=t[t.length-1];null===A.stop&&(A.stop=de),null===i.stop&&(i.stop=ve);for(var n=[],r=0,o=0;o<t.length;o++){var s=t[o].stop;if(null!==s){var a=Be(s,e);a>r?n.push(a):n.push(r),r=a}else n.push(null)}var c=null;for(o=0;o<n.length;o++){var l=n[o];if(null===l)null===c&&(c=o);else if(null!==c){for(var u=o-c,h=(l-n[c-1])/(u+1),g=1;g<=u;g++)n[c+g-1]=h*g;c=null}}return t.map(function(t,A){return{color:t.color,stop:Math.max(Math.min(1,n[A]/e),0)}})},Ne=function(t,e,A){var i="number"==typeof t?t:function(t,e,A){var i=e/2,n=A/2,r=Be(t[0],e)-i,o=n-Be(t[1],A);return(Math.atan2(o,r)+2*Math.PI)%(2*Math.PI)}(t,e,A),n=Math.abs(e*Math.sin(i))+Math.abs(A*Math.cos(i)),r=e/2,o=A/2,s=n/2,a=Math.sin(i-Math.PI/2)*s,c=Math.cos(i-Math.PI/2)*s;return[n,r-c,r+c,o-a,o+a]},Re=function(t,e){return Math.sqrt(t*t+e*e)},ze=function(t,e,A,i,n){return[[0,0],[0,e],[t,0],[t,e]].reduce(function(t,e){var r=e[0],o=e[1],s=Re(A-r,i-o);return(n?s<t.optimumDistance:s>t.optimumDistance)?{optimumCorner:e,optimumDistance:s}:t},{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},Ge=function(t,e){var A=xe(180),i=[];return le(e).forEach(function(e,n){if(0===n){var r=e[0];if(20===r.type&&-1!==["top","left","right","bottom"].indexOf(r.value))return void(A=Ie(e));if(be(r))return void(A=(we(t,r)+xe(270))%xe(360))}var o=je(t,e);i.push(o)}),{angle:A,stops:i,type:1}},Ke="closest-side",Ye="farthest-side",We="closest-corner",Xe="farthest-corner",Ve="circle",Ze="ellipse",Je="cover",qe="contain",$e=function(t,e){var A=0,i=3,n=[],r=[];return le(e).forEach(function(e,o){var s=!0;if(0===o?s=e.reduce(function(t,e){if(re(e))switch(e.value){case"center":return r.push(pe),!1;case"top":case"left":return r.push(de),!1;case"right":case"bottom":return r.push(ve),!1}else if(ge(e)||he(e))return r.push(e),!1;return t},s):1===o&&(s=e.reduce(function(t,e){if(re(e))switch(e.value){case Ve:return A=0,!1;case Ze:return A=1,!1;case qe:case Ke:return i=0,!1;case Ye:return i=1,!1;case We:return i=2,!1;case Je:case Xe:return i=3,!1}else if(he(e)||ge(e))return Array.isArray(i)||(i=[]),i.push(e),!1;return t},s)),s){var a=je(t,e);n.push(a)}}),{size:i,shape:A,stops:n,position:r,type:2}},tA=function(t,e){if(22===e.type){var A={url:e.value,type:0};return t.cache.addImage(e.value),A}if(18===e.type){var i=iA[e.name];if(void 0===i)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return i(t,e.values)}throw new Error("Unsupported image type "+e.type)};var eA,AA,iA={"linear-gradient":function(t,e){var A=xe(180),i=[];return le(e).forEach(function(e,n){if(0===n){var r=e[0];if(20===r.type&&"to"===r.value)return void(A=Ie(e));if(be(r))return void(A=we(t,r))}var o=je(t,e);i.push(o)}),{angle:A,stops:i,type:1}},"-moz-linear-gradient":Ge,"-ms-linear-gradient":Ge,"-o-linear-gradient":Ge,"-webkit-linear-gradient":Ge,"radial-gradient":function(t,e){var A=0,i=3,n=[],r=[];return le(e).forEach(function(e,o){var s=!0;if(0===o){var a=!1;s=e.reduce(function(t,e){if(a)if(re(e))switch(e.value){case"center":return r.push(pe),t;case"top":case"left":return r.push(de),t;case"right":case"bottom":return r.push(ve),t}else(ge(e)||he(e))&&r.push(e);else if(re(e))switch(e.value){case Ve:return A=0,!1;case Ze:return A=1,!1;case"at":return a=!0,!1;case Ke:return i=0,!1;case Je:case Ye:return i=1,!1;case qe:case We:return i=2,!1;case Xe:return i=3,!1}else if(he(e)||ge(e))return Array.isArray(i)||(i=[]),i.push(e),!1;return t},s)}if(s){var c=je(t,e);n.push(c)}}),{size:i,shape:A,stops:n,position:r,type:2}},"-moz-radial-gradient":$e,"-ms-radial-gradient":$e,"-o-radial-gradient":$e,"-webkit-radial-gradient":$e,"-webkit-gradient":function(t,e){var A=xe(180),i=[],n=1;return le(e).forEach(function(e,A){var r=e[0];if(0===A){if(re(r)&&"linear"===r.value)return void(n=1);if(re(r)&&"radial"===r.value)return void(n=2)}if(18===r.type)if("from"===r.name){var o=Me(t,r.values[0]);i.push({stop:de,color:o})}else if("to"===r.name){o=Me(t,r.values[0]);i.push({stop:ve,color:o})}else if("color-stop"===r.name){var s=r.values.filter(ce);if(2===s.length){o=Me(t,s[1]);var a=s[0];ne(a)&&i.push({stop:{type:16,number:100*a.number,flags:a.flags},color:o})}}}),1===n?{angle:(A+xe(180))%xe(360),stops:i,type:n}:{size:3,shape:0,stops:i,position:[],type:n}}},nA={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var A=e[0];return 20===A.type&&"none"===A.value?[]:e.filter(function(t){return ce(t)&&function(t){return!(20===t.type&&"none"===t.value||18===t.type&&!iA[t.name])}(t)}).map(function(e){return tA(t,e)})}},rA={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(t){if(re(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},oA={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return le(e).map(function(t){return t.filter(ge)}).map(fe)}},sA={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return le(e).map(function(t){return t.filter(re).map(function(t){return t.value}).join(" ")}).map(aA)}},aA=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};(AA=eA||(eA={})).AUTO="auto",AA.CONTAIN="contain",AA.COVER="cover";var cA,lA,uA={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return le(e).map(function(t){return t.filter(hA)})}},hA=function(t){return re(t)||ge(t)},gA=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},fA=gA("top"),dA=gA("right"),pA=gA("bottom"),vA=gA("left"),mA=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return fe(e.filter(ge))}}},BA=mA("top-left"),yA=mA("top-right"),CA=mA("bottom-right"),wA=mA("bottom-left"),bA=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},IA=bA("top"),xA=bA("right"),MA=bA("bottom"),SA=bA("left"),_A=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return ie(e)?e.number:0}}},QA=_A("top"),FA=_A("right"),EA=_A("bottom"),UA=_A("left"),DA={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},TA={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return"rtl"===e?1:0}},kA={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(re).reduce(function(t,e){return t|OA(e.value)},0)}},OA=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},LA={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},HA={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};(lA=cA||(cA={})).NORMAL="normal",lA.STRICT="strict";var jA,PA,NA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"strict"===e?cA.STRICT:cA.NORMAL}},RA={name:"line-height",initialValue:"normal",prefix:!1,type:4},zA=function(t,e){return re(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:ge(t)?Be(t,e):e},GA={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:tA(t,e)}},KA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return"inside"===e?0:1}},YA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},WA=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},XA=WA("top"),VA=WA("right"),ZA=WA("bottom"),JA=WA("left"),qA={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(re).map(function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},$A={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return"break-word"===e?"break-word":"normal"}},ti=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},ei=ti("top"),Ai=ti("right"),ii=ti("bottom"),ni=ti("left"),ri={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},oi={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},si={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&se(e[0],"none")?[]:le(e).map(function(e){for(var A={color:Oe.TRANSPARENT,offsetX:de,offsetY:de,blur:de},i=0,n=0;n<e.length;n++){var r=e[n];he(r)?(0===i?A.offsetX=r:1===i?A.offsetY=r:A.blur=r,i++):A.color=Me(t,r)}return A})}},ai={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},ci={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var A=li[e.name];if(void 0===A)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return A(e.values)}return null}},li={matrix:function(t){var e=t.filter(function(t){return 17===t.type}).map(function(t){return t.number});return 6===e.length?e:null},matrix3d:function(t){var e=t.filter(function(t){return 17===t.type}).map(function(t){return t.number}),A=e[0],i=e[1];e[2],e[3];var n=e[4],r=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],s=e[13];return e[14],e[15],16===e.length?[A,i,n,r,o,s]:null}},ui={type:16,number:50,flags:4},hi=[ui,ui],gi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var A=e.filter(ge);return 2!==A.length?hi:[A[0],A[1]]}},fi={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}};(PA=jA||(jA={})).NORMAL="normal",PA.BREAK_ALL="break-all",PA.KEEP_ALL="keep-all";for(var di={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return jA.BREAK_ALL;case"keep-all":return jA.KEEP_ALL;default:return jA.NORMAL}}},pi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if(ne(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},vi=function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")},mi={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return ne(e)?e.number:1}},Bi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},yi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(re).map(function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(t){return 0!==t})}},Ci={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var A=[],i=[];return e.forEach(function(t){switch(t.type){case 20:case 0:A.push(t.value);break;case 17:A.push(t.number.toString());break;case 4:i.push(A.join(" ")),A.length=0}}),A.length&&i.push(A.join(" ")),i.map(function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"})}},wi={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},bi={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return ne(e)?e.number:re(e)&&"bold"===e.value?700:400}},Ii={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(re).map(function(t){return t.value})}},xi={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},Mi=function(t,e){return 0!==(t&e)},Si={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var A=e[0];return 20===A.type&&"none"===A.value?[]:e}},_i={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var A=e[0];if(20===A.type&&"none"===A.value)return null;for(var i=[],n=e.filter(ae),r=0;r<n.length;r++){var o=n[r],s=n[r+1];if(20===o.type){var a=s&&ne(s)?s.number:1;i.push({counter:o.value,increment:a})}}return i}},Qi={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var A=[],i=e.filter(ae),n=0;n<i.length;n++){var r=i[n],o=i[n+1];if(re(r)&&"none"!==r.value){var s=o&&ne(o)?o.number:0;A.push({counter:r.value,reset:s})}}return A}},Fi={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(ie).map(function(e){return vi(t,e)})}},Ei={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var A=e[0];if(20===A.type&&"none"===A.value)return null;var i=[],n=e.filter(oe);if(n.length%2!=0)return null;for(var r=0;r<n.length;r+=2){var o=n[r].value,s=n[r+1].value;i.push({open:o,close:s})}return i}},Ui=function(t,e,A){if(!t)return"";var i=t[Math.min(e,t.length-1)];return i?A?i.open:i.close:""},Di={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&se(e[0],"none")?[]:le(e).map(function(e){for(var A={color:255,offsetX:de,offsetY:de,blur:de,spread:de,inset:!1},i=0,n=0;n<e.length;n++){var r=e[n];se(r,"inset")?A.inset=!0:he(r)?(0===i?A.offsetX=r:1===i?A.offsetY=r:2===i?A.blur=r:A.spread=r,i++):A.color=Me(t,r)}return A})}},Ti={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var A=[];return e.filter(re).forEach(function(t){switch(t.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2)}}),[0,1,2].forEach(function(t){-1===A.indexOf(t)&&A.push(t)}),A}},ki={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Oi={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return ie(e)?e.number:0}},Li=function(){function t(t,e){var A,i;this.animationDuration=Pi(t,Fi,e.animationDuration),this.backgroundClip=Pi(t,Le,e.backgroundClip),this.backgroundColor=Pi(t,He,e.backgroundColor),this.backgroundImage=Pi(t,nA,e.backgroundImage),this.backgroundOrigin=Pi(t,rA,e.backgroundOrigin),this.backgroundPosition=Pi(t,oA,e.backgroundPosition),this.backgroundRepeat=Pi(t,sA,e.backgroundRepeat),this.backgroundSize=Pi(t,uA,e.backgroundSize),this.borderTopColor=Pi(t,fA,e.borderTopColor),this.borderRightColor=Pi(t,dA,e.borderRightColor),this.borderBottomColor=Pi(t,pA,e.borderBottomColor),this.borderLeftColor=Pi(t,vA,e.borderLeftColor),this.borderTopLeftRadius=Pi(t,BA,e.borderTopLeftRadius),this.borderTopRightRadius=Pi(t,yA,e.borderTopRightRadius),this.borderBottomRightRadius=Pi(t,CA,e.borderBottomRightRadius),this.borderBottomLeftRadius=Pi(t,wA,e.borderBottomLeftRadius),this.borderTopStyle=Pi(t,IA,e.borderTopStyle),this.borderRightStyle=Pi(t,xA,e.borderRightStyle),this.borderBottomStyle=Pi(t,MA,e.borderBottomStyle),this.borderLeftStyle=Pi(t,SA,e.borderLeftStyle),this.borderTopWidth=Pi(t,QA,e.borderTopWidth),this.borderRightWidth=Pi(t,FA,e.borderRightWidth),this.borderBottomWidth=Pi(t,EA,e.borderBottomWidth),this.borderLeftWidth=Pi(t,UA,e.borderLeftWidth),this.boxShadow=Pi(t,Di,e.boxShadow),this.color=Pi(t,DA,e.color),this.direction=Pi(t,TA,e.direction),this.display=Pi(t,kA,e.display),this.float=Pi(t,LA,e.cssFloat),this.fontFamily=Pi(t,Ci,e.fontFamily),this.fontSize=Pi(t,wi,e.fontSize),this.fontStyle=Pi(t,xi,e.fontStyle),this.fontVariant=Pi(t,Ii,e.fontVariant),this.fontWeight=Pi(t,bi,e.fontWeight),this.letterSpacing=Pi(t,HA,e.letterSpacing),this.lineBreak=Pi(t,NA,e.lineBreak),this.lineHeight=Pi(t,RA,e.lineHeight),this.listStyleImage=Pi(t,GA,e.listStyleImage),this.listStylePosition=Pi(t,KA,e.listStylePosition),this.listStyleType=Pi(t,YA,e.listStyleType),this.marginTop=Pi(t,XA,e.marginTop),this.marginRight=Pi(t,VA,e.marginRight),this.marginBottom=Pi(t,ZA,e.marginBottom),this.marginLeft=Pi(t,JA,e.marginLeft),this.opacity=Pi(t,mi,e.opacity);var n=Pi(t,qA,e.overflow);this.overflowX=n[0],this.overflowY=n[n.length>1?1:0],this.overflowWrap=Pi(t,$A,e.overflowWrap),this.paddingTop=Pi(t,ei,e.paddingTop),this.paddingRight=Pi(t,Ai,e.paddingRight),this.paddingBottom=Pi(t,ii,e.paddingBottom),this.paddingLeft=Pi(t,ni,e.paddingLeft),this.paintOrder=Pi(t,Ti,e.paintOrder),this.position=Pi(t,oi,e.position),this.textAlign=Pi(t,ri,e.textAlign),this.textDecorationColor=Pi(t,Bi,null!==(A=e.textDecorationColor)&&void 0!==A?A:e.color),this.textDecorationLine=Pi(t,yi,null!==(i=e.textDecorationLine)&&void 0!==i?i:e.textDecoration),this.textShadow=Pi(t,si,e.textShadow),this.textTransform=Pi(t,ai,e.textTransform),this.transform=Pi(t,ci,e.transform),this.transformOrigin=Pi(t,gi,e.transformOrigin),this.visibility=Pi(t,fi,e.visibility),this.webkitTextStrokeColor=Pi(t,ki,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=Pi(t,Oi,e.webkitTextStrokeWidth),this.wordBreak=Pi(t,di,e.wordBreak),this.zIndex=Pi(t,pi,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return Se(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return Mi(this.display,4)||Mi(this.display,33554432)||Mi(this.display,268435456)||Mi(this.display,536870912)||Mi(this.display,67108864)||Mi(this.display,134217728)},t}(),Hi=function(t,e){this.content=Pi(t,Si,e.content),this.quotes=Pi(t,Ei,e.quotes)},ji=function(t,e){this.counterIncrement=Pi(t,_i,e.counterIncrement),this.counterReset=Pi(t,Qi,e.counterReset)},Pi=function(t,e,A){var i=new ee,n=null!=A?A.toString():e.initialValue;i.write(n);var r=new Ae(i.read());switch(e.type){case 2:var o=r.parseComponentValue();return e.parse(t,re(o)?o.value:e.initialValue);case 0:return e.parse(t,r.parseComponentValue());case 1:return e.parse(t,r.parseComponentValues());case 4:return r.parseComponentValue();case 3:switch(e.format){case"angle":return we(t,r.parseComponentValue());case"color":return Me(t,r.parseComponentValue());case"image":return tA(t,r.parseComponentValue());case"length":var s=r.parseComponentValue();return he(s)?s:de;case"length-percentage":var a=r.parseComponentValue();return ge(a)?a:de;case"time":return vi(t,r.parseComponentValue())}}},Ni=function(t,e){var A=function(t){switch(t.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(t);return 1===A||e===A},Ri=function(t,e){this.context=t,this.textNodes=[],this.elements=[],this.flags=0,Ni(e,3),this.styles=new Li(t,window.getComputedStyle(e,null)),Xn(e)&&(this.styles.animationDuration.some(function(t){return t>0})&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=g(this.context,e),Ni(e,4)&&(this.flags|=16)},zi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Gi="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Ki=0;Ki<64;Ki++)Gi[zi.charCodeAt(Ki)]=Ki;for(var Yi=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},Wi=function(){function t(t,e,A,i,n,r){this.initialValue=t,this.errorValue=e,this.highStart=A,this.highValueIndex=i,this.index=n,this.data=r}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),Xi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vi="undefined"==typeof Uint8Array?[]:new Uint8Array(256),Zi=0;Zi<64;Zi++)Vi[Xi.charCodeAt(Zi)]=Zi;var Ji,qi,$i=8,tn=9,en=11,An=12,nn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var i=[],n=-1,r="";++n<A;){var o=t[n];o<=65535?i.push(o):(o-=65536,i.push(55296+(o>>10),o%1024+56320)),(n+1===A||i.length>16384)&&(r+=String.fromCharCode.apply(String,i),i.length=0)}return r},rn=function(t){var e=function(t){var e,A,i,n,r,o=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),l=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)A=Gi[t.charCodeAt(e)],i=Gi[t.charCodeAt(e+1)],n=Gi[t.charCodeAt(e+2)],r=Gi[t.charCodeAt(e+3)],l[a++]=A<<2|i>>4,l[a++]=(15&i)<<4|n>>2,l[a++]=(3&n)<<6|63&r;return c}(t),A=Array.isArray(e)?function(t){for(var e=t.length,A=[],i=0;i<e;i+=4)A.push(t[i+3]<<24|t[i+2]<<16|t[i+1]<<8|t[i]);return A}(e):new Uint32Array(e),i=Array.isArray(e)?function(t){for(var e=t.length,A=[],i=0;i<e;i+=2)A.push(t[i+1]<<8|t[i]);return A}(e):new Uint16Array(e),n=Yi(i,12,A[4]/2),r=2===A[5]?Yi(i,(24+A[4])/2):function(t,e,A){return t.slice?t.slice(e,A):new Uint32Array(Array.prototype.slice.call(t,e,A))}(A,Math.ceil((24+A[4])/4));return new Wi(A[0],A[1],A[2],A[3],n,r)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),on="",sn=function(t){return rn.get(t)},an=function(t,e,A){var i=A-2,n=e[i],r=e[A-1],o=e[A];if(2===r&&3===o)return on;if(2===r||3===r||4===r)return"";if(2===o||3===o||4===o)return"";if(r===$i&&-1!==[$i,tn,en,An].indexOf(o))return on;if(!(r!==en&&r!==tn||o!==tn&&10!==o))return on;if((r===An||10===r)&&10===o)return on;if(13===o||5===o)return on;if(7===o)return on;if(1===r)return on;if(13===r&&14===o){for(;5===n;)n=e[--i];if(14===n)return on}if(15===r&&15===o){for(var s=0;15===n;)s++,n=e[--i];if(s%2==0)return on}return""},cn=function(t){var e=function(t){for(var e=[],A=0,i=t.length;A<i;){var n=t.charCodeAt(A++);if(n>=55296&&n<=56319&&A<i){var r=t.charCodeAt(A++);56320==(64512&r)?e.push(((1023&n)<<10)+(1023&r)+65536):(e.push(n),A--)}else e.push(n)}return e}(t),A=e.length,i=0,n=0,r=e.map(sn);return{next:function(){if(i>=A)return{done:!0,value:null};for(var t=on;i<A&&(t=an(0,r,++i))===on;);if(t!==on||i===A){var o=nn.apply(null,e.slice(n,i));return n=i,{value:o,done:!1}}return{done:!0,value:null}}}},ln=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},un=function(t,e,A,i,n){var r="http://www.w3.org/2000/svg",o=document.createElementNS(r,"svg"),s=document.createElementNS(r,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",A.toString()),s.setAttributeNS(null,"y",i.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(n),o},hn=function(t){return new Promise(function(e,A){var i=new Image;i.onload=function(){return e(i)},i.onerror=A,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},gn={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var A=t.createElement("boundtest");A.style.height="123px",A.style.display="block",t.body.appendChild(A),e.selectNode(A);var i=e.getBoundingClientRect(),n=Math.round(i.height);if(t.body.removeChild(A),123===n)return!0}}return!1}(document);return Object.defineProperty(gn,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=gn.SUPPORT_RANGE_BOUNDS&&function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var A=t.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var i=e.firstChild,n=f(i.data).map(function(t){return d(t)}),r=0,o={},s=n.every(function(t,e){A.setStart(i,r),A.setEnd(i,r+t.length);var n=A.getBoundingClientRect();r+=t.length;var s=n.x>o.x||n.y>o.y;return o=n,0===e||s});return t.body.removeChild(e),s}(document);return Object.defineProperty(gn,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,A=t.createElement("canvas"),i=A.getContext("2d");if(!i)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{i.drawImage(e,0,0),A.toDataURL()}catch(n){return!1}return!0}(document);return Object.defineProperty(gn,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas"),A=100;e.width=A,e.height=A;var i=e.getContext("2d");if(!i)return Promise.reject(!1);i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,A,A);var n=new Image,r=e.toDataURL();n.src=r;var o=un(A,A,0,0,n);return i.fillStyle="red",i.fillRect(0,0,A,A),hn(o).then(function(e){i.drawImage(e,0,0);var n=i.getImageData(0,0,A,A).data;i.fillStyle="red",i.fillRect(0,0,A,A);var o=t.createElement("div");return o.style.backgroundImage="url("+r+")",o.style.height=A+"px",ln(n)?hn(un(A,A,0,0,o)):Promise.reject(!1)}).then(function(t){return i.drawImage(t,0,0),ln(i.getImageData(0,0,A,A).data)}).catch(function(){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(gn,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(gn,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(gn,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(gn,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(gn,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},fn=function(t,e){this.text=t,this.bounds=e},dn=function(t,e){var A=e.ownerDocument;if(A){var i=A.createElement("html2canvaswrapper");i.appendChild(e.cloneNode(!0));var n=e.parentNode;if(n){n.replaceChild(i,e);var r=g(t,i);return i.firstChild&&n.replaceChild(i.firstChild,i),r}}return h.EMPTY},pn=function(t,e,A){var i=t.ownerDocument;if(!i)throw new Error("Node has no owner document");var n=i.createRange();return n.setStart(t,e),n.setEnd(t,e+A),n},vn=function(t){if(gn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(t){return t.segment})}return function(t){for(var e,A=cn(t),i=[];!(e=A.next()).done;)e.value&&i.push(e.value.slice());return i}(t)},mn=function(t,e){return 0!==e.letterSpacing?vn(t):function(t,e){if(gn.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(t)).map(function(t){return t.segment})}return yn(t,e)}(t,e)},Bn=[32,160,4961,65792,65793,4153,4241],yn=function(t,e){for(var A,i=function(t,e){var A=f(t),i=Bt(A,e),n=i[0],r=i[1],o=i[2],s=A.length,a=0,c=0;return{next:function(){if(c>=s)return{done:!0,value:null};for(var t=ot;c<s&&(t=mt(A,r,n,++c,o))===ot;);if(t!==ot||c===s){var e=new yt(A,t,a,c);return a=c,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),n=[],r=function(){if(A.value){var t=A.value.slice(),e=f(t),i="";e.forEach(function(t){-1===Bn.indexOf(t)?i+=d(t):(i.length&&n.push(i),n.push(d(t)),i="")}),i.length&&n.push(i)}};!(A=i.next()).done;)r();return n},Cn=function(t,e,A){this.text=wn(e.data,A.textTransform),this.textBounds=function(t,e,A,i){var n=mn(e,A),r=[],o=0;return n.forEach(function(e){if(A.textDecorationLine.length||e.trim().length>0)if(gn.SUPPORT_RANGE_BOUNDS){var n=pn(i,o,e.length).getClientRects();if(n.length>1){var s=vn(e),a=0;s.forEach(function(e){r.push(new fn(e,h.fromDOMRectList(t,pn(i,a+o,e.length).getClientRects()))),a+=e.length})}else r.push(new fn(e,h.fromDOMRectList(t,n)))}else{var c=i.splitText(e.length);r.push(new fn(e,dn(t,i))),i=c}else gn.SUPPORT_RANGE_BOUNDS||(i=i.splitText(e.length));o+=e.length}),r}(t,this.text,A,e)},wn=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(bn,In);case 2:return t.toUpperCase();default:return t}},bn=/(^|\s|:|-|\(|\))([a-z])/g,In=function(t,e,A){return t.length>0?e+A.toUpperCase():t},xn=function(t){function e(e,A){var i=t.call(this,e,A)||this;return i.src=A.currentSrc||A.src,i.intrinsicWidth=A.naturalWidth,i.intrinsicHeight=A.naturalHeight,i.context.cache.addImage(i.src),i}return a(e,t),e}(Ri),Mn=function(t){function e(e,A){var i=t.call(this,e,A)||this;return i.canvas=A,i.intrinsicWidth=A.width,i.intrinsicHeight=A.height,i}return a(e,t),e}(Ri),Sn=function(t){function e(e,A){var i=t.call(this,e,A)||this,n=new XMLSerializer,r=g(e,A);return A.setAttribute("width",r.width+"px"),A.setAttribute("height",r.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(n.serializeToString(A)),i.intrinsicWidth=A.width.baseVal.value,i.intrinsicHeight=A.height.baseVal.value,i.context.cache.addImage(i.svg),i}return a(e,t),e}(Ri),_n=function(t){function e(e,A){var i=t.call(this,e,A)||this;return i.value=A.value,i}return a(e,t),e}(Ri),Qn=function(t){function e(e,A){var i=t.call(this,e,A)||this;return i.start=A.start,i.reversed="boolean"==typeof A.reversed&&!0===A.reversed,i}return a(e,t),e}(Ri),Fn=[{type:15,flags:0,unit:"px",number:3}],En=[{type:16,flags:0,number:50}],Un="checkbox",Dn="radio",Tn="password",kn=707406591,On=function(t){function e(e,A){var i,n,r,o=t.call(this,e,A)||this;switch(o.type=A.type.toLowerCase(),o.checked=A.checked,o.value=0===(n=(i=A).type===Tn?new Array(i.value.length+1).join(""):i.value).length?i.placeholder||"":n,o.type!==Un&&o.type!==Dn||(o.styles.backgroundColor=3739148031,o.styles.borderTopColor=o.styles.borderRightColor=o.styles.borderBottomColor=o.styles.borderLeftColor=2779096575,o.styles.borderTopWidth=o.styles.borderRightWidth=o.styles.borderBottomWidth=o.styles.borderLeftWidth=1,o.styles.borderTopStyle=o.styles.borderRightStyle=o.styles.borderBottomStyle=o.styles.borderLeftStyle=1,o.styles.backgroundClip=[0],o.styles.backgroundOrigin=[0],o.bounds=(r=o.bounds).width>r.height?new h(r.left+(r.width-r.height)/2,r.top,r.height,r.height):r.width<r.height?new h(r.left,r.top+(r.height-r.width)/2,r.width,r.width):r),o.type){case Un:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=Fn;break;case Dn:o.styles.borderTopRightRadius=o.styles.borderTopLeftRadius=o.styles.borderBottomRightRadius=o.styles.borderBottomLeftRadius=En}return o}return a(e,t),e}(Ri),Ln=function(t){function e(e,A){var i=t.call(this,e,A)||this,n=A.options[A.selectedIndex||0];return i.value=n&&n.text||"",i}return a(e,t),e}(Ri),Hn=function(t){function e(e,A){var i=t.call(this,e,A)||this;return i.value=A.value,i}return a(e,t),e}(Ri),jn=function(t){function e(e,A){var i=t.call(this,e,A)||this;i.src=A.src,i.width=parseInt(A.width,10)||0,i.height=parseInt(A.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){i.tree=zn(e,A.contentWindow.document.documentElement);var n=A.contentWindow.document.documentElement?ke(e,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):Oe.TRANSPARENT,r=A.contentWindow.document.body?ke(e,getComputedStyle(A.contentWindow.document.body).backgroundColor):Oe.TRANSPARENT;i.backgroundColor=Se(n)?Se(r)?i.styles.backgroundColor:r:n}}catch(o){}return i}return a(e,t),e}(Ri),Pn=["OL","UL","MENU"],Nn=function(t,e,A,i){for(var n=e.firstChild,r=void 0;n;n=r)if(r=n.nextSibling,Yn(n)&&n.data.trim().length>0)A.textNodes.push(new Cn(t,n,A.styles));else if(Wn(n))if(ar(n)&&n.assignedNodes)n.assignedNodes().forEach(function(e){return Nn(t,e,A,i)});else{var o=Rn(t,n);o.styles.isVisible()&&(Gn(n,o,i)?o.flags|=4:Kn(o.styles)&&(o.flags|=2),-1!==Pn.indexOf(n.tagName)&&(o.flags|=8),A.elements.push(o),n.slot,n.shadowRoot?Nn(t,n.shadowRoot,o,i):or(n)||$n(n)||sr(n)||Nn(t,n,o,i))}},Rn=function(t,e){return ir(e)?new xn(t,e):er(e)?new Mn(t,e):$n(e)?new Sn(t,e):Zn(e)?new _n(t,e):Jn(e)?new Qn(t,e):qn(e)?new On(t,e):sr(e)?new Ln(t,e):or(e)?new Hn(t,e):nr(e)?new jn(t,e):new Ri(t,e)},zn=function(t,e){var A=Rn(t,e);return A.flags|=4,Nn(t,e,A,A),A},Gn=function(t,e,A){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||tr(t)&&A.styles.isTransparent()},Kn=function(t){return t.isPositioned()||t.isFloating()},Yn=function(t){return t.nodeType===Node.TEXT_NODE},Wn=function(t){return t.nodeType===Node.ELEMENT_NODE},Xn=function(t){return Wn(t)&&void 0!==t.style&&!Vn(t)},Vn=function(t){return"object"==typeof t.className},Zn=function(t){return"LI"===t.tagName},Jn=function(t){return"OL"===t.tagName},qn=function(t){return"INPUT"===t.tagName},$n=function(t){return"svg"===t.tagName},tr=function(t){return"BODY"===t.tagName},er=function(t){return"CANVAS"===t.tagName},Ar=function(t){return"VIDEO"===t.tagName},ir=function(t){return"IMG"===t.tagName},nr=function(t){return"IFRAME"===t.tagName},rr=function(t){return"STYLE"===t.tagName},or=function(t){return"TEXTAREA"===t.tagName},sr=function(t){return"SELECT"===t.tagName},ar=function(t){return"SLOT"===t.tagName},cr=function(t){return t.tagName.indexOf("-")>0},lr=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach(function(t){return e.counters[t].pop()})},t.prototype.parse=function(t){var e=this,A=t.counterIncrement,i=t.counterReset,n=!0;null!==A&&A.forEach(function(t){var A=e.counters[t.counter];A&&0!==t.increment&&(n=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=t.increment)});var r=[];return n&&i.forEach(function(t){var A=e.counters[t.counter];r.push(t.counter),A||(A=e.counters[t.counter]=[]),A.push(t.reset)}),r},t}(),ur={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},hr={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},gr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},fr={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},dr=function(t,e,A,i,n,r){return t<e||t>A?Ir(t,n,r.length>0):i.integers.reduce(function(e,A,n){for(;t>=A;)t-=A,e+=i.values[n];return e},"")+r},pr=function(t,e,A,i){var n="";do{A||t--,n=i(t)+n,t/=e}while(t*e>=e);return n},vr=function(t,e,A,i,n){var r=A-e+1;return(t<0?"-":"")+(pr(Math.abs(t),r,i,function(t){return d(Math.floor(t%r)+e)})+n)},mr=function(t,e,A){void 0===A&&(A=". ");var i=e.length;return pr(Math.abs(t),i,!1,function(t){return e[Math.floor(t%i)]})+A},Br=function(t,e,A,i,n,r){if(t<-9999||t>9999)return Ir(t,4,n.length>0);var o=Math.abs(t),s=n;if(0===o)return e[0]+s;for(var a=0;o>0&&a<=4;a++){var c=o%10;0===c&&Mi(r,1)&&""!==s?s=e[c]+s:c>1||1===c&&0===a||1===c&&1===a&&Mi(r,2)||1===c&&1===a&&Mi(r,4)&&t>100||1===c&&a>1&&Mi(r,8)?s=e[c]+(a>0?A[a-1]:"")+s:1===c&&a>0&&(s=A[a-1]+s),o=Math.floor(o/10)}return(t<0?i:"")+s},yr="",Cr="",wr="",br="",Ir=function(t,e,A){var i=A?". ":"",n=A?"":"",r=A?", ":"",o=A?" ":"";switch(e){case 0:return""+o;case 1:return""+o;case 2:return""+o;case 5:var s=vr(t,48,57,!0,i);return s.length<4?"0"+s:s;case 4:return mr(t,"",n);case 6:return dr(t,1,3999,ur,3,i).toLowerCase();case 7:return dr(t,1,3999,ur,3,i);case 8:return vr(t,945,969,!1,i);case 9:return vr(t,97,122,!1,i);case 10:return vr(t,65,90,!1,i);case 11:return vr(t,1632,1641,!0,i);case 12:case 49:return dr(t,1,9999,hr,3,i);case 35:return dr(t,1,9999,hr,3,i).toLowerCase();case 13:return vr(t,2534,2543,!0,i);case 14:case 30:return vr(t,6112,6121,!0,i);case 15:return mr(t,"",n);case 16:return mr(t,"",n);case 17:case 48:return Br(t,"",yr,"",n,14);case 47:return Br(t,"",Cr,"",n,15);case 42:return Br(t,"",yr,"",n,14);case 41:return Br(t,"",Cr,"",n,15);case 26:return Br(t,"","",wr,n,0);case 25:return Br(t,"","",wr,n,7);case 31:return Br(t,"","",br,r,7);case 33:return Br(t,"","",br,r,0);case 32:return Br(t,"","",br,r,7);case 18:return vr(t,2406,2415,!0,i);case 20:return dr(t,1,19999,fr,3,i);case 21:return vr(t,2790,2799,!0,i);case 22:return vr(t,2662,2671,!0,i);case 22:return dr(t,1,10999,gr,3,i);case 23:return mr(t,"");case 24:return mr(t,"");case 27:return vr(t,3302,3311,!0,i);case 28:return mr(t,"",n);case 29:return mr(t,"",n);case 34:return vr(t,3792,3801,!0,i);case 37:return vr(t,6160,6169,!0,i);case 38:return vr(t,4160,4169,!0,i);case 39:return vr(t,2918,2927,!0,i);case 40:return vr(t,1776,1785,!0,i);case 43:return vr(t,3046,3055,!0,i);case 44:return vr(t,3174,3183,!0,i);case 45:return vr(t,3664,3673,!0,i);case 46:return vr(t,3872,3881,!0,i);default:return vr(t,48,57,!0,i)}},xr="data-html2canvas-ignore",Mr=function(){function t(t,e,A){if(this.context=t,this.options=A,this.scrolledElements=[],this.referenceElement=e,this.counters=new lr,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var A=this,i=Qr(t,e);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var n=t.defaultView.pageXOffset,r=t.defaultView.pageYOffset,o=i.contentWindow,s=o.document,a=Ur(i).then(function(){return l(A,void 0,void 0,function(){var t,A;return u(this,function(n){switch(n.label){case 0:return this.scrolledElements.forEach(Lr),o&&(o.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||o.scrollY===e.top&&o.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-e.left,o.scrollY-e.top,0,0))),t=this.options.onclone,void 0===(A=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:s.fonts&&s.fonts.ready?[4,s.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Er(s)]:[3,4];case 3:n.sent(),n.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then(function(){return t(s,A)}).then(function(){return i})]:[2,i]}})})});return s.open(),s.write(kr(document.doctype)+"<html></html>"),Or(this.referenceElement.ownerDocument,n,r),s.replaceChild(s.adoptNode(this.documentElement),s.documentElement),s.close(),a},t.prototype.createElementClone=function(t){if(Ni(t,2),er(t))return this.createCanvasClone(t);if(Ar(t))return this.createVideoClone(t);if(rr(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return ir(e)&&(ir(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),cr(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return Tr(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var A=[].slice.call(e.cssRules,0).reduce(function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t},""),i=t.cloneNode(!1);return i.textContent=A,i}}catch(n){if(this.context.logger.error("Unable to access cssRules property",n),"SecurityError"!==n.name)throw n}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var A=t.ownerDocument.createElement("img");try{return A.src=t.toDataURL(),A}catch(a){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var i=t.cloneNode(!1);try{i.width=t.width,i.height=t.height;var n=t.getContext("2d"),r=i.getContext("2d");if(r)if(!this.options.allowTaint&&n)r.putImageData(n.getImageData(0,0,t.width,t.height),0,0);else{var o=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}r.drawImage(t,0,0)}return i}catch(a){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return i},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var A=e.getContext("2d");try{return A&&(A.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||A.getImageData(0,0,e.width,e.height)),e}catch(n){this.context.logger.info("Unable to clone video as it is tainted",t)}var i=t.ownerDocument.createElement("canvas");return i.width=t.offsetWidth,i.height=t.offsetHeight,i},t.prototype.appendChildNode=function(t,e,A){Wn(e)&&("SCRIPT"===e.tagName||e.hasAttribute(xr)||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&Wn(e)&&rr(e)||t.appendChild(this.cloneNode(e,A))},t.prototype.cloneChildNodes=function(t,e,A){for(var i=this,n=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;n;n=n.nextSibling)if(Wn(n)&&ar(n)&&"function"==typeof n.assignedNodes){var r=n.assignedNodes();r.length&&r.forEach(function(t){return i.appendChildNode(e,t,A)})}else this.appendChildNode(e,n,A)},t.prototype.cloneNode=function(t,e){if(Yn(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var A=t.ownerDocument.defaultView;if(A&&Wn(t)&&(Xn(t)||Vn(t))){var i=this.createElementClone(t);i.style.transitionProperty="none";var n=A.getComputedStyle(t),r=A.getComputedStyle(t,":before"),o=A.getComputedStyle(t,":after");this.referenceElement===t&&Xn(i)&&(this.clonedReferenceElement=i),tr(i)&&Nr(i);var s=this.counters.parse(new ji(this.context,n)),a=this.resolvePseudoContent(t,i,r,Ji.BEFORE);cr(t)&&(e=!0),Ar(t)||this.cloneChildNodes(t,i,e),a&&i.insertBefore(a,i.firstChild);var c=this.resolvePseudoContent(t,i,o,Ji.AFTER);return c&&i.appendChild(c),this.counters.pop(s),(n&&(this.options.copyStyles||Vn(t))&&!nr(t)||e)&&Tr(n,i),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([i,t.scrollLeft,t.scrollTop]),(or(t)||sr(t))&&(or(i)||sr(i))&&(i.value=t.value),i}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,A,i){var n=this;if(A){var r=A.content,o=e.ownerDocument;if(o&&r&&"none"!==r&&"-moz-alt-content"!==r&&"none"!==A.display){this.counters.parse(new ji(this.context,A));var s=new Hi(this.context,A),a=o.createElement("html2canvaspseudoelement");Tr(A,a),s.content.forEach(function(e){if(0===e.type)a.appendChild(o.createTextNode(e.value));else if(22===e.type){var A=o.createElement("img");A.src=e.value,A.style.opacity="1",a.appendChild(A)}else if(18===e.type){if("attr"===e.name){var i=e.values.filter(re);i.length&&a.appendChild(o.createTextNode(t.getAttribute(i[0].value)||""))}else if("counter"===e.name){var r=e.values.filter(ce),c=r[0],l=r[1];if(c&&re(c)){var u=n.counters.getCounterValue(c.value),h=l&&re(l)?YA.parse(n.context,l.value):3;a.appendChild(o.createTextNode(Ir(u,h,!1)))}}else if("counters"===e.name){var g=e.values.filter(ce),f=(c=g[0],g[1]);l=g[2];if(c&&re(c)){var d=n.counters.getCounterValues(c.value),p=l&&re(l)?YA.parse(n.context,l.value):3,v=f&&0===f.type?f.value:"",m=d.map(function(t){return Ir(t,p,!1)}).join(v);a.appendChild(o.createTextNode(m))}}}else if(20===e.type)switch(e.value){case"open-quote":a.appendChild(o.createTextNode(Ui(s.quotes,n.quoteDepth++,!0)));break;case"close-quote":a.appendChild(o.createTextNode(Ui(s.quotes,--n.quoteDepth,!1)));break;default:a.appendChild(o.createTextNode(e.value))}}),a.className=Hr+" "+jr;var c=i===Ji.BEFORE?" "+Hr:" "+jr;return Vn(e)?e.className.baseValue+=c:e.className+=c,a}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();(qi=Ji||(Ji={}))[qi.BEFORE=0]="BEFORE",qi[qi.AFTER=1]="AFTER";var Sr,_r,Qr=function(t,e){var A=t.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=e.width.toString(),A.height=e.height.toString(),A.scrolling="no",A.setAttribute(xr,"true"),t.body.appendChild(A),A},Fr=function(t){return new Promise(function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()})},Er=function(t){return Promise.all([].slice.call(t.images,0).map(Fr))},Ur=function(t){return new Promise(function(e,A){var i=t.contentWindow;if(!i)return A("No window assigned for iframe");var n=i.document;i.onload=t.onload=function(){i.onload=t.onload=null;var A=setInterval(function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(A),e(t))},50)}})},Dr=["all","d","content"],Tr=function(t,e){for(var A=t.length-1;A>=0;A--){var i=t.item(A);-1===Dr.indexOf(i)&&e.style.setProperty(i,t.getPropertyValue(i))}return e},kr=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Or=function(t,e,A){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||A!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,A)},Lr=function(t){var e=t[0],A=t[1],i=t[2];e.scrollLeft=A,e.scrollTop=i},Hr="___html2canvas___pseudoelement_before",jr="___html2canvas___pseudoelement_after",Pr='{\n    content: "" !important;\n    display: none !important;\n}',Nr=function(t){Rr(t,"."+Hr+":before"+Pr+"\n         ."+jr+":after"+Pr)},Rr=function(t,e){var A=t.ownerDocument;if(A){var i=A.createElement("style");i.textContent=e,t.appendChild(i)}},zr=function(){function t(){}return t.getOrigin=function(e){var A=t._link;return A?(A.href=e,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),Gr=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:Jr(t)||Xr(t)?((this._cache[t]=this.loadImage(t)).catch(function(){}),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return l(this,void 0,void 0,function(){var e,A,i,n,r=this;return u(this,function(o){switch(o.label){case 0:return e=zr.isSameOrigin(t),A=!Vr(t)&&!0===this._options.useCORS&&gn.SUPPORT_CORS_IMAGES&&!e,i=!Vr(t)&&!e&&!Jr(t)&&"string"==typeof this._options.proxy&&gn.SUPPORT_CORS_XHR&&!A,e||!1!==this._options.allowTaint||Vr(t)||Jr(t)||i||A?(n=t,i?[4,this.proxy(n)]:[3,2]):[2];case 1:n=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise(function(t,e){var i=new Image;i.onload=function(){return t(i)},i.onerror=e,(Zr(n)||A)&&(i.crossOrigin="anonymous"),i.src=n,!0===i.complete&&setTimeout(function(){return t(i)},500),r._options.imageTimeout>0&&setTimeout(function(){return e("Timed out ("+r._options.imageTimeout+"ms) loading image")},r._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var i=t.substring(0,256);return new Promise(function(n,r){var o=gn.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)n(s.response);else{var t=new FileReader;t.addEventListener("load",function(){return n(t.result)},!1),t.addEventListener("error",function(t){return r(t)},!1),t.readAsDataURL(s.response)}else r("Failed to proxy resource "+i+" with status code "+s.status)},s.onerror=r;var a=A.indexOf("?")>-1?"&":"?";if(s.open("GET",""+A+a+"url="+encodeURIComponent(t)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),e._options.imageTimeout){var c=e._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return r("Timed out ("+c+"ms) proxying "+i)}}s.send()})},t}(),Kr=/^data:image\/svg\+xml/i,Yr=/^data:image\/.*;base64,/i,Wr=/^data:image\/.*/i,Xr=function(t){return gn.SUPPORT_SVG_DRAWING||!qr(t)},Vr=function(t){return Wr.test(t)},Zr=function(t){return Yr.test(t)},Jr=function(t){return"blob"===t.substr(0,4)},qr=function(t){return"svg"===t.substr(-3).toLowerCase()||Kr.test(t)},$r=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,A){return new t(this.x+e,this.y+A)},t}(),to=function(t,e,A){return new $r(t.x+(e.x-t.x)*A,t.y+(e.y-t.y)*A)},eo=function(){function t(t,e,A,i){this.type=1,this.start=t,this.startControl=e,this.endControl=A,this.end=i}return t.prototype.subdivide=function(e,A){var i=to(this.start,this.startControl,e),n=to(this.startControl,this.endControl,e),r=to(this.endControl,this.end,e),o=to(i,n,e),s=to(n,r,e),a=to(o,s,e);return A?new t(this.start,i,o,a):new t(a,s,r,this.end)},t.prototype.add=function(e,A){return new t(this.start.add(e,A),this.startControl.add(e,A),this.endControl.add(e,A),this.end.add(e,A))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Ao=function(t){return 1===t.type},io=function(t){var e=t.styles,A=t.bounds,i=me(e.borderTopLeftRadius,A.width,A.height),n=i[0],r=i[1],o=me(e.borderTopRightRadius,A.width,A.height),s=o[0],a=o[1],c=me(e.borderBottomRightRadius,A.width,A.height),l=c[0],u=c[1],h=me(e.borderBottomLeftRadius,A.width,A.height),g=h[0],f=h[1],d=[];d.push((n+s)/A.width),d.push((g+l)/A.width),d.push((r+f)/A.height),d.push((a+u)/A.height);var p=Math.max.apply(Math,d);p>1&&(n/=p,r/=p,s/=p,a/=p,l/=p,u/=p,g/=p,f/=p);var v=A.width-s,m=A.height-u,B=A.width-l,y=A.height-f,C=e.borderTopWidth,w=e.borderRightWidth,b=e.borderBottomWidth,I=e.borderLeftWidth,x=Be(e.paddingTop,t.bounds.width),M=Be(e.paddingRight,t.bounds.width),S=Be(e.paddingBottom,t.bounds.width),_=Be(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=n>0||r>0?no(A.left+I/3,A.top+C/3,n-I/3,r-C/3,Sr.TOP_LEFT):new $r(A.left+I/3,A.top+C/3),this.topRightBorderDoubleOuterBox=n>0||r>0?no(A.left+v,A.top+C/3,s-w/3,a-C/3,Sr.TOP_RIGHT):new $r(A.left+A.width-w/3,A.top+C/3),this.bottomRightBorderDoubleOuterBox=l>0||u>0?no(A.left+B,A.top+m,l-w/3,u-b/3,Sr.BOTTOM_RIGHT):new $r(A.left+A.width-w/3,A.top+A.height-b/3),this.bottomLeftBorderDoubleOuterBox=g>0||f>0?no(A.left+I/3,A.top+y,g-I/3,f-b/3,Sr.BOTTOM_LEFT):new $r(A.left+I/3,A.top+A.height-b/3),this.topLeftBorderDoubleInnerBox=n>0||r>0?no(A.left+2*I/3,A.top+2*C/3,n-2*I/3,r-2*C/3,Sr.TOP_LEFT):new $r(A.left+2*I/3,A.top+2*C/3),this.topRightBorderDoubleInnerBox=n>0||r>0?no(A.left+v,A.top+2*C/3,s-2*w/3,a-2*C/3,Sr.TOP_RIGHT):new $r(A.left+A.width-2*w/3,A.top+2*C/3),this.bottomRightBorderDoubleInnerBox=l>0||u>0?no(A.left+B,A.top+m,l-2*w/3,u-2*b/3,Sr.BOTTOM_RIGHT):new $r(A.left+A.width-2*w/3,A.top+A.height-2*b/3),this.bottomLeftBorderDoubleInnerBox=g>0||f>0?no(A.left+2*I/3,A.top+y,g-2*I/3,f-2*b/3,Sr.BOTTOM_LEFT):new $r(A.left+2*I/3,A.top+A.height-2*b/3),this.topLeftBorderStroke=n>0||r>0?no(A.left+I/2,A.top+C/2,n-I/2,r-C/2,Sr.TOP_LEFT):new $r(A.left+I/2,A.top+C/2),this.topRightBorderStroke=n>0||r>0?no(A.left+v,A.top+C/2,s-w/2,a-C/2,Sr.TOP_RIGHT):new $r(A.left+A.width-w/2,A.top+C/2),this.bottomRightBorderStroke=l>0||u>0?no(A.left+B,A.top+m,l-w/2,u-b/2,Sr.BOTTOM_RIGHT):new $r(A.left+A.width-w/2,A.top+A.height-b/2),this.bottomLeftBorderStroke=g>0||f>0?no(A.left+I/2,A.top+y,g-I/2,f-b/2,Sr.BOTTOM_LEFT):new $r(A.left+I/2,A.top+A.height-b/2),this.topLeftBorderBox=n>0||r>0?no(A.left,A.top,n,r,Sr.TOP_LEFT):new $r(A.left,A.top),this.topRightBorderBox=s>0||a>0?no(A.left+v,A.top,s,a,Sr.TOP_RIGHT):new $r(A.left+A.width,A.top),this.bottomRightBorderBox=l>0||u>0?no(A.left+B,A.top+m,l,u,Sr.BOTTOM_RIGHT):new $r(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=g>0||f>0?no(A.left,A.top+y,g,f,Sr.BOTTOM_LEFT):new $r(A.left,A.top+A.height),this.topLeftPaddingBox=n>0||r>0?no(A.left+I,A.top+C,Math.max(0,n-I),Math.max(0,r-C),Sr.TOP_LEFT):new $r(A.left+I,A.top+C),this.topRightPaddingBox=s>0||a>0?no(A.left+Math.min(v,A.width-w),A.top+C,v>A.width+w?0:Math.max(0,s-w),Math.max(0,a-C),Sr.TOP_RIGHT):new $r(A.left+A.width-w,A.top+C),this.bottomRightPaddingBox=l>0||u>0?no(A.left+Math.min(B,A.width-I),A.top+Math.min(m,A.height-b),Math.max(0,l-w),Math.max(0,u-b),Sr.BOTTOM_RIGHT):new $r(A.left+A.width-w,A.top+A.height-b),this.bottomLeftPaddingBox=g>0||f>0?no(A.left+I,A.top+Math.min(y,A.height-b),Math.max(0,g-I),Math.max(0,f-b),Sr.BOTTOM_LEFT):new $r(A.left+I,A.top+A.height-b),this.topLeftContentBox=n>0||r>0?no(A.left+I+_,A.top+C+x,Math.max(0,n-(I+_)),Math.max(0,r-(C+x)),Sr.TOP_LEFT):new $r(A.left+I+_,A.top+C+x),this.topRightContentBox=s>0||a>0?no(A.left+Math.min(v,A.width+I+_),A.top+C+x,v>A.width+I+_?0:s-I+_,a-(C+x),Sr.TOP_RIGHT):new $r(A.left+A.width-(w+M),A.top+C+x),this.bottomRightContentBox=l>0||u>0?no(A.left+Math.min(B,A.width-(I+_)),A.top+Math.min(m,A.height+C+x),Math.max(0,l-(w+M)),u-(b+S),Sr.BOTTOM_RIGHT):new $r(A.left+A.width-(w+M),A.top+A.height-(b+S)),this.bottomLeftContentBox=g>0||f>0?no(A.left+I+_,A.top+y,Math.max(0,g-(I+_)),f-(b+S),Sr.BOTTOM_LEFT):new $r(A.left+I+_,A.top+A.height-(b+S))};(_r=Sr||(Sr={}))[_r.TOP_LEFT=0]="TOP_LEFT",_r[_r.TOP_RIGHT=1]="TOP_RIGHT",_r[_r.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",_r[_r.BOTTOM_LEFT=3]="BOTTOM_LEFT";var no=function(t,e,A,i,n){var r=(Math.sqrt(2)-1)/3*4,o=A*r,s=i*r,a=t+A,c=e+i;switch(n){case Sr.TOP_LEFT:return new eo(new $r(t,c),new $r(t,c-s),new $r(a-o,e),new $r(a,e));case Sr.TOP_RIGHT:return new eo(new $r(t,e),new $r(t+o,e),new $r(a,c-s),new $r(a,c));case Sr.BOTTOM_RIGHT:return new eo(new $r(a,e),new $r(a,e+s),new $r(t+o,c),new $r(t,c));case Sr.BOTTOM_LEFT:default:return new eo(new $r(a,c),new $r(a-o,c),new $r(t,e+s),new $r(t,e))}},ro=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},oo=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},so=function(t,e,A){this.offsetX=t,this.offsetY=e,this.matrix=A,this.type=0,this.target=6},ao=function(t,e){this.path=t,this.target=e,this.type=1},co=function(t){this.opacity=t,this.type=2,this.target=6},lo=function(t){return 1===t.type},uo=function(t,e){return t.length===e.length&&t.some(function(t,A){return t===e[A]})},ho=function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},go=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new io(this.container),this.container.styles.opacity<1&&this.effects.push(new co(this.container.styles.opacity)),null!==this.container.styles.transform){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,n=this.container.styles.transform;this.effects.push(new so(A,i,n))}if(0!==this.container.styles.overflowX){var r=ro(this.curves),o=oo(this.curves);uo(r,o)?this.effects.push(new ao(r,6)):(this.effects.push(new ao(r,2)),this.effects.push(new ao(o,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),A=this.parent,i=this.effects.slice(0);A;){var n=A.effects.filter(function(t){return!lo(t)});if(e||0!==A.container.styles.position||!A.parent){if(i.unshift.apply(i,n),e=-1===[2,3].indexOf(A.container.styles.position),0!==A.container.styles.overflowX){var r=ro(A.curves),o=oo(A.curves);uo(r,o)||i.unshift(new ao(o,6))}}else i.unshift.apply(i,n);A=A.parent}return i.filter(function(e){return Mi(e.target,t)})},t}(),fo=function(t,e,A,i){t.container.elements.forEach(function(n){var r=Mi(n.flags,4),o=Mi(n.flags,2),s=new go(n,t);Mi(n.styles.display,2048)&&i.push(s);var a=Mi(n.flags,8)?[]:i;if(r||o){var c=r||n.styles.isPositioned()?A:e,l=new ho(s);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var u=n.styles.zIndex.order;if(u<0){var h=0;c.negativeZIndex.some(function(t,e){return u>t.element.container.styles.zIndex.order?(h=e,!1):h>0}),c.negativeZIndex.splice(h,0,l)}else if(u>0){var g=0;c.positiveZIndex.some(function(t,e){return u>=t.element.container.styles.zIndex.order?(g=e+1,!1):g>0}),c.positiveZIndex.splice(g,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else n.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);fo(s,l,r?l:A,a)}else n.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),fo(s,e,A,a);Mi(n.flags,8)&&po(n,a)})},po=function(t,e){for(var A=t instanceof Qn?t.start:1,i=t instanceof Qn&&t.reversed,n=0;n<e.length;n++){var r=e[n];r.container instanceof _n&&"number"==typeof r.container.value&&0!==r.container.value&&(A=r.container.value),r.listValue=Ir(A,r.container.styles.listStyleType,!0),A+=i?-1:1}},vo=function(t,e){switch(e){case 0:return Bo(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Bo(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Bo(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return Bo(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},mo=function(t,e){var A=[];return Ao(t)?A.push(t.subdivide(.5,!1)):A.push(t),Ao(e)?A.push(e.subdivide(.5,!0)):A.push(e),A},Bo=function(t,e,A,i){var n=[];return Ao(t)?n.push(t.subdivide(.5,!1)):n.push(t),Ao(A)?n.push(A.subdivide(.5,!0)):n.push(A),Ao(i)?n.push(i.subdivide(.5,!0).reverse()):n.push(i),Ao(e)?n.push(e.subdivide(.5,!1).reverse()):n.push(e),n},yo=function(t){var e=t.bounds,A=t.styles;return e.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},Co=function(t){var e=t.styles,A=t.bounds,i=Be(e.paddingLeft,A.width),n=Be(e.paddingRight,A.width),r=Be(e.paddingTop,A.width),o=Be(e.paddingBottom,A.width);return A.add(i+e.borderLeftWidth,r+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+i+n),-(e.borderTopWidth+e.borderBottomWidth+r+o))},wo=function(t,e,A){var i,n,r=(i=Mo(t.styles.backgroundOrigin,e),n=t,0===i?n.bounds:2===i?Co(n):yo(n)),o=function(t,e){return 0===t?e.bounds:2===t?Co(e):yo(e)}(Mo(t.styles.backgroundClip,e),t),s=xo(Mo(t.styles.backgroundSize,e),A,r),a=s[0],c=s[1],l=me(Mo(t.styles.backgroundPosition,e),r.width-a,r.height-c);return[So(Mo(t.styles.backgroundRepeat,e),l,s,r,o),Math.round(r.left+l[0]),Math.round(r.top+l[1]),a,c]},bo=function(t){return re(t)&&t.value===eA.AUTO},Io=function(t){return"number"==typeof t},xo=function(t,e,A){var i=e[0],n=e[1],r=e[2],o=t[0],s=t[1];if(!o)return[0,0];if(ge(o)&&s&&ge(s))return[Be(o,A.width),Be(s,A.height)];var a=Io(r);if(re(o)&&(o.value===eA.CONTAIN||o.value===eA.COVER))return Io(r)?A.width/A.height<r!=(o.value===eA.COVER)?[A.width,A.width/r]:[A.height*r,A.height]:[A.width,A.height];var c=Io(i),l=Io(n),u=c||l;if(bo(o)&&(!s||bo(s)))return c&&l?[i,n]:a||u?u&&a?[c?i:n*r,l?n:i/r]:[c?i:A.width,l?n:A.height]:[A.width,A.height];if(a){var h=0,g=0;return ge(o)?h=Be(o,A.width):ge(s)&&(g=Be(s,A.height)),bo(o)?h=g*r:s&&!bo(s)||(g=h/r),[h,g]}var f=null,d=null;if(ge(o)?f=Be(o,A.width):s&&ge(s)&&(d=Be(s,A.height)),null===f||s&&!bo(s)||(d=c&&l?f/i*n:A.height),null!==d&&bo(o)&&(f=c&&l?d/n*i:A.width),null!==f&&null!==d)return[f,d];throw new Error("Unable to calculate background-size for element")},Mo=function(t,e){var A=t[e];return void 0===A?t[0]:A},So=function(t,e,A,i,n){var r=e[0],o=e[1],s=A[0],a=A[1];switch(t){case 2:return[new $r(Math.round(i.left),Math.round(i.top+o)),new $r(Math.round(i.left+i.width),Math.round(i.top+o)),new $r(Math.round(i.left+i.width),Math.round(a+i.top+o)),new $r(Math.round(i.left),Math.round(a+i.top+o))];case 3:return[new $r(Math.round(i.left+r),Math.round(i.top)),new $r(Math.round(i.left+r+s),Math.round(i.top)),new $r(Math.round(i.left+r+s),Math.round(i.height+i.top)),new $r(Math.round(i.left+r),Math.round(i.height+i.top))];case 1:return[new $r(Math.round(i.left+r),Math.round(i.top+o)),new $r(Math.round(i.left+r+s),Math.round(i.top+o)),new $r(Math.round(i.left+r+s),Math.round(i.top+o+a)),new $r(Math.round(i.left+r),Math.round(i.top+o+a))];default:return[new $r(Math.round(n.left),Math.round(n.top)),new $r(Math.round(n.left+n.width),Math.round(n.top)),new $r(Math.round(n.left+n.width),Math.round(n.height+n.top)),new $r(Math.round(n.left),Math.round(n.height+n.top))]}},_o="Hidden Text",Qo=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var A=this._document.createElement("div"),i=this._document.createElement("img"),n=this._document.createElement("span"),r=this._document.body;A.style.visibility="hidden",A.style.fontFamily=t,A.style.fontSize=e,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",r.appendChild(A),i.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.appendChild(this._document.createTextNode(_o)),A.appendChild(n),A.appendChild(i);var o=i.offsetTop-n.offsetTop+2;A.removeChild(n),A.appendChild(this._document.createTextNode(_o)),A.style.lineHeight="normal",i.style.verticalAlign="super";var s=i.offsetTop-A.offsetTop+2;return r.removeChild(A),{baseline:o,middle:s}},t.prototype.getMetrics=function(t,e){var A=t+" "+e;return void 0===this._data[A]&&(this._data[A]=this.parseMetrics(t,e)),this._data[A]},t}(),Fo=function(t,e){this.context=t,this.options=e},Eo=function(t){function e(e,A){var i=t.call(this,e,A)||this;return i._activeEffects=[],i.canvas=A.canvas?A.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),A.canvas||(i.canvas.width=Math.floor(A.width*A.scale),i.canvas.height=Math.floor(A.height*A.scale),i.canvas.style.width=A.width+"px",i.canvas.style.height=A.height+"px"),i.fontMetrics=new Qo(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-A.x,-A.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),i}return a(e,t),e.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach(function(t){return e.applyEffect(t)})},e.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 2===t.type}(t)&&(this.ctx.globalAlpha=t.opacity),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),lo(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(t){return l(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(t){return l(this,void 0,void 0,function(){return u(this,function(e){switch(e.label){case 0:return Mi(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(t,e,A){var i=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+A):vn(t.text).reduce(function(e,n){return i.ctx.fillText(n,e,t.bounds.top+A),e+i.ctx.measureText(n).width},t.bounds.left)},e.prototype.createFontStyle=function(t){var e=t.fontVariant.filter(function(t){return"normal"===t||"small-caps"===t}).join(""),A=Oo(t.fontFamily).join(", "),i=ie(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,i,A].join(" "),A,i]},e.prototype.renderTextNode=function(t,e){return l(this,void 0,void 0,function(){var A,i,n,r,o,s,a,c,l=this;return u(this,function(u){return A=this.createFontStyle(e),i=A[0],n=A[1],r=A[2],this.ctx.font=i,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(n,r),s=o.baseline,a=o.middle,c=e.paintOrder,t.textBounds.forEach(function(t){c.forEach(function(A){switch(A){case 0:l.ctx.fillStyle=_e(e.color),l.renderTextWithLetterSpacing(t,e.letterSpacing,s);var i=e.textShadow;i.length&&t.text.trim().length&&(i.slice(0).reverse().forEach(function(A){l.ctx.shadowColor=_e(A.color),l.ctx.shadowOffsetX=A.offsetX.number*l.options.scale,l.ctx.shadowOffsetY=A.offsetY.number*l.options.scale,l.ctx.shadowBlur=A.blur.number,l.renderTextWithLetterSpacing(t,e.letterSpacing,s)}),l.ctx.shadowColor="",l.ctx.shadowOffsetX=0,l.ctx.shadowOffsetY=0,l.ctx.shadowBlur=0),e.textDecorationLine.length&&(l.ctx.fillStyle=_e(e.textDecorationColor||e.color),e.textDecorationLine.forEach(function(e){switch(e){case 1:l.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+s),t.bounds.width,1);break;case 2:l.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:l.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+a),t.bounds.width,1)}}));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(l.ctx.strokeStyle=_e(e.webkitTextStrokeColor),l.ctx.lineWidth=e.webkitTextStrokeWidth,l.ctx.lineJoin=window.chrome?"miter":"round",l.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+s)),l.ctx.strokeStyle="",l.ctx.lineWidth=0,l.ctx.lineJoin="miter"}})}),[2]})})},e.prototype.renderReplacedElement=function(t,e,A){if(A&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var i=Co(t),n=oo(e);this.path(n),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,t.intrinsicWidth,t.intrinsicHeight,i.left,i.top,i.width,i.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(t){return l(this,void 0,void 0,function(){var A,i,n,r,o,s,a,c,l,g,f,d,p,v,m,B,y,C;return u(this,function(u){switch(u.label){case 0:this.applyEffects(t.getEffects(4)),A=t.container,i=t.curves,n=A.styles,r=0,o=A.textNodes,u.label=1;case 1:return r<o.length?(s=o[r],[4,this.renderTextNode(s,n)]):[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:if(!(A instanceof xn))return[3,8];u.label=5;case 5:return u.trys.push([5,7,,8]),[4,this.context.cache.match(A.src)];case 6:return m=u.sent(),this.renderReplacedElement(A,i,m),[3,8];case 7:return u.sent(),this.context.logger.error("Error loading image "+A.src),[3,8];case 8:if(A instanceof Mn&&this.renderReplacedElement(A,i,A.canvas),!(A instanceof Sn))return[3,12];u.label=9;case 9:return u.trys.push([9,11,,12]),[4,this.context.cache.match(A.svg)];case 10:return m=u.sent(),this.renderReplacedElement(A,i,m),[3,12];case 11:return u.sent(),this.context.logger.error("Error loading svg "+A.svg.substring(0,255)),[3,12];case 12:return A instanceof jn&&A.tree?[4,new e(this.context,{scale:this.options.scale,backgroundColor:A.backgroundColor,x:0,y:0,width:A.width,height:A.height}).render(A.tree)]:[3,14];case 13:a=u.sent(),A.width&&A.height&&this.ctx.drawImage(a,0,0,A.width,A.height,A.bounds.left,A.bounds.top,A.bounds.width,A.bounds.height),u.label=14;case 14:if(A instanceof On&&(c=Math.min(A.bounds.width,A.bounds.height),A.type===Un?A.checked&&(this.ctx.save(),this.path([new $r(A.bounds.left+.39363*c,A.bounds.top+.79*c),new $r(A.bounds.left+.16*c,A.bounds.top+.5549*c),new $r(A.bounds.left+.27347*c,A.bounds.top+.44071*c),new $r(A.bounds.left+.39694*c,A.bounds.top+.5649*c),new $r(A.bounds.left+.72983*c,A.bounds.top+.23*c),new $r(A.bounds.left+.84*c,A.bounds.top+.34085*c),new $r(A.bounds.left+.39363*c,A.bounds.top+.79*c)]),this.ctx.fillStyle=_e(kn),this.ctx.fill(),this.ctx.restore()):A.type===Dn&&A.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(A.bounds.left+c/2,A.bounds.top+c/2,c/4,0,2*Math.PI,!0),this.ctx.fillStyle=_e(kn),this.ctx.fill(),this.ctx.restore())),Uo(A)&&A.value.length){switch(l=this.createFontStyle(n),y=l[0],g=l[1],f=this.fontMetrics.getMetrics(y,g).baseline,this.ctx.font=y,this.ctx.fillStyle=_e(n.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=To(A.styles.textAlign),C=Co(A),d=0,A.styles.textAlign){case 1:d+=C.width/2;break;case 2:d+=C.width}p=C.add(d,0,0,-C.height/2+1),this.ctx.save(),this.path([new $r(C.left,C.top),new $r(C.left+C.width,C.top),new $r(C.left+C.width,C.top+C.height),new $r(C.left,C.top+C.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new fn(A.value,p),n.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Mi(A.styles.display,2048))return[3,20];if(null===A.styles.listStyleImage)return[3,19];if(0!==(v=A.styles.listStyleImage).type)return[3,18];m=void 0,B=v.url,u.label=15;case 15:return u.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return m=u.sent(),this.ctx.drawImage(m,A.bounds.left-(m.width+10),A.bounds.top),[3,18];case 17:return u.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==A.styles.listStyleType&&(y=this.createFontStyle(n)[0],this.ctx.font=y,this.ctx.fillStyle=_e(n.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",C=new h(A.bounds.left,A.bounds.top+Be(A.styles.paddingTop,A.bounds.width),A.bounds.width,zA(n.lineHeight,n.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new fn(t.listValue,C),n.letterSpacing,zA(n.lineHeight,n.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),u.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(t){return l(this,void 0,void 0,function(){var e,A,i,n,r,o,s,a,c,l,h,g,f,d,p;return u(this,function(u){switch(u.label){case 0:return Mi(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:u.sent(),e=0,A=t.negativeZIndex,u.label=2;case 2:return e<A.length?(p=A[e],[4,this.renderStack(p)]):[3,5];case 3:u.sent(),u.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:u.sent(),i=0,n=t.nonInlineLevel,u.label=7;case 7:return i<n.length?(p=n[i],[4,this.renderNode(p)]):[3,10];case 8:u.sent(),u.label=9;case 9:return i++,[3,7];case 10:r=0,o=t.nonPositionedFloats,u.label=11;case 11:return r<o.length?(p=o[r],[4,this.renderStack(p)]):[3,14];case 12:u.sent(),u.label=13;case 13:return r++,[3,11];case 14:s=0,a=t.nonPositionedInlineLevel,u.label=15;case 15:return s<a.length?(p=a[s],[4,this.renderStack(p)]):[3,18];case 16:u.sent(),u.label=17;case 17:return s++,[3,15];case 18:c=0,l=t.inlineLevel,u.label=19;case 19:return c<l.length?(p=l[c],[4,this.renderNode(p)]):[3,22];case 20:u.sent(),u.label=21;case 21:return c++,[3,19];case 22:h=0,g=t.zeroOrAutoZIndexOrTransformedOrOpacity,u.label=23;case 23:return h<g.length?(p=g[h],[4,this.renderStack(p)]):[3,26];case 24:u.sent(),u.label=25;case 25:return h++,[3,23];case 26:f=0,d=t.positiveZIndex,u.label=27;case 27:return f<d.length?(p=d[f],[4,this.renderStack(p)]):[3,30];case 28:u.sent(),u.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},e.prototype.formatPath=function(t){var e=this;t.forEach(function(t,A){var i=Ao(t)?t.start:t;0===A?e.ctx.moveTo(i.x,i.y):e.ctx.lineTo(i.x,i.y),Ao(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)})},e.prototype.renderRepeat=function(t,e,A,i){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(A,i),this.ctx.fill(),this.ctx.translate(-A,-i)},e.prototype.resizeImage=function(t,e,A){var i;if(t.width===e&&t.height===A)return t;var n=(null!==(i=this.canvas.ownerDocument)&&void 0!==i?i:document).createElement("canvas");return n.width=Math.max(1,e),n.height=Math.max(1,A),n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,A),n},e.prototype.renderBackgroundImage=function(t){return l(this,void 0,void 0,function(){var e,A,i,n,r,o;return u(this,function(s){switch(s.label){case 0:e=t.styles.backgroundImage.length-1,A=function(A){var n,r,o,s,a,c,l,h,g,f,d,p,v,m,B,y,C,w,b,I,x,M,S,_,Q,F,E,U,D,T,k;return u(this,function(u){switch(u.label){case 0:if(0!==A.type)return[3,5];n=void 0,r=A.url,u.label=1;case 1:return u.trys.push([1,3,,4]),[4,i.context.cache.match(r)];case 2:return n=u.sent(),[3,4];case 3:return u.sent(),i.context.logger.error("Error loading background-image "+r),[3,4];case 4:return n&&(o=wo(t,e,[n.width,n.height,n.width/n.height]),y=o[0],M=o[1],S=o[2],b=o[3],I=o[4],m=i.ctx.createPattern(i.resizeImage(n,b,I),"repeat"),i.renderRepeat(y,m,M,S)),[3,6];case 5:1===A.type?(s=wo(t,e,[null,null,null]),y=s[0],M=s[1],S=s[2],b=s[3],I=s[4],a=Ne(A.angle,b,I),c=a[0],l=a[1],h=a[2],g=a[3],f=a[4],(d=document.createElement("canvas")).width=b,d.height=I,p=d.getContext("2d"),v=p.createLinearGradient(l,g,h,f),Pe(A.stops,c).forEach(function(t){return v.addColorStop(t.stop,_e(t.color))}),p.fillStyle=v,p.fillRect(0,0,b,I),b>0&&I>0&&(m=i.ctx.createPattern(d,"repeat"),i.renderRepeat(y,m,M,S))):function(t){return 2===t.type}(A)&&(B=wo(t,e,[null,null,null]),y=B[0],C=B[1],w=B[2],b=B[3],I=B[4],x=0===A.position.length?[pe]:A.position,M=Be(x[0],b),S=Be(x[x.length-1],I),_=function(t,e,A,i,n){var r=0,o=0;switch(t.size){case 0:0===t.shape?r=o=Math.min(Math.abs(e),Math.abs(e-i),Math.abs(A),Math.abs(A-n)):1===t.shape&&(r=Math.min(Math.abs(e),Math.abs(e-i)),o=Math.min(Math.abs(A),Math.abs(A-n)));break;case 2:if(0===t.shape)r=o=Math.min(Re(e,A),Re(e,A-n),Re(e-i,A),Re(e-i,A-n));else if(1===t.shape){var s=Math.min(Math.abs(A),Math.abs(A-n))/Math.min(Math.abs(e),Math.abs(e-i)),a=ze(i,n,e,A,!0),c=a[0],l=a[1];o=s*(r=Re(c-e,(l-A)/s))}break;case 1:0===t.shape?r=o=Math.max(Math.abs(e),Math.abs(e-i),Math.abs(A),Math.abs(A-n)):1===t.shape&&(r=Math.max(Math.abs(e),Math.abs(e-i)),o=Math.max(Math.abs(A),Math.abs(A-n)));break;case 3:if(0===t.shape)r=o=Math.max(Re(e,A),Re(e,A-n),Re(e-i,A),Re(e-i,A-n));else if(1===t.shape){s=Math.max(Math.abs(A),Math.abs(A-n))/Math.max(Math.abs(e),Math.abs(e-i));var u=ze(i,n,e,A,!1);c=u[0],l=u[1],o=s*(r=Re(c-e,(l-A)/s))}}return Array.isArray(t.size)&&(r=Be(t.size[0],i),o=2===t.size.length?Be(t.size[1],n):r),[r,o]}(A,M,S,b,I),Q=_[0],F=_[1],Q>0&&F>0&&(E=i.ctx.createRadialGradient(C+M,w+S,0,C+M,w+S,Q),Pe(A.stops,2*Q).forEach(function(t){return E.addColorStop(t.stop,_e(t.color))}),i.path(y),i.ctx.fillStyle=E,Q!==F?(U=t.bounds.left+.5*t.bounds.width,D=t.bounds.top+.5*t.bounds.height,k=1/(T=F/Q),i.ctx.save(),i.ctx.translate(U,D),i.ctx.transform(1,0,0,T,0,0),i.ctx.translate(-U,-D),i.ctx.fillRect(C,k*(w-D)+D,b,I*k),i.ctx.restore()):i.ctx.fill())),u.label=6;case 6:return e--,[2]}})},i=this,n=0,r=t.styles.backgroundImage.slice(0).reverse(),s.label=1;case 1:return n<r.length?(o=r[n],[5,A(o)]):[3,4];case 2:s.sent(),s.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(t,e,A){return l(this,void 0,void 0,function(){return u(this,function(i){return this.path(vo(A,e)),this.ctx.fillStyle=_e(t),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(t,e,A,i){return l(this,void 0,void 0,function(){var n,r;return u(this,function(o){switch(o.label){case 0:return e<3?[4,this.renderSolidBorder(t,A,i)]:[3,2];case 1:return o.sent(),[2];case 2:return n=function(t,e){switch(e){case 0:return Bo(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Bo(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Bo(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return Bo(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}}(i,A),this.path(n),this.ctx.fillStyle=_e(t),this.ctx.fill(),r=function(t,e){switch(e){case 0:return Bo(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Bo(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Bo(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return Bo(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}}(i,A),this.path(r),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(t){return l(this,void 0,void 0,function(){var e,A,i,n,r,o,s,a,c=this;return u(this,function(l){switch(l.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,A=!Se(e.backgroundColor)||e.backgroundImage.length,i=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],n=Do(Mo(e.backgroundClip,0),t.curves),A||e.boxShadow.length?(this.ctx.save(),this.path(n),this.ctx.clip(),Se(e.backgroundColor)||(this.ctx.fillStyle=_e(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:l.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach(function(e){c.ctx.save();var A,i,n,r,o,s=ro(t.curves),a=e.inset?0:1e4,l=(A=s,i=-a+(e.inset?1:-1)*e.spread.number,n=(e.inset?1:-1)*e.spread.number,r=e.spread.number*(e.inset?-2:2),o=e.spread.number*(e.inset?-2:2),A.map(function(t,e){switch(e){case 0:return t.add(i,n);case 1:return t.add(i+r,n);case 2:return t.add(i+r,n+o);case 3:return t.add(i,n+o)}return t}));e.inset?(c.path(s),c.ctx.clip(),c.mask(l)):(c.mask(s),c.ctx.clip(),c.path(l)),c.ctx.shadowOffsetX=e.offsetX.number+a,c.ctx.shadowOffsetY=e.offsetY.number,c.ctx.shadowColor=_e(e.color),c.ctx.shadowBlur=e.blur.number,c.ctx.fillStyle=e.inset?_e(e.color):"rgba(0,0,0,1)",c.ctx.fill(),c.ctx.restore()}),l.label=2;case 2:r=0,o=0,s=i,l.label=3;case 3:return o<s.length?0!==(a=s[o]).style&&!Se(a.color)&&a.width>0?2!==a.style?[3,5]:[4,this.renderDashedDottedBorder(a.color,a.width,r,t.curves,2)]:[3,11]:[3,13];case 4:return l.sent(),[3,11];case 5:return 3!==a.style?[3,7]:[4,this.renderDashedDottedBorder(a.color,a.width,r,t.curves,3)];case 6:return l.sent(),[3,11];case 7:return 4!==a.style?[3,9]:[4,this.renderDoubleBorder(a.color,a.width,r,t.curves)];case 8:return l.sent(),[3,11];case 9:return[4,this.renderSolidBorder(a.color,r,t.curves)];case 10:l.sent(),l.label=11;case 11:r++,l.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(t,e,A,i,n){return l(this,void 0,void 0,function(){var r,o,s,a,c,l,h,g,f,d,p,v,m,B,y,C;return u(this,function(u){return this.ctx.save(),r=function(t,e){switch(e){case 0:return mo(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return mo(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return mo(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return mo(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}}(i,A),o=vo(i,A),2===n&&(this.path(o),this.ctx.clip()),Ao(o[0])?(s=o[0].start.x,a=o[0].start.y):(s=o[0].x,a=o[0].y),Ao(o[1])?(c=o[1].end.x,l=o[1].end.y):(c=o[1].x,l=o[1].y),h=0===A||2===A?Math.abs(s-c):Math.abs(a-l),this.ctx.beginPath(),3===n?this.formatPath(r):this.formatPath(o.slice(0,2)),g=e<3?3*e:2*e,f=e<3?2*e:e,3===n&&(g=e,f=e),d=!0,h<=2*g?d=!1:h<=2*g+f?(g*=p=h/(2*g+f),f*=p):(v=Math.floor((h+f)/(g+f)),m=(h-v*g)/(v-1),f=(B=(h-(v+1)*g)/v)<=0||Math.abs(f-m)<Math.abs(f-B)?m:B),d&&(3===n?this.ctx.setLineDash([0,g+f]):this.ctx.setLineDash([g,f])),3===n?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=_e(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===n&&(Ao(o[0])&&(y=o[3],C=o[0],this.ctx.beginPath(),this.formatPath([new $r(y.end.x,y.end.y),new $r(C.start.x,C.start.y)]),this.ctx.stroke()),Ao(o[1])&&(y=o[1],C=o[2],this.ctx.beginPath(),this.formatPath([new $r(y.end.x,y.end.y),new $r(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(t){return l(this,void 0,void 0,function(){var e;return u(this,function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=_e(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),i=new go(t,null),n=new ho(i),fo(i,n,n,r=[]),po(i.container,r),e=n,[4,this.renderStack(e)];case 1:return A.sent(),this.applyEffects([]),[2,this.canvas]}var i,n,r})})},e}(Fo),Uo=function(t){return t instanceof Hn||(t instanceof Ln||t instanceof On&&t.type!==Dn&&t.type!==Un)},Do=function(t,e){switch(t){case 0:return ro(e);case 2:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);default:return oo(e)}},To=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},ko=["-apple-system","system-ui"],Oo=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(t){return-1===ko.indexOf(t)}):t},Lo=function(t){function e(e,A){var i=t.call(this,e,A)||this;return i.canvas=A.canvas?A.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=A,i.canvas.width=Math.floor(A.width*A.scale),i.canvas.height=Math.floor(A.height*A.scale),i.canvas.style.width=A.width+"px",i.canvas.style.height=A.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-A.x,-A.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),i}return a(e,t),e.prototype.render=function(t){return l(this,void 0,void 0,function(){var e,A;return u(this,function(i){switch(i.label){case 0:return e=un(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Ho(e)];case 1:return A=i.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=_e(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(Fo),Ho=function(t){return new Promise(function(e,A){var i=new Image;i.onload=function(){e(i)},i.onerror=A,i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))})},jo=function(){function t(t){var e=t.id,A=t.enabled;this.id=e,this.enabled=A,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug||this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&console.info},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn||this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error||this.info.apply(this,t))},t.instances={},t}(),Po=function(){function t(e,A){var i;this.windowBounds=A,this.instanceName="#"+t.instanceCount++,this.logger=new jo({id:this.instanceName,enabled:e.logging}),this.cache=null!==(i=e.cache)&&void 0!==i?i:new Gr(this,e)}return t.instanceCount=1,t}(),No=function(t,e){return void 0===e&&(e={}),Ro(t,e)};"undefined"!=typeof window&&zr.setContext(window);var Ro=function(t,e){return l(void 0,void 0,void 0,function(){var A,i,n,r,o,s,a,l,f,d,p,v,m,B,y,C,w,b,I,x,M,S,_,Q,F,E,U,D,T,k,O,L,H,j,P,N,R,z;return u(this,function(u){switch(u.label){case 0:if(!t||"object"!=typeof t)return[2,Promise.reject("Invalid element provided as first argument")];if(!(A=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(i=A.defaultView))throw new Error("Document is not attached to a Window");return n={allowTaint:null!==(S=e.allowTaint)&&void 0!==S&&S,imageTimeout:null!==(_=e.imageTimeout)&&void 0!==_?_:15e3,proxy:e.proxy,useCORS:null!==(Q=e.useCORS)&&void 0!==Q&&Q},r=c({logging:null===(F=e.logging)||void 0===F||F,cache:e.cache},n),o={windowWidth:null!==(E=e.windowWidth)&&void 0!==E?E:i.innerWidth,windowHeight:null!==(U=e.windowHeight)&&void 0!==U?U:i.innerHeight,scrollX:null!==(D=e.scrollX)&&void 0!==D?D:i.pageXOffset,scrollY:null!==(T=e.scrollY)&&void 0!==T?T:i.pageYOffset},s=new h(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),a=new Po(r,s),l=null!==(k=e.foreignObjectRendering)&&void 0!==k&&k,f={allowTaint:null!==(O=e.allowTaint)&&void 0!==O&&O,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:l,copyStyles:l},a.logger.debug("Starting document clone with size "+s.width+"x"+s.height+" scrolled to "+-s.left+","+-s.top),d=new Mr(a,t,f),(p=d.clonedReferenceElement)?[4,d.toIFrame(A,s)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=u.sent(),m=tr(p)||"HTML"===p.tagName?function(t){var e=t.body,A=t.documentElement;if(!e||!A)throw new Error("Unable to get document size");var i=Math.max(Math.max(e.scrollWidth,A.scrollWidth),Math.max(e.offsetWidth,A.offsetWidth),Math.max(e.clientWidth,A.clientWidth)),n=Math.max(Math.max(e.scrollHeight,A.scrollHeight),Math.max(e.offsetHeight,A.offsetHeight),Math.max(e.clientHeight,A.clientHeight));return new h(0,0,i,n)}(p.ownerDocument):g(a,p),B=m.width,y=m.height,C=m.left,w=m.top,b=zo(a,p,e.backgroundColor),I={canvas:e.canvas,backgroundColor:b,scale:null!==(H=null!==(L=e.scale)&&void 0!==L?L:i.devicePixelRatio)&&void 0!==H?H:1,x:(null!==(j=e.x)&&void 0!==j?j:0)+C,y:(null!==(P=e.y)&&void 0!==P?P:0)+w,width:null!==(N=e.width)&&void 0!==N?N:Math.ceil(B),height:null!==(R=e.height)&&void 0!==R?R:Math.ceil(y)},l?(a.logger.debug("Document cloned, using foreign object rendering"),[4,new Lo(a,I).render(p)]):[3,3];case 2:return x=u.sent(),[3,5];case 3:return a.logger.debug("Document cloned, element located at "+C+","+w+" with size "+B+"x"+y+" using computed rendering"),a.logger.debug("Starting DOM parsing"),M=zn(a,p),b===M.styles.backgroundColor&&(M.styles.backgroundColor=Oe.TRANSPARENT),a.logger.debug("Starting renderer for element at "+I.x+","+I.y+" with size "+I.width+"x"+I.height),[4,new Eo(a,I).render(M)];case 4:x=u.sent(),u.label=5;case 5:return(null===(z=e.removeContainer)||void 0===z||z)&&(Mr.destroy(v)||a.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),a.logger.debug("Finished rendering"),[2,x]}})})},zo=function(t,e,A){var i=e.ownerDocument,n=i.documentElement?ke(t,getComputedStyle(i.documentElement).backgroundColor):Oe.TRANSPARENT,r=i.body?ke(t,getComputedStyle(i.body).backgroundColor):Oe.TRANSPARENT,o="string"==typeof A?ke(t,A):null===A?Oe.TRANSPARENT:4294967295;return e===i.documentElement?Se(n)?Se(r)?o:r:n:o};const Go=Object.freeze(Object.defineProperty({__proto__:null,default:No},Symbol.toStringTag,{value:"Module"}));
/*!
 * Compressor.js v1.2.1
 * https://fengyuanchen.github.io/compressorjs
 *
 * Copyright 2018-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2023-02-28T14:09:41.732Z
 */function Ko(t,e){var A=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),A.push.apply(A,i)}return A}function Yo(t){for(var e=1;e<arguments.length;e++){var A=null!=arguments[e]?arguments[e]:{};e%2?Ko(Object(A),!0).forEach(function(e){Xo(t,e,A[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(A)):Ko(Object(A)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(A,e))})}return t}function Wo(t,e){for(var A=0;A<e.length;A++){var i=e[A];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Zo(i.key),i)}}function Xo(t,e,A){return(e=Zo(e))in t?Object.defineProperty(t,e,{value:A,enumerable:!0,configurable:!0,writable:!0}):t[e]=A,t}function Vo(){return Vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var A=arguments[e];for(var i in A)Object.prototype.hasOwnProperty.call(A,i)&&(t[i]=A[i])}return t},Vo.apply(this,arguments)}function Zo(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var A=t[Symbol.toPrimitive];if(void 0!==A){var i=A.call(t,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:String(e)}var Jo,qo,$o,ts,es,As,is,ns,rs={exports:{}};Jo=rs,"undefined"!=typeof window&&(qo=window,$o=qo.HTMLCanvasElement&&qo.HTMLCanvasElement.prototype,ts=qo.Blob&&function(){try{return Boolean(new Blob)}catch(t){return!1}}(),es=ts&&qo.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(t){return!1}}(),As=qo.BlobBuilder||qo.WebKitBlobBuilder||qo.MozBlobBuilder||qo.MSBlobBuilder,is=/^data:((.*?)(;charset=.*?)?)(;base64)?,/,ns=(ts||As)&&qo.atob&&qo.ArrayBuffer&&qo.Uint8Array&&function(t){var e,A,i,n,r,o,s,a,c;if(!(e=t.match(is)))throw new Error("invalid data URI");for(A=e[2]?e[1]:"text/plain"+(e[3]||";charset=US-ASCII"),i=!!e[4],n=t.slice(e[0].length),r=i?atob(n):decodeURIComponent(n),o=new ArrayBuffer(r.length),s=new Uint8Array(o),a=0;a<r.length;a+=1)s[a]=r.charCodeAt(a);return ts?new Blob([es?s:o],{type:A}):((c=new As).append(o),c.getBlob(A))},qo.HTMLCanvasElement&&!$o.toBlob&&($o.mozGetAsFile?$o.toBlob=function(t,e,A){var i=this;setTimeout(function(){A&&$o.toDataURL&&ns?t(ns(i.toDataURL(e,A))):t(i.mozGetAsFile("blob",e))})}:$o.toDataURL&&ns&&($o.msToBlob?$o.toBlob=function(t,e,A){var i=this;setTimeout(function(){(e&&"image/png"!==e||A)&&$o.toDataURL&&ns?t(ns(i.toDataURL(e,A))):t(i.msToBlob(e))})}:$o.toBlob=function(t,e,A){var i=this;setTimeout(function(){t(ns(i.toDataURL(e,A)))})})),Jo.exports?Jo.exports=ns:qo.dataURLtoBlob=ns);var os=rs.exports,ss={strict:!0,checkOrientation:!0,retainExif:!1,maxWidth:1/0,maxHeight:1/0,minWidth:0,minHeight:0,width:void 0,height:void 0,resize:"none",quality:.8,mimeType:"auto",convertTypes:["image/png"],convertSize:5e6,beforeDraw:null,drew:null,success:null,error:null},as="undefined"!=typeof window&&void 0!==window.document?window:{},cs=function(t){return t>0&&t<1/0},ls=Array.prototype.slice;function us(t){return Array.from?Array.from(t):ls.call(t)}var hs=/^image\/.+$/;function gs(t){return hs.test(t)}var fs=String.fromCharCode;var ds=as.btoa;function ps(t,e){for(var A=[],i=new Uint8Array(t);i.length>0;)A.push(fs.apply(null,us(i.subarray(0,8192)))),i=i.subarray(8192);return"data:".concat(e,";base64,").concat(ds(A.join("")))}function vs(t){var e,A=new DataView(t);try{var i,n,r;if(255===A.getUint8(0)&&216===A.getUint8(1))for(var o=A.byteLength,s=2;s+1<o;){if(255===A.getUint8(s)&&225===A.getUint8(s+1)){n=s;break}s+=1}if(n){var a=n+10;if("Exif"===function(t,e,A){var i,n="";for(A+=e,i=e;i<A;i+=1)n+=fs(t.getUint8(i));return n}(A,n+4,4)){var c=A.getUint16(a);if(((i=18761===c)||19789===c)&&42===A.getUint16(a+2,i)){var l=A.getUint32(a+4,i);l>=8&&(r=a+l)}}}if(r){var u,h,g=A.getUint16(r,i);for(h=0;h<g;h+=1)if(u=r+12*h+2,274===A.getUint16(u,i)){u+=8,e=A.getUint16(u,i),A.setUint16(u,1,i);break}}}catch(f){e=1}return e}var ms=/\.\d*(?:0|9){12}\d*$/;function Bs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e11;return ms.test(t)?Math.round(t*e)/e:t}function ys(t){var e=t.aspectRatio,A=t.height,i=t.width,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r=cs(i),o=cs(A);if(r&&o){var s=A*e;("contain"===n||"none"===n)&&s>i||"cover"===n&&s<i?A=i/e:i=A*e}else r?A=i/e:o&&(i=A*e);return{width:i,height:A}}var Cs=as.ArrayBuffer,ws=as.FileReader,bs=as.URL||as.webkitURL,Is=/\.\w+$/,xs=as.Compressor,Ms=function(){function t(e,A){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.file=e,this.exif=[],this.image=new Image,this.options=Yo(Yo({},ss),A),this.aborted=!1,this.result=null,this.init()}var e,A,i;return e=t,A=[{key:"init",value:function(){var t=this,e=this.file,A=this.options;if(i=e,"undefined"!=typeof Blob&&(i instanceof Blob||"[object Blob]"===Object.prototype.toString.call(i))){var i,n=e.type;if(gs(n))if(bs&&ws){Cs||(A.checkOrientation=!1,A.retainExif=!1);var r="image/jpeg"===n,o=r&&A.checkOrientation,s=r&&A.retainExif;if(!bs||o||s){var a=new ws;this.reader=a,a.onload=function(A){var i=A.target.result,r={},a=1;o&&(a=vs(i))>1&&Vo(r,function(t){var e=0,A=1,i=1;switch(t){case 2:A=-1;break;case 3:e=-180;break;case 4:i=-1;break;case 5:e=90,i=-1;break;case 6:e=90;break;case 7:e=90,A=-1;break;case 8:e=-90}return{rotate:e,scaleX:A,scaleY:i}}(a)),s&&(t.exif=function(t){for(var e=us(new Uint8Array(t)),A=e.length,i=[],n=0;n+3<A;){var r=e[n],o=e[n+1];if(255===r&&218===o)break;if(255===r&&216===o)n+=2;else{var s=n+(256*e[n+2]+e[n+3])+2,a=e.slice(n,s);i.push(a),n=s}}return i.reduce(function(t,e){return 255===e[0]&&225===e[1]?t.concat(e):t},[])}(i)),r.url=o||s?!bs||a>1?ps(i,n):bs.createObjectURL(e):i,t.load(r)},a.onabort=function(){t.fail(new Error("Aborted to read the image with FileReader."))},a.onerror=function(){t.fail(new Error("Failed to read the image with FileReader."))},a.onloadend=function(){t.reader=null},o||s?a.readAsArrayBuffer(e):a.readAsDataURL(e)}else this.load({url:bs.createObjectURL(e)})}else this.fail(new Error("The current browser does not support image compression."));else this.fail(new Error("The first argument must be an image File or Blob object."))}else this.fail(new Error("The first argument must be a File or Blob object."))}},{key:"load",value:function(t){var e=this,A=this.file,i=this.image;i.onload=function(){e.draw(Yo(Yo({},t),{},{naturalWidth:i.naturalWidth,naturalHeight:i.naturalHeight}))},i.onabort=function(){e.fail(new Error("Aborted to load the image."))},i.onerror=function(){e.fail(new Error("Failed to load the image."))},as.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(as.navigator.userAgent)&&(i.crossOrigin="anonymous"),i.alt=A.name,i.src=t.url}},{key:"draw",value:function(t){var e=this,A=t.naturalWidth,i=t.naturalHeight,n=t.rotate,r=void 0===n?0:n,o=t.scaleX,s=void 0===o?1:o,a=t.scaleY,c=void 0===a?1:a,l=this.file,u=this.image,h=this.options,g=document.createElement("canvas"),f=g.getContext("2d"),d=Math.abs(r)%180==90,p=("contain"===h.resize||"cover"===h.resize)&&cs(h.width)&&cs(h.height),v=Math.max(h.maxWidth,0)||1/0,m=Math.max(h.maxHeight,0)||1/0,B=Math.max(h.minWidth,0)||0,y=Math.max(h.minHeight,0)||0,C=A/i,w=h.width,b=h.height;if(d){var I=[m,v];v=I[0],m=I[1];var x=[y,B];B=x[0],y=x[1];var M=[b,w];w=M[0],b=M[1]}p&&(C=w/b);var S=ys({aspectRatio:C,width:v,height:m},"contain");v=S.width,m=S.height;var _=ys({aspectRatio:C,width:B,height:y},"cover");if(B=_.width,y=_.height,p){var Q=ys({aspectRatio:C,width:w,height:b},h.resize);w=Q.width,b=Q.height}else{var F=ys({aspectRatio:C,width:w,height:b}),E=F.width;w=void 0===E?A:E;var U=F.height;b=void 0===U?i:U}var D=-(w=Math.floor(Bs(Math.min(Math.max(w,B),v))))/2,T=-(b=Math.floor(Bs(Math.min(Math.max(b,y),m))))/2,k=w,O=b,L=[];if(p){var H,j,P,N,R=ys({aspectRatio:C,width:A,height:i},{contain:"cover",cover:"contain"}[h.resize]);P=R.width,N=R.height,H=(A-P)/2,j=(i-N)/2,L.push(H,j,P,N)}if(L.push(D,T,k,O),d){var z=[b,w];w=z[0],b=z[1]}g.width=w,g.height=b,gs(h.mimeType)||(h.mimeType=l.type);var G="transparent";l.size>h.convertSize&&h.convertTypes.indexOf(h.mimeType)>=0&&(h.mimeType="image/jpeg");var K="image/jpeg"===h.mimeType;if(K&&(G="#fff"),f.fillStyle=G,f.fillRect(0,0,w,b),h.beforeDraw&&h.beforeDraw.call(this,f,g),!this.aborted&&(f.save(),f.translate(w/2,b/2),f.rotate(r*Math.PI/180),f.scale(s,c),f.drawImage.apply(f,[u].concat(L)),f.restore(),h.drew&&h.drew.call(this,f,g),!this.aborted)){var Y=function(t){if(!e.aborted){var n=function(t){return e.done({naturalWidth:A,naturalHeight:i,result:t})};if(t&&K&&h.retainExif&&e.exif&&e.exif.length>0){var r=function(t){return n(os(ps(function(t,e){var A=us(new Uint8Array(t));if(255!==A[2]||224!==A[3])return t;var i=256*A[4]+A[5],n=[255,216].concat(e,A.slice(4+i));return new Uint8Array(n)}(t,e.exif),h.mimeType)))};if(t.arrayBuffer)t.arrayBuffer().then(r).catch(function(){e.fail(new Error("Failed to read the compressed image with Blob.arrayBuffer()."))});else{var o=new ws;e.reader=o,o.onload=function(t){var e=t.target;r(e.result)},o.onabort=function(){e.fail(new Error("Aborted to read the compressed image with FileReader."))},o.onerror=function(){e.fail(new Error("Failed to read the compressed image with FileReader."))},o.onloadend=function(){e.reader=null},o.readAsArrayBuffer(t)}}else n(t)}};g.toBlob?g.toBlob(Y,h.mimeType,h.quality):Y(os(g.toDataURL(h.mimeType,h.quality)))}}},{key:"done",value:function(t){var e,A,i=t.naturalWidth,n=t.naturalHeight,r=t.result,o=this.file,s=this.image,a=this.options;if(bs&&0===s.src.indexOf("blob:")&&bs.revokeObjectURL(s.src),r)if(a.strict&&!a.retainExif&&r.size>o.size&&a.mimeType===o.type&&!(a.width>i||a.height>n||a.minWidth>i||a.minHeight>n||a.maxWidth<i||a.maxHeight<n))r=o;else{var c=new Date;r.lastModified=c.getTime(),r.lastModifiedDate=c,r.name=o.name,r.name&&r.type!==o.type&&(r.name=r.name.replace(Is,(e=r.type,"jpeg"===(A=gs(e)?e.substr(6):"")&&(A="jpg"),".".concat(A))))}else r=o;this.result=r,a.success&&a.success.call(this,r)}},{key:"fail",value:function(t){var e=this.options;if(!e.error)throw t;e.error.call(this,t)}},{key:"abort",value:function(){this.aborted||(this.aborted=!0,this.reader?this.reader.abort():this.image.complete?this.fail(new Error("The compression process has been aborted.")):(this.image.onload=null,this.image.onabort()))}}],i=[{key:"noConflict",value:function(){return window.Compressor=xs,t}},{key:"setDefaults",value:function(t){Vo(ss,t)}}],A&&Wo(e.prototype,A),i&&Wo(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Ss=Object.freeze(Object.defineProperty({__proto__:null,default:Ms},Symbol.toStringTag,{value:"Module"}));export{o as I,Go as a,Ss as c,No as h};
