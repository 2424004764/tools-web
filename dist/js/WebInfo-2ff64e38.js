import{_ as l}from"./chunk-222eeebe.js";import{J as e}from"./chunk-6fb6a36b.js";import{a as t,g as a}from"./chunk-272d2f1e.js";import{u as s}from"../assets/index-ca88e876.js";import{E as n}from"./chunk-8b37ed0a.js";import{d as u,q as o,r,al as i,o as c,c as f,R as m,a as d,J as p,O as _,P as h,u as v,M as b}from"./chunk-bb5ca2a1.js";import"./chunk-273e6dc9.js";import"./chunk-94d45690.js";const x={class:"flex flex-col mt-3 flex-1"},y={class:"p-4 rounded-2xl bg-white"},k={class:"mt-3"},w={class:"mt-3 flex"},g={key:0,class:"ml-2 flex items-center"},I={class:"mt-3 flex"},j={class:"mt-3 flex"},z={class:"mt-3 flex"},P=u({__name:"WebInfo",setup(u){const P=o({title:"网站favicon获取"}),R=s(),V=r(),C=()=>{return l=this,e=null,t=function*(){try{if(l=V.value,new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,})","i").test(l)){V.value.includes("http://")||V.value.includes("https://")||(V.value="http://"+V.value);const l=new URL(V.value);V.value=l.hostname,yield R.getWebInfo({link:V.value})}else n({message:"无效的域名或地址",type:"error",duration:1500})}catch(e){}var l},new Promise((a,s)=>{var n=l=>{try{o(t.next(l))}catch(e){s(e)}},u=l=>{try{o(t.throw(l))}catch(e){s(e)}},o=l=>l.done?a(l.value):Promise.resolve(l.value).then(n,u);o((t=t.apply(l,e)).next())});var l,e,t},E=()=>{t(R.webInfo.logo,e()+"."+a(R.webInfo.logo))};return(e,t)=>{const a=i("el-button"),s=i("el-input"),n=i("el-text"),u=i("el-link"),o=i("el-image");return c(),f("div",x,[m(l,{title:P.title},null,8,["title"]),d("div",y,[d("div",null,[m(s,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=l=>V.value=l),style:{"max-width":"600px"},placeholder:"请输入域名或地址",class:"input-with-select",size:"large"},{append:p(()=>[m(a,{type:"primary",onClick:C},{default:p(()=>t[1]||(t[1]=[_("获取",-1)])),_:1,__:[1]})]),_:1},8,["modelValue"])]),d("div",null,[d("ul",null,[d("li",k,[m(n,null,{default:p(()=>t[2]||(t[2]=[d("b",null,"域名: ",-1)])),_:1,__:[2]}),m(u,{href:"https://"+V.value,type:"primary",target:"_blank"},{default:p(()=>[_(h(V.value),1)]),_:1},8,["href"])]),d("li",w,[m(n,null,{default:p(()=>t[3]||(t[3]=[d("b",null,"logo: ",-1)])),_:1,__:[3]}),v(R).webInfo.logo?(c(),f("div",g,[m(o,{src:v(R).webInfo.logo,class:"h-12"},null,8,["src"]),m(a,{class:"ml-3",link:"",type:"primary",onClick:E},{default:p(()=>t[4]||(t[4]=[_("下载",-1)])),_:1,__:[4]})])):b("",!0)]),d("li",I,[m(n,null,{default:p(()=>[t[5]||(t[5]=d("b",null,"标题: ",-1)),_(h(v(R).webInfo.title),1)]),_:1,__:[5]})]),d("li",j,[m(n,null,{default:p(()=>[t[6]||(t[6]=d("b",null,"关键词: ",-1)),_(" "+h(v(R).webInfo.keywords),1)]),_:1,__:[6]})]),d("li",z,[m(n,null,{default:p(()=>[t[7]||(t[7]=d("b",null,"描述: ",-1)),_(" "+h(v(R).webInfo.desc),1)]),_:1,__:[7]})])])])])])}}});export{P as default};
