import{b as e,t as l,S as a,c as t,r as s,u}from"./chunk-1e32bb76.js";import{_ as o}from"./chunk-b26ce546.js";import{_ as n}from"./chunk-9c6aa90d.js";import{i}from"./chunk-e73e11b1.js";import{h as d}from"./chunk-0a8d181f.js";import{d as r,q as c,r as m,t as v,al as f,o as h,c as _,R as p,a as x,J as g,O as w}from"./chunk-bb5ca2a1.js";import{_ as b}from"../assets/index-94414794.js";import"./chunk-96adf8d3.js";import"./chunk-b045bb46.js";const V={class:"flex flex-col mt-3 flex-1"},k={class:"p-4 rounded-2xl flex"},y={class:"w-4/6"},C={class:"flex flex-row-reverse mb-4"},U={class:"w-2/6 bg-white ml-3 rounded-lg p-3"},j={class:"mb-3"},z={class:"flex items-center ml-1"},B={class:"flex w-full"},E={class:"flex"},O={class:"flex mt-3"},S={class:"flex"},A={class:"flex"},P={class:"flex"},R={class:"flex"},F={class:"flex"},T={class:"flex"},D={class:"flex"},I=b(r({__name:"Pie",setup(r){const b=c({title:"饼图"}),I=m(),W=m(),q=m(),G=m(1),J=m(100),L=m(720),M=m(400),$=m("1"),H=m("#5470c6"),N=m("center"),X=m("Tools-Web"),Y=m("在线图表制作工具"),K=m(!0),Q=m(!0),Z=m(!1),ee=m("Tools-Web"),le=()=>{let e=document.createElement("canvas"),l=e.getContext("2d");return e.width=e.height=100,l.textAlign="center",l.textBaseline="middle",l.globalAlpha=.08,l.font="20px Microsoft Yahei",l.translate(50,50),l.rotate(-Math.PI/4),l.fillText(ee.value,0,0),e},ae=e=>{var l,a,t,s,u;let o=I.value;switch(e){case"scale":let e=J.value/100;o.style.transform=`scale(${e})`;break;case"size":o.style.width=L.value+"px",o.style.height=M.value+"px",ie();break;case"title":let n="",i="";!0===K.value&&(n=X.value),!0===Q.value&&(i=Y.value),null==(l=W.value)||l.setOption({title:{text:n,subtext:i,left:N.value}});break;case"color":null==(a=W.value)||a.setOption({series:[{itemStyle:{color:H.value}}]});break;case"watermark":!0===Z.value?null==(t=W.value)||t.setOption({backgroundColor:{image:le()}}):null==(s=W.value)||s.setOption({backgroundColor:"#fff"});break;case"data":null==(u=W.value)||u.setOption({series:[{data:oe.value}]})}},te=()=>{},se=m(["Search Engine","Direct","Email","Union Ads","Video Ads"]),ue=m([1048,735,580,484,300]),oe=m([]),ne={backgroundColor:"#fff",title:{text:X.value,subtext:Y.value,left:N.value},series:[{type:"pie",radius:"50%",data:oe.value,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}],tooltip:{}},ie=()=>{W.value=i(I.value),W.value.clear(),W.value.resize({width:L.value,height:M.value}),W.value.setOption(ne),ae("data")},de=()=>{var e;let l="1"==$.value?"png":"jpeg",a=null==(e=W.value)?void 0:e.getDataURL({type:l,pixelRatio:2});if(null!=a){var t=document.createElement("a");t.href=a,t.download="echart."+l,t.click()}},re=m(!1),ce=m({}),me=()=>{1==re.value?re.value=!1:(re.value=!0,a.locale("zh-cn",window.x_spreadsheet.$messages["zh-cn"]),new a("#x-spreadsheet",{showToolbar:!1,showBottomBar:!1,view:{height:()=>document.documentElement.clientHeight/2,width:()=>document.documentElement.clientWidth}}).loadData({styles:[{bgcolor:"#f4f5f8",textwrap:!0,color:"#900b09",border:{top:["thin","#0366d6"],bottom:["thin","#0366d6"],right:["thin","#0366d6"],left:["thin","#0366d6"]}}],rows:ce.value}).change(e=>{oe.value=t(e),ae("data")}))},ve=m(),fe=a=>{return t=this,o=null,n=function*(){const t=a.file,o=new FileReader;o.onload=a=>{try{if(!a.target)return;const t=a.target.result,o=s(t,{type:"binary"});let n=0,i=[],d=[];for(let e in o.Sheets){if(n>0)continue;const l=u.sheet_to_json(o.Sheets[e],{header:["0","1"]});if(0!=l.length){for(let e in l)if(null!=l[e]){let a=l;i.push(a[e][0]),d.push(a[e][1])}n++}}se.value=i,ue.value=d,oe.value=e([se.value,ue.value]),ae("data"),ce.value=l([se,ue])}catch(t){}},o.readAsArrayBuffer(t)},new Promise((e,l)=>{var a=e=>{try{u(n.next(e))}catch(a){l(a)}},s=e=>{try{u(n.throw(e))}catch(a){l(a)}},u=l=>l.done?e(l.value):Promise.resolve(l.value).then(a,s);u((n=n.apply(t,o)).next())});var t,o,n},he=e=>{q.value.clearFiles();const l=e[0];l.uid=d(),q.value.handleStart(l),q.value.submit()};return v(()=>{oe.value=e([se.value,ue.value]),I.value=document.getElementById("main"),ae("size"),ie(),ce.value=l([se,ue])}),(e,l)=>{const a=f("el-input-number"),t=f("el-text"),s=f("el-button"),u=f("el-radio"),i=f("el-radio-group"),d=f("el-upload"),r=f("el-tooltip"),c=f("el-collapse-item"),m=f("el-radio-button"),v=f("el-divider"),I=f("el-switch"),W=f("el-input"),H=f("el-collapse"),le=f("el-drawer");return h(),_("div",V,[p(o,{title:b.title},null,8,["title"]),x("div",k,[x("div",y,[x("div",C,[p(a,{modelValue:J.value,"onUpdate:modelValue":l[0]||(l[0]=e=>J.value=e),min:1,max:100,step:5,onChange:l[1]||(l[1]=e=>ae("scale")),"step-strictly":""},null,8,["modelValue"]),p(t,null,{default:g(()=>l[24]||(l[24]=[w("缩放：",-1)])),_:1,__:[24]})]),l[25]||(l[25]=x("div",{class:"flex justify-center items-center max-h-[500px] max-w-[1000px] overflow-auto"},[x("div",{id:"main",class:"bg-white"})],-1))]),x("div",U,[x("div",j,[p(s,{class:"w-full mb-3",type:"primary",size:"large",onClick:de},{default:g(()=>l[26]||(l[26]=[w("下载图表",-1)])),_:1,__:[26]}),x("div",z,[p(t,null,{default:g(()=>l[27]||(l[27]=[w("文件类型",-1)])),_:1,__:[27]}),p(i,{modelValue:$.value,"onUpdate:modelValue":l[2]||(l[2]=e=>$.value=e),class:"ml-4"},{default:g(()=>[p(u,{size:"large",label:"1"},{default:g(()=>l[28]||(l[28]=[w("PNG",-1)])),_:1,__:[28]}),p(u,{size:"large",label:"2"},{default:g(()=>l[29]||(l[29]=[w("JPEG",-1)])),_:1,__:[29]})]),_:1},8,["modelValue"])]),x("div",B,[p(r,{class:"box-item",effect:"dark",content:"支持上传：xls, xlsx, csv文件",placement:"top-start"},{default:g(()=>[p(s,{class:"w-1/2"},{default:g(()=>[p(d,{"file-list":ve.value,"onUpdate:fileList":l[3]||(l[3]=e=>ve.value=e),class:"dataFileRef flex",ref_key:"dataFileRef",ref:q,accept:".xls,.xlsx,.csv","http-request":fe,"on-exceed":he,limit:1},{default:g(()=>l[30]||(l[30]=[w(" 上传数据 ",-1)])),_:1,__:[30]},8,["file-list"])]),_:1})]),_:1}),p(s,{class:"w-1/2",onClick:me},{default:g(()=>l[31]||(l[31]=[w("编辑数据",-1)])),_:1,__:[31]})])]),p(H,{modelValue:G.value,"onUpdate:modelValue":l[22]||(l[22]=e=>G.value=e),onChange:te,accordion:""},{default:g(()=>[p(c,{title:"画布设置",name:"1"},{default:g(()=>[x("div",E,[p(t,{class:"w-16 text-right"},{default:g(()=>l[32]||(l[32]=[w("宽度",-1)])),_:1,__:[32]}),p(a,{modelValue:L.value,"onUpdate:modelValue":l[4]||(l[4]=e=>L.value=e),min:1,max:4e3,step:10,"controls-position":"right",class:"h-8 w-60 max-w-[60%] ml-3",onChange:l[5]||(l[5]=e=>ae("size"))},null,8,["modelValue"])]),x("div",O,[p(t,{class:"w-16 text-right"},{default:g(()=>l[33]||(l[33]=[w("高度",-1)])),_:1,__:[33]}),p(a,{modelValue:M.value,"onUpdate:modelValue":l[6]||(l[6]=e=>M.value=e),min:1,max:4e3,step:10,"controls-position":"right",class:"h-8 w-60 max-w-[60%] ml-3",onChange:l[7]||(l[7]=e=>ae("size"))},null,8,["modelValue"])])]),_:1}),p(c,{title:"标题设置",name:"2"},{default:g(()=>[x("div",S,[p(t,{class:"w-16 text-right"},{default:g(()=>l[34]||(l[34]=[w("位置",-1)])),_:1,__:[34]}),p(i,{modelValue:N.value,"onUpdate:modelValue":l[8]||(l[8]=e=>N.value=e),class:"ml-3",onChange:l[9]||(l[9]=e=>ae("title"))},{default:g(()=>[p(m,{label:"left",value:"left"},{default:g(()=>l[35]||(l[35]=[w("左",-1)])),_:1,__:[35]}),p(m,{label:"center",value:"center"},{default:g(()=>l[36]||(l[36]=[w("中",-1)])),_:1,__:[36]}),p(m,{label:"right",value:"right"},{default:g(()=>l[37]||(l[37]=[w("右",-1)])),_:1,__:[37]})]),_:1},8,["modelValue"])]),p(v,{"content-position":"left",class:"pl-10"},{default:g(()=>l[38]||(l[38]=[w("标题",-1)])),_:1,__:[38]}),x("div",A,[p(t,{class:"w-16 text-right"},{default:g(()=>l[39]||(l[39]=[w("显示",-1)])),_:1,__:[39]}),p(I,{modelValue:K.value,"onUpdate:modelValue":l[10]||(l[10]=e=>K.value=e),class:"ml-3",onChange:l[11]||(l[11]=e=>ae("title"))},null,8,["modelValue"])]),x("div",P,[p(t,{class:"w-16 text-right"},{default:g(()=>l[40]||(l[40]=[w("标题",-1)])),_:1,__:[40]}),p(W,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:X.value,"onUpdate:modelValue":l[12]||(l[12]=e=>X.value=e),onBlur:l[13]||(l[13]=e=>ae("title"))},null,8,["modelValue"])]),p(v,{"content-position":"left"},{default:g(()=>l[41]||(l[41]=[w("副标题",-1)])),_:1,__:[41]}),x("div",R,[p(t,{class:"w-16 text-right"},{default:g(()=>l[42]||(l[42]=[w("显示",-1)])),_:1,__:[42]}),p(I,{modelValue:Q.value,"onUpdate:modelValue":l[14]||(l[14]=e=>Q.value=e),class:"ml-3",onChange:l[15]||(l[15]=e=>ae("title"))},null,8,["modelValue"])]),x("div",F,[p(t,{class:"w-16 text-right"},{default:g(()=>l[43]||(l[43]=[w("副标题",-1)])),_:1,__:[43]}),p(W,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:Y.value,"onUpdate:modelValue":l[16]||(l[16]=e=>Y.value=e),onBlur:l[17]||(l[17]=e=>ae("title"))},null,8,["modelValue"])])]),_:1}),p(c,{title:"水印设置",name:"4"},{default:g(()=>[x("div",T,[p(t,{class:"w-16 text-right"},{default:g(()=>l[44]||(l[44]=[w("显示",-1)])),_:1,__:[44]}),p(I,{modelValue:Z.value,"onUpdate:modelValue":l[18]||(l[18]=e=>Z.value=e),class:"ml-3",onChange:l[19]||(l[19]=e=>ae("watermark"))},null,8,["modelValue"])]),x("div",D,[p(t,{class:"w-16 text-right"},{default:g(()=>l[45]||(l[45]=[w("水印内容",-1)])),_:1,__:[45]}),p(W,{class:"h-8 w-60 max-w-[60%] ml-3",modelValue:ee.value,"onUpdate:modelValue":l[20]||(l[20]=e=>ee.value=e),onChange:l[21]||(l[21]=e=>ae("watermark"))},null,8,["modelValue"])])]),_:1})]),_:1},8,["modelValue"])])]),p(le,{id:"x-spreadsheet",modelValue:re.value,"onUpdate:modelValue":l[23]||(l[23]=e=>re.value=e),direction:"btt","custom-class":"sheet",style:{}},null,8,["modelValue"]),p(n,{title:"描述"},{default:g(()=>[p(t,null,{default:g(()=>l[46]||(l[46]=[w(" 饼图是通过一个圆来展示数据，用圆内各扇形的角度来表示数据之间的占比关系。",-1),x("br",null,null,-1),w(" 能够很好地展示不同分类的变量之间或单个分类变量与整体之间的占比情况，常用来强调某个突出的分类变量或表示表示占比关系。",-1),x("br",null,null,-1),w(" 在线图表制作工具，在线制作饼图",-1),x("br",null,null,-1),w(" 支持导入表格并在线编辑表格生成饼图，支持png和jpeg格式导出",-1),x("br",null,null,-1),w(" 支持超全的自定义配置，轻松实现你的个性化图表需求",-1),x("br",null,null,-1)])),_:1,__:[46]})]),_:1})])}}}),[["__scopeId","data-v-24df83e1"]]);export{I as default};
