import{_ as e}from"./chunk-222eeebe.js";import{_ as t}from"./chunk-9c6aa90d.js";import{d as l,q as s,r,b as a,t as o,U as d,al as i,o as n,c,R as u,a as g,P as m,I as b,J as h,O as x,M as v,D as f,E as p,Q as w,a4 as y,aF as S}from"./chunk-bb5ca2a1.js";import{_ as k}from"../assets/index-ca88e876.js";import"./chunk-8b37ed0a.js";import"./chunk-273e6dc9.js";import"./chunk-94d45690.js";const M={class:"flex flex-col mt-3 ml-4 flex-1 mr-3"},C={class:"p-6 rounded-2xl bg-white shadow-sm border border-gray-200"},I={class:"max-w-4xl mx-auto"},_={class:"grid grid-cols-2 md:grid-cols-6 gap-4 mb-6"},j={class:"text-center bg-blue-50 p-3 rounded-lg border border-blue-200"},H={class:"text-xl font-bold text-blue-600"},z={class:"text-center bg-green-50 p-3 rounded-lg border border-green-200"},P={class:"text-xl font-bold text-green-600"},T={class:"text-center bg-red-50 p-3 rounded-lg border border-red-200"},O={class:"text-xl font-bold text-red-600"},W={class:"text-center bg-purple-50 p-3 rounded-lg border border-purple-200"},A={class:"text-xl font-bold text-purple-600"},$={class:"text-center bg-orange-50 p-3 rounded-lg border border-orange-200"},D={class:"text-xl font-bold text-orange-600"},E={class:"text-center bg-indigo-50 p-3 rounded-lg border border-indigo-200"},q={class:"text-xl font-bold text-indigo-600"},F={class:"flex justify-center mb-6"},J={class:"flex justify-center mb-6 relative"},Q={key:0,class:"absolute inset-0 flex items-center justify-center z-10"},R={class:"bg-yellow-100 border-4 border-yellow-400 rounded-full p-8 shadow-2xl"},U={class:"text-center"},B={class:"text-6xl font-bold text-yellow-600 mb-2"},G=["onClick"],K={key:1,class:"absolute inset-0 flex items-center justify-center text-2xl font-bold text-yellow-400"},L={key:0,class:"text-center mb-6"},N={class:"bg-green-50 border-2 border-green-300 rounded-lg p-4 shadow-md"},V={class:"text-green-600"},X={class:"text-green-600"},Y={class:"text-green-600"},Z={key:0,class:"text-yellow-600 font-medium mt-2"},ee=k(l({__name:"WhackAMole",setup(l){const k=s({title:"打地鼠"}),ee=s({isPlaying:!1,score:0,highScore:0,time:30,gameOver:!1,hits:0,misses:0,countdown:0,isCountdown:!1,moleCount:0}),te=s({gridSize:window.innerWidth<768?3:4,cellSize:window.innerWidth<768?80:100,moleShowTime:window.innerWidth<768?800:600,moleHideTime:400,gameDuration:3e4,baseInterval:window.innerWidth<768?1500:1200,minInterval:300}),le=r([]);let se=null,re=null;const ae=()=>{ee.isPlaying=!1,ee.gameOver=!1,ee.score=0,ee.time=30,ee.hits=0,ee.misses=0,ee.moleCount=0,ee.isCountdown=!0,ee.countdown=3,(()=>{const e=te.gridSize*te.gridSize;le.value=Array.from({length:e},(e,t)=>({id:t,hasMole:!1,isHit:!1}))})();const e=setInterval(()=>{ee.countdown--,ee.countdown<=0&&(clearInterval(e),ee.isCountdown=!1,ee.isPlaying=!0,se=setInterval(()=>{ee.isPlaying&&(ee.time--,ee.time<=0&&de())},1e3),oe())},1e3)},oe=()=>{const e=()=>{if(ee.isPlaying){(()=>{if(!ee.isPlaying)return;le.value.forEach(e=>{e.hasMole=!1,e.isHit=!1});const e=Math.floor(Math.random()*le.value.length);le.value[e].hasMole=!0;const t=(30-ee.time)/30,l=Math.min(ee.score/200,1),s=Math.max(t,l);let r=te.moleShowTime;ee.moleCount<3&&(r=2*te.moleShowTime),setTimeout(()=>{le.value[e].hasMole&&!le.value[e].isHit&&ee.misses++},r-(r-300)*s),ee.moleCount++})();const t=(30-ee.time)/30,l=Math.min(ee.score/200,1),s=Math.max(t,l);let r=te.baseInterval;ee.moleCount<3&&(r=1.5*te.baseInterval);const a=r-(r-te.minInterval)*s,o=.7+.6*Math.random(),d=Math.max(te.minInterval,a*o);re=setTimeout(e,d)}};e()},de=()=>{ee.isPlaying=!1,ee.gameOver=!0,se&&(clearInterval(se),se=null),re&&(clearTimeout(re),re=null),ee.score>ee.highScore&&(ee.highScore=ee.score,localStorage.setItem("whackAMoleHighScore",ee.highScore.toString()))},ie=()=>{se&&clearInterval(se),re&&clearTimeout(re),ae()},ne=a(()=>{const e=ee.hits+ee.misses;return e>0?Math.round(ee.hits/e*100):0});return o(()=>{const e=localStorage.getItem("whackAMoleHighScore");e&&(ee.highScore=parseInt(e))}),d(()=>{se&&clearInterval(se),re&&clearTimeout(re)}),(l,s)=>{const r=i("el-button"),a=i("el-text");return n(),c("div",M,[u(e,{title:k.title},null,8,["title"]),g("div",C,[g("div",I,[g("div",_,[g("div",j,[s[0]||(s[0]=g("h3",{class:"text-sm font-medium text-blue-900"},"得分",-1)),g("p",H,m(ee.score),1)]),g("div",z,[s[1]||(s[1]=g("h3",{class:"text-sm font-medium text-green-900"},"最高分",-1)),g("p",P,m(ee.highScore),1)]),g("div",T,[s[2]||(s[2]=g("h3",{class:"text-sm font-medium text-red-900"},"时间",-1)),g("p",O,m((o=ee.time,`${Math.floor(o/60)}:${(o%60).toString().padStart(2,"0")}`)),1)]),g("div",W,[s[3]||(s[3]=g("h3",{class:"text-sm font-medium text-purple-900"},"命中",-1)),g("p",A,m(ee.hits),1)]),g("div",$,[s[4]||(s[4]=g("h3",{class:"text-sm font-medium text-orange-900"},"命中率",-1)),g("p",D,m(ne.value)+"%",1)]),g("div",E,[s[5]||(s[5]=g("h3",{class:"text-sm font-medium text-indigo-900"},"游戏板",-1)),g("p",q,m(te.gridSize)+"×"+m(te.gridSize),1)])]),g("div",F,[ee.isPlaying||ee.gameOver||ee.isCountdown?v("",!0):(n(),b(r,{key:0,onClick:ae,type:"primary",class:"bg-blue-500 hover:bg-blue-600 border-blue-600"},{default:h(()=>s[6]||(s[6]=[x(" 开始游戏 ",-1)])),_:1,__:[6]})),ee.gameOver?(n(),b(r,{key:1,onClick:ie,type:"success",class:"bg-green-500 hover:bg-green-600 border-green-600"},{default:h(()=>s[7]||(s[7]=[x(" 重新开始 ",-1)])),_:1,__:[7]})):v("",!0)]),g("div",J,[ee.isCountdown?(n(),c("div",Q,[g("div",R,[g("div",U,[g("div",B,m(ee.countdown),1),s[8]||(s[8]=g("div",{class:"text-lg text-yellow-700"},"准备开始",-1))])])])):v("",!0),g("div",{class:f(["bg-green-100 p-6 rounded-lg shadow-lg",{"opacity-50":ee.isCountdown}]),style:p({display:"grid",gridTemplateColumns:`repeat(${te.gridSize}, ${te.cellSize}px)`,gap:"10px"})},[(n(!0),c(w,null,y(le.value,e=>(n(),c("div",{key:e.id,class:f(["relative cursor-pointer transition-all duration-200 transform hover:scale-105",{"cursor-not-allowed":ee.isCountdown}]),onClick:t=>ee.isCountdown?null:(e=>{if(!ee.isPlaying)return;const t=le.value.find(t=>t.id===e);t&&t.hasMole&&!t.isHit&&(t.isHit=!0,t.hasMole=!1,ee.hits++,ee.score+=10)})(e.id),style:p({width:te.cellSize+"px",height:te.cellSize+"px"})},[s[10]||(s[10]=g("div",{class:"absolute inset-0 bg-gray-800 rounded-full border-4 border-gray-600 shadow-inner"},null,-1)),e.hasMole&&!ee.isCountdown?(n(),c("div",{key:0,class:f(["absolute inset-0 flex items-center justify-center",{"animate-bounce":e.hasMole&&!e.isHit,"animate-pulse":e.isHit}])},[g("div",{class:f(["w-3/4 h-3/4 bg-amber-500 rounded-full border-4 border-amber-700 flex items-center justify-center shadow-lg",{"bg-red-500 border-red-700":e.isHit}])},s[9]||(s[9]=[g("div",{class:"flex space-x-3"},[g("div",{class:"w-3 h-3 bg-black rounded-full border border-white"}),g("div",{class:"w-3 h-3 bg-black rounded-full border border-white"})],-1),g("div",{class:"absolute bottom-2 w-2 h-2 bg-pink-400 rounded-full"},null,-1)]),2)],2)):v("",!0),e.isHit&&!ee.isCountdown?(n(),c("div",K," +10 ")):v("",!0)],14,G))),128))],6)]),ee.gameOver?(n(),c("div",L,[g("div",N,[s[11]||(s[11]=g("h3",{class:"text-lg font-medium text-green-900 mb-2"},"游戏结束！",-1)),g("p",V,"最终得分: "+m(ee.score),1),g("p",X,"命中次数: "+m(ee.hits),1),g("p",Y,"命中率: "+m(ne.value)+"%",1),ee.score>ee.highScore?(n(),c("p",Z," 新纪录！恭喜你创造了新的最高分！ ")):v("",!0)])])):v("",!0),s[12]||(s[12]=S('<div class="bg-gray-50 rounded-lg p-4 border-2 border-gray-200 shadow-sm" data-v-df97aed6><h3 class="text-lg font-medium text-gray-900 mb-3" data-v-df97aed6>游戏说明</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600" data-v-df97aed6><div class="bg-white p-3 rounded border border-gray-200" data-v-df97aed6><p data-v-df97aed6><strong class="text-blue-600" data-v-df97aed6>游戏目标：</strong>在30秒内击中尽可能多的地鼠</p><p data-v-df97aed6><strong class="text-blue-600" data-v-df97aed6>操作方式：</strong>点击出现的地鼠进行击中</p></div><div class="bg-white p-3 rounded border border-gray-200" data-v-df97aed6><p data-v-df97aed6><strong class="text-green-600" data-v-df97aed6>得分规则：</strong>每击中一个地鼠+10分</p><p data-v-df97aed6><strong class="text-red-600" data-v-df97aed6>挑战：</strong>提高命中率，获得更高分数</p></div></div></div>',1))])]),u(t,{title:"描述"},{default:h(()=>[u(a,null,{default:h(()=>s[13]||(s[13]=[x(" 经典打地鼠游戏，考验你的反应速度和手眼协调：",-1),g("br",null,null,-1),g("br",null,null,-1),x(" 游戏特色：经典打地鼠玩法，随机出现的地鼠，实时得分统计",-1),g("br",null,null,-1),x(" 操作方式：点击出现的地鼠进行击中，30秒倒计时挑战",-1),g("br",null,null,-1),x(" 游戏目标：在限定时间内击中尽可能多的地鼠，获得高分",-1),g("br",null,null,-1),x(" 训练效果：锻炼反应速度、手眼协调能力和注意力集中",-1),g("br",null,null,-1),g("br",null,null,-1),x(" 适合所有年龄段，是经典的街机游戏。 ",-1)])),_:1,__:[13]})]),_:1})]);var o}}}),[["__scopeId","data-v-df97aed6"]]);export{ee as default};
